(self.webpackChunkCarsLTG=self.webpackChunkCarsLTG||[]).push([[179],{440:(Ct,Ve,U)=>{"use strict";U.d(Ve,{nm:()=>Nn});var E=U(5813);U(5e3),U(5867);var te=U(5861),Fe=U(9681),Ye=U(4859),Et=U(2090),et=U(1877);const Ut=new Map,Te={activated:!1,tokenObservers:[]},ye={initialized:!1,enabled:!1};function Ue(_e){return Ut.get(_e)||Te}function Se(_e,pe){Ut.set(_e,pe)}function st(){return ye}class nr{constructor(pe,ke,Ke,ft,bt){if(this.operation=pe,this.retryPolicy=ke,this.getWaitDuration=Ke,this.lowerBound=ft,this.upperBound=bt,this.pending=null,this.nextErrorWaitInterval=ft,ft>bt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(pe){var ke=this;return(0,te.Z)(function*(){ke.stop();try{ke.pending=new Et.BH,yield function Yt(_e){return new Promise(pe=>{setTimeout(pe,_e)})}(ke.getNextRun(pe)),ke.pending.resolve(),yield ke.pending.promise,ke.pending=new Et.BH,yield ke.operation(),ke.pending.resolve(),yield ke.pending.promise,ke.process(!0).catch(()=>{})}catch(Ke){ke.retryPolicy(Ke)?ke.process(!1).catch(()=>{}):ke.stop()}})()}getNextRun(pe){if(pe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ke=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ke}}}const yt=new Et.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function En(_e){if(!Ue(_e).activated)throw yt.create("use-before-activation",{appName:_e.name})}function Kn(_e,pe){return Si.apply(this,arguments)}function Si(){return(Si=(0,te.Z)(function*({url:_e,body:pe},ke){const Ke={"Content-Type":"application/json"},ft=ke.getImmediate({optional:!0});ft&&(Ke["X-Firebase-Client"]=ft.getPlatformInfoString());const bt={method:"POST",body:JSON.stringify(pe),headers:Ke};let _n,Ar;try{_n=yield fetch(_e,bt)}catch(ns){throw yt.create("fetch-network-error",{originalErrorMessage:ns.message})}if(200!==_n.status)throw yt.create("fetch-status-error",{httpStatus:_n.status});try{Ar=yield _n.json()}catch(ns){throw yt.create("fetch-parse-error",{originalErrorMessage:ns.message})}const An=Ar.ttl.match(/^([\d.]+)(s)$/);if(!An||!An[2]||isNaN(Number(An[1])))throw yt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Ar.ttl}`});const ts=1e3*Number(An[1]),ds=Date.now();return{token:Ar.attestationToken,expireTimeMillis:ds+ts,issuedAtTimeMillis:ds}})).apply(this,arguments)}function tt(_e,pe){const{projectId:ke,appId:Ke,apiKey:ft}=_e.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${ke}/apps/${Ke}:exchangeDebugToken?key=${ft}`,body:{debug_token:pe}}}const mn="firebase-app-check-store";let Ln=null;function Ri(){return Ln||(Ln=new Promise((_e,pe)=>{try{const ke=indexedDB.open("firebase-app-check-database",1);ke.onsuccess=Ke=>{_e(Ke.target.result)},ke.onerror=Ke=>{var ft;pe(yt.create("storage-open",{originalErrorMessage:null===(ft=Ke.target.error)||void 0===ft?void 0:ft.message}))},ke.onupgradeneeded=Ke=>{0===Ke.oldVersion&&Ke.target.result.createObjectStore(mn,{keyPath:"compositeKey"})}}catch(ke){pe(yt.create("storage-open",{originalErrorMessage:ke.message}))}}),Ln)}function en(){return(en=(0,te.Z)(function*(_e,pe){const Ke=(yield Ri()).transaction(mn,"readwrite"),bt=Ke.objectStore(mn).put({compositeKey:_e,value:pe});return new Promise((_n,Ar)=>{bt.onsuccess=An=>{_n()},Ke.onerror=An=>{var ts;Ar(yt.create("storage-set",{originalErrorMessage:null===(ts=An.target.error)||void 0===ts?void 0:ts.message}))}})})).apply(this,arguments)}const wi=new et.Yd("@firebase/app-check");function yr(_e,pe){return(0,Et.hl)()?function Vt(_e,pe){return function mr(_e,pe){return en.apply(this,arguments)}(function Ji(_e){return`${_e.options.appId}-${_e.name}`}(_e),pe)}(_e,pe).catch(ke=>{wi.warn(`Failed to write token to IndexedDB. Error: ${ke}`)}):Promise.resolve()}function ue(){return st().enabled}function ce(){return We.apply(this,arguments)}function We(){return(We=(0,te.Z)(function*(){const _e=st();if(_e.enabled&&_e.token)return _e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const vt={error:"UNKNOWN_ERROR"};function $t(_e){return Et.US.encodeString(JSON.stringify(_e),!1)}function Pn(_e){return In.apply(this,arguments)}function In(){return(In=(0,te.Z)(function*(_e,pe=!1){const ke=_e.app;En(ke);const Ke=Ue(ke);let bt,ft=Ke.token;if(!ft){const An=yield Ke.cachedTokenPromise;An&&ti(An)&&(ft=An)}if(!pe&&ft&&ti(ft))return{token:ft.token};let Ar,_n=!1;if(ue()){Ke.exchangeTokenPromise||(Ke.exchangeTokenPromise=Kn(tt(ke,yield ce()),_e.platformLoggerProvider).then(ts=>(Ke.exchangeTokenPromise=void 0,ts)),_n=!0);const An=yield Ke.exchangeTokenPromise;return yield yr(ke,An),Se(ke,Object.assign(Object.assign({},Ke),{token:An})),{token:An.token}}try{Ke.exchangeTokenPromise||(Ke.exchangeTokenPromise=Ke.provider.getToken().then(An=>(Ke.exchangeTokenPromise=void 0,An)),_n=!0),ft=yield Ke.exchangeTokenPromise}catch(An){"appCheck/throttled"===An.code?wi.warn(An.message):wi.error(An),bt=An}return ft?(Ar={token:ft.token},Se(ke,Object.assign(Object.assign({},Ke),{token:ft})),yield yr(ke,ft)):Ar=Qt(bt),_n&&qr(ke,Ar),Ar})).apply(this,arguments)}function Ur(_e,pe){const ke=Ue(_e),Ke=ke.tokenObservers.filter(ft=>ft.next!==pe);0===Ke.length&&ke.tokenRefresher&&ke.tokenRefresher.isRunning()&&ke.tokenRefresher.stop(),Se(_e,Object.assign(Object.assign({},ke),{tokenObservers:Ke}))}function ln(_e){const{app:pe}=_e,ke=Ue(pe);let Ke=ke.tokenRefresher;Ke||(Ke=function On(_e){const{app:pe}=_e;return new nr((0,te.Z)(function*(){let Ke;if(Ke=Ue(pe).token?yield Pn(_e,!0):yield Pn(_e),Ke.error)throw Ke.error}),()=>!0,()=>{const ke=Ue(pe);if(ke.token){let Ke=ke.token.issuedAtTimeMillis+.5*(ke.token.expireTimeMillis-ke.token.issuedAtTimeMillis)+3e5;return Ke=Math.min(Ke,ke.token.expireTimeMillis-3e5),Math.max(0,Ke-Date.now())}return 0},3e4,96e4)}(_e),Se(pe,Object.assign(Object.assign({},ke),{tokenRefresher:Ke}))),!Ke.isRunning()&&ke.isTokenAutoRefreshEnabled&&Ke.start()}function qr(_e,pe){const ke=Ue(_e).tokenObservers;for(const Ke of ke)try{"EXTERNAL"===Ke.type&&null!=pe.error?Ke.error(pe.error):Ke.next(pe)}catch(ft){}}function ti(_e){return _e.expireTimeMillis-Date.now()>0}function Qt(_e){return{token:$t(vt),error:_e}}class xi{constructor(pe,ke){this.app=pe,this.platformLoggerProvider=ke}_delete(){const{tokenObservers:pe}=Ue(this.app);for(const ke of pe)Ur(this.app,ke.next);return Promise.resolve()}}const br="app-check-internal";!function Jn(){(0,Fe._registerComponent)(new Ye.wA("app-check",_e=>function Ui(_e,pe){return new xi(_e,pe)}(_e.getProvider("app").getImmediate(),_e.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_e,pe,ke)=>{_e.getProvider(br).initialize()})),(0,Fe._registerComponent)(new Ye.wA(br,_e=>function Wn(_e){return{getToken:pe=>Pn(_e,pe),addTokenListener:pe=>function qn(_e,pe,ke,Ke){const{app:ft}=_e,bt=Ue(ft),_n={next:ke,error:Ke,type:pe};if(Se(ft,Object.assign(Object.assign({},bt),{tokenObservers:[...bt.tokenObservers,_n]})),bt.token&&ti(bt.token)){const Ar=bt.token;Promise.resolve().then(()=>{ke({token:Ar.token}),ln(_e)}).catch(()=>{})}bt.cachedTokenPromise.then(()=>ln(_e))}(_e,"INTERNAL",pe),removeTokenListener:pe=>Ur(_e.app,pe)}}(_e.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Fe.registerVersion)("@firebase/app-check","0.5.3")}();class Nn{constructor(){return(0,E.vb)("app-check")}}"undefined"!=typeof window&&window},9541:(Ct,Ve,U)=>{"use strict";U.d(Ve,{ST:()=>_g,yb:()=>oy});var E=U(5e3),x=U(4986),W=U(8306),be=U(8996),ve=U(9646),Ie=U(5813),Re=U(4482),Ae=U(5403);function xe(){return(0,Re.e)((i,e)=>{let r,o=!1;i.subscribe(new Ae.Q(e,u=>{const f=r;r=u,o&&e.next([f,u]),o=!0}))})}var oe=U(4671);function Ce(i,e){return i===e}var ye,ht=U(8675),Ge=U(4004),Je=U(5026),rt=U(9300),we=U(2011),Pe=U(9808),Xe=(U(2209),U(3942)),te=U(5861),Fe=U(9681),Ye=U(4859),Et=U(1877),et=U(2090),Ut="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Te={},Ue=Ue||{},Se=Ut||self;function st(){}function Be(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Tt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var gr="closure_uid_"+(1e9*Math.random()>>>0),zt=0;function Bt(i,e,r){return i.call.apply(i.bind,arguments)}function nr(i,e,r){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Yt(i,e,r){return(Yt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bt:nr).apply(null,arguments)}function Rn(i,e){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function yt(i,e){function r(){}r.prototype=e.prototype,i.Z=e.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(o,u,f){for(var v=Array(arguments.length-2),A=2;A<arguments.length;A++)v[A-2]=arguments[A];return e.prototype[u].apply(o,v)}}function Vn(){this.s=this.s,this.o=this.o}var Un={};Vn.prototype.s=!1,Vn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function fn(i){return Object.prototype.hasOwnProperty.call(i,gr)&&i[gr]||(i[gr]=++zt)}(this);delete Un[i]}},Vn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Hr=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===e)return r;return-1},un=Array.prototype.forEach?function(i,e,r){Array.prototype.forEach.call(i,e,r)}:function(i,e,r){const o=i.length,u="string"==typeof i?i.split(""):i;for(let f=0;f<o;f++)f in u&&e.call(r,u[f],f,i)};function Si(i){return Array.prototype.concat.apply([],arguments)}function Gr(i){const e=i.length;if(0<e){const r=Array(e);for(let o=0;o<e;o++)r[o]=i[o];return r}return[]}function zr(i){return/^[\s\xa0]*$/.test(i)}var mn,tt=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function xn(i,e){return-1!=i.indexOf(e)}function At(i,e){return i<e?-1:i>e?1:0}e:{var Dn=Se.navigator;if(Dn){var Ln=Dn.userAgent;if(Ln){mn=Ln;break e}}mn=""}function Ri(i,e,r){for(const o in i)e.call(r,i[o],o,i)}function qt(i){const e={};for(const r in i)e[r]=i[r];return e}var Vt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cn(i,e){let r,o;for(let u=1;u<arguments.length;u++){for(r in o=arguments[u],o)i[r]=o[r];for(let f=0;f<Vt.length;f++)r=Vt[f],Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}}function St(i){return St[" "](i),i}St[" "]=st;var yr,i,en=xn(mn,"Opera"),Dt=xn(mn,"Trident")||xn(mn,"MSIE"),Ot=xn(mn,"Edge"),Ji=Ot||Dt,wi=xn(mn,"Gecko")&&!(xn(mn.toLowerCase(),"webkit")&&!xn(mn,"Edge"))&&!(xn(mn,"Trident")||xn(mn,"MSIE"))&&!xn(mn,"Edge"),Mt=xn(mn.toLowerCase(),"webkit")&&!xn(mn,"Edge");function vn(){var i=Se.document;return i?i.documentMode:void 0}e:{var di="",ie=(i=mn,wi?/rv:([^\);]+)(\)|;)/.exec(i):Ot?/Edge\/([\d\.]+)/.exec(i):Dt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Mt?/WebKit\/(\S+)/.exec(i):en?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(ie&&(di=ie?ie[1]:""),Dt){var ue=vn();if(null!=ue&&ue>parseFloat(di)){yr=String(ue);break e}}yr=di}var ce={};var $t=Se.document&&Dt&&(vn()||parseInt(yr,10))||void 0,Pn=function(){if(!Se.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Se.addEventListener("test",st,e),Se.removeEventListener("test",st,e)}catch(r){}return i}();function In(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function qn(i,e){if(In.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(wi){e:{try{St(e.nodeName);var u=!0;break e}catch(f){}u=!1}u||(e=null)}}else"mouseover"==r?e=i.fromElement:"mouseout"==r&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Ur[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&qn.Z.h.call(this)}}In.prototype.h=function(){this.defaultPrevented=!0},yt(qn,In);var Ur={2:"touch",3:"pen",4:"mouse"};qn.prototype.h=function(){qn.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var ln="closure_listenable_"+(1e6*Math.random()|0),On=0;function qr(i,e,r,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=r,this.capture=!!o,this.ia=u,this.key=++On,this.ca=this.fa=!1}function ti(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Qt(i){this.src=i,this.g={},this.h=0}function xi(i,e){var r=e.type;if(r in i.g){var f,o=i.g[r],u=Hr(o,e);(f=0<=u)&&Array.prototype.splice.call(o,u,1),f&&(ti(e),0==i.g[r].length&&(delete i.g[r],i.h--))}}function Ui(i,e,r,o){for(var u=0;u<i.length;++u){var f=i[u];if(!f.ca&&f.listener==e&&f.capture==!!r&&f.ia==o)return u}return-1}Qt.prototype.add=function(i,e,r,o,u){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var v=Ui(i,e,o,u);return-1<v?(e=i[v],r||(e.fa=!1)):((e=new qr(e,this.src,f,!!o,u)).fa=r,i.push(e)),e};var Wn="closure_lm_"+(1e6*Math.random()|0),rr={};function Wr(i,e,r,o,u){if(o&&o.once)return Xi(i,e,r,o,u);if(Array.isArray(e)){for(var f=0;f<e.length;f++)Wr(i,e[f],r,o,u);return null}return r=gt(r),i&&i[ln]?i.N(e,r,Tt(o)?!!o.capture:!!o,u):_r(i,e,r,!1,o,u)}function _r(i,e,r,o,u,f){if(!e)throw Error("Invalid event type");var v=Tt(u)?!!u.capture:!!u,A=hi(i);if(A||(i[Wn]=A=new Qt(i)),(r=A.add(e,r,o,v,f)).proxy)return r;if(o=function Or(){var e=ir;return function i(r){return e.call(i.src,i.listener,r)}}(),r.proxy=o,o.src=i,o.listener=r,i.addEventListener)Pn||(u=v),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(vr(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return r}function Xi(i,e,r,o,u){if(Array.isArray(e)){for(var f=0;f<e.length;f++)Xi(i,e[f],r,o,u);return null}return r=gt(r),i&&i[ln]?i.O(e,r,Tt(o)?!!o.capture:!!o,u):_r(i,e,r,!0,o,u)}function Br(i,e,r,o,u){if(Array.isArray(e))for(var f=0;f<e.length;f++)Br(i,e[f],r,o,u);else o=Tt(o)?!!o.capture:!!o,r=gt(r),i&&i[ln]?(i=i.i,(e=String(e).toString())in i.g&&-1<(r=Ui(f=i.g[e],r,o,u))&&(ti(f[r]),Array.prototype.splice.call(f,r,1),0==f.length&&(delete i.g[e],i.h--))):i&&(i=hi(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Ui(e,r,o,u)),(r=-1<i?e[i]:null)&&cr(r))}function cr(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[ln])xi(e.i,i);else{var r=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(r,o,i.capture):e.detachEvent?e.detachEvent(vr(r),o):e.addListener&&e.removeListener&&e.removeListener(o),(r=hi(e))?(xi(r,i),0==r.h&&(r.src=null,e[Wn]=null)):ti(i)}}}function vr(i){return i in rr?rr[i]:rr[i]="on"+i}function ir(i,e){if(i.ca)i=!0;else{e=new qn(e,this);var r=i.listener,o=i.ia||i.src;i.fa&&cr(i),i=r.call(o,e)}return i}function hi(i){return(i=i[Wn])instanceof Qt?i:null}var Yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function gt(i){return"function"==typeof i?i:(i[Yn]||(i[Yn]=function(e){return i.handleEvent(e)}),i[Yn])}function Pt(){Vn.call(this),this.i=new Qt(this),this.P=this,this.I=null}function Jt(i,e){var r,o=i.I;if(o)for(r=[];o;o=o.I)r.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new In(e,i);else if(e instanceof In)e.target=e.target||i;else{var u=e;cn(e=new In(o,i),u)}if(u=!0,r)for(var f=r.length-1;0<=f;f--){var v=e.g=r[f];u=Qn(v,o,!0,e)&&u}if(u=Qn(v=e.g=i,o,!0,e)&&u,u=Qn(v,o,!1,e)&&u,r)for(f=0;f<r.length;f++)u=Qn(v=e.g=r[f],o,!1,e)&&u}function Qn(i,e,r,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,f=0;f<e.length;++f){var v=e[f];if(v&&!v.ca&&v.capture==r){var A=v.listener,V=v.ia||v.src;v.fa&&xi(i.i,v),u=!1!==A.call(V,o)&&u}}return u&&!o.defaultPrevented}yt(Pt,Vn),Pt.prototype[ln]=!0,Pt.prototype.removeEventListener=function(i,e,r,o){Br(this,i,e,r,o)},Pt.prototype.M=function(){if(Pt.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var r=i.g[e],o=0;o<r.length;o++)ti(r[o]);delete i.g[e],i.h--}}this.I=null},Pt.prototype.N=function(i,e,r,o){return this.i.add(String(i),e,!1,r,o)},Pt.prototype.O=function(i,e,r,o){return this.i.add(String(i),e,!0,r,o)};var Ir=Se.JSON.stringify;function sr(){var i=br;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var kr,wn=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new kn,i=>i.reset());class kn{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function lr(i){Se.setTimeout(()=>{throw i},0)}function sn(i,e){kr||function fi(){var i=Se.Promise.resolve(void 0);kr=function(){i.then(Jn)}}(),Ei||(kr(),Ei=!0),br.add(i,e)}var Ei=!1,br=new class Zr{constructor(){this.h=this.g=null}add(e,r){const o=wn.get();o.set(e,r),this.h?this.h.next=o:this.g=o,this.h=o}};function Jn(){for(var i;i=sr();){try{i.h.call(i.g)}catch(r){lr(r)}var e=wn;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Ei=!1}function pi(i,e){Pt.call(this),this.h=i||1,this.g=e||Se,this.j=Yt(this.kb,this),this.l=Date.now()}function Kr(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Nn(i,e,r){if("function"==typeof i)r&&(i=Yt(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Yt(i.handleEvent,i)}return 2147483647<Number(e)?-1:Se.setTimeout(i,e||0)}function Cn(i){i.g=Nn(()=>{i.g=null,i.i&&(i.i=!1,Cn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}yt(pi,Pt),(ye=pi.prototype).da=!1,ye.S=null,ye.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Jt(this,"tick"),this.da&&(Kr(this),this.start()))}},ye.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ye.M=function(){pi.Z.M.call(this),Kr(this),delete this.g};class Ps extends Vn{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Cn(this)}M(){super.M(),this.g&&(Se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function si(i){Vn.call(this),this.h=i,this.g={}}yt(si,Vn);var Yr=[];function Ii(i,e,r,o){Array.isArray(r)||(r&&(Yr[0]=r.toString()),r=Yr);for(var u=0;u<r.length;u++){var f=Wr(e,r[u],o||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function Os(i){Ri(i.g,function(e,r){this.g.hasOwnProperty(r)&&cr(e)},i),i.g={}}function Tn(){this.g=!0}function Bi(i,e,r,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ys(i,e){if(!i.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var o=r[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var f=u[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var v=1;v<u.length;v++)u[v]=""}}}return Ir(r)}catch(A){return e}}(i,r)+(o?" "+o:"")})}si.prototype.M=function(){si.Z.M.call(this),Os(this)},si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Tn.prototype.Aa=function(){this.g=!1},Tn.prototype.info=function(){};var dr={},es=null;function ls(){return es=es||new Pt}function _e(i){In.call(this,dr.Ma,i)}function pe(i){const e=ls();Jt(e,new _e(e,i))}function ke(i,e){In.call(this,dr.STAT_EVENT,i),this.stat=e}function Ke(i){const e=ls();Jt(e,new ke(e,i))}function ft(i,e){In.call(this,dr.Na,i),this.size=e}function bt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Se.setTimeout(function(){i()},e)}dr.Ma="serverreachability",yt(_e,In),dr.STAT_EVENT="statevent",yt(ke,In),dr.Na="timingevent",yt(ft,In);var _n={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ar={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function An(){}function ds(){}An.prototype.h=null;var ks,ns={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function bs(){In.call(this,"d")}function Ds(){In.call(this,"c")}function Ts(){}function Cs(i,e,r,o){this.l=i,this.j=e,this.m=r,this.X=o||1,this.V=new si(this),this.P=Ns,this.W=new pi(i=Ji?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new hs}function hs(){this.i=null,this.g="",this.h=!1}yt(bs,In),yt(Ds,In),yt(Ts,An),Ts.prototype.g=function(){return new XMLHttpRequest},Ts.prototype.i=function(){return{}},ks=new Ts;var Ns=45e3,Wi={},Nr={};function fs(i,e,r){i.K=1,i.v=wt($(e)),i.s=r,i.U=!0,mi(i,null)}function mi(i,e){i.F=Date.now(),q(i),i.A=$(i.v);var r=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),it(r.h,"t",o),i.C=0,r=i.l.H,i.h=new hs,i.g=Vu(i.l,r?e:null,!i.s),0<i.O&&(i.L=new Ps(Yt(i.Ia,i,i.g),i.O)),Ii(i.V,i.g,"readystatechange",i.gb),e=i.H?qt(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),pe(1),function Mi(i,e,r,o,u,f){i.info(function(){if(i.g)if(f)for(var v="",A=f.split("&"),V=0;V<A.length;V++){var K=A[V].split("=");if(1<K.length){var re=K[0];K=K[1];var Ee=re.split("_");v=2<=Ee.length&&"type"==Ee[1]?v+(re+"=")+K+"&":v+(re+"=redacted&")}}else v=null;else v=f;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+r+"\n"+v})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Qs(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function go(i,e,r){let u,o=!0;for(;!i.I&&i.C<r.length;){if(u=oi(i,r),u==Nr){4==e&&(i.o=4,Ke(14),o=!1),Bi(i.j,i.m,null,"[Incomplete Response]");break}if(u==Wi){i.o=4,Ke(15),Bi(i.j,i.m,r,"[Invalid Chunk]"),o=!1;break}Bi(i.j,i.m,u,null),ot(i,u)}Qs(i)&&u!=Nr&&u!=Wi&&(i.h.g="",i.C=0),4!=e||0!=r.length||i.h.h||(i.o=1,Ke(16),o=!1),i.i=i.i&&o,o?0<r.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),Tr(e),e.L=!0,Ke(11))):(Bi(i.j,i.m,r,"[Invalid Chunked Response]"),he(i),ne(i))}function oi(i,e){var r=i.C,o=e.indexOf("\n",r);return-1==o?Nr:(r=Number(e.substring(r,o)),isNaN(r)?Wi:(o+=1)+r>e.length?Nr:(e=e.substr(o,r),i.C=o+r,e))}function q(i){i.Y=Date.now()+i.P,F(i,i.P)}function F(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=bt(Yt(i.eb,i),e)}function O(i){i.B&&(Se.clearTimeout(i.B),i.B=null)}function ne(i){0==i.l.G||i.I||yo(i.l,i)}function he(i){O(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Kr(i.W),Os(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function ot(i,e){try{var r=i.l;if(0!=r.G&&(r.g==i||Ne(r.i,i)))if(r.I=i.N,!i.J&&Ne(r.i,i)&&3==r.G){try{var o=r.Ca.g.parse(e)}catch(K){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(r.u)r.ta=u[1],0<r.ta-r.U&&37500>u[2]&&r.N&&0==r.A&&!r.v&&(r.v=bt(Yt(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;oo(r),aa(r)}ms(r),Ke(18)}if(1>=me(r.i)&&r.ka){try{r.ka()}catch(K){}r.ka=void 0}}else eo(r,11)}else if((i.J||r.g==i)&&oo(r),!zr(e))for(u=r.Ca.g.parse(e),e=0;e<u.length;e++){let K=u[e];if(r.U=K[0],K=K[1],2==r.G)if("c"==K[0]){r.J=K[1],r.la=K[2];const re=K[3];null!=re&&(r.ma=re,r.h.info("VER="+r.ma));const Ee=K[4];null!=Ee&&(r.za=Ee,r.h.info("SVER="+r.za));const He=K[5];null!=He&&"number"==typeof He&&0<He&&(r.K=o=1.5*He,r.h.info("backChannelRequestTimeoutMs_="+o)),o=r;const ct=i.g;if(ct){const pt=ct.g?ct.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pt){var f=o.i;!f.g&&(xn(pt,"spdy")||xn(pt,"quic")||xn(pt,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(nt(f,f.h),f.h=null))}if(o.D){const Wt=ct.g?ct.g.getResponseHeader("X-HTTP-Session-Id"):null;Wt&&(o.sa=Wt,qe(o.F,o.D,Wt))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var v=i;if((o=r).oa=ca(o,o.H?o.la:null,o.W),v.J){Nt(o.i,v);var A=v,V=o.K;V&&A.setTimeout(V),A.B&&(O(A),q(A)),o.g=v}else La(o);0<r.l.length&&zo(r)}else"stop"!=K[0]&&"close"!=K[0]||eo(r,7);else 3==r.G&&("stop"==K[0]||"close"==K[0]?"stop"==K[0]?eo(r,7):au(r):"noop"!=K[0]&&r.j&&r.j.wa(K),r.A=0)}pe(4)}catch(K){}}function yn(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Be(i)||"string"==typeof i)un(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(Be(i)||"string"==typeof i){r=[];for(var o=i.length,u=0;u<o;u++)r.push(u)}else for(u in r=[],o=0,i)r[o++]=u;o=function jt(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Be(i)){for(var e=[],r=i.length,o=0;o<r;o++)e.push(i[o]);return e}for(o in e=[],r=0,i)e[r++]=i[o];return e}(i),u=o.length;for(var f=0;f<u;f++)e.call(void 0,o[f],r&&r[f],i)}}function Xt(i,e){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var o=0;o<r;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof Xt)for(r=i.T(),o=0;o<r.length;o++)this.set(r[o],i.get(r[o]));else for(o in i)this.set(o,i[o])}function tn(i){if(i.i!=i.g.length){for(var e=0,r=0;e<i.g.length;){var o=i.g[e];Lr(i.h,o)&&(i.g[r++]=o),e++}i.g.length=r}if(i.i!=i.g.length){var u={};for(r=e=0;e<i.g.length;)Lr(u,o=i.g[e])||(i.g[r++]=o,u[o]=1),e++;i.g.length=r}}function Lr(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(ye=Cs.prototype).setTimeout=function(i){this.P=i},ye.gb=function(i){i=i.target;const e=this.L;e&&3==io(i)?e.l():this.Ia(i)},ye.Ia=function(i){try{if(i==this.g)e:{const re=io(this.g);var e=this.g.Da();const Ee=this.g.ba();if(!(3>re)&&(3!=re||Ji||this.g&&(this.h.h||this.g.ga()||Di(this.g)))){this.I||4!=re||7==e||pe(8==e||0>=Ee?3:2),O(this);var r=this.g.ba();this.N=r;t:if(Qs(this)){var o=Di(this.g);i="";var u=o.length,f=4==io(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){he(this),ne(this);var v="";break t}this.h.i=new Se.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:f&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ga();if(this.i=200==r,function gi(i,e,r,o,u,f,v){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+r+"\n"+f+" "+v})}(this.j,this.u,this.A,this.m,this.X,re,r),this.i){if(this.$&&!this.J){t:{if(this.g){var A,V=this.g;if((A=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zr(A)){var K=A;break t}}K=null}if(!(r=K)){this.i=!1,this.o=3,Ke(12),he(this),ne(this);break e}Bi(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ot(this,r)}this.U?(go(this,re,v),Ji&&this.i&&3==re&&(Ii(this.V,this.W,"tick",this.fb),this.W.start())):(Bi(this.j,this.m,v,null),ot(this,v)),4==re&&he(this),this.i&&!this.I&&(4==re?yo(this.l,this):(this.i=!1,q(this)))}else 400==r&&0<v.indexOf("Unknown SID")?(this.o=3,Ke(12)):(this.o=0,Ke(13)),he(this),ne(this)}}}catch(re){}},ye.fb=function(){if(this.g){var i=io(this.g),e=this.g.ga();this.C<e.length&&(O(this),go(this,i,e),this.i&&4!=i&&q(this))}},ye.cancel=function(){this.I=!0,he(this)},ye.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Is(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(pe(3),Ke(17)),he(this),this.o=2,ne(this)):F(this,this.Y-i)},(ye=Xt.prototype).R=function(){tn(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},ye.T=function(){return tn(this),this.g.concat()},ye.get=function(i,e){return Lr(this.h,i)?this.h[i]:e},ye.set=function(i,e){Lr(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},ye.forEach=function(i,e){for(var r=this.T(),o=0;o<r.length;o++){var u=r[o],f=this.get(u);i.call(e,f,u,this)}};var ps=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function C(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof C){this.g=void 0!==e?e:i.g,S(this,i.j),this.s=i.s,z(this,i.i),se(this,i.m),this.l=i.l,e=i.h;var r=new ji;r.i=e.i,e.g&&(r.g=new Xt(e.g),r.h=e.h),je(this,r),this.o=i.o}else i&&(r=String(i).match(ps))?(this.g=!!e,S(this,r[1]||"",!0),this.s=jn(r[2]||""),z(this,r[3]||"",!0),se(this,r[4]),this.l=jn(r[5]||"",!0),je(this,r[6]||"",!0),this.o=jn(r[7]||"")):(this.g=!!e,this.h=new ji(null,this.g))}function $(i){return new C(i)}function S(i,e,r){i.j=r?jn(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function z(i,e,r){i.i=r?jn(e,!0):e}function se(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function je(i,e,r){e instanceof ji?(i.h=e,function jo(i,e){e&&!i.j&&($i(i),i.i=null,i.g.forEach(function(r,o){var u=o.toLowerCase();o!=u&&(Hs(this,o),it(this,u,r))},i)),i.j=e}(i.h,i.g)):(r||(e=nn(e,Vi)),i.h=new ji(e,i.g))}function qe(i,e,r){i.h.set(e,r)}function wt(i){return qe(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function jn(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function nn(i,e,r){return"string"==typeof i?(i=encodeURI(i).replace(e,Fr),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Fr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}C.prototype.toString=function(){var i=[],e=this.j;e&&i.push(nn(e,$n,!0),":");var r=this.i;return(r||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(nn(e,$n,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(nn(r,"/"==r.charAt(0)?ni:kt,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",nn(r,Js)),i.join("")};var $n=/[#\/\?@]/g,kt=/[#\?:]/g,ni=/[#\?]/g,Vi=/[#\?@]/g,Js=/#/g;function ji(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function $i(i){i.g||(i.g=new Xt,i.h=0,i.i&&function an(i,e){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var o=i[r].indexOf("="),u=null;if(0<=o){var f=i[r].substring(0,o);u=i[r].substring(o+1)}else f=i[r];e(f,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,r){i.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function Hs(i,e){$i(i),e=hn(i,e),Lr(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Lr((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&tn(i)))}function Gs(i,e){return $i(i),e=hn(i,e),Lr(i.g.h,e)}function it(i,e,r){Hs(i,e),0<r.length&&(i.i=null,i.g.set(hn(i,e),Gr(r)),i.h+=r.length)}function hn(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function P(i){this.l=i||Z,i=Se.PerformanceNavigationTiming?0<(i=Se.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Se.g&&Se.g.Ea&&Se.g.Ea()&&Se.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ye=ji.prototype).add=function(i,e){$i(this),this.i=null,i=hn(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(e),this.h+=1,this},ye.forEach=function(i,e){$i(this),this.g.forEach(function(r,o){un(r,function(u){i.call(e,u,o,this)},this)},this)},ye.T=function(){$i(this);for(var i=this.g.R(),e=this.g.T(),r=[],o=0;o<e.length;o++)for(var u=i[o],f=0;f<u.length;f++)r.push(e[o]);return r},ye.R=function(i){$i(this);var e=[];if("string"==typeof i)Gs(this,i)&&(e=Si(e,this.g.get(hn(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)e=Si(e,i[r])}return e},ye.set=function(i,e){return $i(this),this.i=null,Gs(this,i=hn(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ye.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),r=0;r<e.length;r++){var o=e[r],u=encodeURIComponent(String(o));o=this.R(o);for(var f=0;f<o.length;f++){var v=u;""!==o[f]&&(v+="="+encodeURIComponent(String(o[f]))),i.push(v)}}return this.i=i.join("&")};var Z=10;function J(i){return!!i.h||!!i.g&&i.g.size>=i.j}function me(i){return i.h?1:i.g?i.g.size:0}function Ne(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function nt(i,e){i.g?i.g.add(e):i.h=e}function Nt(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function It(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const r of i.g.values())e=e.concat(r.D);return e}return Gr(i.i)}function on(){}function rn(){this.g=new on}function Xn(i,e,r){const o=r||"";try{yn(i,function(u,f){let v=u;Tt(u)&&(v=Ir(u)),e.push(o+f+"="+encodeURIComponent(v))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function or(i,e,r,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(f){}}function Hn(i){this.l=i.$b||null,this.j=i.ib||!1}function Pi(i,e){Pt.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=hr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}P.prototype.cancel=function(){if(this.i=It(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},on.prototype.stringify=function(i){return Se.JSON.stringify(i,void 0)},on.prototype.parse=function(i){return Se.JSON.parse(i,void 0)},yt(Hn,An),Hn.prototype.g=function(){return new Pi(this.l,this.j)},Hn.prototype.i=function(i){return function(){return i}}({}),yt(Pi,Pt);var hr=0;function rs(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function bi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Sr(i)}function Sr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ye=Pi.prototype).open=function(i,e){if(this.readyState!=hr)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Sr(this)},ye.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Se).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bi(this)),this.readyState=hr},ye.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Sr(this)),this.g&&(this.readyState=3,Sr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Se.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rs(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},ye.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?bi(this):Sr(this),3==this.readyState&&rs(this)}},ye.Ua=function(i){this.g&&(this.response=this.responseText=i,bi(this))},ye.Ta=function(i){this.g&&(this.response=i,bi(this))},ye.ha=function(){this.g&&bi(this)},ye.setRequestHeader=function(i,e){this.v.append(i,e)},ye.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ye.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var r=e.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=e.next();return i.join("\r\n")},Object.defineProperty(Pi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Qr=Se.JSON.parse;function ar(i){Pt.call(this),this.headers=new Xt,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=gs,this.K=this.L=!1}yt(ar,Pt);var gs="",$o=/^https?$/i,zs=["POST","PUT"];function Ma(i){return"content-type"==i.toLowerCase()}function mo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Pa(i),Co(i)}function Pa(i){i.D||(i.D=!0,Jt(i,"complete"),Jt(i,"error"))}function Ho(i){if(i.h&&void 0!==Ue&&(!i.C[1]||4!=io(i)||2!=i.ba()))if(i.v&&4==io(i))Nn(i.Fa,0,i);else if(Jt(i,"readystatechange"),4==io(i)){i.h=!1;try{const A=i.ba();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var o;if(o=0===A){var u=String(i.H).match(ps)[1]||null;if(!u&&Se.self&&Se.self.location){var f=Se.self.location.protocol;u=f.substr(0,f.length-1)}o=!$o.test(u?u.toLowerCase():"")}r=o}if(r)Jt(i,"complete"),Jt(i,"success");else{i.m=6;try{var v=2<io(i)?i.g.statusText:""}catch(V){v=""}i.j=v+" ["+i.ba()+"]",Pa(i)}}finally{Co(i)}}}function Co(i,e){if(i.g){Oa(i);const r=i.g,o=i.C[0]?st:null;i.g=null,i.C=null,e||Jt(i,"ready");try{r.onreadystatechange=o}catch(u){}}}function Oa(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Se.clearTimeout(i.A),i.A=null)}function io(i){return i.g?i.g.readyState:0}function Di(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case gs:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Vr(i,e,r){e:{for(o in r){var o=!1;break e}o=!0}o||(r=function Ls(i){let e="";return Ri(i,function(r,o){e+=o,e+=":",e+=r,e+="\r\n"}),e}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):qe(i,e,r))}function Ao(i,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||e}function Go(i){this.za=0,this.l=[],this.h=new Tn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ao("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ao("baseRetryDelayMs",5e3,i),this.$a=Ao("retryDelaySeedMs",1e4,i),this.Ya=Ao("forwardChannelMaxRetries",2,i),this.ra=Ao("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new P(i&&i.concurrentRequestLimit),this.Ca=new rn,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function au(i){if(ka(i),3==i.G){var e=i.V++,r=$(i.F);qe(r,"SID",i.J),qe(r,"RID",e),qe(r,"TYPE","terminate"),so(i,r),(e=new Cs(i,i.h,e,void 0)).K=2,e.v=wt($(r)),r=!1,Se.navigator&&Se.navigator.sendBeacon&&(r=Se.navigator.sendBeacon(e.v.toString(),"")),!r&&Se.Image&&((new Image).src=e.v,r=!0),r||(e.g=Vu(e.l,null),e.g.ea(e.v)),e.F=Date.now(),q(e)}So(i)}function aa(i){i.g&&(Tr(i),i.g.cancel(),i.g=null)}function ka(i){aa(i),i.u&&(Se.clearTimeout(i.u),i.u=null),oo(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Se.clearTimeout(i.m),i.m=null)}function Na(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&zo(i)}function zo(i){J(i.i)||i.m||(i.m=!0,sn(i.Ha,i),i.C=0)}function ua(i,e){var r;r=e?e.m:i.V++;const o=$(i.F);qe(o,"SID",i.J),qe(o,"RID",r),qe(o,"AID",i.U),so(i,o),i.o&&i.s&&Vr(o,i.o,i.s),r=new Cs(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),e&&(i.l=e.D.concat(i.l)),e=is(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),nt(i.i,r),fs(r,o,e)}function so(i,e){i.j&&yn({},function(r,o){qe(e,o,r)})}function is(i,e,r){r=Math.min(i.l.length,r);var o=i.j?Yt(i.j.Oa,i.j,i):null;e:{var u=i.l;let f=-1;for(;;){const v=["count="+r];-1==f?0<r?(f=u[0].h,v.push("ofs="+f)):f=0:v.push("ofs="+f);let A=!0;for(let V=0;V<r;V++){let K=u[V].h;const re=u[V].g;if(K-=f,0>K)f=Math.max(0,u[V].h-100),A=!1;else try{Xn(re,v,"req"+K+"_")}catch(Ee){o&&o(re)}}if(A){o=v.join("&");break e}}}return i=i.l.splice(0,r),e.D=i,o}function La(i){i.g||i.u||(i.Y=1,sn(i.Ga,i),i.A=0)}function ms(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=bt(Yt(i.Ga,i),Wo(i,i.A)),i.A++,0))}function Tr(i){null!=i.B&&(Se.clearTimeout(i.B),i.B=null)}function qo(i){i.g=new Cs(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=$(i.oa);qe(e,"RID","rpc"),qe(e,"SID",i.J),qe(e,"CI",i.N?"0":"1"),qe(e,"AID",i.U),so(i,e),qe(e,"TYPE","xmlhttp"),i.o&&i.s&&Vr(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=wt($(e)),r.s=null,r.U=!0,mi(r,i)}function oo(i){null!=i.v&&(Se.clearTimeout(i.v),i.v=null)}function yo(i,e){var r=null;if(i.g==e){oo(i),Tr(i),i.g=null;var o=2}else{if(!Ne(i.i,e))return;r=e.D,Nt(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){r=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Jt(o=ls(),new ft(o,r,e,u)),zo(i)}else La(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function Xs(i,e){return!(me(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=bt(Yt(i.Ha,i,e),Wo(i,i.C)),i.C++,0)))}(i,e)||2==o&&ms(i)))switch(r&&0<r.length&&(e=i.i,e.i=e.i.concat(r)),u){case 1:eo(i,5);break;case 4:eo(i,10);break;case 3:eo(i,6);break;default:eo(i,2)}}function Wo(i,e){let r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*e}function eo(i,e){if(i.h.info("Error code "+e),2==e){var r=null;i.j&&(r=null);var o=Yt(i.jb,i);r||(r=new C("//www.google.com/images/cleardot.gif"),Se.location&&"http"==Se.location.protocol||S(r,"https"),wt(r)),function Dr(i,e){const r=new Tn;if(Se.Image){const o=new Image;o.onload=Rn(or,r,o,"TestLoadImage: loaded",!0,e),o.onerror=Rn(or,r,o,"TestLoadImage: error",!1,e),o.onabort=Rn(or,r,o,"TestLoadImage: abort",!1,e),o.ontimeout=Rn(or,r,o,"TestLoadImage: timeout",!1,e),Se.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(r.toString(),o)}else Ke(2);i.G=0,i.j&&i.j.va(e),So(i),ka(i)}function So(i){i.G=0,i.I=-1,i.j&&((0!=It(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Gr(i.l),i.l.length=0),i.j.ua())}function ca(i,e,r){let o=function dn(i){return i instanceof C?$(i):new C(i,void 0)}(r);if(""!=o.i)e&&z(o,e+"."+o.i),se(o,o.m);else{const u=Se.location;o=function Bn(i,e,r,o){var u=new C(null,void 0);return i&&S(u,i),e&&z(u,e),r&&se(u,r),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,r)}return i.aa&&Ri(i.aa,function(u,f){qe(o,f,u)}),r=i.sa,(e=i.D)&&r&&qe(o,e,r),qe(o,"VER",i.ma),so(i,o),o}function Vu(i,e,r){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ar(r&&i.Ba&&!i.qa?new Hn({ib:!0}):i.qa)).L=i.H,e}function Ro(){}function Fa(){if(Dt&&!(10<=Number($t)))throw Error("Environmental error: no available transport.")}function ai(i,e){Pt.call(this),this.g=new Go(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!zr(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zr(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Zo(this)}function Oi(i){bs.call(this);var e=i.__sm__;if(e){e:{for(const r in e){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ju(){Ds.call(this),this.status=1}function Zo(i){this.g=i}(ye=ar.prototype).ea=function(i,e,r,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ks.g(),this.C=function ts(i){return i.h||(i.h=i.i())}(this.u?this.u:ks),this.g.onreadystatechange=Yt(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(f){return void mo(this,f)}i=r||"";const u=new Xt(this.headers);o&&yn(o,function(f,v){u.set(v,f)}),o=function Kn(i){e:{var e=Ma;const r=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<r;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),r=Se.FormData&&i instanceof Se.FormData,!(0<=Hr(zs,e))||o||r||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(f,v){this.g.setRequestHeader(v,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Oa(this),0<this.B&&((this.K=function qs(i){return Dt&&function We(){return function mr(i){var e=ce;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=tt(String(yr)).split("."),r=tt("9").split("."),o=Math.max(e.length,r.length);for(let v=0;0==i&&v<o;v++){var u=e[v]||"",f=r[v]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==u[0].length&&0==f[0].length)break;i=At(0==u[1].length?0:parseInt(u[1],10),0==f[1].length?0:parseInt(f[1],10))||At(0==u[2].length,0==f[2].length)||At(u[2],f[2]),u=u[3],f=f[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.pa,this)):this.A=Nn(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){mo(this,f)}},ye.pa=function(){void 0!==Ue&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jt(this,"timeout"),this.abort(8))},ye.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Jt(this,"complete"),Jt(this,"abort"),Co(this))},ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Co(this,!0)),ar.Z.M.call(this)},ye.Fa=function(){this.s||(this.F||this.v||this.l?Ho(this):this.cb())},ye.cb=function(){Ho(this)},ye.ba=function(){try{return 2<io(this)?this.g.status:-1}catch(i){return-1}},ye.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},ye.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Qr(e)}},ye.Da=function(){return this.m},ye.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ye=Go.prototype).ma=8,ye.G=1,ye.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},ye.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new Cs(this,this.h,i,void 0);let f=this.s;if(this.P&&(f?(f=qt(f),cn(f,this.P)):f=this.P),null===this.o&&(u.H=f),this.ja)e:{for(var e=0,r=0;r<this.l.length;r++){var o=this.l[r];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break e}if(4096===e||r===this.l.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=is(this,u,e),qe(r=$(this.F),"RID",i),qe(r,"CVER",22),this.D&&qe(r,"X-HTTP-Session-Id",this.D),so(this,r),this.o&&f&&Vr(r,this.o,f),nt(this.i,u),this.Ra&&qe(r,"TYPE","init"),this.ja?(qe(r,"$req",e),qe(r,"SID","null"),u.$=!0,fs(u,r,null)):fs(u,r,e),this.G=2}}else 3==this.G&&(i?ua(this,i):0==this.l.length||J(this.i)||ua(this))},ye.Ga=function(){if(this.u=null,qo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=bt(Yt(this.bb,this),i)}},ye.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ke(10),aa(this),qo(this))},ye.ab=function(){null!=this.v&&(this.v=null,aa(this),ms(this),Ke(19))},ye.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Ke(2)):(this.h.info("Failed to ping google.com"),Ke(1))},(ye=Ro.prototype).xa=function(){},ye.wa=function(){},ye.va=function(){},ye.ua=function(){},ye.Oa=function(){},Fa.prototype.g=function(i,e){return new ai(i,e)},yt(ai,Pt),ai.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),sn(Yt(i.hb,i,e))),Ke(0),i.W=e,i.aa=r||{},i.N=i.X,i.F=ca(i,null,i.W),zo(i)},ai.prototype.close=function(){au(this.g)},ai.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Na(this.g,e)}else this.v?((e={}).__data__=Ir(i),Na(this.g,e)):Na(this.g,i)},ai.prototype.M=function(){this.g.j=null,delete this.j,au(this.g),delete this.g,ai.Z.M.call(this)},yt(Oi,bs),yt(ju,Ds),yt(Zo,Ro),Zo.prototype.xa=function(){Jt(this.g,"a")},Zo.prototype.wa=function(i){Jt(this.g,new Oi(i))},Zo.prototype.va=function(i){Jt(this.g,new ju(i))},Zo.prototype.ua=function(){Jt(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,ai.prototype.send=ai.prototype.u,ai.prototype.open=ai.prototype.m,ai.prototype.close=ai.prototype.close,_n.NO_ERROR=0,_n.TIMEOUT=8,_n.HTTP_ERROR=6,Ar.COMPLETE="complete",ds.EventType=ns,ns.OPEN="a",ns.CLOSE="b",ns.ERROR="c",ns.MESSAGE="d",Pt.prototype.listen=Pt.prototype.N,ar.prototype.listenOnce=ar.prototype.O,ar.prototype.getLastError=ar.prototype.La,ar.prototype.getLastErrorCode=ar.prototype.Da,ar.prototype.getStatus=ar.prototype.ba,ar.prototype.getResponseJson=ar.prototype.Qa,ar.prototype.getResponseText=ar.prototype.ga,ar.prototype.send=ar.prototype.ea;var la=Te.createWebChannelTransport=function(){return new Fa},yc=Te.getStatEventTarget=function(){return ls()},xo=Te.ErrorCode=_n,$u=Te.EventType=Ar,Ko=Te.Event=dr,uu=Te.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},to=Te.FetchXmlHttpFactory=Hn,_o=Te.WebChannel=ds,da=Te.XhrIo=ar;const Hu="@firebase/firestore";class ui{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ui.UNAUTHENTICATED=new ui(null),ui.GOOGLE_CREDENTIALS=new ui("google-credentials-uid"),ui.FIRST_PARTY=new ui("first-party-uid"),ui.MOCK_USER=new ui("mock-user");let ao="9.6.5";const Fs=new Et.Yd("@firebase/firestore");function uo(){return Fs.logLevel}function m(i,...e){if(Fs.logLevel<=Et.in.DEBUG){const r=e.map(k);Fs.debug(`Firestore (${ao}): ${i}`,...r)}}function _(i,...e){if(Fs.logLevel<=Et.in.ERROR){const r=e.map(k);Fs.error(`Firestore (${ao}): ${i}`,...r)}}function T(i,...e){if(Fs.logLevel<=Et.in.WARN){const r=e.map(k);Fs.warn(`Firestore (${ao}): ${i}`,...r)}}function k(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function B(i="Unexpected state"){const e=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: `+i;throw _(e),new Error(e)}function Y(i,e){i||B()}function ge(i,e){return i}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends et.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rt{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Gn{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class er{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(ui.UNAUTHENTICATED))}shutdown(){}}class Jr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class As{constructor(e){this.t=e,this.currentUser=ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;let u=this.i;const f=K=>this.i!==u?(u=this.i,r(K)):Promise.resolve();let v=new Rt;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new Rt,e.enqueueRetryable(()=>f(this.currentUser))};const A=()=>{const K=v;e.enqueueRetryable((0,te.Z)(function*(){yield K.promise,yield f(o.currentUser)}))},V=K=>{m("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(K=>V(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?V(K):(m("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new Rt)}},0),A()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(m("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Y("string"==typeof o.accessToken),new Gn(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Y(null===e||"string"==typeof e),new ui(e)}}class Ss{constructor(e,r,o){this.type="FirstParty",this.user=ui.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",r);const u=e.auth.getAuthHeaderValueForFirstParty([]);u&&this.headers.set("Authorization",u),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class ss{constructor(e,r,o){this.h=e,this.l=r,this.m=o}getToken(){return Promise.resolve(new Ss(this.h,this.l,this.m))}start(e,r){e.enqueueRetryable(()=>r(ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Us{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zi{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,r){this.o=u=>{e.enqueueRetryable(()=>{return null!=(f=u).error&&m("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`),r(f.token);var f})};const o=u=>{m("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?o(u):m("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Y("string"==typeof r.token),new Us(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ki{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.p(o),this.T=o=>r.writeSequenceNumber(o))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Ua(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<i;o++)r[o]=Math.floor(256*Math.random());return r}ki.I=-1;class Ba{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Ua(40);for(let f=0;f<u.length;++f)o.length<20&&u[f]<r&&(o+=e.charAt(u[f]%e.length))}return o}}function Zn(i,e){return i<e?-1:i>e?1:0}function wr(i,e,r){return i.length===e.length&&i.every((o,u)=>r(o,e[u]))}function cu(i){return i+"\0"}class Hi{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new $e(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new $e(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new $e(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Hi.fromMillis(Date.now())}static fromDate(e){return Hi.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Hi(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zn(this.nanoseconds,e.nanoseconds):Zn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bn(e)}static min(){return new bn(new Hi(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ed(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function ha(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function Kd(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Va{constructor(e,r,o){void 0===r?r=0:r>e.length&&B(),void 0===o?o=e.length-r:o>e.length-r&&B(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===Va.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Va?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let u=0;u<o;u++){const f=e.get(u),v=r.get(u);if(f<v)return-1;if(f>v)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class zn extends Va{construct(e,r,o){return new zn(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new $e(de.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(u=>u.length>0))}return new zn(r)}static emptyPath(){return new zn([])}}const td=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends Va{construct(e,r,o){return new tr(e,r,o)}static isValidIdentifier(e){return td.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tr(["__name__"])}static fromServerFormat(e){const r=[];let o="",u=0;const f=()=>{if(0===o.length)throw new $e(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let v=!1;for(;u<e.length;){const A=e[u];if("\\"===A){if(u+1===e.length)throw new $e(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[u+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new $e(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=V,u+=2}else"`"===A?(v=!v,u++):"."!==A||v?(o+=A,u++):(f(),u++)}if(f(),v)throw new $e(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(r)}static emptyPath(){return new tr([])}}class fa{constructor(e){this.fields=e,e.sort(tr.comparator)}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return wr(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class Ki{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new Ki(r)}static fromUint8Array(e){const r=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ki(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ki.EMPTY_BYTE_STRING=new Ki("");const nd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(i){if(Y(!!i),"string"==typeof i){let e=0;const r=nd.exec(i);if(Y(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Cr(i.seconds),nanos:Cr(i.nanos)}}function Cr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function pa(i){return"string"==typeof i?Ki.fromBase64String(i):Ki.fromUint8Array(i)}function ga(i){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Qo(i){const e=i.mapValue.fields.__previous_value__;return ga(e)?Qo(e):e}function ja(i){const e=Gi(i.mapValue.fields.__local_write_time__.timestampValue);return new Hi(e.seconds,e.nanos)}function ma(i){return null==i}function Jo(i){return 0===i&&1/i==-1/0}function _c(i){return"number"==typeof i&&Number.isInteger(i)&&!Jo(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Zt{constructor(e){this.path=e}static fromPath(e){return new Zt(zn.fromString(e))}static fromName(e){return new Zt(zn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===zn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return zn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zt(new zn(e.slice()))}}function wo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ga(i)?4:10:B()}function Xr(i,e){if(i===e)return!0;const r=wo(i);if(r!==wo(e))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ja(i).isEqual(ja(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Gi(o.timestampValue),v=Gi(u.timestampValue);return f.seconds===v.seconds&&f.nanos===v.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,pa(i.bytesValue).isEqual(pa(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Cr(o.geoPointValue.latitude)===Cr(u.geoPointValue.latitude)&&Cr(o.geoPointValue.longitude)===Cr(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Cr(o.integerValue)===Cr(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Cr(o.doubleValue),v=Cr(u.doubleValue);return f===v?Jo(f)===Jo(v):isNaN(f)&&isNaN(v)}return!1}(i,e);case 9:return wr(i.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:return function(o,u){const f=o.mapValue.fields||{},v=u.mapValue.fields||{};if(ed(f)!==ed(v))return!1;for(const A in f)if(f.hasOwnProperty(A)&&(void 0===v[A]||!Xr(f[A],v[A])))return!1;return!0}(i,e);default:return B()}var u}function Mo(i,e){return void 0!==(i.values||[]).find(r=>Xr(r,e))}function Ws(i,e){if(i===e)return 0;const r=wo(i),o=wo(e);if(r!==o)return Zn(r,o);switch(r){case 0:return 0;case 1:return Zn(i.booleanValue,e.booleanValue);case 2:return function(u,f){const v=Cr(u.integerValue||u.doubleValue),A=Cr(f.integerValue||f.doubleValue);return v<A?-1:v>A?1:v===A?0:isNaN(v)?isNaN(A)?0:-1:1}(i,e);case 3:return Yd(i.timestampValue,e.timestampValue);case 4:return Yd(ja(i),ja(e));case 5:return Zn(i.stringValue,e.stringValue);case 6:return function(u,f){const v=pa(u),A=pa(f);return v.compareTo(A)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const v=u.split("/"),A=f.split("/");for(let V=0;V<v.length&&V<A.length;V++){const K=Zn(v[V],A[V]);if(0!==K)return K}return Zn(v.length,A.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const v=Zn(Cr(u.latitude),Cr(f.latitude));return 0!==v?v:Zn(Cr(u.longitude),Cr(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,f){const v=u.values||[],A=f.values||[];for(let V=0;V<v.length&&V<A.length;++V){const K=Ws(v[V],A[V]);if(K)return K}return Zn(v.length,A.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,f){const v=u.fields||{},A=Object.keys(v),V=f.fields||{},K=Object.keys(V);A.sort(),K.sort();for(let re=0;re<A.length&&re<K.length;++re){const Ee=Zn(A[re],K[re]);if(0!==Ee)return Ee;const He=Ws(v[A[re]],V[K[re]]);if(0!==He)return He}return Zn(A.length,K.length)}(i.mapValue,e.mapValue);default:throw B()}}function Yd(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Zn(i,e);const r=Gi(i),o=Gi(e),u=Zn(r.seconds,o.seconds);return 0!==u?u:Zn(r.nanos,o.nanos)}function vc(i){return rl(i)}function rl(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Gi(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?pa(i.bytesValue).toBase64():"referenceValue"in i?Zt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",f=!0;for(const v of o.values||[])f?f=!1:u+=",",u+=rl(v);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let f="{",v=!0;for(const A of u)v?v=!1:f+=",",f+=`${A}:${rl(o.fields[A])}`;return f+"}"}(i.mapValue):B();var e}function lu(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function wc(i){return!!i&&"integerValue"in i}function Xo(i){return!!i&&"arrayValue"in i}function Ec(i){return!!i&&"nullValue"in i}function du(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function $a(i){return!!i&&"mapValue"in i}function ys(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ha(i.mapValue.fields,(r,o)=>e.mapValue.fields[r]=ys(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ys(i.arrayValue.values[r]);return e}return Object.assign({},i)}class Rs{constructor(e){this.value=e}static empty(){return new Rs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!$a(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ys(r)}setAll(e){let r=tr.emptyPath(),o={},u=[];e.forEach((v,A)=>{if(!r.isImmediateParentOf(A)){const V=this.getFieldsMap(r);this.applyChanges(V,o,u),o={},u=[],r=A.popLast()}v?o[A.lastSegment()]=ys(v):u.push(A.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,o,u)}delete(e){const r=this.field(e.popLast());$a(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=r.mapValue.fields[e.get(o)];$a(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,o){ha(r,(u,f)=>e[u]=f);for(const u of o)delete e[u]}clone(){return new Rs(ys(this.value))}}function Bs(i){const e=[];return ha(i.fields,(r,o)=>{const u=new tr([r]);if($a(o)){const f=Bs(o.mapValue).fields;if(0===f.length)e.push(u);else for(const v of f)e.push(u.child(v))}else e.push(u)}),new fa(e)}class jr{constructor(e,r,o,u,f){this.key=e,this.documentType=r,this.version=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new jr(e,0,bn.min(),Rs.empty(),0)}static newFoundDocument(e,r,o){return new jr(e,1,r,o,0)}static newNoDocument(e,r){return new jr(e,2,r,Rs.empty(),0)}static newUnknownDocument(e,r){return new jr(e,3,r,Rs.empty(),2)}convertToFoundDocument(e,r){return this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hu{constructor(e,r=null,o=[],u=[],f=null,v=null,A=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=u,this.limit=f,this.startAt=v,this.endAt=A,this.R=null}}function Ha(i,e=null,r=[],o=[],u=null,f=null,v=null){return new hu(i,e,r,o,u,f,v)}function ya(i){const e=ge(i);if(null===e.R){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>function G(i){return i.field.canonicalString()+i.op.toString()+vc(i.value)}(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),ma(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=Ti(e.startAt)),e.endAt&&(r+="|ub:",r+=Ti(e.endAt)),e.R=r}return e.R}function Ga(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!_a(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((r=i.filters[u]).op!==(o=e.filters[u]).op||!r.field.isEqual(o.field)||!Xr(r.value,o.value))return!1;var r,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!za(i.startAt,e.startAt)&&za(i.endAt,e.endAt)}function D(i){return Zt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class R extends class{}{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.P(e,r,o):new ee(e,r,o):"array-contains"===r?new Ht(e,o):"in"===r?new Ft(e,o):"not-in"===r?new fr(e,o):"array-contains-any"===r?new xr(e,o):new R(e,r,o)}static P(e,r,o){return"in"===r?new De(e,o):new Ze(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.v(Ws(r,this.value)):null!==r&&wo(this.value)===wo(r)&&this.v(Ws(r,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return B()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ee extends R{constructor(e,r,o){super(e,r,o),this.key=Zt.fromName(o.referenceValue)}matches(e){const r=Zt.comparator(e.key,this.key);return this.v(r)}}class De extends R{constructor(e,r){super(e,"in",r),this.keys=dt(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Ze extends R{constructor(e,r){super(e,"not-in",r),this.keys=dt(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function dt(i,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>Zt.fromName(o.referenceValue))}class Ht extends R{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Xo(r)&&Mo(r.arrayValue,this.value)}}class Ft extends R{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Mo(this.value.arrayValue,r)}}class fr extends R{constructor(e,r){super(e,"not-in",r)}matches(e){if(Mo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Mo(this.value.arrayValue,r)}}class xr extends R{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Xo(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Mo(this.value.arrayValue,o))}}class os{constructor(e,r){this.position=e,this.before=r}}function Ti(i){return`${i.before?"b":"a"}:${i.position.map(e=>vc(e)).join(",")}`}class Mr{constructor(e,r="asc"){this.field=e,this.dir=r}}function _a(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function co(i,e,r){let o=0;for(let u=0;u<i.position.length;u++){const f=e[u],v=i.position[u];if(o=f.field.isKeyField()?Zt.comparator(Zt.fromName(v.referenceValue),r.key):Ws(v,r.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return i.before?o<=0:o<0}function za(i,e){if(null===i)return null===e;if(null===e||i.before!==e.before||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Xr(i.position[r],e.position[r]))return!1;return!0}class zi{constructor(e,r=null,o=[],u=[],f=null,v="F",A=null,V=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=u,this.limit=f,this.limitType=v,this.startAt=A,this.endAt=V,this.S=null,this.D=null}}function Po(i,e,r,o,u,f,v,A){return new zi(i,e,r,o,u,f,v,A)}function Eo(i){return new zi(i)}function fu(i){return!ma(i.limit)&&"F"===i.limitType}function Gu(i){return!ma(i.limit)&&"L"===i.limitType}function Ic(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function qa(i){for(const e of i.filters)if(e.V())return e.field;return null}function Wa(i){return null!==i.collectionGroup}function pu(i){const e=ge(i);if(null===e.S){e.S=[];const r=qa(e),o=Ic(e);if(null!==r&&null===o)r.isKeyField()||e.S.push(new Mr(r)),e.S.push(new Mr(tr.keyField(),"asc"));else{let u=!1;for(const f of e.explicitOrderBy)e.S.push(f),f.field.isKeyField()&&(u=!0);if(!u){const f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Mr(tr.keyField(),f))}}}return e.S}function Oo(i){const e=ge(i);if(!e.D)if("F"===e.limitType)e.D=Ha(e.path,e.collectionGroup,pu(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const f of pu(e))r.push(new Mr(f.field,"desc"===f.dir?"asc":"desc"));const o=e.endAt?new os(e.endAt.position,!e.endAt.before):null,u=e.startAt?new os(e.startAt.position,!e.startAt.before):null;e.D=Ha(e.path,e.collectionGroup,r,e.filters,e.limit,o,u)}return e.D}function id(i,e,r){return new zi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function gu(i,e){return Ga(Oo(i),Oo(e))&&i.limitType===e.limitType}function Ef(i){return`${ya(Oo(i))}|lt:${i.limitType}`}function sd(i){return`Query(target=${function rd(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(r=>{return`${(o=r).field.canonicalString()} ${o.op} ${vc(o.value)}`;var o}).join(", ")}]`),ma(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: "+Ti(i.startAt)),i.endAt&&(e+=", endAt: "+Ti(i.endAt)),`Target(${e})`}(Oo(i))}; limitType=${i.limitType})`}function mu(i,e){return e.isFoundDocument()&&function(r,o){const u=o.key.path;return null!==r.collectionGroup?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Zt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(i,e)&&function(r,o){for(const u of r.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((r=i).startAt&&!co(r.startAt,pu(r),o)||r.endAt&&co(r.endAt,pu(r),o)));var r,o}function Qd(i){return(e,r)=>{let o=!1;for(const u of pu(i)){const f=il(u,e,r);if(0!==f)return f;o=o||u.field.isKeyField()}return 0}}function il(i,e,r){const o=i.field.isKeyField()?Zt.comparator(e.key,r.key):function(u,f,v){const A=f.data.field(u),V=v.data.field(u);return null!==A&&null!==V?Ws(A,V):B()}(i.field,e,r);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return B()}}function zu(i,e){if(i.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jo(e)?"-0":e}}function yu(i){return{integerValue:""+i}}function sl(i,e){return _c(e)?yu(e):zu(i,e)}class _u{constructor(){this._=void 0}}function Jd(i,e,r){return i instanceof vu?function(o,u){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(f.fields.__previous_value__=u),{mapValue:f}}(r,e):i instanceof va?ol(i,e):i instanceof wa?Xd(i,e):function(o,u){const f=qu(o,u),v=al(f)+al(o.N);return wc(f)&&wc(o.N)?yu(v):zu(o.k,v)}(i,e)}function bc(i,e,r){return i instanceof va?ol(i,e):i instanceof wa?Xd(i,e):r}function qu(i,e){return i instanceof wu?wc(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var o,r}class vu extends _u{}class va extends _u{constructor(e){super(),this.elements=e}}function ol(i,e){const r=eh(e);for(const o of i.elements)r.some(u=>Xr(u,o))||r.push(o);return{arrayValue:{values:r}}}class wa extends _u{constructor(e){super(),this.elements=e}}function Xd(i,e){let r=eh(e);for(const o of i.elements)r=r.filter(u=>!Xr(u,o));return{arrayValue:{values:r}}}class wu extends _u{constructor(e,r){super(),this.k=e,this.N=r}}function al(i){return Cr(i.integerValue||i.doubleValue)}function eh(i){return Xo(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Dc{constructor(e,r){this.field=e,this.transform=r}}class Eu{constructor(e,r){this.version=e,this.transformResults=r}}class Yi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Yi}static exists(e){return new Yi(void 0,e)}static updateTime(e){return new Yi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function od(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class ul{}function Sg(i,e,r){i instanceof Cc?function(o,u,f){const v=o.value.clone(),A=If(o.fieldTransforms,u,f.transformResults);v.setAll(A),u.convertToFoundDocument(f.version,v).setHasCommittedMutations()}(i,e,r):i instanceof Ka?function(o,u,f){if(!od(o.precondition,u))return void u.convertToUnknownDocument(f.version);const v=If(o.fieldTransforms,u,f.transformResults),A=u.data;A.setAll(nh(o)),A.setAll(v),u.convertToFoundDocument(f.version,A).setHasCommittedMutations()}(i,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Tc(i,e,r){var u;i instanceof Cc?function(o,u,f){if(!od(o.precondition,u))return;const v=o.value.clone(),A=rh(o.fieldTransforms,f,u);v.setAll(A),u.convertToFoundDocument(th(u),v).setHasLocalMutations()}(i,e,r):i instanceof Ka?function(o,u,f){if(!od(o.precondition,u))return;const v=rh(o.fieldTransforms,f,u),A=u.data;A.setAll(nh(o)),A.setAll(v),u.convertToFoundDocument(th(u),A).setHasLocalMutations()}(i,e,r):od(i.precondition,u=e)&&u.convertToNoDocument(bn.min())}function Rg(i,e){let r=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),f=qu(o.transform,u||null);null!=f&&(null==r&&(r=Rs.empty()),r.set(o.field,f))}return r||null}function ad(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===o||r&&o&&wr(r,o,(u,f)=>function Za(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(r=i.transform)instanceof va&&o instanceof va||r instanceof wa&&o instanceof wa?wr(r.elements,o.elements,Xr):r instanceof wu&&o instanceof wu?Xr(r.N,o.N):r instanceof vu&&o instanceof vu);var r,o}(u,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var r,o}function th(i){return i.isFoundDocument()?i.version:bn.min()}class Cc extends ul{constructor(e,r,o,u=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=u,this.type=0}}class Ka extends ul{constructor(e,r,o,u,f=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=u,this.fieldTransforms=f,this.type=1}}function nh(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=i.data.field(r);e.set(r,o)}}),e}function If(i,e,r){const o=new Map;Y(i.length===r.length);for(let u=0;u<r.length;u++){const f=i[u],v=f.transform,A=e.data.field(f.field);o.set(f.field,bc(v,A,r[u]))}return o}function rh(i,e,r){const o=new Map;for(const u of i){const f=u.transform,v=r.data.field(u.field);o.set(u.field,Jd(f,v,e))}return o}class ea extends ul{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class cl extends ul{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class ta{constructor(e){this.count=e}}var yi,ur;function ud(i){switch(i){default:return B();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function ll(i){if(void 0===i)return _("GRPC error has no .code"),de.UNKNOWN;switch(i){case yi.OK:return de.OK;case yi.CANCELLED:return de.CANCELLED;case yi.UNKNOWN:return de.UNKNOWN;case yi.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case yi.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case yi.INTERNAL:return de.INTERNAL;case yi.UNAVAILABLE:return de.UNAVAILABLE;case yi.UNAUTHENTICATED:return de.UNAUTHENTICATED;case yi.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case yi.NOT_FOUND:return de.NOT_FOUND;case yi.ALREADY_EXISTS:return de.ALREADY_EXISTS;case yi.PERMISSION_DENIED:return de.PERMISSION_DENIED;case yi.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case yi.ABORTED:return de.ABORTED;case yi.OUT_OF_RANGE:return de.OUT_OF_RANGE;case yi.UNIMPLEMENTED:return de.UNIMPLEMENTED;case yi.DATA_LOSS:return de.DATA_LOSS;default:return B()}}(ur=yi||(yi={}))[ur.OK=0]="OK",ur[ur.CANCELLED=1]="CANCELLED",ur[ur.UNKNOWN=2]="UNKNOWN",ur[ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ur[ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ur[ur.NOT_FOUND=5]="NOT_FOUND",ur[ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",ur[ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",ur[ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",ur[ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ur[ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ur[ur.ABORTED=10]="ABORTED",ur[ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",ur[ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",ur[ur.INTERNAL=13]="INTERNAL",ur[ur.UNAVAILABLE=14]="UNAVAILABLE",ur[ur.DATA_LOSS=15]="DATA_LOSS";class _s{constructor(e,r){this.comparator=e,this.root=r||Vs.EMPTY}insert(e,r){return new _s(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Vs.BLACK,null,null))}remove(e){return new _s(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vs.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return r+o.left.size;u<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cd(this.root,e,this.comparator,!0)}}class cd{constructor(e,r,o,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=r?o(e.key,r):1,u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vs{constructor(e,r,o,u,f){this.key=e,this.value=r,this.color=null!=o?o:Vs.RED,this.left=null!=u?u:Vs.EMPTY,this.right=null!=f?f:Vs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,u,f){return new Vs(null!=e?e:this.key,null!=r?r:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let u=this;const f=o(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,r,o),null):0===f?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Vs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return Vs.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw B();const e=this.left.check();if(e!==this.right.check())throw B();return e+(this.isRed()?0:1)}}Vs.EMPTY=null,Vs.RED=!0,Vs.BLACK=!1,Vs.EMPTY=new class{constructor(){this.size=0}get key(){throw B()}get value(){throw B()}get color(){throw B()}get left(){throw B()}get right(){throw B()}copy(i,e,r,o,u){return this}insert(i,e,r){return new Vs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _i{constructor(e){this.comparator=e,this.data=new _s(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Wu(this.data.getIterator())}getIteratorFrom(e){return new Wu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof _i)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=o.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new _i(this.comparator);return r.data=e,r}}class Wu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const ld=new _s(Zt.comparator);function lo(){return ld}const xg=new _s(Zt.comparator);function Ac(){return xg}const bf=new _s(Zt.comparator);function dl(){return bf}const Df=new _i(Zt.comparator);function Pr(...i){let e=Df;for(const r of i)e=e.add(r);return e}const dd=new _i(Zn);function Iu(){return dd}class Sc{constructor(e,r,o,u,f){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,r){const o=new Map;return o.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,r)),new Sc(bn.min(),o,Iu(),lo(),Pr())}}class bu{constructor(e,r,o,u,f){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,r){return new bu(Ki.EMPTY_BYTE_STRING,r,Pr(),Pr(),Pr())}}class hd{constructor(e,r,o,u){this.$=e,this.removedTargetIds=r,this.key=o,this.O=u}}class ei{constructor(e,r){this.targetId=e,this.M=r}}class ih{constructor(e,r,o=Ki.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=u}}class sh{constructor(){this.F=0,this.L=hl(),this.B=Ki.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=Pr(),r=Pr(),o=Pr();return this.L.forEach((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:o=o.add(u);break;default:B()}}),new bu(this.B,this.U,e,r,o)}H(){this.q=!1,this.L=hl()}J(e,r){this.q=!0,this.L=this.L.insert(e,r)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class Rc{constructor(e){this.et=e,this.nt=new Map,this.st=lo(),this.it=fd(),this.rt=new _i(Zn)}ot(e){for(const r of e.$)e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O);for(const r of e.removedTargetIds)this.at(r,e.key,e.O)}ut(e){this.forEachTarget(e,r=>{const o=this.ht(r);switch(e.state){case 0:this.lt(r)&&o.W(e.resumeToken);break;case 1:o.Z(),o.K||o.H(),o.W(e.resumeToken);break;case 2:o.Z(),o.K||this.removeTarget(r);break;case 3:this.lt(r)&&(o.tt(),o.W(e.resumeToken));break;case 4:this.lt(r)&&(this.ft(r),o.W(e.resumeToken));break;default:B()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.nt.forEach((o,u)=>{this.lt(u)&&r(u)})}dt(e){const r=e.targetId,o=e.M.count,u=this.wt(r);if(u){const f=u.target;if(D(f))if(0===o){const v=new Zt(f.path);this.at(r,v,jr.newNoDocument(v,bn.min()))}else Y(1===o);else this._t(r)!==o&&(this.ft(r),this.rt=this.rt.add(r))}}gt(e){const r=new Map;this.nt.forEach((f,v)=>{const A=this.wt(v);if(A){if(f.current&&D(A.target)){const V=new Zt(A.target.path);null!==this.st.get(V)||this.yt(v,V)||this.at(v,V,jr.newNoDocument(V,e))}f.j&&(r.set(v,f.G()),f.H())}});let o=Pr();this.it.forEach((f,v)=>{let A=!0;v.forEachWhile(V=>{const K=this.wt(V);return!K||2===K.purpose||(A=!1,!1)}),A&&(o=o.add(f))});const u=new Sc(e,r,this.rt,this.st,o);return this.st=lo(),this.it=fd(),this.rt=new _i(Zn),u}ct(e,r){if(!this.lt(e))return;const o=this.yt(e,r.key)?2:0;this.ht(e).J(r.key,o),this.st=this.st.insert(r.key,r),this.it=this.it.insert(r.key,this.Tt(r.key).add(e))}at(e,r,o){if(!this.lt(e))return;const u=this.ht(e);this.yt(e,r)?u.J(r,1):u.Y(r),this.it=this.it.insert(r,this.Tt(r).delete(e)),o&&(this.st=this.st.insert(r,o))}removeTarget(e){this.nt.delete(e)}_t(e){const r=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let r=this.nt.get(e);return r||(r=new sh,this.nt.set(e,r)),r}Tt(e){let r=this.it.get(e);return r||(r=new _i(Zn),this.it=this.it.insert(e,r)),r}lt(e){const r=null!==this.wt(e);return r||m("WatchChangeAggregator","Detected inactive target",e),r}wt(e){const r=this.nt.get(e);return r&&r.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new sh),this.et.getRemoteKeysForTarget(e).forEach(r=>{this.at(e,r,null)})}yt(e,r){return this.et.getRemoteKeysForTarget(e).has(r)}}function fd(){return new _s(Zt.comparator)}function hl(){return new _s(Zt.comparator)}const Tf={asc:"ASCENDING",desc:"DESCENDING"},Cf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class pd{constructor(e,r){this.databaseId=e,this.C=r}}function xc(i,e){return i.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Af(i,e){return i.C?e.toBase64():e.toUint8Array()}function oh(i,e){return xc(i,e.toTimestamp())}function Ni(i){return Y(!!i),bn.fromTimestamp(function(e){const r=Gi(e);return new Hi(r.seconds,r.nanos)}(i))}function xs(i,e){return(r=i,new zn(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function fl(i){const e=zn.fromString(i);return Y(ml(e)),e}function Zu(i,e){return xs(i.databaseId,e.path)}function ko(i,e){const r=fl(e);if(r.get(1)!==i.databaseId.projectId)throw new $e(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new $e(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new Zt(ah(r))}function as(i,e){return xs(i.databaseId,e)}function Ya(i){const e=fl(i);return 4===e.length?zn.emptyPath():ah(e)}function Du(i){return new zn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ah(i){return Y(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function pl(i,e,r){return{name:Zu(i,e),fields:r.value.mapValue.fields}}function Mc(i,e,r){const o=ko(i,e.name),u=Ni(e.updateTime),f=new Rs({mapValue:{fields:e.fields}}),v=jr.newFoundDocument(o,u,f);return r&&v.setHasCommittedMutations(),r?v.setHasCommittedMutations():v}function Tu(i,e){let r;if(e instanceof Cc)r={update:pl(i,e.key,e.value)};else if(e instanceof ea)r={delete:Zu(i,e.key)};else if(e instanceof Ka)r={update:pl(i,e.key,e.data),updateMask:md(e.fieldMask)};else{if(!(e instanceof cl))return B();r={verify:Zu(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(u,f){const v=f.transform;if(v instanceof vu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof va)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof wa)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof wu)return{fieldPath:f.field.canonicalString(),increment:v.N};throw B()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:oh(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:B()),r;var u}function gd(i,e){const r=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Yi.updateTime(Ni(u.updateTime)):void 0!==u.exists?Yi.exists(u.exists):Yi.none():Yi.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(f,v){let A=null;"setToServerValue"in v?(Y("REQUEST_TIME"===v.setToServerValue),A=new vu):"appendMissingElements"in v?A=new va(v.appendMissingElements.values||[]):"removeAllFromArray"in v?A=new wa(v.removeAllFromArray.values||[]):"increment"in v?A=new wu(f,v.increment):B();const V=tr.fromServerFormat(v.fieldPath);return new Dc(V,A)}(i,u)):[];var u;if(e.update){const u=ko(i,e.update.name),f=new Rs({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new fa((e.updateMask.fieldPaths||[]).map(K=>tr.fromServerFormat(K)));return new Ka(u,f,v,r,o)}return new Cc(u,f,r,o)}if(e.delete){const u=ko(i,e.delete);return new ea(u,r)}if(e.verify){const u=ko(i,e.verify);return new cl(u,r)}return B()}function ch(i,e){return{documents:[as(i,e.path)]}}function Pc(i,e){const r={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(r.parent=as(i,o),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=as(i,o.popLast()),r.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(A){if(0===A.length)return;const V=A.map(K=>function(re){if("=="===re.op){if(du(re.value))return{unaryFilter:{field:Ku(re.field),op:"IS_NAN"}};if(Ec(re.value))return{unaryFilter:{field:Ku(re.field),op:"IS_NULL"}}}else if("!="===re.op){if(du(re.value))return{unaryFilter:{field:Ku(re.field),op:"IS_NOT_NAN"}};if(Ec(re.value))return{unaryFilter:{field:Ku(re.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ku(re.field),op:hh(re.op),value:re.value}}}(K));return 1===V.length?V[0]:{compositeFilter:{op:"AND",filters:V}}}(e.filters);u&&(r.structuredQuery.where=u);const f=function(A){if(0!==A.length)return A.map(V=>{return{field:Ku((K=V).field),direction:kc(K.dir)};var K})}(e.orderBy);f&&(r.structuredQuery.orderBy=f);const v=(V=e.limit,i.C||ma(V)?V:{value:V});var V;return null!==v&&(r.structuredQuery.limit=v),e.startAt&&(r.structuredQuery.startAt=dh(e.startAt)),e.endAt&&(r.structuredQuery.endAt=dh(e.endAt)),r}function lh(i){let e=Ya(i.parent);const r=i.structuredQuery,o=r.from?r.from.length:0;let u=null;if(o>0){Y(1===o);const re=r.from[0];re.allDescendants?u=re.collectionId:e=e.child(re.collectionId)}let f=[];r.where&&(f=gl(r.where));let v=[];r.orderBy&&(v=r.orderBy.map(re=>{return new Mr(Yu((Ee=re).field),function(He){switch(He){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ee.direction));var Ee}));let A=null;r.limit&&(A=function(re){let Ee;return Ee="object"==typeof re?re.value:re,ma(Ee)?null:Ee}(r.limit));let V=null;r.startAt&&(V=Oc(r.startAt));let K=null;return r.endAt&&(K=Oc(r.endAt)),Po(e,u,v,f,A,"F",V,K)}function gl(i){return i?void 0!==i.unaryFilter?[Pf(i)]:void 0!==i.fieldFilter?[Mf(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>gl(e)).reduce((e,r)=>e.concat(r)):B():[]}function dh(i){return{before:i.before,values:i.position}}function Oc(i){return new os(i.values||[],!!i.before)}function kc(i){return Tf[i]}function hh(i){return Cf[i]}function Ku(i){return{fieldPath:i.canonicalString()}}function Yu(i){return tr.fromServerFormat(i.fieldPath)}function Mf(i){return R.create(Yu(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return B()}}(i.fieldFilter.op),i.fieldFilter.value)}function Pf(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Yu(i.unaryFilter.field);return R.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=Yu(i.unaryFilter.field);return R.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Yu(i.unaryFilter.field);return R.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Yu(i.unaryFilter.field);return R.create(u,"!=",{nullValue:"NULL_VALUE"});default:return B()}}function md(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function ml(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function ho(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=ph(e)),e=fh(i.get(r),e);return ph(e)}function fh(i,e){let r=e;const o=i.length;for(let u=0;u<o;u++){const f=i.charAt(u);switch(f){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=f}}return r}function ph(i){return i+"\x01\x01"}function Io(i){const e=i.length;if(Y(e>=2),2===e)return Y("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),zn.emptyPath();const r=e-2,o=[];let u="";for(let f=0;f<e;){const v=i.indexOf("\x01",f);switch((v<0||v>r)&&B(),i.charAt(v+1)){case"\x01":const A=i.substring(f,v);let V;0===u.length?V=A:(u+=A,V=u,u=""),o.push(V);break;case"\x10":u+=i.substring(f,v),u+="\0";break;case"\x11":u+=i.substring(f,v+1);break;default:B()}f=v+2}return new zn(o)}class Of{constructor(e,r){this.seconds=e,this.nanoseconds=r}}class ci{constructor(e,r,o){this.ownerId=e,this.allowTabSynchronization=r,this.leaseTimestampMs=o}}ci.store="owner",ci.key="owner";class bo{constructor(e,r,o){this.userId=e,this.lastAcknowledgedBatchId=r,this.lastStreamToken=o}}bo.store="mutationQueues",bo.keyPath="userId";class Rr{constructor(e,r,o,u,f){this.userId=e,this.batchId=r,this.localWriteTimeMs=o,this.baseMutations=u,this.mutations=f}}Rr.store="mutations",Rr.keyPath="batchId",Rr.userMutationsIndex="userMutationsIndex",Rr.userMutationsKeyPath=["userId","batchId"];class li{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,r){return[e,ho(r)]}static key(e,r,o){return[e,ho(r),o]}}li.store="documentMutations",li.PLACEHOLDER=new li;class gh{constructor(e,r){this.path=e,this.readTime=r}}class mh{constructor(e,r){this.path=e,this.version=r}}class Ci{constructor(e,r,o,u,f,v){this.unknownDocument=e,this.noDocument=r,this.document=o,this.hasCommittedMutations=u,this.readTime=f,this.parentPath=v}}Ci.store="remoteDocuments",Ci.readTimeIndex="readTimeIndex",Ci.readTimeIndexPath="readTime",Ci.collectionReadTimeIndex="collectionReadTimeIndex",Ci.collectionReadTimeIndexPath=["parentPath","readTime"];class na{constructor(e){this.byteSize=e}}na.store="remoteDocumentGlobal",na.key="remoteDocumentGlobalKey";class Ai{constructor(e,r,o,u,f,v,A){this.targetId=e,this.canonicalId=r,this.readTime=o,this.resumeToken=u,this.lastListenSequenceNumber=f,this.lastLimboFreeSnapshotVersion=v,this.query=A}}Ai.store="targets",Ai.keyPath="targetId",Ai.queryTargetsIndexName="queryTargetsIndex",Ai.queryTargetsKeyPath=["canonicalId","targetId"];class ri{constructor(e,r,o){this.targetId=e,this.path=r,this.sequenceNumber=o}}ri.store="targetDocuments",ri.keyPath=["targetId","path"],ri.documentTargetsIndex="documentTargetsIndex",ri.documentTargetsKeyPath=["path","targetId"];class js{constructor(e,r,o,u){this.highestTargetId=e,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=o,this.targetCount=u}}js.key="targetGlobalKey",js.store="targetGlobal";class Cu{constructor(e,r){this.collectionId=e,this.parent=r}}Cu.store="collectionParents",Cu.keyPath=["collectionId","parent"];class ra{constructor(e,r,o,u){this.clientId=e,this.updateTimeMs=r,this.networkEnabled=o,this.inForeground=u}}ra.store="clientMetadata",ra.keyPath="clientId";class ia{constructor(e,r,o){this.bundleId=e,this.createTime=r,this.version=o}}ia.store="bundles",ia.keyPath="bundleId";class Qa{constructor(e,r,o){this.name=e,this.readTime=r,this.bundledQuery=o}}Qa.store="namedQueries",Qa.keyPath="name";const Zs=[bo.store,Rr.store,li.store,Ci.store,Ai.store,ci.store,js.store,ri.store,ra.store,na.store,Cu.store,ia.store,Qa.store],Qu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ju{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ut{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&B(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ut((o,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(o,u)},this.catchCallback=f=>{this.wrapFailure(r,f).next(o,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ut?r:ut.resolve(r)}catch(r){return ut.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ut.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ut.reject(r)}static resolve(e){return new ut((r,o)=>{r(e)})}static reject(e){return new ut((r,o)=>{o(e)})}static waitFor(e){return new ut((r,o)=>{let u=0,f=0,v=!1;e.forEach(A=>{++u,A.next(()=>{++f,v&&f===u&&r()},V=>o(V))}),v=!0,f===u&&r()})}static or(e){let r=ut.resolve(!1);for(const o of e)r=r.next(u=>u?ut.resolve(u):o());return r}static forEach(e,r){const o=[];return e.forEach((u,f)=>{o.push(r.call(this,u,f))}),this.waitFor(o)}}class No{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.It=new Rt,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{r.error?this.It.reject(new Au(e,r.error)):this.It.resolve()},this.transaction.onerror=o=>{const u=yd(o.target.error);this.It.reject(new Au(e,u))}}static open(e,r,o,u){try{return new No(r,e.transaction(u,o))}catch(f){throw new Au(r,f)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(m("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const r=this.transaction.objectStore(e);return new Nc(r)}}class Qi{constructor(e,r,o){this.name=e,this.version=r,this.Rt=o,12.2===Qi.bt((0,et.z$)())&&_("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return m("SimpleDb","Removing database:",e),Ru(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,et.hl)())return!1;if(Qi.vt())return!0;const e=(0,et.z$)(),r=Qi.bt(e),o=0<r&&r<10,u=Qi.Vt(e),f=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||f)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,r){return e.store(r)}static bt(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Vt(e){const r=e.match(/Android ([\d.]+)/i),o=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Ct(e){var r=this;return(0,te.Z)(function*(){return r.db||(m("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,u)=>{const f=indexedDB.open(r.name,r.version);f.onsuccess=v=>{o(v.target.result)},f.onblocked=()=>{u(new Au(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=v=>{const A=v.target.error;u("VersionError"===A.name?new $e(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===A.name?new $e(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A):new Au(e,A))},f.onupgradeneeded=v=>{m("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',v.oldVersion),r.Rt.Nt(v.target.result,f.transaction,v.oldVersion,r.version).next(()=>{m("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.kt&&(r.db.onversionchange=o=>r.kt(o)),r.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,u){var f=this;return(0,te.Z)(function*(){const v="readonly"===r;let A=0;for(;;){++A;try{f.db=yield f.Ct(e);const V=No.open(f.db,e,v?"readonly":"readwrite",o),K=u(V).catch(re=>(V.abort(re),ut.reject(re))).toPromise();return K.catch(()=>{}),yield V.At,K}catch(V){const K="FirebaseError"!==V.name&&A<3;if(m("SimpleDb","Transaction failed with error:",V.message,"Retrying:",K),f.close(),!K)return Promise.reject(V)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class yl{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return Ru(this.$t.delete())}}class Au extends $e{constructor(e,r){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Su(i){return"IndexedDbTransactionError"===i.name}class Nc{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(m("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(m("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Ru(o)}add(e){return m("SimpleDb","ADD",this.store.name,e,e),Ru(this.store.add(e))}get(e){return Ru(this.store.get(e)).next(r=>(void 0===r&&(r=null),m("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return m("SimpleDb","DELETE",this.store.name,e),Ru(this.store.delete(e))}count(){return m("SimpleDb","COUNT",this.store.name),Ru(this.store.count())}Bt(e,r){const o=this.cursor(this.options(e,r)),u=[];return this.Ut(o,(f,v)=>{u.push(v)}).next(()=>u)}qt(e,r){m("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.Kt=!1;const u=this.cursor(o);return this.Ut(u,(f,v,A)=>A.delete())}jt(e,r){let o;r?o=e:(o={},r=e);const u=this.cursor(o);return this.Ut(u,r)}Qt(e){const r=this.cursor({});return new ut((o,u)=>{r.onerror=f=>{const v=yd(f.target.error);u(v)},r.onsuccess=f=>{const v=f.target.result;v?e(v.primaryKey,v.value).next(A=>{A?v.continue():o()}):o()}})}Ut(e,r){const o=[];return new ut((u,f)=>{e.onerror=v=>{f(v.target.error)},e.onsuccess=v=>{const A=v.target.result;if(!A)return void u();const V=new yl(A),K=r(A.primaryKey,A.value,V);if(K instanceof ut){const re=K.catch(Ee=>(V.done(),ut.reject(Ee)));o.push(re)}V.isDone?u():null===V.Ft?A.continue():A.continue(V.Ft)}}).next(()=>ut.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.Kt?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Ru(i){return new ut((e,r)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=yd(o.target.error);r(u)}})}let yh=!1;function yd(i){const e=Qi.bt((0,et.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const o=new $e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yh||(yh=!0,setTimeout(()=>{throw o},0)),o}}return i}class _h extends Ju{constructor(e,r){super(),this.Wt=e,this.currentSequenceNumber=r}}function p(i,e){const r=ge(i);return Qi.Dt(r.Wt,e)}class l{constructor(e,r,o,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&Sg(f,e,o[u])}}applyToLocalView(e){for(const r of this.baseMutations)r.key.isEqual(e.key)&&Tc(r,e,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(e.key)&&Tc(r,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(r=>{const o=e.get(r.key),u=o;this.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(bn.min())})}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Pr())}isEqual(e){return this.batchId===e.batchId&&wr(this.mutations,e.mutations,(r,o)=>ad(r,o))&&wr(this.baseMutations,e.baseMutations,(r,o)=>ad(r,o))}}class d{constructor(e,r,o,u){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=u}static from(e,r,o){Y(e.mutations.length===o.length);let u=dl();const f=e.mutations;for(let v=0;v<f.length;v++)u=u.insert(f[v].key,o[v].version);return new d(e,r,o,u)}}class y{constructor(e,r,o,u,f=bn.min(),v=bn.min(),A=Ki.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=A}withSequenceNumber(e){return new y(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new y(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new y(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class M{constructor(e){this.Gt=e}}function j(i,e){if(e.document)return Mc(i.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const r=Zt.fromSegments(e.noDocument.path),o=Lt(e.noDocument.readTime),u=jr.newNoDocument(r,o);return e.hasCommittedMutations?u.setHasCommittedMutations():u}if(e.unknownDocument){const r=Zt.fromSegments(e.unknownDocument.path),o=Lt(e.unknownDocument.version);return jr.newUnknownDocument(r,o)}return B()}function ae(i,e,r){const o=Le(r),u=e.key.path.popLast().toArray();if(e.isFoundDocument()){const f={name:Zu(A=i.Gt,(V=e).key),fields:V.data.value.mapValue.fields,updateTime:xc(A,V.version.toTimestamp())};return new Ci(null,null,f,e.hasCommittedMutations,o,u)}var A,V;if(e.isNoDocument()){const f=e.key.path.toArray(),v=lt(e.version),A=e.hasCommittedMutations;return new Ci(null,new gh(f,v),null,A,o,u)}if(e.isUnknownDocument()){const f=e.key.path.toArray(),v=lt(e.version);return new Ci(new mh(f,v),null,null,!0,o,u)}return B()}function Le(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function mt(i){const e=new Hi(i[0],i[1]);return bn.fromTimestamp(e)}function lt(i){const e=i.toTimestamp();return new Of(e.seconds,e.nanoseconds)}function Lt(i){const e=new Hi(i.seconds,i.nanoseconds);return bn.fromTimestamp(e)}function Gt(i,e){const r=(e.baseMutations||[]).map(f=>gd(i.Gt,f));for(let f=0;f<e.mutations.length-1;++f){const v=e.mutations[f];f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(v.updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f)}const o=e.mutations.map(f=>gd(i.Gt,f)),u=Hi.fromMillis(e.localWriteTimeMs);return new l(e.batchId,u,r,o)}function Fn(i){const e=Lt(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?Lt(i.lastLimboFreeSnapshotVersion):bn.min();let o;var u;return void 0!==i.query.documents?(Y(1===(u=i.query).documents.length),o=Oo(Eo(Ya(u.documents[0])))):o=Oo(lh(i.query)),new y(o,i.targetId,0,i.lastListenSequenceNumber,e,r,Ki.fromBase64String(i.resumeToken))}function us(i,e){const r=lt(e.snapshotVersion),o=lt(e.lastLimboFreeSnapshotVersion);let u;u=D(e.target)?ch(i.Gt,e.target):Pc(i.Gt,e.target);const f=e.resumeToken.toBase64();return new Ai(e.targetId,ya(e.target),r,f,e.sequenceNumber,o,u)}function fo(i){const e=lh({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?id(e,e.limit,"L"):e}class _l{getBundleMetadata(e,r){return Lc(e).get(r).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Lt(u.createTime),version:u.version};var u})}saveBundleMetadata(e,r){return Lc(e).put({bundleId:(o=r).id,createTime:lt(Ni(o.createTime)),version:o.version});var o}getNamedQuery(e,r){return vl(e).get(r).next(o=>{if(o)return{name:(u=o).name,query:fo(u.bundledQuery),readTime:Lt(u.readTime)};var u})}saveNamedQuery(e,r){return vl(e).put({name:(o=r).name,readTime:lt(Ni(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Lc(i){return p(i,ia.store)}function vl(i){return p(i,Qa.store)}class _d{constructor(){this.zt=new xu}addToCollectionParentIndex(e,r){return this.zt.add(r),ut.resolve()}getCollectionParents(e,r){return ut.resolve(this.zt.getEntries(r))}}class xu{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r]||new _i(zn.comparator),f=!u.has(o);return this.index[r]=u.add(o),f}has(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r];return u&&u.has(o)}getEntries(e){return(this.index[e]||new _i(zn.comparator)).toArray()}}class vd{constructor(){this.Ht=new xu}addToCollectionParentIndex(e,r){if(!this.Ht.has(r)){const o=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this.Ht.add(r)});const f={collectionId:o,parent:ho(u)};return Xu(e).put(f)}return ut.resolve()}getCollectionParents(e,r){const o=[],u=IDBKeyRange.bound([r,""],[cu(r),""],!1,!0);return Xu(e).Bt(u).next(f=>{for(const v of f){if(v.collectionId!==r)break;o.push(Io(v.parent))}return o})}}function Xu(i){return p(i,Cu.store)}const Mu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $s{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new $s(e,$s.DEFAULT_COLLECTION_PERCENTILE,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wl(i,e,r){const o=i.store(Rr.store),u=i.store(li.store),f=[],v=IDBKeyRange.only(r.batchId);let A=0;const V=o.jt({range:v},(re,Ee,He)=>(A++,He.delete()));f.push(V.next(()=>{Y(1===A)}));const K=[];for(const re of r.mutations){const Ee=li.key(e,re.key.path,r.batchId);f.push(u.delete(Ee)),K.push(re.key)}return ut.waitFor(f).next(()=>K)}function Pu(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw B();e=i.noDocument}return JSON.stringify(e).length}$s.DEFAULT_COLLECTION_PERCENTILE=10,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$s.DEFAULT=new $s(41943040,$s.DEFAULT_COLLECTION_PERCENTILE,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$s.DISABLED=new $s(-1,0,0);class Fc{constructor(e,r,o,u){this.userId=e,this.k=r,this.Jt=o,this.referenceDelegate=u,this.Yt={}}static Xt(e,r,o,u){Y(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new Fc(f,r,o,u)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ec(e).jt({index:Rr.userMutationsIndex,range:o},(u,f,v)=>{r=!1,v.done()}).next(()=>r)}addMutationBatch(e,r,o,u){const f=Uc(e),v=ec(e);return v.add({}).next(A=>{Y("number"==typeof A);const V=new l(A,r,o,u),K=function(He,ct,pt){const Wt=pt.baseMutations.map(Fi=>Tu(He.Gt,Fi)),Sn=pt.mutations.map(Fi=>Tu(He.Gt,Fi));return new Rr(ct,pt.batchId,pt.localWriteTime.toMillis(),Wt,Sn)}(this.k,this.userId,V),re=[];let Ee=new _i((He,ct)=>Zn(He.canonicalString(),ct.canonicalString()));for(const He of u){const ct=li.key(this.userId,He.key.path,A);Ee=Ee.add(He.key.path.popLast()),re.push(v.put(K)),re.push(f.put(ct,li.PLACEHOLDER))}return Ee.forEach(He=>{re.push(this.Jt.addToCollectionParentIndex(e,He))}),e.addOnCommittedListener(()=>{this.Yt[A]=V.keys()}),ut.waitFor(re).next(()=>V)})}lookupMutationBatch(e,r){return ec(e).get(r).next(o=>o?(Y(o.userId===this.userId),Gt(this.k,o)):null)}Zt(e,r){return this.Yt[r]?ut.resolve(this.Yt[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const u=o.keys();return this.Yt[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,u=IDBKeyRange.lowerBound([this.userId,o]);let f=null;return ec(e).jt({index:Rr.userMutationsIndex,range:u},(v,A,V)=>{A.userId===this.userId&&(Y(A.batchId>=o),f=Gt(this.k,A)),V.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return ec(e).jt({index:Rr.userMutationsIndex,range:r,reverse:!0},(u,f,v)=>{o=f.batchId,v.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ec(e).Bt(Rr.userMutationsIndex,r).next(o=>o.map(u=>Gt(this.k,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=li.prefixForPath(this.userId,r.path),u=IDBKeyRange.lowerBound(o),f=[];return Uc(e).jt({range:u},(v,A,V)=>{const[K,re,Ee]=v,He=Io(re);if(K===this.userId&&r.path.isEqual(He))return ec(e).get(Ee).next(ct=>{if(!ct)throw B();Y(ct.userId===this.userId),f.push(Gt(this.k,ct))});V.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new _i(Zn);const u=[];return r.forEach(f=>{const v=li.prefixForPath(this.userId,f.path),A=IDBKeyRange.lowerBound(v),V=Uc(e).jt({range:A},(K,re,Ee)=>{const[He,ct,pt]=K,Wt=Io(ct);He===this.userId&&f.path.isEqual(Wt)?o=o.add(pt):Ee.done()});u.push(V)}),ut.waitFor(u).next(()=>this.te(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1,f=li.prefixForPath(this.userId,o),v=IDBKeyRange.lowerBound(f);let A=new _i(Zn);return Uc(e).jt({range:v},(V,K,re)=>{const[Ee,He,ct]=V,pt=Io(He);Ee===this.userId&&o.isPrefixOf(pt)?pt.length===u&&(A=A.add(ct)):re.done()}).next(()=>this.te(e,A))}te(e,r){const o=[],u=[];return r.forEach(f=>{u.push(ec(e).get(f).next(v=>{if(null===v)throw B();Y(v.userId===this.userId),o.push(Gt(this.k,v))}))}),ut.waitFor(u).next(()=>o)}removeMutationBatch(e,r){return wl(e.Wt,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.ee(r.batchId)}),ut.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return ut.resolve();const o=IDBKeyRange.lowerBound(li.prefixForUser(this.userId)),u=[];return Uc(e).jt({range:o},(f,v,A)=>{if(f[0]===this.userId){const V=Io(f[1]);u.push(V)}else A.done()}).next(()=>{Y(0===u.length)})})}containsKey(e,r){return El(e,this.userId,r)}ne(e){return Mg(e).get(this.userId).next(r=>r||new bo(this.userId,-1,""))}}function El(i,e,r){const o=li.prefixForPath(e,r.path),u=o[1],f=IDBKeyRange.lowerBound(o);let v=!1;return Uc(i).jt({range:f,Kt:!0},(A,V,K)=>{const[re,Ee,He]=A;re===e&&Ee===u&&(v=!0),K.done()}).next(()=>v)}function ec(i){return p(i,Rr.store)}function Uc(i){return p(i,li.store)}function Mg(i){return p(i,bo.store)}class Bc{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Bc(0)}static re(){return new Bc(-1)}}class Pg{constructor(e,r){this.referenceDelegate=e,this.k=r}allocateTargetId(e){return this.oe(e).next(r=>{const o=new Bc(r.highestTargetId);return r.highestTargetId=o.next(),this.ce(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(r=>bn.fromTimestamp(new Hi(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.oe(e).next(u=>(u.highestListenSequenceNumber=r,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.ce(e,u)))}addTargetData(e,r){return this.ae(e,r).next(()=>this.oe(e).next(o=>(o.targetCount+=1,this.ue(r,o),this.ce(e,o))))}updateTargetData(e,r){return this.ae(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>tc(e).delete(r.targetId)).next(()=>this.oe(e)).next(o=>(Y(o.targetCount>0),o.targetCount-=1,this.ce(e,o)))}removeTargets(e,r,o){let u=0;const f=[];return tc(e).jt((v,A)=>{const V=Fn(A);V.sequenceNumber<=r&&null===o.get(V.targetId)&&(u++,f.push(this.removeTargetData(e,V)))}).next(()=>ut.waitFor(f)).next(()=>u)}forEachTarget(e,r){return tc(e).jt((o,u)=>{const f=Fn(u);r(f)})}oe(e){return kf(e).get(js.key).next(r=>(Y(null!==r),r))}ce(e,r){return kf(e).put(js.key,r)}ae(e,r){return tc(e).put(us(this.k,r))}ue(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.oe(e).next(r=>r.targetCount)}getTargetData(e,r){const o=ya(r),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let f=null;return tc(e).jt({range:u,index:Ai.queryTargetsIndexName},(v,A,V)=>{const K=Fn(A);Ga(r,K.target)&&(f=K,V.done())}).next(()=>f)}addMatchingKeys(e,r,o){const u=[],f=Vc(e);return r.forEach(v=>{const A=ho(v.path);u.push(f.put(new ri(o,A))),u.push(this.referenceDelegate.addReference(e,o,v))}),ut.waitFor(u)}removeMatchingKeys(e,r,o){const u=Vc(e);return ut.forEach(r,f=>{const v=ho(f.path);return ut.waitFor([u.delete([o,v]),this.referenceDelegate.removeReference(e,o,f)])})}removeMatchingKeysForTargetId(e,r){const o=Vc(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),u=Vc(e);let f=Pr();return u.jt({range:o,Kt:!0},(v,A,V)=>{const K=Io(v[1]),re=new Zt(K);f=f.add(re)}).next(()=>f)}containsKey(e,r){const o=ho(r.path),u=IDBKeyRange.bound([o],[cu(o)],!1,!0);let f=0;return Vc(e).jt({index:ri.documentTargetsIndex,Kt:!0,range:u},([v,A],V,K)=>{0!==v&&(f++,K.done())}).next(()=>f>0)}Et(e,r){return tc(e).get(r).next(o=>o?Fn(o):null)}}function tc(i){return p(i,Ai.store)}function kf(i){return p(i,js.store)}function Vc(i){return p(i,ri.store)}function nc(i){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,te.Z)(function*(i){if(i.code!==de.FAILED_PRECONDITION||i.message!==Qu)throw i;m("LocalStore","Unexpectedly lost primary lease")}),Nf.apply(this,arguments)}function Lf([i,e],[r,o]){const u=Zn(i,r);return 0===u?Zn(e,o):u}class _y{constructor(e){this.he=e,this.buffer=new _i(Lf),this.le=0}fe(){return++this.le}de(e){const r=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();Lf(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class vy{constructor(e,r){this.garbageCollector=e,this.asyncQueue=r,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var r=this;const o=this.we?3e5:6e4;m("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,te.Z)(function*(){r._e=null,r.we=!0;try{yield e.collectGarbage(r.garbageCollector)}catch(u){Su(u)?m("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u):yield nc(u)}yield r.me(e)}))}}class Ea{constructor(e,r){this.ge=e,this.params=r}calculateTargetCount(e,r){return this.ge.ye(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return ut.resolve(ki.I);const o=new _y(r);return this.ge.forEachTarget(e,u=>o.de(u.sequenceNumber)).next(()=>this.ge.pe(e,u=>o.de(u))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.ge.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.ge.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(m("LruGarbageCollector","Garbage collection skipped; disabled"),ut.resolve(Mu)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(m("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mu):this.Te(e,r))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,r){let o,u,f,v,A,V,K;const re=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ee=>(Ee>this.params.maximumSequenceNumbersToCollect?(m("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ee}`),u=this.params.maximumSequenceNumbersToCollect):u=Ee,v=Date.now(),this.nthSequenceNumber(e,u))).next(Ee=>(o=Ee,A=Date.now(),this.removeTargets(e,o,r))).next(Ee=>(f=Ee,V=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ee=>(K=Date.now(),uo()<=Et.in.DEBUG&&m("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-re}ms\n\tDetermined least recently used ${u} in `+(A-v)+`ms\n\tRemoved ${f} targets in `+(V-A)+`ms\n\tRemoved ${Ee} documents in `+(K-V)+`ms\nTotal Duration: ${K-re}ms`),ut.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:Ee})))}}class wy{constructor(e,r){this.db=e,this.garbageCollector=new Ea(this,r)}ye(e){const r=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(u=>o+u))}Ee(e){let r=0;return this.pe(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}pe(e,r){return this.Ie(e,(o,u)=>r(u))}addReference(e,r,o){return wd(e,o)}removeReference(e,r,o){return wd(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return wd(e,r)}Ae(e,r){return function(o,u){let f=!1;return Mg(o).Qt(v=>El(o,v,u).next(A=>(A&&(f=!0),ut.resolve(!A)))).next(()=>f)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.Ie(e,(v,A)=>{if(A<=r){const V=this.Ae(e,v).next(K=>{if(!K)return f++,o.getEntry(e,v).next(()=>(o.removeEntry(v),Vc(e).delete([0,ho(v.path)])))});u.push(V)}}).next(()=>ut.waitFor(u)).next(()=>o.apply(e)).next(()=>f)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return wd(e,r)}Ie(e,r){const o=Vc(e);let u,f=ki.I;return o.jt({index:ri.documentTargetsIndex},([v,A],{path:V,sequenceNumber:K})=>{0===v?(f!==ki.I&&r(new Zt(Io(u)),f),f=K,u=V):f=ki.I}).next(()=>{f!==ki.I&&r(new Zt(Io(u)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function wd(i,e){return Vc(i).put((o=i.currentSequenceNumber,new ri(0,ho(e.path),o)));var o}class Il{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={}}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[u,f]of o)if(this.equalsFn(u,e))return f}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0!==u){for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,r]);u.push([e,r])}else this.inner[o]=[[e,r]]}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[r]:o.splice(u,1),!0;return!1}forEach(e){ha(this.inner,(r,o)=>{for(const[u,f]of o)e(u,f)})}isEmpty(){return Kd(this.inner)}}class Og{constructor(){this.changes=new Il(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}getReadTime(e){const r=this.changes.get(e);return r?r.readTime:bn.min()}addEntry(e,r){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:r})}removeEntry(e,r=null){this.assertNotApplied(),this.changes.set(e,{document:jr.newInvalidDocument(e),readTime:r})}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?ut.resolve(o.document):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ey{constructor(e,r){this.k=e,this.Jt=r}addEntry(e,r,o){return rc(e).put(vh(r),o)}removeEntry(e,r){const o=rc(e),u=vh(r);return o.delete(u)}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.Re(e,o)))}getEntry(e,r){return rc(e).get(vh(r)).next(o=>this.be(r,o))}Pe(e,r){return rc(e).get(vh(r)).next(o=>({document:this.be(r,o),size:Pu(o)}))}getEntries(e,r){let o=lo();return this.ve(e,r,(u,f)=>{const v=this.be(u,f);o=o.insert(u,v)}).next(()=>o)}Ve(e,r){let o=lo(),u=new _s(Zt.comparator);return this.ve(e,r,(f,v)=>{const A=this.be(f,v);o=o.insert(f,A),u=u.insert(f,Pu(v))}).next(()=>({documents:o,Se:u}))}ve(e,r,o){if(r.isEmpty())return ut.resolve();const u=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),f=r.getIterator();let v=f.getNext();return rc(e).jt({range:u},(A,V,K)=>{const re=Zt.fromSegments(A);for(;v&&Zt.comparator(v,re)<0;)o(v,null),v=f.getNext();v&&v.isEqual(re)&&(o(v,V),v=f.hasNext()?f.getNext():null),v?K.Lt(v.path.toArray()):K.done()}).next(()=>{for(;v;)o(v,null),v=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,r,o){let u=lo();const f=r.path.length+1,v={};if(o.isEqual(bn.min())){const A=r.path.toArray();v.range=IDBKeyRange.lowerBound(A)}else{const A=r.path.toArray(),V=Le(o);v.range=IDBKeyRange.lowerBound([A,V],!0),v.index=Ci.collectionReadTimeIndex}return rc(e).jt(v,(A,V,K)=>{if(A.length!==f)return;const re=j(this.k,V);r.path.isPrefixOf(re.key.path)?mu(r,re)&&(u=u.insert(re.key,re)):K.done()}).next(()=>u)}newChangeBuffer(e){return new Iy(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Ff(e).get(na.key).next(r=>(Y(!!r),r))}Re(e,r){return Ff(e).put(na.key,r)}be(e,r){if(r){const o=j(this.k,r);if(!o.isNoDocument()||!o.version.isEqual(bn.min()))return o}return jr.newInvalidDocument(e)}}class Iy extends Og{constructor(e,r){super(),this.De=e,this.trackRemovals=r,this.Ce=new Il(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const r=[];let o=0,u=new _i((f,v)=>Zn(f.canonicalString(),v.canonicalString()));return this.changes.forEach((f,v)=>{const A=this.Ce.get(f);if(v.document.isValidDocument()){const V=ae(this.De.k,v.document,this.getReadTime(f));u=u.add(f.path.popLast()),o+=Pu(V)-A,r.push(this.De.addEntry(e,f,V))}else if(o-=A,this.trackRemovals){const V=ae(this.De.k,jr.newNoDocument(f,bn.min()),this.getReadTime(f));r.push(this.De.addEntry(e,f,V))}else r.push(this.De.removeEntry(e,f))}),u.forEach(f=>{r.push(this.De.Jt.addToCollectionParentIndex(e,f))}),r.push(this.De.updateMetadata(e,o)),ut.waitFor(r)}getFromCache(e,r){return this.De.Pe(e,r).next(o=>(this.Ce.set(r,o.size),o.document))}getAllFromCache(e,r){return this.De.Ve(e,r).next(({documents:o,Se:u})=>(u.forEach((f,v)=>{this.Ce.set(f,v)}),o))}}function Ff(i){return p(i,na.store)}function rc(i){return p(i,Ci.store)}function vh(i){return i.path.toArray()}class by{constructor(e){this.k=e}Nt(e,r,o,u){Y(o<u&&o>=0&&u<=11);const f=new No("createOrUpgrade",r);var A;o<1&&u>=1&&(e.createObjectStore(ci.store),(A=e).createObjectStore(bo.store,{keyPath:bo.keyPath}),A.createObjectStore(Rr.store,{keyPath:Rr.keyPath,autoIncrement:!0}).createIndex(Rr.userMutationsIndex,Rr.userMutationsKeyPath,{unique:!0}),A.createObjectStore(li.store),Mn(e),function(A){A.createObjectStore(Ci.store)}(e));let v=ut.resolve();return o<3&&u>=3&&(0!==o&&(function(A){A.deleteObjectStore(ri.store),A.deleteObjectStore(Ai.store),A.deleteObjectStore(js.store)}(e),Mn(e)),v=v.next(()=>function(A){const V=A.store(js.store),K=new js(0,0,bn.min().toTimestamp(),0);return V.put(js.key,K)}(f))),o<4&&u>=4&&(0!==o&&(v=v.next(()=>function(A,V){return V.store(Rr.store).Bt().next(K=>{A.deleteObjectStore(Rr.store),A.createObjectStore(Rr.store,{keyPath:Rr.keyPath,autoIncrement:!0}).createIndex(Rr.userMutationsIndex,Rr.userMutationsKeyPath,{unique:!0});const re=V.store(Rr.store),Ee=K.map(He=>re.put(He));return ut.waitFor(Ee)})}(e,f))),v=v.next(()=>{!function(A){A.createObjectStore(ra.store,{keyPath:ra.keyPath})}(e)})),o<5&&u>=5&&(v=v.next(()=>this.Ne(f))),o<6&&u>=6&&(v=v.next(()=>(function(A){A.createObjectStore(na.store)}(e),this.ke(f)))),o<7&&u>=7&&(v=v.next(()=>this.xe(f))),o<8&&u>=8&&(v=v.next(()=>this.$e(e,f))),o<9&&u>=9&&(v=v.next(()=>{(function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")})(e),function(A){const V=A.objectStore(Ci.store);V.createIndex(Ci.readTimeIndex,Ci.readTimeIndexPath,{unique:!1}),V.createIndex(Ci.collectionReadTimeIndex,Ci.collectionReadTimeIndexPath,{unique:!1})}(r)})),o<10&&u>=10&&(v=v.next(()=>this.Oe(f))),o<11&&u>=11&&(v=v.next(()=>{(function(A){A.createObjectStore(ia.store,{keyPath:ia.keyPath})})(e),function(A){A.createObjectStore(Qa.store,{keyPath:Qa.keyPath})}(e)})),v}ke(e){let r=0;return e.store(Ci.store).jt((o,u)=>{r+=Pu(u)}).next(()=>{const o=new na(r);return e.store(na.store).put(na.key,o)})}Ne(e){const r=e.store(bo.store),o=e.store(Rr.store);return r.Bt().next(u=>ut.forEach(u,f=>{const v=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return o.Bt(Rr.userMutationsIndex,v).next(A=>ut.forEach(A,V=>{Y(V.userId===f.userId);const K=Gt(this.k,V);return wl(e,f.userId,K).next(()=>{})}))}))}xe(e){const r=e.store(ri.store),o=e.store(Ci.store);return e.store(js.store).get(js.key).next(u=>{const f=[];return o.jt((v,A)=>{const V=new zn(v),K=[0,ho(V)];f.push(r.get(K).next(re=>re?ut.resolve():r.put(new ri(0,ho(V),u.highestListenSequenceNumber))))}).next(()=>ut.waitFor(f))})}$e(e,r){e.createObjectStore(Cu.store,{keyPath:Cu.keyPath});const o=r.store(Cu.store),u=new xu,f=v=>{if(u.add(v)){const A=v.lastSegment(),V=v.popLast();return o.put({collectionId:A,parent:ho(V)})}};return r.store(Ci.store).jt({Kt:!0},(v,A)=>{const V=new zn(v);return f(V.popLast())}).next(()=>r.store(li.store).jt({Kt:!0},([v,A,V],K)=>{const re=Io(A);return f(re.popLast())}))}Oe(e){const r=e.store(Ai.store);return r.jt((o,u)=>{const f=Fn(u),v=us(this.k,f);return r.put(v)})}}function Mn(i){i.createObjectStore(ri.store,{keyPath:ri.keyPath}).createIndex(ri.documentTargetsIndex,ri.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(Ai.store,{keyPath:Ai.keyPath}).createIndex(Ai.queryTargetsIndexName,Ai.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(js.store)}const wh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Eh{constructor(e,r,o,u,f,v,A,V,K,re){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.Me=f,this.window=v,this.document=A,this.Fe=K,this.Le=re,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=Ee=>Promise.resolve(),!Eh.Pt())throw new $e(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wy(this,u),this.Ge=r+"main",this.k=new M(V),this.ze=new Qi(this.Ge,11,new by(this.k)),this.He=new Pg(this.referenceDelegate,this.k),this.Jt=new vd,this.Je=new Ey(this.k,this.Jt),this.Ye=new _l,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===re&&_("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $e(de.FAILED_PRECONDITION,wh);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new ki(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var r=this;return this.We=function(){var o=(0,te.Z)(function*(u){if(r.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var r=(0,te.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,te.Z)(function*(){r.started&&(yield r.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jc(e).put(new ra(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(r=>{r||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(r=>this.isPrimary&&!r?this.cn(e).next(()=>!1):!!r&&this.an(e).next(()=>!0))).catch(e=>{if(Su(e))return m("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return m("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return bl(e).get(ci.key).next(r=>ut.resolve(this.un(r)))}hn(e){return jc(e).delete(this.clientId)}ln(){var e=this;return(0,te.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=p(o,ra.store);return u.Bt().next(f=>{const v=e.dn(f,18e5),A=f.filter(V=>-1===v.indexOf(V));return ut.forEach(A,V=>u.delete(V.clientId)).next(()=>A)})}).catch(()=>[]);if(e.Xe)for(const o of r)e.Xe.removeItem(e.wn(o.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?ut.resolve(!0):bl(e).get(ci.key).next(r=>{if(null!==r&&this.fn(r.leaseTimestampMs,5e3)&&!this._n(r.ownerId)){if(this.un(r)&&this.networkEnabled)return!0;if(!this.un(r)){if(!r.allowTabSynchronization)throw new $e(de.FAILED_PRECONDITION,wh);return!1}}return!(!this.networkEnabled||!this.inForeground)||jc(e).Bt().next(o=>void 0===this.dn(o,5e3).find(u=>{if(this.clientId!==u.clientId){const v=!this.inForeground&&u.inForeground,A=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||v&&A)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&m("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,te.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[ci.store,ra.store],r=>{const o=new _h(r,ki.I);return e.cn(o).next(()=>e.hn(o))}),e.ze.close(),e.pn()})()}dn(e,r){return e.filter(o=>this.fn(o.updateTimeMs,r)&&!this._n(o.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>jc(e).Bt().next(r=>this.dn(r,18e5).map(o=>o.clientId)))}get started(){return this.Ue}getMutationQueue(e){return Fc.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,r,o){let f;return m("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===r?"readonly":"readwrite",Zs,v=>(f=new _h(v,this.Be?this.Be.next():ki.I),"readwrite-primary"===r?this.rn(f).next(A=>!!A||this.on(f)).next(A=>{if(!A)throw _(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new $e(de.FAILED_PRECONDITION,Qu);return o(f)}).next(A=>this.an(f).next(()=>A)):this.En(f).next(()=>o(f)))).then(v=>(f.raiseOnCommittedEvent(),v))}En(e){return bl(e).get(ci.key).next(r=>{if(null!==r&&this.fn(r.leaseTimestampMs,5e3)&&!this._n(r.ownerId)&&!this.un(r)&&!(this.Le||this.allowTabSynchronization&&r.allowTabSynchronization))throw new $e(de.FAILED_PRECONDITION,wh)})}an(e){const r=new ci(this.clientId,this.allowTabSynchronization,Date.now());return bl(e).put(ci.key,r)}static Pt(){return Qi.Pt()}cn(e){const r=bl(e);return r.get(ci.key).next(o=>this.un(o)?(m("IndexedDbPersistence","Releasing primary lease."),r.delete(ci.key)):ut.resolve())}fn(e,r){const o=Date.now();return!(e<o-r||e>o&&(_(`Detected an update time that is in the future: ${e} > ${o}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,et.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var r;try{const o=null!==(null===(r=this.Xe)||void 0===r?void 0:r.getItem(this.wn(e)));return m("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return _("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){_("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function bl(i){return p(i,ci.store)}function jc(i){return p(i,ra.store)}function Lo(i,e){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+e+"/"+r+"/"}class kg{constructor(e,r){this.progress=e,this.In=r}}class Ng{constructor(e,r,o){this.Je=e,this.An=r,this.Jt=o}Rn(e,r){return this.An.getAllMutationBatchesAffectingDocumentKey(e,r).next(o=>this.bn(e,r,o))}bn(e,r,o){return this.Je.getEntry(e,r).next(u=>{for(const f of o)f.applyToLocalView(u);return u})}Pn(e,r){e.forEach((o,u)=>{for(const f of r)f.applyToLocalView(u)})}vn(e,r){return this.Je.getEntries(e,r).next(o=>this.Vn(e,o).next(()=>o))}Vn(e,r){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>this.Pn(r,o))}getDocumentsMatchingQuery(e,r,o){return Zt.isDocumentKey((u=r).path)&&null===u.collectionGroup&&0===u.filters.length?this.Sn(e,r.path):Wa(r)?this.Dn(e,r,o):this.Cn(e,r,o);var u}Sn(e,r){return this.Rn(e,new Zt(r)).next(o=>{let u=Ac();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}Dn(e,r,o){const u=r.collectionGroup;let f=Ac();return this.Jt.getCollectionParents(e,u).next(v=>ut.forEach(v,A=>{const V=(K=r,re=A.child(u),new zi(re,null,K.explicitOrderBy.slice(),K.filters.slice(),K.limit,K.limitType,K.startAt,K.endAt));var K,re;return this.Cn(e,V,o).next(K=>{K.forEach((re,Ee)=>{f=f.insert(re,Ee)})})}).next(()=>f))}Cn(e,r,o){let u,f;return this.Je.getDocumentsMatchingQuery(e,r,o).next(v=>(u=v,this.An.getAllMutationBatchesAffectingQuery(e,r))).next(v=>(f=v,this.Nn(e,f,u).next(A=>{u=A;for(const V of f)for(const K of V.mutations){const re=K.key;let Ee=u.get(re);null==Ee&&(Ee=jr.newInvalidDocument(re),u=u.insert(re,Ee)),Tc(K,Ee,V.localWriteTime),Ee.isFoundDocument()||(u=u.remove(re))}}))).next(()=>(u.forEach((v,A)=>{mu(r,A)||(u=u.remove(v))}),u))}Nn(e,r,o){let u=Pr();for(const v of r)for(const A of v.mutations)A instanceof Ka&&null===o.get(A.key)&&(u=u.add(A.key));let f=o;return this.Je.getEntries(e,u).next(v=>(v.forEach((A,V)=>{V.isFoundDocument()&&(f=f.insert(A,V))}),f))}}class Ed{constructor(e,r,o,u){this.targetId=e,this.fromCache=r,this.kn=o,this.xn=u}static $n(e,r){let o=Pr(),u=Pr();for(const f of r.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new Ed(e,r.fromCache,o,u)}}class Ja{On(e){this.Mn=e}getDocumentsMatchingQuery(e,r,o,u){return 0===(f=r).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||o.isEqual(bn.min())?this.Fn(e,r):this.Mn.vn(e,u).next(f=>{const v=this.Ln(r,f);return(fu(r)||Gu(r))&&this.Bn(r.limitType,v,u,o)?this.Fn(e,r):(uo()<=Et.in.DEBUG&&m("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),sd(r)),this.Mn.getDocumentsMatchingQuery(e,r,o).next(A=>(v.forEach(V=>{A=A.insert(V.key,V)}),A)))});var f}Ln(e,r){let o=new _i(Qd(e));return r.forEach((u,f)=>{mu(e,f)&&(o=o.add(f))}),o}Bn(e,r,o,u){if(o.size!==r.size)return!0;const f="F"===e?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Fn(e,r){return uo()<=Et.in.DEBUG&&m("QueryEngine","Using full collection scan to execute query:",sd(r)),this.Mn.getDocumentsMatchingQuery(e,r,bn.min())}}class Uf{constructor(e,r,o,u){this.persistence=e,this.Un=r,this.k=u,this.qn=new _s(Zn),this.Kn=new Il(f=>ya(f),Ga),this.jn=bn.min(),this.An=e.getMutationQueue(o),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Ng(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.qn))}}function Bf(i,e,r,o){return new Uf(i,e,r,o)}function Ih(i,e){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,te.Z)(function*(i,e){const r=ge(i);let o=r.An,u=r.Wn;const f=yield r.persistence.runTransaction("Handle user change","readonly",v=>{let A;return r.An.getAllMutationBatches(v).next(V=>(A=V,o=r.persistence.getMutationQueue(e),u=new Ng(r.Qn,o,r.persistence.getIndexManager()),o.getAllMutationBatches(v))).next(V=>{const K=[],re=[];let Ee=Pr();for(const He of A){K.push(He.batchId);for(const ct of He.mutations)Ee=Ee.add(ct.key)}for(const He of V){re.push(He.batchId);for(const ct of He.mutations)Ee=Ee.add(ct.key)}return u.vn(v,Ee).next(He=>({Gn:He,removedBatchIds:K,addedBatchIds:re}))})});return r.An=o,r.Wn=u,r.Un.On(r.Wn),f}),Lg.apply(this,arguments)}function Fg(i,e){const r=ge(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),f=r.Qn.newChangeBuffer({trackRemovals:!0});return function(v,A,V,K){const re=V.batch,Ee=re.keys();let He=ut.resolve();return Ee.forEach(ct=>{He=He.next(()=>K.getEntry(A,ct)).next(pt=>{const Wt=V.docVersions.get(ct);Y(null!==Wt),pt.version.compareTo(Wt)<0&&(re.applyToRemoteDocument(pt,V),pt.isValidDocument()&&K.addEntry(pt,V.commitVersion))})}),He.next(()=>v.An.removeMutationBatch(A,re))}(r,o,e,f).next(()=>f.apply(o)).next(()=>r.An.performConsistencyCheck(o)).next(()=>r.Wn.vn(o,u))})}function Dy(i){const e=ge(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.He.getLastRemoteSnapshotVersion(r))}function bh(i,e){const r=ge(i),o=e.snapshotVersion;let u=r.qn;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const v=r.Qn.newChangeBuffer({trackRemovals:!0});u=r.qn;const A=[];e.targetChanges.forEach((K,re)=>{const Ee=u.get(re);if(!Ee)return;A.push(r.He.removeMatchingKeys(f,K.removedDocuments,re).next(()=>r.He.addMatchingKeys(f,K.addedDocuments,re)));let He=Ee.withSequenceNumber(f.currentSequenceNumber);var ct,pt,Wt;e.targetMismatches.has(re)?He=He.withResumeToken(Ki.EMPTY_BYTE_STRING,bn.min()).withLastLimboFreeSnapshotVersion(bn.min()):K.resumeToken.approximateByteSize()>0&&(He=He.withResumeToken(K.resumeToken,o)),u=u.insert(re,He),pt=He,Wt=K,(0===(ct=Ee).resumeToken.approximateByteSize()||pt.snapshotVersion.toMicroseconds()-ct.snapshotVersion.toMicroseconds()>=3e8||Wt.addedDocuments.size+Wt.modifiedDocuments.size+Wt.removedDocuments.size>0)&&A.push(r.He.updateTargetData(f,He))});let V=lo();if(e.documentUpdates.forEach((K,re)=>{e.resolvedLimboDocuments.has(K)&&A.push(r.persistence.referenceDelegate.updateLimboDocument(f,K))}),A.push(Id(f,v,e.documentUpdates,o,void 0).next(K=>{V=K})),!o.isEqual(bn.min())){const K=r.He.getLastRemoteSnapshotVersion(f).next(re=>r.He.setTargetsMetadata(f,f.currentSequenceNumber,o));A.push(K)}return ut.waitFor(A).next(()=>v.apply(f)).next(()=>r.Wn.Vn(f,V)).next(()=>V)}).then(f=>(r.qn=u,f))}function Id(i,e,r,o,u){let f=Pr();return r.forEach(v=>f=f.add(v)),e.getEntries(i,f).next(v=>{let A=lo();return r.forEach((V,K)=>{const re=v.get(V),Ee=(null==u?void 0:u.get(V))||o;K.isNoDocument()&&K.version.isEqual(bn.min())?(e.removeEntry(V,Ee),A=A.insert(V,K)):!re.isValidDocument()||K.version.compareTo(re.version)>0||0===K.version.compareTo(re.version)&&re.hasPendingWrites?(e.addEntry(K,Ee),A=A.insert(V,K)):m("LocalStore","Ignoring outdated watch update for ",V,". Current version:",re.version," Watch version:",K.version)}),A})}function Vf(i,e){const r=ge(i);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.An.getNextMutationBatchAfterBatchId(o,e)))}function ic(i,e){const r=ge(i);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return r.He.getTargetData(o,e).next(f=>f?(u=f,ut.resolve(u)):r.He.allocateTargetId(o).next(v=>(u=new y(e,v,0,o.currentSequenceNumber),r.He.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=r.qn.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.qn=r.qn.insert(o.targetId,o),r.Kn.set(e,o.targetId)),o})}function sc(i,e,r){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,te.Z)(function*(i,e,r){const o=ge(i),u=o.qn.get(e),f=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",f,v=>o.persistence.referenceDelegate.removeTarget(v,u)))}catch(v){if(!Su(v))throw v;m("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}o.qn=o.qn.remove(e),o.Kn.delete(u.target)}),Ug.apply(this,arguments)}function Dh(i,e,r){const o=ge(i);let u=bn.min(),f=Pr();return o.persistence.runTransaction("Execute query","readonly",v=>function(A,V,K){const re=ge(A),Ee=re.Kn.get(K);return void 0!==Ee?ut.resolve(re.qn.get(Ee)):re.He.getTargetData(V,K)}(o,v,Oo(e)).next(A=>{if(A)return u=A.lastLimboFreeSnapshotVersion,o.He.getMatchingKeysForTargetId(v,A.targetId).next(V=>{f=V})}).next(()=>o.Un.getDocumentsMatchingQuery(v,e,r?u:bn.min(),r?f:Pr())).next(A=>({documents:A,zn:f})))}function Bg(i,e){const r=ge(i),o=ge(r.He),u=r.qn.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",f=>o.Et(f,e).next(v=>v?v.target:null))}function Vg(i){const e=ge(i);return e.persistence.runTransaction("Get new document changes","readonly",r=>function(o,u,f){const v=ge(o);let A=lo(),V=Le(f);const K=rc(u),re=IDBKeyRange.lowerBound(V,!0);return K.jt({index:Ci.readTimeIndex,range:re},(Ee,He)=>{const ct=j(v.k,He);A=A.insert(ct.key,ct),V=He.readTime}).next(()=>({In:A,readTime:mt(V)}))}(e.Qn,r,e.jn)).then(({In:r,readTime:o})=>(e.jn=o,r))}function Th(){return Th=(0,te.Z)(function*(i){const e=ge(i);return e.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(o){const u=rc(o);let f=bn.min();return u.jt({index:Ci.readTimeIndex,reverse:!0},(v,A,V)=>{A.readTime&&(f=mt(A.readTime)),V.done()}).next(()=>f)}(r)).then(r=>{e.jn=r})}),Th.apply(this,arguments)}function jf(){return jf=(0,te.Z)(function*(i,e,r,o){const u=ge(i);let f=Pr(),v=lo(),A=dl();for(const re of r){const Ee=e.Hn(re.metadata.name);re.document&&(f=f.add(Ee)),v=v.insert(Ee,e.Jn(re)),A=A.insert(Ee,e.Yn(re.metadata.readTime))}const V=u.Qn.newChangeBuffer({trackRemovals:!0}),K=yield ic(u,(re=o,Oo(Eo(zn.fromString(`__bundle__/docs/${re}`)))));var re;return u.persistence.runTransaction("Apply bundle documents","readwrite",re=>Id(re,V,v,bn.min(),A).next(Ee=>(V.apply(re),Ee)).next(Ee=>u.He.removeMatchingKeysForTargetId(re,K.targetId).next(()=>u.He.addMatchingKeys(re,f,K.targetId)).next(()=>u.Wn.Vn(re,Ee)).next(()=>Ee)))}),jf.apply(this,arguments)}function vv(i,e){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,te.Z)(function*(i,e,r=Pr()){const o=yield ic(i,Oo(fo(e.bundledQuery))),u=ge(i);return u.persistence.runTransaction("Save named query","readwrite",f=>{const v=Ni(e.readTime);if(o.snapshotVersion.compareTo(v)>=0)return u.Ye.saveNamedQuery(f,e);const A=o.withResumeToken(Ki.EMPTY_BYTE_STRING,v);return u.qn=u.qn.insert(A.targetId,A),u.He.updateTargetData(f,A).next(()=>u.He.removeMatchingKeysForTargetId(f,o.targetId)).next(()=>u.He.addMatchingKeys(f,r,o.targetId)).next(()=>u.Ye.saveNamedQuery(f,e))})}),Ch.apply(this,arguments)}class jg{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,r){return ut.resolve(this.Xn.get(r))}saveBundleMetadata(e,r){var o;return this.Xn.set(r.id,{id:(o=r).id,version:o.version,createTime:Ni(o.createTime)}),ut.resolve()}getNamedQuery(e,r){return ut.resolve(this.Zn.get(r))}saveNamedQuery(e,r){return this.Zn.set(r.name,{name:(o=r).name,query:fo(o.bundledQuery),readTime:Ni(o.readTime)}),ut.resolve();var o}}class $f{constructor(){this.ts=new _i(vs.es),this.ns=new _i(vs.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,r){const o=new vs(e,r);this.ts=this.ts.add(o),this.ns=this.ns.add(o)}rs(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.os(new vs(e,r))}cs(e,r){e.forEach(o=>this.removeReference(o,r))}us(e){const r=new Zt(new zn([])),o=new vs(r,e),u=new vs(r,e+1),f=[];return this.ns.forEachInRange([o,u],v=>{this.os(v),f.push(v.key)}),f}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const r=new Zt(new zn([])),o=new vs(r,e),u=new vs(r,e+1);let f=Pr();return this.ns.forEachInRange([o,u],v=>{f=f.add(v.key)}),f}containsKey(e){const r=new vs(e,0),o=this.ts.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class vs{constructor(e,r){this.key=e,this.fs=r}static es(e,r){return Zt.comparator(e.key,r.key)||Zn(e.fs,r.fs)}static ss(e,r){return Zn(e.fs,r.fs)||Zt.comparator(e.key,r.key)}}class wv{constructor(e,r){this.Jt=e,this.referenceDelegate=r,this.An=[],this.ds=1,this.ws=new _i(vs.es)}checkEmpty(e){return ut.resolve(0===this.An.length)}addMutationBatch(e,r,o,u){const f=this.ds;this.ds++;const v=new l(f,r,o,u);this.An.push(v);for(const A of u)this.ws=this.ws.add(new vs(A.key,f)),this.Jt.addToCollectionParentIndex(e,A.key.path.popLast());return ut.resolve(v)}lookupMutationBatch(e,r){return ut.resolve(this._s(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.gs(r+1),f=u<0?0:u;return ut.resolve(this.An.length>f?this.An[f]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return ut.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new vs(r,0),u=new vs(r,Number.POSITIVE_INFINITY),f=[];return this.ws.forEachInRange([o,u],v=>{const A=this._s(v.fs);f.push(A)}),ut.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new _i(Zn);return r.forEach(u=>{const f=new vs(u,0),v=new vs(u,Number.POSITIVE_INFINITY);this.ws.forEachInRange([f,v],A=>{o=o.add(A.fs)})}),ut.resolve(this.ys(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1;let f=o;Zt.isDocumentKey(f)||(f=f.child(""));const v=new vs(new Zt(f),0);let A=new _i(Zn);return this.ws.forEachWhile(V=>{const K=V.key.path;return!!o.isPrefixOf(K)&&(K.length===u&&(A=A.add(V.fs)),!0)},v),ut.resolve(this.ys(A))}ys(e){const r=[];return e.forEach(o=>{const u=this._s(o);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){Y(0===this.ps(r.batchId,"removed")),this.An.shift();let o=this.ws;return ut.forEach(r.mutations,u=>{const f=new vs(u.key,r.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.ws=o})}ee(e){}containsKey(e,r){const o=new vs(r,0),u=this.ws.firstAfterOrEqual(o);return ut.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return ut.resolve()}ps(e,r){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const r=this.gs(e);return r<0||r>=this.An.length?null:this.An[r]}}class Ev{constructor(e,r){this.Jt=e,this.Ts=r,this.docs=new _s(Zt.comparator),this.size=0}addEntry(e,r,o){const u=r.key,f=this.docs.get(u),v=f?f.size:0,A=this.Ts(r);return this.docs=this.docs.insert(u,{document:r.mutableCopy(),size:A,readTime:o}),this.size+=A-v,this.Jt.addToCollectionParentIndex(e,u.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return ut.resolve(o?o.document.mutableCopy():jr.newInvalidDocument(r))}getEntries(e,r){let o=lo();return r.forEach(u=>{const f=this.docs.get(u);o=o.insert(u,f?f.document.mutableCopy():jr.newInvalidDocument(u))}),ut.resolve(o)}getDocumentsMatchingQuery(e,r,o){let u=lo();const f=new Zt(r.path.child("")),v=this.docs.getIteratorFrom(f);for(;v.hasNext();){const{key:A,value:{document:V,readTime:K}}=v.getNext();if(!r.path.isPrefixOf(A.path))break;K.compareTo(o)<=0||mu(r,V)&&(u=u.insert(V.key,V.mutableCopy()))}return ut.resolve(u)}Es(e,r){return ut.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new Iv(this)}getSize(e){return ut.resolve(this.size)}}class Iv extends Og{constructor(e){super(),this.De=e}applyChanges(e){const r=[];return this.changes.forEach((o,u)=>{u.document.isValidDocument()?r.push(this.De.addEntry(e,u.document,this.getReadTime(o))):this.De.removeEntry(o)}),ut.waitFor(r)}getFromCache(e,r){return this.De.getEntry(e,r)}getAllFromCache(e,r){return this.De.getEntries(e,r)}}class bv{constructor(e){this.persistence=e,this.Is=new Il(r=>ya(r),Ga),this.lastRemoteSnapshotVersion=bn.min(),this.highestTargetId=0,this.As=0,this.Rs=new $f,this.targetCount=0,this.bs=Bc.ie()}forEachTarget(e,r){return this.Is.forEach((o,u)=>r(u)),ut.resolve()}getLastRemoteSnapshotVersion(e){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ut.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.As&&(this.As=r),ut.resolve()}ae(e){this.Is.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.bs=new Bc(r),this.highestTargetId=r),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,r){return this.ae(r),this.targetCount+=1,ut.resolve()}updateTargetData(e,r){return this.ae(r),ut.resolve()}removeTargetData(e,r){return this.Is.delete(r.target),this.Rs.us(r.targetId),this.targetCount-=1,ut.resolve()}removeTargets(e,r,o){let u=0;const f=[];return this.Is.forEach((v,A)=>{A.sequenceNumber<=r&&null===o.get(A.targetId)&&(this.Is.delete(v),f.push(this.removeMatchingKeysForTargetId(e,A.targetId)),u++)}),ut.waitFor(f).next(()=>u)}getTargetCount(e){return ut.resolve(this.targetCount)}getTargetData(e,r){const o=this.Is.get(r)||null;return ut.resolve(o)}addMatchingKeys(e,r,o){return this.Rs.rs(r,o),ut.resolve()}removeMatchingKeys(e,r,o){this.Rs.cs(r,o);const u=this.persistence.referenceDelegate,f=[];return u&&r.forEach(v=>{f.push(u.markPotentiallyOrphaned(e,v))}),ut.waitFor(f)}removeMatchingKeysForTargetId(e,r){return this.Rs.us(r),ut.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Rs.ls(r);return ut.resolve(o)}containsKey(e,r){return ut.resolve(this.Rs.containsKey(r))}}class Dv{constructor(e,r){this.Ps={},this.Be=new ki(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new bv(this),this.Jt=new _d,this.Je=new Ev(this.Jt,o=>this.referenceDelegate.vs(o)),this.k=new M(r),this.Ye=new jg(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let r=this.Ps[e.toKey()];return r||(r=new wv(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,r,o){m("MemoryPersistence","Starting transaction:",e);const u=new Tv(this.Be.next());return this.referenceDelegate.Vs(),o(u).next(f=>this.referenceDelegate.Ss(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Ds(e,r){return ut.or(Object.values(this.Ps).map(o=>()=>o.containsKey(e,r)))}}class Tv extends Ju{constructor(e){super(),this.currentSequenceNumber=e}}class $g{constructor(e){this.persistence=e,this.Cs=new $f,this.Ns=null}static ks(e){return new $g(e)}get xs(){if(this.Ns)return this.Ns;throw B()}addReference(e,r,o){return this.Cs.addReference(o,r),this.xs.delete(o.toString()),ut.resolve()}removeReference(e,r,o){return this.Cs.removeReference(o,r),this.xs.add(o.toString()),ut.resolve()}markPotentiallyOrphaned(e,r){return this.xs.add(r.toString()),ut.resolve()}removeTarget(e,r){this.Cs.us(r.targetId).forEach(u=>this.xs.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(f=>this.xs.add(f.toString()))}).next(()=>o.removeTargetData(e,r))}Vs(){this.Ns=new Set}Ss(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.xs,o=>{const u=Zt.fromPath(o);return this.$s(e,u).next(f=>{f||r.removeEntry(u)})}).next(()=>(this.Ns=null,r.apply(e)))}updateLimboDocument(e,r){return this.$s(e,r).next(o=>{o?this.xs.delete(r.toString()):this.xs.add(r.toString())})}vs(e){return 0}$s(e,r){return ut.or([()=>ut.resolve(this.Cs.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ds(e,r)])}}function Cy(i,e){return`firestore_clients_${i}_${e}`}function Ay(i,e,r){let o=`firestore_mutations_${i}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Hg(i,e){return`firestore_targets_${i}_${e}`}class Ia{constructor(e,r,o,u){this.user=e,this.batchId=r,this.state=o,this.error=u}static Os(e,r,o){const u=JSON.parse(o);let f,v="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return v&&u.error&&(v="string"==typeof u.error.message&&"string"==typeof u.error.code,v&&(f=new $e(u.error.code,u.error.message))),v?new Ia(e,r,u.state,f):(_("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $c{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Os(e,r){const o=JSON.parse(r);let u,f="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(u=new $e(o.error.code,o.error.message))),f?new $c(e,o.state,u):(_("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ah{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Os(e,r){const o=JSON.parse(r);let u="object"==typeof o&&o.activeTargetIds instanceof Array,f=Iu();for(let v=0;u&&v<o.activeTargetIds.length;++v)u=_c(o.activeTargetIds[v]),f=f.add(o.activeTargetIds[v]);return u?new Ah(e,f):(_("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Sh{constructor(e,r){this.clientId=e,this.onlineState=r}static Os(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Sh(r.clientId,r.onlineState):(_("SharedClientState",`Failed to parse online state: ${e}`),null)}}class bd{constructor(){this.activeTargetIds=Iu()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rh{constructor(e,r,o,u,f){this.window=e,this.Me=r,this.persistenceKey=o,this.Bs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new _s(Zn),this.started=!1,this.js=[];const v=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Qs=Cy(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new bd),this.Gs=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(A){return`firestore_bundle_loaded_${A}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,te.Z)(function*(){const r=yield e.syncEngine.Tn();for(const u of r){if(u===e.Bs)continue;const f=e.getItem(Cy(e.persistenceKey,u));if(f){const v=Ah.Os(u,f);v&&(e.Ks=e.Ks.insert(v.clientId,v))}}e.Xs();const o=e.storage.getItem(e.Js);if(o){const u=e.Zs(o);u&&e.ti(u)}for(const u of e.js)e.qs(u);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let r=!1;return this.Ks.forEach((o,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,r,o){this.ni(e,r,o),this.si(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Hg(this.persistenceKey,e));if(o){const u=$c.Os(e,o);u&&(r=u.state)}}return this.ii.Fs(e),this.Xs(),r}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Hg(this.persistenceKey,e))}updateQueryState(e,r,o){this.ri(e,r,o)}handleUserChange(e,r,o){r.forEach(u=>{this.si(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return m("SharedClientState","READ",e,r),r}setItem(e,r){m("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){m("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var r=this;const o=e;if(o.storageArea===this.storage){if(m("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Qs)return void _("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,te.Z)(function*(){if(r.started){if(null!==o.key)if(r.Gs.test(o.key)){if(null==o.newValue){const u=r.ai(o.key);return r.ui(u,null)}{const u=r.hi(o.key,o.newValue);if(u)return r.ui(u.clientId,u)}}else if(r.zs.test(o.key)){if(null!==o.newValue){const u=r.li(o.key,o.newValue);if(u)return r.fi(u)}}else if(r.Hs.test(o.key)){if(null!==o.newValue){const u=r.di(o.key,o.newValue);if(u)return r.wi(u)}}else if(o.key===r.Js){if(null!==o.newValue){const u=r.Zs(o.newValue);if(u)return r.ti(u)}}else if(o.key===r.Ws){const u=function(f){let v=ki.I;if(null!=f)try{const A=JSON.parse(f);Y("number"==typeof A),v=A}catch(A){_("SharedClientState","Failed to read sequence number from WebStorage",A)}return v}(o.newValue);u!==ki.I&&r.sequenceNumberHandler(u)}else if(o.key===r.Ys)return r.syncEngine._i()}else r.js.push(o)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,r,o){const u=new Ia(this.currentUser,e,r,o),f=Ay(this.persistenceKey,this.currentUser,e);this.setItem(f,u.Ms())}si(e){const r=Ay(this.persistenceKey,this.currentUser,e);this.removeItem(r)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,r,o){const u=Hg(this.persistenceKey,e),f=new $c(e,r,o);this.setItem(u,f.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const r=this.Gs.exec(e);return r?r[1]:null}hi(e,r){const o=this.ai(e);return Ah.Os(o,r)}li(e,r){const o=this.zs.exec(e),u=Number(o[1]);return Ia.Os(new ui(void 0!==o[2]?o[2]:null),u,r)}di(e,r){const o=this.Hs.exec(e),u=Number(o[1]);return $c.Os(u,r)}Zs(e){return Sh.Os(e)}fi(e){var r=this;return(0,te.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.mi(e.batchId,e.state,e.error);m("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,r){const o=r?this.Ks.insert(e,r):this.Ks.remove(e),u=this.ei(this.Ks),f=this.ei(o),v=[],A=[];return f.forEach(V=>{u.has(V)||v.push(V)}),u.forEach(V=>{f.has(V)||A.push(V)}),this.syncEngine.yi(v,A).then(()=>{this.Ks=o})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let r=Iu();return e.forEach((o,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class xh{constructor(){this.pi=new bd,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,r,o){this.Ti[e]=r}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new bd,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Sy{Ei(e){}shutdown(){}}class Ou{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){m("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){m("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Gg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Ry{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class Hf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,r,o,u,f){const v=this.Ui(e,r);m("RestConnection","Sending: ",v,o);const A={};return this.qi(A,u,f),this.Ki(e,v,A,o).then(V=>(m("RestConnection","Received: ",V),V),V=>{throw T("RestConnection",`${e} failed with error: `,V,"url: ",v,"request:",o),V})}ji(e,r,o,u,f){return this.Bi(e,r,o,u,f)}qi(e,r,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+ao,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((u,f)=>e[f]=u),o&&o.headers.forEach((u,f)=>e[f]=u)}Ui(e,r){return`${this.Fi}/v1/${r}:${Gg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,r,o,u){return new Promise((f,v)=>{const A=new da;A.listenOnce($u.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case xo.NO_ERROR:const K=A.getResponseJson();m("Connection","XHR received:",JSON.stringify(K)),f(K);break;case xo.TIMEOUT:m("Connection",'RPC "'+e+'" timed out'),v(new $e(de.DEADLINE_EXCEEDED,"Request time out"));break;case xo.HTTP_ERROR:const re=A.getStatus();if(m("Connection",'RPC "'+e+'" failed with status:',re,"response text:",A.getResponseText()),re>0){const Ee=A.getResponseJson().error;if(Ee&&Ee.status&&Ee.message){const He=function(ct){const pt=ct.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(pt)>=0?pt:de.UNKNOWN}(Ee.status);v(new $e(He,Ee.message))}else v(new $e(de.UNKNOWN,"Server responded with status "+A.getStatus()))}else v(new $e(de.UNAVAILABLE,"Connection failed."));break;default:B()}}finally{m("Connection",'RPC "'+e+'" completed.')}});const V=JSON.stringify(u);A.send(r,"POST",V,o,15)})}Qi(e,r,o){const u=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=la(),v=yc(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(A.xmlHttpFactory=new to({})),this.qi(A.initMessageHeaders,r,o),(0,et.uI)()||(0,et.b$)()||(0,et.d)()||(0,et.w1)()||(0,et.Mn)()||(0,et.ru)()||(A.httpHeadersOverwriteParam="$httpHeaders");const V=u.join("");m("Connection","Creating WebChannel: "+V,A);const K=f.createWebChannel(V,A);let re=!1,Ee=!1;const He=new Ry({Vi:pt=>{Ee?m("Connection","Not sending because WebChannel is closed:",pt):(re||(m("Connection","Opening WebChannel transport."),K.open(),re=!0),m("Connection","WebChannel sending:",pt),K.send(pt))},Si:()=>K.close()}),ct=(pt,Wt,Sn)=>{pt.listen(Wt,Fi=>{try{Sn(Fi)}catch(Es){setTimeout(()=>{throw Es},0)}})};return ct(K,_o.EventType.OPEN,()=>{Ee||m("Connection","WebChannel transport opened.")}),ct(K,_o.EventType.CLOSE,()=>{Ee||(Ee=!0,m("Connection","WebChannel transport closed"),He.Oi())}),ct(K,_o.EventType.ERROR,pt=>{Ee||(Ee=!0,T("Connection","WebChannel transport errored:",pt),He.Oi(new $e(de.UNAVAILABLE,"The operation could not be completed")))}),ct(K,_o.EventType.MESSAGE,pt=>{var Wt;if(!Ee){const Sn=pt.data[0];Y(!!Sn);const Fi=Sn,Es=Fi.error||(null===(Wt=Fi[0])||void 0===Wt?void 0:Wt.error);if(Es){m("Connection","WebChannel received error:",Es);const To=Es.status;let $r=function(Sa){const qd=yi[Sa];if(void 0!==qd)return ll(qd)}(To),cs=Es.message;void 0===$r&&($r=de.INTERNAL,cs="Unknown error status: "+To+" with message "+Es.message),Ee=!0,He.Oi(new $e($r,cs)),K.close()}else m("Connection","WebChannel received:",Sn),He.Mi(Sn)}}),ct(v,Ko.STAT_EVENT,pt=>{pt.stat===uu.PROXY?m("Connection","Detected buffering proxy"):pt.stat===uu.NOPROXY&&m("Connection","Detected no buffering proxy")}),setTimeout(()=>{He.$i()},0),He}}function zg(){return"undefined"!=typeof window?window:null}function Dd(){return"undefined"!=typeof document?document:null}function Td(i){return new pd(i,!0)}class Gf{constructor(e,r,o=1e3,u=1.5,f=6e4){this.Me=e,this.timerId=r,this.Wi=o,this.Gi=u,this.zi=f,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const r=Math.floor(this.Hi+this.tr()),o=Math.max(0,Date.now()-this.Yi),u=Math.max(0,r-o);u>0&&m("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Hi} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,u,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class Dl{constructor(e,r,o,u,f,v,A,V){this.Me=e,this.nr=o,this.sr=u,this.ir=f,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=A,this.listener=V,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new Gf(e,r)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,te.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,te.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,r){var o=this;return(0,te.Z)(function*(){o.yr(),o.pr(),o.ur.cancel(),o.rr++,4!==e?o.ur.reset():r&&r.code===de.RESOURCE_EXHAUSTED?(_(r.toString()),_("Using maximum backoff delay to prevent overloading the backend."),o.ur.Xi()):r&&r.code===de.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Tr(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Ni(r)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),r=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.rr===r&&this.Ir(o,u)},o=>{e(()=>{const u=new $e(de.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Ar(u)})})}Ir(e,r){const o=this.Er(this.rr);this.stream=this.Rr(e,r),this.stream.Di(()=>{o(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(u=>{o(()=>this.Ar(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}dr(){var e=this;this.state=5,this.ur.Zi((0,te.Z)(function*(){e.state=0,e.start()}))}Ar(e){return m("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return r=>{this.Me.enqueueAndForget(()=>this.rr===e?r():(m("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tl extends Dl{constructor(e,r,o,u,f,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,u,v),this.k=f}Rr(e,r){return this.ir.Qi("Listen",e,r)}onMessage(e){this.ur.reset();const r=function uh(i,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(V=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:B(),u=e.targetChange.targetIds||[],f=function(V,K){return V.C?(Y(void 0===K||"string"==typeof K),Ki.fromBase64String(K||"")):(Y(void 0===K||K instanceof Uint8Array),Ki.fromUint8Array(K||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,A=v&&function(V){const K=void 0===V.code?de.UNKNOWN:ll(V.code);return new $e(K,V.message||"")}(v);r=new ih(o,u,f,A||null)}else if("documentChange"in e){const o=e.documentChange,u=ko(i,o.document.name),f=Ni(o.document.updateTime),v=new Rs({mapValue:{fields:o.document.fields}}),A=jr.newFoundDocument(u,f,v);r=new hd(o.targetIds||[],o.removedTargetIds||[],A.key,A)}else if("documentDelete"in e){const o=e.documentDelete,u=ko(i,o.document),f=o.readTime?Ni(o.readTime):bn.min(),v=jr.newNoDocument(u,f);r=new hd([],o.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const o=e.documentRemove,u=ko(i,o.document);r=new hd([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return B();{const o=e.filter,f=new ta(o.count||0);r=new ei(o.targetId,f)}}var V;return r}(this.k,e),o=function(u){if(!("targetChange"in u))return bn.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?bn.min():f.readTime?Ni(f.readTime):bn.min()}(e);return this.listener.br(r,o)}Pr(e){const r={};r.database=Du(this.k),r.addTarget=function(u,f){let v;const A=f.target;return v=D(A)?{documents:ch(u,A)}:{query:Pc(u,A)},v.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?v.resumeToken=Af(u,f.resumeToken):f.snapshotVersion.compareTo(bn.min())>0&&(v.readTime=xc(u,f.snapshotVersion.toTimestamp())),v}(this.k,e);const o=function xf(i,e){const r=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return B()}}(0,e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.gr(r)}vr(e){const r={};r.database=Du(this.k),r.removeTarget=e,this.gr(r)}}class zf extends Dl{constructor(e,r,o,u,f,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,u,v),this.k=f,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,r){return this.ir.Qi("Write",e,r)}onMessage(e){if(Y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const r=function Rf(i,e){return i&&i.length>0?(Y(void 0!==e),i.map(r=>function(o,u){let f=Ni(o.updateTime?o.updateTime:u);return f.isEqual(bn.min())&&(f=Ni(u)),new Eu(f,o.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=Ni(e.commitTime);return this.listener.Cr(o,r)}return Y(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Du(this.k),this.gr(e)}Dr(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>Tu(this.k,o))};this.gr(r)}}class Cl extends class{}{constructor(e,r,o,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.ir=o,this.k=u,this.$r=!1}Or(){if(this.$r)throw new $e(de.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,r,o){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.ir.Bi(e,r,o,u,f)).catch(u=>{throw"FirebaseError"===u.name?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new $e(de.UNKNOWN,u.toString())})}ji(e,r,o){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.ir.ji(e,r,o,u,f)).catch(u=>{throw"FirebaseError"===u.name?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new $e(de.UNKNOWN,u.toString())})}terminate(){this.$r=!0}}class Cd{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(_(r),this.Lr=!1):m("OnlineStateTracker",r)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class Al{constructor(e,r,o,u,f){var v=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=f,this.Hr.Ei(A=>{o.enqueueAndForget((0,te.Z)(function*(){var V;ku(v)&&(m("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,te.Z)(function*(K){const re=ge(K);re.Gr.add(4),yield Hc(re),re.Jr.set("Unknown"),re.Gr.delete(4),yield Ad(re)}),function(K){return V.apply(this,arguments)})(v))}))}),this.Jr=new Cd(o,u)}}function Ad(i){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,te.Z)(function*(i){if(ku(i))for(const e of i.zr)yield e(!0)}),Mh.apply(this,arguments)}function Hc(i){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,te.Z)(function*(i){for(const e of i.zr)yield e(!1)}),Sd.apply(this,arguments)}function Sl(i,e){const r=ge(i);r.Wr.has(e.targetId)||(r.Wr.set(e.targetId,e),Wg(r)?Ph(r):Ml(r).lr()&&xl(r,e))}function Rl(i,e){const r=ge(i),o=Ml(r);r.Wr.delete(e),o.lr()&&qg(r,e),0===r.Wr.size&&(o.lr()?o._r():ku(r)&&r.Jr.set("Unknown"))}function xl(i,e){i.Yr.X(e.targetId),Ml(i).Pr(e)}function qg(i,e){i.Yr.X(e),Ml(i).vr(e)}function Ph(i){i.Yr=new Rc({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Wr.get(e)||null}),Ml(i).start(),i.Jr.Br()}function Wg(i){return ku(i)&&!Ml(i).hr()&&i.Wr.size>0}function ku(i){return 0===ge(i).Gr.size}function qf(i){i.Yr=void 0}function xy(i){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,te.Z)(function*(i){i.Wr.forEach((e,r)=>{xl(i,e)})}),Oh.apply(this,arguments)}function My(i,e){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,te.Z)(function*(i,e){qf(i),Wg(i)?(i.Jr.Kr(e),Ph(i)):i.Jr.set("Unknown")}),Wf.apply(this,arguments)}function Fo(i,e,r){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,te.Z)(function*(i,e,r){if(i.Jr.set("Online"),e instanceof ih&&2===e.state&&e.cause)try{yield(o=(0,te.Z)(function*(u,f){const v=f.cause;for(const A of f.targetIds)u.Wr.has(A)&&(yield u.remoteSyncer.rejectListen(A,v),u.Wr.delete(A),u.Yr.removeTarget(A))}),function(u,f){return o.apply(this,arguments)})(i,e)}catch(o){m("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield kh(i,o)}else if(e instanceof hd?i.Yr.ot(e):e instanceof ei?i.Yr.dt(e):i.Yr.ut(e),!r.isEqual(bn.min()))try{const o=yield Dy(i.localStore);r.compareTo(o)>=0&&(yield function(u,f){const v=u.Yr.gt(f);return v.targetChanges.forEach((A,V)=>{if(A.resumeToken.approximateByteSize()>0){const K=u.Wr.get(V);K&&u.Wr.set(V,K.withResumeToken(A.resumeToken,f))}}),v.targetMismatches.forEach(A=>{const V=u.Wr.get(A);if(!V)return;u.Wr.set(A,V.withResumeToken(Ki.EMPTY_BYTE_STRING,V.snapshotVersion)),qg(u,A);const K=new y(V.target,A,1,V.sequenceNumber);xl(u,K)}),u.remoteSyncer.applyRemoteEvent(v)}(i,r))}catch(o){m("RemoteStore","Failed to raise snapshot:",o),yield kh(i,o)}var o}),Zf.apply(this,arguments)}function kh(i,e,r){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,te.Z)(function*(i,e,r){if(!Su(e))throw e;i.Gr.add(1),yield Hc(i),i.Jr.set("Offline"),r||(r=()=>Dy(i.localStore)),i.asyncQueue.enqueueRetryable((0,te.Z)(function*(){m("RemoteStore","Retrying IndexedDB access"),yield r(),i.Gr.delete(1),yield Ad(i)}))}),Zg.apply(this,arguments)}function Py(i,e){return e().catch(r=>kh(i,r,e))}function Gc(i){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,te.Z)(function*(i){const e=ge(i),r=oc(e);let o=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;Oy(e);)try{const u=yield Vf(e.localStore,o);if(null===u){0===e.Qr.length&&r._r();break}o=u.batchId,Kf(e,u)}catch(u){yield kh(e,u)}Yf(e)&&Yg(e)}),Kg.apply(this,arguments)}function Oy(i){return ku(i)&&i.Qr.length<10}function Kf(i,e){i.Qr.push(e);const r=oc(i);r.lr()&&r.Sr&&r.Dr(e.mutations)}function Yf(i){return ku(i)&&!oc(i).hr()&&i.Qr.length>0}function Yg(i){oc(i).start()}function ky(i){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,te.Z)(function*(i){oc(i).kr()}),Qf.apply(this,arguments)}function Qg(i){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,te.Z)(function*(i){const e=oc(i);for(const r of i.Qr)e.Dr(r.mutations)}),Jf.apply(this,arguments)}function Jg(i,e,r){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,te.Z)(function*(i,e,r){const o=i.Qr.shift(),u=d.from(o,e,r);yield Py(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Gc(i)}),Xf.apply(this,arguments)}function Ny(i,e){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,te.Z)(function*(i,e){var r;e&&oc(i).Sr&&(yield(r=(0,te.Z)(function*(o,u){if(ud(f=u.code)&&f!==de.ABORTED){const v=o.Qr.shift();oc(o).wr(),yield Py(o,()=>o.remoteSyncer.rejectFailedWrite(v.batchId,u)),yield Gc(o)}var f}),function(o,u){return r.apply(this,arguments)})(i,e)),Yf(i)&&Yg(i)}),Nh.apply(this,arguments)}function ep(i,e){return tp.apply(this,arguments)}function tp(){return tp=(0,te.Z)(function*(i,e){const r=ge(i);r.asyncQueue.verifyOperationInProgress(),m("RemoteStore","RemoteStore received new credentials");const o=ku(r);r.Gr.add(3),yield Hc(r),o&&r.Jr.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.Gr.delete(3),yield Ad(r)}),tp.apply(this,arguments)}function sa(i,e){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,te.Z)(function*(i,e){const r=ge(i);e?(r.Gr.delete(2),yield Ad(r)):e||(r.Gr.add(2),yield Hc(r),r.Jr.set("Unknown"))}),Rd.apply(this,arguments)}function Ml(i){return i.Xr||(i.Xr=function(e,r,o){const u=ge(e);return u.Or(),new Tl(r,u.ir,u.authCredentials,u.appCheckCredentials,u.k,o)}(i.datastore,i.asyncQueue,{Di:xy.bind(null,i),Ni:My.bind(null,i),br:Fo.bind(null,i)}),i.zr.push(function(){var e=(0,te.Z)(function*(r){r?(i.Xr.wr(),Wg(i)?Ph(i):i.Jr.set("Unknown")):(yield i.Xr.stop(),qf(i))});return function(r){return e.apply(this,arguments)}}())),i.Xr}function oc(i){return i.Zr||(i.Zr=function(e,r,o){const u=ge(e);return u.Or(),new zf(r,u.ir,u.authCredentials,u.appCheckCredentials,u.k,o)}(i.datastore,i.asyncQueue,{Di:ky.bind(null,i),Ni:Ny.bind(null,i),Nr:Qg.bind(null,i),Cr:Jg.bind(null,i)}),i.zr.push(function(){var e=(0,te.Z)(function*(r){r?(i.Zr.wr(),yield Gc(i)):(yield i.Zr.stop(),i.Qr.length>0&&(m("RemoteStore",`Stopping write stream with ${i.Qr.length} pending writes`),i.Qr=[]))});return function(r){return e.apply(this,arguments)}}())),i.Zr}class Xg{constructor(e,r,o,u,f){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=u,this.removalCallback=f,this.deferred=new Rt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,r,o,u,f){const v=Date.now()+o,A=new Xg(e,r,v,u,f);return A.start(o),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $e(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zc(i,e){if(_("AsyncQueue",`${e}: ${i}`),Su(i))return new $e(de.UNAVAILABLE,`${e}: ${i}`);throw i}class Pl{constructor(e){this.comparator=e?(r,o)=>e(r,o)||Zt.comparator(r.key,o.key):(r,o)=>Zt.comparator(r.key,o.key),this.keyedMap=Ac(),this.sortedSet=new _s(this.comparator)}static emptySet(e){return new Pl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=o.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new Pl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class em{constructor(){this.eo=new _s(Zt.comparator)}track(e){const r=e.doc.key,o=this.eo.get(r);o?0!==e.type&&3===o.type?this.eo=this.eo.insert(r,e):3===e.type&&1!==o.type?this.eo=this.eo.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.eo=this.eo.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.eo=this.eo.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.eo=this.eo.remove(r):1===e.type&&2===o.type?this.eo=this.eo.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.eo=this.eo.insert(r,{type:2,doc:e.doc}):B():this.eo=this.eo.insert(r,e)}no(){const e=[];return this.eo.inorderTraversal((r,o)=>{e.push(o)}),e}}class Ol{constructor(e,r,o,u,f,v,A,V){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=f,this.fromCache=v,this.syncStateChanged=A,this.excludesMetadataChanges=V}static fromInitialDocuments(e,r,o,u){const f=[];return r.forEach(v=>{f.push({type:0,doc:v})}),new Ol(e,r,Pl.emptySet(r),f,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==o[u].type||!r[u].doc.isEqual(o[u].doc))return!1;return!0}}class np{constructor(){this.so=void 0,this.listeners=[]}}class Ly{constructor(){this.queries=new Il(e=>Ef(e),gu),this.onlineState="Unknown",this.io=new Set}}function rp(i,e){return kl.apply(this,arguments)}function kl(){return kl=(0,te.Z)(function*(i,e){const r=ge(i),o=e.query;let u=!1,f=r.queries.get(o);if(f||(u=!0,f=new np),u)try{f.so=yield r.onListen(o)}catch(v){const A=zc(v,`Initialization of query '${sd(e.query)}' failed`);return void e.onError(A)}r.queries.set(o,f),f.listeners.push(e),e.ro(r.onlineState),f.so&&e.oo(f.so)&&Lh(r)}),kl.apply(this,arguments)}function xd(i,e){return ip.apply(this,arguments)}function ip(){return ip=(0,te.Z)(function*(i,e){const r=ge(i),o=e.query;let u=!1;const f=r.queries.get(o);if(f){const v=f.listeners.indexOf(e);v>=0&&(f.listeners.splice(v,1),u=0===f.listeners.length)}if(u)return r.queries.delete(o),r.onUnlisten(o)}),ip.apply(this,arguments)}function sp(i,e){const r=ge(i);let o=!1;for(const u of e){const v=r.queries.get(u.query);if(v){for(const A of v.listeners)A.oo(u)&&(o=!0);v.so=u}}o&&Lh(r)}function op(i,e,r){const o=ge(i),u=o.queries.get(e);if(u)for(const f of u.listeners)f.onError(r);o.queries.delete(e)}function Lh(i){i.io.forEach(e=>{e.next()})}class ap{constructor(e,r,o){this.query=e,this.co=r,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=o||{}}oo(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Ol(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let r=!1;return this.ao?this.ho(e)&&(this.co.next(e),r=!0):this.lo(e,this.onlineState)&&(this.fo(e),r=!0),this.uo=e,r}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let r=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),r=!0),r}lo(e,r){return!e.fromCache||!(this.options.wo&&"Offline"!==r||e.docs.isEmpty()&&"Offline"!==r)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=Ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class Fy{constructor(e,r){this.payload=e,this.byteLength=r}_o(){return"metadata"in this.payload}}class Fh{constructor(e){this.k=e}Hn(e){return ko(this.k,e)}Jn(e){return e.metadata.exists?Mc(this.k,e.document,!1):jr.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return Ni(e)}}class Cv{constructor(e,r,o){this.mo=e,this.localStore=r,this.k=o,this.queries=[],this.documents=[],this.progress=tm(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++r):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}po(e){const r=new Map,o=new Fh(this.k);for(const u of e)if(u.metadata.queries){const f=o.Hn(u.metadata.name);for(const v of u.metadata.queries){const A=(r.get(v)||Pr()).add(f);r.set(v,A)}}return r}complete(){var e=this;return(0,te.Z)(function*(){const r=yield function _v(i,e,r,o){return jf.apply(this,arguments)}(e.localStore,new Fh(e.k),e.documents,e.mo.id),o=e.po(e.documents);for(const u of e.queries)yield vv(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",new kg(Object.assign({},e.progress),r)})()}}function tm(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class up{constructor(e){this.key=e}}class cp{constructor(e){this.key=e}}class lp{constructor(e,r){this.query=e,this.To=r,this.Eo=null,this.current=!1,this.Io=Pr(),this.mutatedKeys=Pr(),this.Ao=Qd(e),this.Ro=new Pl(this.Ao)}get bo(){return this.To}Po(e,r){const o=r?r.vo:new em,u=r?r.Ro:this.Ro;let f=r?r.mutatedKeys:this.mutatedKeys,v=u,A=!1;const V=fu(this.query)&&u.size===this.query.limit?u.last():null,K=Gu(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((re,Ee)=>{const He=u.get(re),ct=mu(this.query,Ee)?Ee:null,pt=!!He&&this.mutatedKeys.has(He.key),Wt=!!ct&&(ct.hasLocalMutations||this.mutatedKeys.has(ct.key)&&ct.hasCommittedMutations);let Sn=!1;He&&ct?He.data.isEqual(ct.data)?pt!==Wt&&(o.track({type:3,doc:ct}),Sn=!0):this.Vo(He,ct)||(o.track({type:2,doc:ct}),Sn=!0,(V&&this.Ao(ct,V)>0||K&&this.Ao(ct,K)<0)&&(A=!0)):!He&&ct?(o.track({type:0,doc:ct}),Sn=!0):He&&!ct&&(o.track({type:1,doc:He}),Sn=!0,(V||K)&&(A=!0)),Sn&&(ct?(v=v.add(ct),f=Wt?f.add(re):f.delete(re)):(v=v.delete(re),f=f.delete(re)))}),fu(this.query)||Gu(this.query))for(;v.size>this.query.limit;){const re=fu(this.query)?v.last():v.first();v=v.delete(re.key),f=f.delete(re.key),o.track({type:1,doc:re})}return{Ro:v,vo:o,Bn:A,mutatedKeys:f}}Vo(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o){const u=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const f=e.vo.no();f.sort((K,re)=>function(Ee,He){const ct=pt=>{switch(pt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return B()}};return ct(Ee)-ct(He)}(K.type,re.type)||this.Ao(K.doc,re.doc)),this.So(o);const v=r?this.Do():[],A=0===this.Io.size&&this.current?1:0,V=A!==this.Eo;return this.Eo=A,0!==f.length||V?{snapshot:new Ol(this.query,e.Ro,u,f,e.mutatedKeys,0===A,V,!1),Co:v}:{Co:v}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new em,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(r=>this.To=this.To.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.To=this.To.delete(r)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=Pr(),this.Ro.forEach(o=>{this.No(o.key)&&(this.Io=this.Io.add(o.key))});const r=[];return e.forEach(o=>{this.Io.has(o)||r.push(new cp(o))}),this.Io.forEach(o=>{e.has(o)||r.push(new up(o))}),r}ko(e){this.To=e.zn,this.Io=Pr();const r=this.Po(e.documents);return this.applyChanges(r,!0)}xo(){return Ol.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class nm{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class rm{constructor(e){this.key=e,this.$o=!1}}class Nu{constructor(e,r,o,u,f,v){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=v,this.Oo={},this.Mo=new Il(A=>Ef(A),gu),this.Fo=new Map,this.Lo=new Set,this.Bo=new _s(Zt.comparator),this.Uo=new Map,this.qo=new $f,this.Ko={},this.jo=new Map,this.Qo=Bc.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function Uh(i,e){return dp.apply(this,arguments)}function dp(){return dp=(0,te.Z)(function*(i,e){const r=zh(i);let o,u;const f=r.Mo.get(e);if(f)o=f.targetId,r.sharedClientState.addLocalQueryTarget(o),u=f.view.xo();else{const v=yield ic(r.localStore,Oo(e)),A=r.sharedClientState.addLocalQueryTarget(v.targetId);o=v.targetId,u=yield hp(r,e,o,"current"===A),r.isPrimaryClient&&Sl(r.remoteStore,v)}return u}),dp.apply(this,arguments)}function hp(i,e,r,o){return im.apply(this,arguments)}function im(){return im=(0,te.Z)(function*(i,e,r,o){i.Go=(re,Ee,He)=>{return(ct=(0,te.Z)(function*(pt,Wt,Sn,Fi){let Es=Wt.view.Po(Sn);Es.Bn&&(Es=yield Dh(pt.localStore,Wt.query,!1).then(({documents:cs})=>Wt.view.Po(cs,Es)));const To=Fi&&Fi.targetChanges.get(Wt.targetId),$r=Wt.view.applyChanges(Es,pt.isPrimaryClient,To);return _p(pt,Wt.targetId,$r.Co),$r.snapshot}),function(pt,Wt,Sn,Fi){return ct.apply(this,arguments)})(i,re,Ee,He);var ct};const u=yield Dh(i.localStore,e,!0),f=new lp(e,u.zn),v=f.Po(u.documents),A=bu.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==i.onlineState),V=f.applyChanges(v,i.isPrimaryClient,A);_p(i,r,V.Co);const K=new nm(e,r,f);return i.Mo.set(e,K),i.Fo.has(r)?i.Fo.get(r).push(e):i.Fo.set(r,[e]),V.snapshot}),im.apply(this,arguments)}function fp(i,e){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,te.Z)(function*(i,e){const r=ge(i),o=r.Mo.get(e),u=r.Fo.get(o.targetId);if(u.length>1)return r.Fo.set(o.targetId,u.filter(f=>!gu(f,e))),void r.Mo.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||(yield sc(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),Rl(r.remoteStore,o.targetId),Nl(r,o.targetId)}).catch(nc))):(Nl(r,o.targetId),yield sc(r.localStore,o.targetId,!0))}),Bh.apply(this,arguments)}function qc(){return qc=(0,te.Z)(function*(i,e,r){const o=fm(i);try{const u=yield function(f,v){const A=ge(f),V=Hi.now(),K=v.reduce((Ee,He)=>Ee.add(He.key),Pr());let re;return A.persistence.runTransaction("Locally write mutations","readwrite",Ee=>A.Wn.vn(Ee,K).next(He=>{re=He;const ct=[];for(const pt of v){const Wt=Rg(pt,re.get(pt.key));null!=Wt&&ct.push(new Ka(pt.key,Wt,Bs(Wt.value.mapValue),Yi.exists(!0)))}return A.An.addMutationBatch(Ee,V,ct,v)})).then(Ee=>(Ee.applyToLocalDocumentSet(re),{batchId:Ee.batchId,changes:re}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(f,v,A){let V=f.Ko[f.currentUser.toKey()];V||(V=new _s(Zn)),V=V.insert(v,A),f.Ko[f.currentUser.toKey()]=V}(o,u.batchId,r),yield Lu(o,u.changes),yield Gc(o.remoteStore)}catch(u){const f=zc(u,"Failed to persist write");r.reject(f)}}),qc.apply(this,arguments)}function sm(i,e){return Md.apply(this,arguments)}function Md(){return Md=(0,te.Z)(function*(i,e){const r=ge(i);try{const o=yield bh(r.localStore,e);e.targetChanges.forEach((u,f)=>{const v=r.Uo.get(f);v&&(Y(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?v.$o=!0:u.modifiedDocuments.size>0?Y(v.$o):u.removedDocuments.size>0&&(Y(v.$o),v.$o=!1))}),yield Lu(r,o,e)}catch(o){yield nc(o)}}),Md.apply(this,arguments)}function gp(i,e,r){const o=ge(i);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const u=[];o.Mo.forEach((f,v)=>{const A=v.view.ro(e);A.snapshot&&u.push(A.snapshot)}),function(f,v){const A=ge(f);A.onlineState=v;let V=!1;A.queries.forEach((K,re)=>{for(const Ee of re.listeners)Ee.ro(v)&&(V=!0)}),V&&Lh(A)}(o.eventManager,e),u.length&&o.Oo.br(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function om(i,e,r){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,te.Z)(function*(i,e,r){const o=ge(i);o.sharedClientState.updateQueryState(e,"rejected",r);const u=o.Uo.get(e),f=u&&u.key;if(f){let v=new _s(Zt.comparator);v=v.insert(f,jr.newNoDocument(f,bn.min()));const A=Pr().add(f),V=new Sc(bn.min(),new Map,new _i(Zn),v,A);yield sm(o,V),o.Bo=o.Bo.remove(f),o.Uo.delete(e),vp(o)}else yield sc(o.localStore,e,!1).then(()=>Nl(o,e,r)).catch(nc)}),Vh.apply(this,arguments)}function Uy(i,e){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,te.Z)(function*(i,e){const r=ge(i),o=e.batch.batchId;try{const u=yield Fg(r.localStore,e);yp(r,o,null),jh(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield Lu(r,u)}catch(u){yield nc(u)}}),Pd.apply(this,arguments)}function By(i,e,r){return mp.apply(this,arguments)}function mp(){return mp=(0,te.Z)(function*(i,e,r){const o=ge(i);try{const u=yield function(f,v){const A=ge(f);return A.persistence.runTransaction("Reject batch","readwrite-primary",V=>{let K;return A.An.lookupMutationBatch(V,v).next(re=>(Y(null!==re),K=re.keys(),A.An.removeMutationBatch(V,re))).next(()=>A.An.performConsistencyCheck(V)).next(()=>A.Wn.vn(V,K))})}(o.localStore,e);yp(o,e,r),jh(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield Lu(o,u)}catch(u){yield nc(u)}}),mp.apply(this,arguments)}function ac(){return ac=(0,te.Z)(function*(i,e){const r=ge(i);ku(r.remoteStore)||m("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(f){const v=ge(f);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",A=>v.An.getHighestUnacknowledgedBatchId(A))}(r.localStore);if(-1===o)return void e.resolve();const u=r.jo.get(o)||[];u.push(e),r.jo.set(o,u)}catch(o){const u=zc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),ac.apply(this,arguments)}function jh(i,e){(i.jo.get(e)||[]).forEach(r=>{r.resolve()}),i.jo.delete(e)}function yp(i,e,r){const o=ge(i);let u=o.Ko[o.currentUser.toKey()];if(u){const f=u.get(e);f&&(r?f.reject(r):f.resolve(),u=u.remove(e)),o.Ko[o.currentUser.toKey()]=u}}function Nl(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.Fo.get(e))i.Mo.delete(o),r&&i.Oo.zo(o,r);i.Fo.delete(e),i.isPrimaryClient&&i.qo.us(e).forEach(o=>{i.qo.containsKey(o)||Wc(i,o)})}function Wc(i,e){i.Lo.delete(e.path.canonicalString());const r=i.Bo.get(e);null!==r&&(Rl(i.remoteStore,r),i.Bo=i.Bo.remove(e),i.Uo.delete(r),vp(i))}function _p(i,e,r){for(const o of r)o instanceof up?(i.qo.addReference(o.key,e),Vy(i,o)):o instanceof cp?(m("SyncEngine","Document no longer in limbo: "+o.key),i.qo.removeReference(o.key,e),i.qo.containsKey(o.key)||Wc(i,o.key)):B()}function Vy(i,e){const r=e.key,o=r.path.canonicalString();i.Bo.get(r)||i.Lo.has(o)||(m("SyncEngine","New document in limbo: "+r),i.Lo.add(o),vp(i))}function vp(i){for(;i.Lo.size>0&&i.Bo.size<i.maxConcurrentLimboResolutions;){const e=i.Lo.values().next().value;i.Lo.delete(e);const r=new Zt(zn.fromString(e)),o=i.Qo.next();i.Uo.set(o,new rm(r)),i.Bo=i.Bo.insert(r,o),Sl(i.remoteStore,new y(Oo(Eo(r.path)),o,2,ki.I))}}function Lu(i,e,r){return Do.apply(this,arguments)}function Do(){return Do=(0,te.Z)(function*(i,e,r){const o=ge(i),u=[],f=[],v=[];var A;o.Mo.isEmpty()||(o.Mo.forEach((A,V)=>{v.push(o.Go(V,e,r).then(K=>{if(K){o.isPrimaryClient&&o.sharedClientState.updateQueryState(V.targetId,K.fromCache?"not-current":"current"),u.push(K);const re=Ed.$n(V.targetId,K);f.push(re)}}))}),yield Promise.all(v),o.Oo.br(u),yield(A=(0,te.Z)(function*(V,K){const re=ge(V);try{yield re.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ee=>ut.forEach(K,He=>ut.forEach(He.kn,ct=>re.persistence.referenceDelegate.addReference(Ee,He.targetId,ct)).next(()=>ut.forEach(He.xn,ct=>re.persistence.referenceDelegate.removeReference(Ee,He.targetId,ct)))))}catch(Ee){if(!Su(Ee))throw Ee;m("LocalStore","Failed to update sequence numbers: "+Ee)}for(const Ee of K){const He=Ee.targetId;if(!Ee.fromCache){const ct=re.qn.get(He),Wt=ct.withLastLimboFreeSnapshotVersion(ct.snapshotVersion);re.qn=re.qn.insert(He,Wt)}}}),function(V,K){return A.apply(this,arguments)})(o.localStore,f))}),Do.apply(this,arguments)}function wp(i,e){return $h.apply(this,arguments)}function $h(){return $h=(0,te.Z)(function*(i,e){const r=ge(i);if(!r.currentUser.isEqual(e)){m("SyncEngine","User change. New user:",e.toKey());const o=yield Ih(r.localStore,e);r.currentUser=e,(u=r).jo.forEach(v=>{v.forEach(A=>{A.reject(new $e(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.jo.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Lu(r,o.Gn)}var u}),$h.apply(this,arguments)}function um(i,e){const r=ge(i),o=r.Uo.get(e);if(o&&o.$o)return Pr().add(o.key);{let u=Pr();const f=r.Fo.get(e);if(!f)return u;for(const v of f){const A=r.Mo.get(v);u=u.unionWith(A.view.bo)}return u}}function cm(i,e){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,te.Z)(function*(i,e){const r=ge(i),o=yield Dh(r.localStore,e.query,!0),u=e.view.ko(o);return r.isPrimaryClient&&_p(r,e.targetId,u.Co),u}),Hh.apply(this,arguments)}function jy(i){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,te.Z)(function*(i){const e=ge(i);return Vg(e.localStore).then(r=>Lu(e,r))}),Ep.apply(this,arguments)}function $y(i,e,r,o){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,te.Z)(function*(i,e,r,o){const u=ge(i),f=yield function(v,A){const V=ge(v),K=ge(V.An);return V.persistence.runTransaction("Lookup mutation documents","readonly",re=>K.Zt(re,A).next(Ee=>Ee?V.Wn.vn(re,Ee):ut.resolve(null)))}(u.localStore,e);var A;null!==f?("pending"===r?yield Gc(u.remoteStore):"acknowledged"===r||"rejected"===r?(yp(u,e,o||null),jh(u,e),A=e,ge(ge(u.localStore).An).ee(A)):B(),yield Lu(u,f)):m("SyncEngine","Cannot apply mutation batch with id: "+e)}),Ip.apply(this,arguments)}function dm(){return dm=(0,te.Z)(function*(i,e){const r=ge(i);if(zh(r),fm(r),!0===e&&!0!==r.Wo){const o=r.sharedClientState.getAllActiveQueryTargets(),u=yield bp(r,o.toArray());r.Wo=!0,yield sa(r.remoteStore,!0);for(const f of u)Sl(r.remoteStore,f)}else if(!1===e&&!1!==r.Wo){const o=[];let u=Promise.resolve();r.Fo.forEach((f,v)=>{r.sharedClientState.isLocalQueryTarget(v)?o.push(v):u=u.then(()=>(Nl(r,v),sc(r.localStore,v,!0))),Rl(r.remoteStore,v)}),yield u,yield bp(r,o),function(f){const v=ge(f);v.Uo.forEach((A,V)=>{Rl(v.remoteStore,V)}),v.qo.hs(),v.Uo=new Map,v.Bo=new _s(Zt.comparator)}(r),r.Wo=!1,yield sa(r.remoteStore,!1)}}),dm.apply(this,arguments)}function bp(i,e,r){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,te.Z)(function*(i,e,r){const o=ge(i),u=[],f=[];for(const v of e){let A;const V=o.Fo.get(v);if(V&&0!==V.length){A=yield ic(o.localStore,Oo(V[0]));for(const K of V){const re=o.Mo.get(K),Ee=yield cm(o,re);Ee.snapshot&&f.push(Ee.snapshot)}}else{const K=yield Bg(o.localStore,v);A=yield ic(o.localStore,K),yield hp(o,hm(K),v,!1)}u.push(A)}return o.Oo.br(f),u}),Dp.apply(this,arguments)}function hm(i){return Po(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Av(i){const e=ge(i);return ge(ge(e.localStore).persistence).Tn()}function Sv(i,e,r,o){return Od.apply(this,arguments)}function Od(){return Od=(0,te.Z)(function*(i,e,r,o){const u=ge(i);if(u.Wo)m("SyncEngine","Ignoring unexpected query state notification.");else if(u.Fo.has(e))switch(r){case"current":case"not-current":{const f=yield Vg(u.localStore),v=Sc.createSynthesizedRemoteEventForCurrentChange(e,"current"===r);yield Lu(u,f,v);break}case"rejected":yield sc(u.localStore,e,!0),Nl(u,e,o);break;default:B()}}),Od.apply(this,arguments)}function Hy(i,e,r){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,te.Z)(function*(i,e,r){const o=zh(i);if(o.Wo){for(const u of e){if(o.Fo.has(u)){m("SyncEngine","Adding an already active target "+u);continue}const f=yield Bg(o.localStore,u),v=yield ic(o.localStore,f);yield hp(o,hm(f),v.targetId,!1),Sl(o.remoteStore,v)}for(const u of r)o.Fo.has(u)&&(yield sc(o.localStore,u,!1).then(()=>{Rl(o.remoteStore,u),Nl(o,u)}).catch(nc))}}),Gh.apply(this,arguments)}function zh(i){const e=ge(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=sm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=um.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=om.bind(null,e),e.Oo.br=sp.bind(null,e.eventManager),e.Oo.zo=op.bind(null,e.eventManager),e}function fm(i){const e=ge(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Uy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=By.bind(null,e),e}class Gy{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,te.Z)(function*(){r.k=Td(e.databaseInfo.databaseId),r.sharedClientState=r.Jo(e),r.persistence=r.Yo(e),yield r.persistence.start(),r.gcScheduler=r.Xo(e),r.localStore=r.Zo(e)})()}Xo(e){return null}Zo(e){return Bf(this.persistence,new Ja,e.initialUser,this.k)}Yo(e){return new Dv($g.ks,this.k)}Jo(e){return new xh}terminate(){var e=this;return(0,te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class zy extends Gy{constructor(e,r,o){super(),this.tc=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,te.Z)(function*(){yield r().call(o,e),yield function Ty(i){return Th.apply(this,arguments)}(o.localStore),yield o.tc.initialize(o,e),yield fm(o.tc.syncEngine),yield Gc(o.tc.remoteStore),yield o.persistence.sn(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Zo(e){return Bf(this.persistence,new Ja,e.initialUser,this.k)}Xo(e){return new vy(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const r=Lo(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?$s.withCacheSize(this.cacheSizeBytes):$s.DEFAULT;return new Eh(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,zg(),Dd(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new xh}}class pm extends zy{constructor(e,r){super(e,r,!1),this.tc=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,te.Z)(function*(){yield r().call(o,e);const u=o.tc.syncEngine;o.sharedClientState instanceof Rh&&(o.sharedClientState.syncEngine={mi:$y.bind(null,u),gi:Sv.bind(null,u),yi:Hy.bind(null,u),Tn:Av.bind(null,u),_i:jy.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.sn(function(){var f=(0,te.Z)(function*(v){yield function lm(i,e){return dm.apply(this,arguments)}(o.tc.syncEngine,v),o.gcScheduler&&(v&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):v||o.gcScheduler.stop())});return function(v){return f.apply(this,arguments)}}())})()}Jo(e){const r=zg();if(!Rh.Pt(r))throw new $e(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Lo(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Rh(r,e.asyncQueue,o,e.clientId,e.initialUser)}}class qh{initialize(e,r){var o=this;return(0,te.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>gp(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=wp.bind(null,o.syncEngine),yield sa(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ly}createDatastore(e){const r=Td(e.databaseInfo.databaseId),o=new Hf(e.databaseInfo);return new Cl(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return r=this.localStore,o=this.datastore,u=e.asyncQueue,f=A=>gp(this.syncEngine,A,0),v=Ou.Pt()?new Ou:new Sy,new Al(r,o,u,f,v);var r,o,u,f,v}createSyncEngine(e,r){return function(o,u,f,v,A,V,K){const re=new Nu(o,u,f,v,A,V);return K&&(re.Wo=!0),re}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return(e=(0,te.Z)(function*(r){const o=ge(r);m("RemoteStore","RemoteStore shutting down."),o.Gr.add(5),yield Hc(o),o.Hr.shutdown(),o.Jr.set("Unknown")}),function(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function Tp(i,e=10240){let r=0;return{read:()=>(0,te.Z)(function*(){if(r<i.byteLength){const o={value:i.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,te.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Wh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Rv{constructor(e,r){this.sc=e,this.k=r,this.metadata=new Rt,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(o=>{o&&o._o()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,te.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,te.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,te.Z)(function*(){const r=yield e.oc();if(null===r)return null;const o=e.ic.decode(r),u=Number(o);isNaN(u)&&e.cc(`length string (${o}) is not valid number`);const f=yield e.ac(u);return new Fy(JSON.parse(f),r.length+u)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,te.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const r=e.uc();r<0&&e.cc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}ac(e){var r=this;return(0,te.Z)(function*(){for(;r.buffer.length<e;)(yield r.hc())&&r.cc("Reached the end of bundle when more is expected.");const o=r.ic.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,te.Z)(function*(){const r=yield e.sc.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class gm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,te.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new $e(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,te.Z)(function*(f,v){const A=ge(f),V=Du(A.k)+"/documents",K={documents:v.map(ct=>Zu(A.k,ct))},re=yield A.ji("BatchGetDocuments",V,K),Ee=new Map;re.forEach(ct=>{const pt=function Sf(i,e){return"found"in e?function(r,o){Y(!!o.found);const u=ko(r,o.found.name),f=Ni(o.found.updateTime),v=new Rs({mapValue:{fields:o.found.fields}});return jr.newFoundDocument(u,f,v)}(i,e):"missing"in e?function(r,o){Y(!!o.missing),Y(!!o.readTime);const u=ko(r,o.missing),f=Ni(o.readTime);return jr.newNoDocument(u,f)}(i,e):B()}(A.k,ct);Ee.set(pt.key.toString(),pt)});const He=[];return v.forEach(ct=>{const pt=Ee.get(ct.toString());Y(!!pt),He.push(pt)}),He}),function(f,v){return u.apply(this,arguments)})(r.datastore,e);var u;return o.forEach(u=>r.recordVersion(u)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new ea(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,te.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,u)=>{const f=Zt.fromPath(u);e.mutations.push(new cl(f,e.precondition(f)))}),yield(o=(0,te.Z)(function*(u,f){const v=ge(u),A=Du(v.k)+"/documents",V={writes:f.map(K=>Tu(v.k,K))};yield v.Bi("Commit",A,V)}),function(u,f){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw B();r=bn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new $e(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?Yi.updateTime(r):Yi.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(bn.min()))throw new $e(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yi.updateTime(r)}return Yi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class mm{constructor(e,r,o,u){this.asyncQueue=e,this.datastore=r,this.updateFunction=o,this.deferred=u,this.lc=5,this.ur=new Gf(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,te.Z)(function*(){const r=new gm(e.datastore),o=e.dc(r);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(f=>{e.wc(f)}))}).catch(u=>{e.wc(u)})}))}dc(e){try{const r=this.updateFunction(e);return!ma(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||!ud(r)}return!1}}class qy{constructor(e,r,o,u){var f=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=u,this.user=ui.UNAUTHENTICATED,this.clientId=Ba.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var v=(0,te.Z)(function*(A){m("FirestoreClient","Received user=",A.uid),yield f.authCredentialListener(A),f.user=A});return function(A){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(o,v=>(m("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $e(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Rt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const u=zc(o,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function Zh(i,e){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,te.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),m("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield e.initialize(r);let o=r.initialUser;i.setCredentialChangeListener(function(){var u=(0,te.Z)(function*(f){o.isEqual(f)||(yield Ih(e.localStore,f),o=f)});return function(f){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Cp.apply(this,arguments)}function ym(i,e){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,te.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const r=yield Sp(i);m("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(r,o),i.setCredentialChangeListener(u=>ep(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,f)=>ep(e.remoteStore,f)),i.onlineComponents=e}),Ap.apply(this,arguments)}function Sp(i){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,te.Z)(function*(i){return i.offlineComponents||(m("FirestoreClient","Using default OfflineComponentProvider"),yield Zh(i,new Gy)),i.offlineComponents}),Rp.apply(this,arguments)}function Kh(i){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,te.Z)(function*(i){return i.onlineComponents||(m("FirestoreClient","Using default OnlineComponentProvider"),yield ym(i,new qh)),i.onlineComponents}),Ll.apply(this,arguments)}function Zc(i){return Sp(i).then(e=>e.persistence)}function xp(i){return Sp(i).then(e=>e.localStore)}function Fl(i){return Kh(i).then(e=>e.remoteStore)}function Mp(i){return Kh(i).then(e=>e.syncEngine)}function Ul(i){return kd.apply(this,arguments)}function kd(){return kd=(0,te.Z)(function*(i){const e=yield Kh(i),r=e.eventManager;return r.onListen=Uh.bind(null,e.syncEngine),r.onUnlisten=fp.bind(null,e.syncEngine),r}),kd.apply(this,arguments)}function uc(i,e,r={}){const o=new Rt;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(u,f,v,A,V){const K=new Wh({next:Ee=>{f.enqueueAndForget(()=>xd(u,re));const He=Ee.docs.has(v);!He&&Ee.fromCache?V.reject(new $e(de.UNAVAILABLE,"Failed to get document because the client is offline.")):He&&Ee.fromCache&&A&&"server"===A.source?V.reject(new $e(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):V.resolve(Ee)},error:Ee=>V.reject(Ee)}),re=new ap(Eo(v.path),K,{includeMetadataChanges:!0,wo:!0});return rp(u,re)}(yield Ul(i),i.asyncQueue,e,r,o)})),o.promise}function Uo(i,e,r={}){const o=new Rt;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(u,f,v,A,V){const K=new Wh({next:Ee=>{f.enqueueAndForget(()=>xd(u,re)),Ee.fromCache&&"server"===A.source?V.reject(new $e(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):V.resolve(Ee)},error:Ee=>V.reject(Ee)}),re=new ap(v,K,{includeMetadataChanges:!0,wo:!0});return rp(u,re)}(yield Ul(i),i.asyncQueue,e,r,o)})),o.promise}class $l{constructor(e,r,o,u,f,v,A,V){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=u,this.ssl=f,this.forceLongPolling=v,this.autoDetectLongPolling=A,this.useFetchStreams=V}}class Da{constructor(e,r){this.projectId=e,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Da&&e.projectId===this.projectId&&e.database===this.database}}const Kc=new Map;function cc(i,e,r){if(!r)throw new $e(de.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Yc(i,e,r,o){if(!0===e&&!0===o)throw new $e(de.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function Qc(i){if(!Zt.isDocumentKey(i))throw new $e(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Op(i){if(Zt.isDocumentKey(i))throw new $e(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ld(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(r=i).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof i?"a function":B()}function pr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new $e(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ld(i);throw new $e(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function kp(i,e){if(e<=0)throw new $e(de.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Np{constructor(e){var r;if(void 0===e.host){if(void 0!==e.ssl)throw new $e(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new $e(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Yc("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hl{constructor(e,r,o){this._authCredentials=r,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Np({}),this._settingsFrozen=!1,e instanceof Da?this._databaseId=e:(this._app=e,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $e(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Da(u.options.projectId)}(e))}get app(){if(!this._app)throw new $e(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $e(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Np(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new er;switch(r.type){case"gapi":const o=r.client;return Y(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new ss(o,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new $e(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=Kc.get(e);r&&(m("ComponentProvider","Removing Datastore"),Kc.delete(e),r.terminate())}(this),Promise.resolve()}}class vi{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vi(this.firestore,e,this._key)}}class Ks{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Ks(this.firestore,e,this._query)}}class eu extends Ks{constructor(e,r,o){super(e,r,Eo(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vi(this.firestore,null,new Zt(e))}withConverter(e){return new eu(this.firestore,e,this._path)}}function Lp(i,e,...r){if(i=(0,et.m9)(i),cc("collection","path",e),i instanceof Hl){const o=zn.fromString(e,...r);return Op(o),new eu(i,null,o)}{if(!(i instanceof vi||i instanceof eu))throw new $e(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(zn.fromString(e,...r));return Op(o),new eu(i.firestore,null,o)}}function Fd(i,e,...r){if(i=(0,et.m9)(i),1===arguments.length&&(e=Ba.A()),cc("doc","path",e),i instanceof Hl){const o=zn.fromString(e,...r);return Qc(o),new vi(i,null,new Zt(o))}{if(!(i instanceof vi||i instanceof eu))throw new $e(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(zn.fromString(e,...r));return Qc(o),new vi(i.firestore,i instanceof eu?i.converter:null,new Zt(o))}}function Fp(i,e){return i=(0,et.m9)(i),e=(0,et.m9)(e),(i instanceof vi||i instanceof eu)&&(e instanceof vi||e instanceof eu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function vm(i,e){return i=(0,et.m9)(i),e=(0,et.m9)(e),i instanceof Ks&&e instanceof Ks&&i.firestore===e.firestore&&gu(i._query,e._query)&&i.converter===e.converter}class Zy{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new Gf(this,"async_queue_retry"),this.bc=()=>{const r=Dd();r&&m("AsyncQueue","Visibility state changed to "+r.visibilityState),this.ur.er()};const e=Dd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const r=Dd();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const r=new Rt;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,te.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(r){if(!Su(r))throw r;m("AsyncQueue","Operation failed with retryable error: "+r)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const r=this.mc.then(()=>(this.Ic=!0,e().catch(o=>{throw this.Ec=o,this.Ic=!1,_("INTERNAL UNHANDLED ERROR: ",function(f){let v=f.message||"";return f.stack&&(v=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),v}(o)),o}).then(o=>(this.Ic=!1,o))));return this.mc=r,r}enqueueAfterDelay(e,r,o){this.Pc(),this.Rc.indexOf(e)>-1&&(r=0);const u=Xg.createAndSchedule(this,e,r,o,f=>this.Sc(f));return this.Tc.push(u),u}Pc(){this.Ec&&B()}verifyOperationInProgress(){}Dc(){var e=this;return(0,te.Z)(function*(){let r;do{r=e.mc,yield r}while(r!==e.mc)})()}Cc(e){for(const r of this.Tc)if(r.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Tc)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const r=this.Tc.indexOf(e);this.Tc.splice(r,1)}}function Qh(i){return function(e,r){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Ky{constructor(){this._progressObserver={},this._taskCompletionResolver=new Rt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Li extends Hl{constructor(e,r,o){super(e,r,o),this.type="firestore",this._queue=new Zy,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Jh(this),this._firestoreClient.terminate()}}function ws(i){return i._firestoreClient||Jh(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Jh(i){var e;const r=i._freezeSettings(),o=(f=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new $l(i._databaseId,f,i._persistenceKey,(A=r).host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,A.useFetchStreams));var f,A;i._firestoreClient=new qy(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Qy(i,e,r){const o=new Rt;return i.asyncQueue.enqueue((0,te.Z)(function*(){try{yield Zh(i,r),yield ym(i,e),o.resolve()}catch(u){if(!("FirebaseError"===(f=u).name?f.code===de.FAILED_PRECONDITION||f.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&f instanceof DOMException)||22===f.code||20===f.code||11===f.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}var f})).then(()=>o.promise)}function Im(i){if(i._initialized||i._terminated)throw new $e(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class tu{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new $e(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ta(Ki.fromBase64String(e))}catch(r){throw new $e(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ta(Ki.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nu{constructor(e){this._methodName=e}}class Xh{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new $e(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new $e(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zn(this._lat,e._lat)||Zn(this._long,e._long)}}const bm=/^__.*__$/;class e_{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new Ka(e,this.data,this.fieldMask,r,this.fieldTransforms):new Cc(e,this.data,r,this.fieldTransforms)}}class Dm{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new Ka(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Tm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw B()}}class ef{constructor(e,r,o,u,f,v){this.settings=e,this.databaseId=r,this.k=o,this.ignoreUndefinedProperties=u,void 0===f&&this.xc(),this.fieldTransforms=f||[],this.fieldMask=v||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new ef(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Oc({path:o,Fc:!1});return u.Lc(e),u}Bc(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Oc({path:o,Fc:!1});return u.xc(),u}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return rf(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(Tm(this.$c)&&bm.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class t_{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.k=o||Td(e)}Qc(e,r,o,u=!1){return new ef({$c:e,methodName:r,jc:o,path:tr.emptyPath(),Fc:!1,Kc:u},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function lc(i){const e=i._freezeSettings(),r=Td(i._databaseId);return new t_(i._databaseId,!!e.ignoreUndefinedProperties,r)}function tf(i,e,r,o,u,f={}){const v=i.Qc(f.merge||f.mergeFields?2:0,e,r,u);Bd("Data must be an object, but it was:",v,o);const A=nf(o,v);let V,K;if(f.merge)V=new fa(v.fieldMask),K=v.fieldTransforms;else if(f.mergeFields){const re=[];for(const Ee of f.mergeFields){const He=Vd(e,Ee,r);if(!v.contains(He))throw new $e(de.INVALID_ARGUMENT,`Field '${He}' is specified in your field mask but missing from your input data.`);Hp(re,He)||re.push(He)}V=new fa(re),K=v.fieldTransforms.filter(Ee=>V.covers(Ee.field))}else V=null,K=v.fieldTransforms;return new e_(new Rs(A),V,K)}class zl extends nu{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zl}}function Bp(i,e,r){return new ef({$c:3,jc:e.settings.jc,methodName:i._methodName,Fc:r},e.databaseId,e.k,e.ignoreUndefinedProperties)}class Ud extends nu{_toFieldTransform(e){return new Dc(e.path,new vu)}isEqual(e){return e instanceof Ud}}class kv extends nu{constructor(e,r){super(e),this.Wc=r}_toFieldTransform(e){const r=Bp(this,e,!0),o=this.Wc.map(f=>Fu(f,r)),u=new va(o);return new Dc(e.path,u)}isEqual(e){return this===e}}class Vp extends nu{constructor(e,r){super(e),this.Wc=r}_toFieldTransform(e){const r=Bp(this,e,!0),o=this.Wc.map(f=>Fu(f,r)),u=new wa(o);return new Dc(e.path,u)}isEqual(e){return this===e}}class n_ extends nu{constructor(e,r){super(e),this.Gc=r}_toFieldTransform(e){const r=new wu(e.k,sl(e.k,this.Gc));return new Dc(e.path,r)}isEqual(e){return this===e}}function Cm(i,e,r,o){const u=i.Qc(1,e,r);Bd("Data must be an object, but it was:",u,o);const f=[],v=Rs.empty();ha(o,(V,K)=>{const re=$p(e,V,r);K=(0,et.m9)(K);const Ee=u.Bc(re);if(K instanceof zl)f.push(re);else{const He=Fu(K,Ee);null!=He&&(f.push(re),v.set(re,He))}});const A=new fa(f);return new Dm(v,A,u.fieldTransforms)}function Jc(i,e,r,o,u,f){const v=i.Qc(1,e,r),A=[Vd(e,o,r)],V=[u];if(f.length%2!=0)throw new $e(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let He=0;He<f.length;He+=2)A.push(Vd(e,f[He])),V.push(f[He+1]);const K=[],re=Rs.empty();for(let He=A.length-1;He>=0;--He)if(!Hp(K,A[He])){const ct=A[He];let pt=V[He];pt=(0,et.m9)(pt);const Wt=v.Bc(ct);if(pt instanceof zl)K.push(ct);else{const Sn=Fu(pt,Wt);null!=Sn&&(K.push(ct),re.set(ct,Sn))}}const Ee=new fa(K);return new Dm(re,Ee,v.fieldTransforms)}function jp(i,e,r,o=!1){return Fu(r,i.Qc(o?4:3,e))}function Fu(i,e){if(Am(i=(0,et.m9)(i)))return Bd("Unsupported field value:",e,i),nf(i,e);if(i instanceof nu)return function(r,o){if(!Tm(o.$c))throw o.qc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(r,o){const u=[];let f=0;for(const v of r){let A=Fu(v,o.Uc(f));null==A&&(A={nullValue:"NULL_VALUE"}),u.push(A),f++}return{arrayValue:{values:u}}}(i,e)}return function(r,o){if(null===(r=(0,et.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return sl(o.k,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const u=Hi.fromDate(r);return{timestampValue:xc(o.k,u)}}if(r instanceof Hi){const u=new Hi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xc(o.k,u)}}if(r instanceof Xh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ta)return{bytesValue:Af(o.k,r._byteString)};if(r instanceof vi){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.qc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:xs(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.qc(`Unsupported field value: ${Ld(r)}`)}(i,e)}function nf(i,e){const r={};return Kd(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(i,(o,u)=>{const f=Fu(u,e.Mc(o));null!=f&&(r[o]=f)}),{mapValue:{fields:r}}}function Am(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Hi||i instanceof Xh||i instanceof Ta||i instanceof vi||i instanceof nu)}function Bd(i,e,r){if(!Am(r)||"object"!=typeof(o=r)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Ld(r);throw e.qc("an object"===o?i+" a custom object":i+" "+o)}var o}function Vd(i,e,r){if((e=(0,et.m9)(e))instanceof tu)return e._internalPath;if("string"==typeof e)return $p(i,e);throw rf("Field path arguments must be of type string or ",i,!1,void 0,r)}const Sm=new RegExp("[~\\*/\\[\\]]");function $p(i,e,r){if(e.search(Sm)>=0)throw rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new tu(...e.split("."))._internalPath}catch(o){throw rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function rf(i,e,r,o,u){const f=o&&!o.isEmpty(),v=void 0!==u;let A=`Function ${e}() called with invalid data`;r&&(A+=" (via `toFirestore()`)"),A+=". ";let V="";return(f||v)&&(V+=" (found",f&&(V+=` in field ${o}`),v&&(V+=` in document ${u}`),V+=")"),new $e(de.INVALID_ARGUMENT,A+i+V)}function Hp(i,e){return i.some(r=>r.isEqual(e))}class ql{constructor(e,r,o,u,f){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new vi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new r_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(jd("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class r_ extends ql{data(){return super.data()}}function jd(i,e){return"string"==typeof e?$p(i,e):e instanceof tu?e._internalPath:e._delegate._internalPath}class Uu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ru extends ql{constructor(e,r,o,u,f,v){super(e,r,o,u,v),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Wl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(jd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class Wl extends ru{data(e={}){return super.data(e)}}class iu{constructor(e,r,o,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new Uu(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new Wl(this._firestore,this._userDataWriter,o.key,o,new Uu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new $e(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(v=>({type:"added",doc:new Wl(o._firestore,o._userDataWriter,v.doc.key,v.doc,new Uu(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:f++}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(v=>u||3!==v.type).map(v=>{const A=new Wl(o._firestore,o._userDataWriter,v.doc.key,v.doc,new Uu(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter);let V=-1,K=-1;return 0!==v.type&&(V=f.indexOf(v.doc.key),f=f.delete(v.doc.key)),1!==v.type&&(f=f.add(v.doc),K=f.indexOf(v.doc.key)),{type:Rm(v.type),doc:A,oldIndex:V,newIndex:K}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Rm(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return B()}}function xm(i,e){return i instanceof ru&&e instanceof ru?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof iu&&e instanceof iu&&i._firestore===e._firestore&&vm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Gp(i){if(Gu(i)&&0===i.explicitOrderBy.length)throw new $e(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zl{}function su(i,...e){for(const r of e)i=r._apply(i);return i}class Mm extends Zl{constructor(e,r,o){super(),this.zc=e,this.Hc=r,this.Jc=o,this.type="where"}_apply(e){const r=lc(e.firestore),o=function(u,f,v,A,V,K,re){let Ee;if(V.isKeyField()){if("array-contains"===K||"array-contains-any"===K)throw new $e(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${K}' queries on documentId().`);if("in"===K||"not-in"===K){Fm(re,K);const ct=[];for(const pt of re)ct.push(a_(A,u,pt));Ee={arrayValue:{values:ct}}}else Ee=a_(A,u,re)}else"in"!==K&&"not-in"!==K&&"array-contains-any"!==K||Fm(re,K),Ee=jp(v,"where",re,"in"===K||"not-in"===K);const He=R.create(V,K,Ee);return function(ct,pt){if(pt.V()){const Sn=qa(ct);if(null!==Sn&&!Sn.isEqual(pt.field))throw new $e(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Sn.toString()}' and '${pt.field.toString()}'`);const Fi=Ic(ct);null!==Fi&&Um(0,pt.field,Fi)}const Wt=function(Sn,Fi){for(const Es of Sn.filters)if(Fi.indexOf(Es.op)>=0)return Es.op;return null}(ct,function(Sn){switch(Sn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(pt.op));if(null!==Wt)throw new $e(de.INVALID_ARGUMENT,Wt===pt.op?`Invalid query. You cannot use more than one '${pt.op.toString()}' filter.`:`Invalid query. You cannot use '${pt.op.toString()}' filters with '${Wt.toString()}' filters.`)}(u,He),He}(e._query,0,r,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Ks(e.firestore,e.converter,function(u,f){const v=u.filters.concat([f]);return new zi(u.path,u.collectionGroup,u.explicitOrderBy.slice(),v,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}class s_ extends Zl{constructor(e,r){super(),this.zc=e,this.Yc=r,this.type="orderBy"}_apply(e){const r=function(o,u,f){if(null!==o.startAt)throw new $e(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new $e(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new Mr(u,f);return function(A,V){if(null===Ic(A)){const K=qa(A);null!==K&&Um(0,K,V.field)}}(o,v),v}(e._query,this.zc,this.Yc);return new Ks(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new zi(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class zp extends Zl{constructor(e,r,o){super(),this.type=e,this.Xc=r,this.Zc=o}_apply(e){return new Ks(e.firestore,e.converter,id(e._query,this.Xc,this.Zc))}}class Wp extends Zl{constructor(e,r,o){super(),this.type=e,this.ta=r,this.ea=o}_apply(e){const r=Kp(e,this.type,this.ta,this.ea);return new Ks(e.firestore,e.converter,(u=r,new zi((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class Zp extends Zl{constructor(e,r,o){super(),this.type=e,this.ta=r,this.ea=o}_apply(e){const r=Kp(e,this.type,this.ta,this.ea);return new Ks(e.firestore,e.converter,(u=r,new zi((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function Kp(i,e,r,o){if(r[0]=(0,et.m9)(r[0]),r[0]instanceof ql)return function(u,f,v,A,V){if(!A)throw new $e(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const K=[];for(const re of pu(u))if(re.field.isKeyField())K.push(lu(f,A.key));else{const Ee=A.data.field(re.field);if(ga(Ee))throw new $e(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+re.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ee){const He=re.field.canonicalString();throw new $e(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${He}' (used as the orderBy) does not exist.`)}K.push(Ee)}return new os(K,V)}(i._query,i.firestore._databaseId,e,r[0]._document,o);{const u=lc(i.firestore);return function(f,v,A,V,K,re){const Ee=f.explicitOrderBy;if(K.length>Ee.length)throw new $e(de.INVALID_ARGUMENT,`Too many arguments provided to ${V}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const He=[];for(let ct=0;ct<K.length;ct++){const pt=K[ct];if(Ee[ct].field.isKeyField()){if("string"!=typeof pt)throw new $e(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${V}(), but got a ${typeof pt}`);if(!Wa(f)&&-1!==pt.indexOf("/"))throw new $e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${V}() must be a plain document ID, but '${pt}' contains a slash.`);const Wt=f.path.child(zn.fromString(pt));if(!Zt.isDocumentKey(Wt))throw new $e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${V}() must result in a valid document path, but '${Wt}' is not because it contains an odd number of segments.`);const Sn=new Zt(Wt);He.push(lu(v,Sn))}else{const Wt=jp(A,V,pt);He.push(Wt)}}return new os(He,re)}(i._query,i.firestore._databaseId,u,e,r,o)}}function a_(i,e,r){if("string"==typeof(r=(0,et.m9)(r))){if(""===r)throw new $e(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wa(e)&&-1!==r.indexOf("/"))throw new $e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(zn.fromString(r));if(!Zt.isDocumentKey(o))throw new $e(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return lu(i,new Zt(o))}if(r instanceof vi)return lu(i,r._key);throw new $e(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ld(r)}.`)}function Fm(i,e){if(!Array.isArray(i)||0===i.length)throw new $e(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new $e(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Um(i,e,r){if(!r.isEqual(e))throw new $e(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class sf{convertValue(e,r="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw B()}}convertObject(e,r){const o={};return ha(e.fields,(u,f)=>{o[u]=this.convertValue(f,r)}),o}convertGeoPoint(e){return new Xh(Cr(e.latitude),Cr(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=Qo(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(ja(e));default:return null}}convertTimestamp(e){const r=Gi(e);return new Hi(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=zn.fromString(e);Y(ml(o));const u=new Da(o.get(1),o.get(3)),f=new Zt(o.popFirst(5));return u.isEqual(r)||_(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}function af(i,e,r){let o;return o=i?r&&(r.merge||r.mergeFields)?i.toFirestore(e,r):i.toFirestore(e):e,o}class Ms extends sf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ta(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new vi(this.firestore,null,r)}}class Yp{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=lc(e)}set(e,r,o){this._verifyNotCommitted();const u=dc(e,this._firestore),f=af(u.converter,r,o),v=tf(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,o);return this._mutations.push(v.toMutation(u._key,Yi.none())),this}update(e,r,o,...u){this._verifyNotCommitted();const f=dc(e,this._firestore);let v;return v="string"==typeof(r=(0,et.m9)(r))||r instanceof tu?Jc(this._dataReader,"WriteBatch.update",f._key,r,o,u):Cm(this._dataReader,"WriteBatch.update",f._key,r),this._mutations.push(v.toMutation(f._key,Yi.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=dc(e,this._firestore);return this._mutations=this._mutations.concat(new ea(r._key,Yi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $e(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function dc(i,e){if((i=(0,et.m9)(i)).firestore!==e)throw new $e(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class hc extends sf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ta(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new vi(this.firestore,null,r)}}function jm(i,e,r){i=pr(i,vi);const o=pr(i.firestore,Li),u=af(i.converter,e,r);return Xc(o,[tf(lc(o),"setDoc",i._key,u,null!==i.converter,r).toMutation(i._key,Yi.none())])}function Qp(i,e,r,...o){i=pr(i,vi);const u=pr(i.firestore,Li),f=lc(u);let v;return v="string"==typeof(e=(0,et.m9)(e))||e instanceof tu?Jc(f,"updateDoc",i._key,e,r,o):Cm(f,"updateDoc",i._key,e),Xc(u,[v.toMutation(i._key,Yi.exists(!0))])}function h_(i,...e){var r,o,u;i=(0,et.m9)(i);let f={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||Qh(e[v])||(f=e[v],v++);const A={includeMetadataChanges:f.includeMetadataChanges};if(Qh(e[v])){const Ee=e[v];e[v]=null===(r=Ee.next)||void 0===r?void 0:r.bind(Ee),e[v+1]=null===(o=Ee.error)||void 0===o?void 0:o.bind(Ee),e[v+2]=null===(u=Ee.complete)||void 0===u?void 0:u.bind(Ee)}let V,K,re;if(i instanceof vi)K=pr(i.firestore,Li),re=Eo(i._key.path),V={next:Ee=>{e[v]&&e[v](oa(K,i,Ee))},error:e[v+1],complete:e[v+2]};else{const Ee=pr(i,Ks);K=pr(Ee.firestore,Li),re=Ee._query;const He=new hc(K);V={next:ct=>{e[v]&&e[v](new iu(K,He,Ee,ct))},error:e[v+1],complete:e[v+2]},Gp(i._query)}return function(Ee,He,ct,pt){const Wt=new Wh(pt),Sn=new ap(He,Wt,ct);return Ee.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return rp(yield Ul(Ee),Sn)})),()=>{Wt.nc(),Ee.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return xd(yield Ul(Ee),Sn)}))}}(ws(K),re,A,V)}function Xc(i,e){return function(r,o){const u=new Rt;return r.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function pp(i,e,r){return qc.apply(this,arguments)}(yield Mp(r),o,u)})),u.promise}(ws(i),e)}function oa(i,e,r){const o=r.docs.get(e._key),u=new hc(i);return new ru(i,u,e._key,o,new Uu(r.hasPendingWrites,r.fromCache),e.converter)}class f_ extends class{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=lc(e)}get(e){const r=dc(e,this._firestore),o=new Ms(this._firestore);return this._transaction.lookup([r._key]).then(u=>{if(!u||1!==u.length)return B();const f=u[0];if(f.isFoundDocument())return new ql(this._firestore,o,f.key,f,r.converter);if(f.isNoDocument())return new ql(this._firestore,o,r._key,null,r.converter);throw B()})}set(e,r,o){const u=dc(e,this._firestore),f=af(u.converter,r,o),v=tf(this._dataReader,"Transaction.set",u._key,f,null!==u.converter,o);return this._transaction.set(u._key,v),this}update(e,r,o,...u){const f=dc(e,this._firestore);let v;return v="string"==typeof(r=(0,et.m9)(r))||r instanceof tu?Jc(this._dataReader,"Transaction.update",f._key,r,o,u):Cm(this._dataReader,"Transaction.update",f._key,r),this._transaction.update(f._key,v),this}delete(e){const r=dc(e,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=dc(e,this._firestore),o=new hc(this._firestore);return super.get(e).then(u=>new ru(this._firestore,o,r._key,u._document,new Uu(!1,!1),r.converter))}}function eg(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new $e("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function tg(){if("undefined"==typeof Uint8Array)throw new $e("unimplemented","Uint8Arrays are not available in this environment.")}function Wm(){if(!function vo(){return"undefined"!=typeof atob}())throw new $e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){ao=Fe.SDK_VERSION,(0,Fe._registerComponent)(new Ye.wA("firestore",(r,{options:o})=>{const u=r.getProvider("app").getImmediate(),f=new Li(u,new As(r.getProvider("auth-internal")),new Zi(r.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),f._setSettings(o),f},"PUBLIC")),(0,Fe.registerVersion)(Hu,"3.4.4",i),(0,Fe.registerVersion)(Hu,"3.4.4","esm2017")}();class Yl{constructor(e){this._delegate=e}static fromBase64String(e){return Wm(),new Yl(Ta.fromBase64String(e))}static fromUint8Array(e){return tg(),new Yl(Ta.fromUint8Array(e))}toBase64(){return Wm(),this._delegate.toBase64()}toUint8Array(){return tg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function uf(i){return function cf(i,e){if("object"!=typeof i||null===i)return!1;const r=i;for(const o of e)if(o in r&&"function"==typeof r[o])return!0;return!1}(i,["next","error","complete"])}class g_{enableIndexedDbPersistence(e,r){return function Up(i,e){Im(i=pr(i,Li));const r=ws(i),o=i._freezeSettings(),u=new qh;return Qy(r,u,new zy(u,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function Yy(i){Im(i=pr(i,Li));const e=ws(i),r=i._freezeSettings(),o=new qh;return Qy(e,o,new pm(o,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Mv(i){if(i._initialized&&!i._terminated)throw new $e(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Rt;return i._queue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{yield(r=(0,te.Z)(function*(o){if(!Qi.Pt())return Promise.resolve();const u=o+"main";yield Qi.delete(u)}),function(o){return r.apply(this,arguments)})(Lo(i._databaseId,i._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class ng{constructor(e,r,o){this._delegate=r,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Da||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&T("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,o={}){!function _m(i,e,r,o={}){var u;const f=(i=pr(i,Hl))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==e&&T("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},f),{host:`${e}:${r}`,ssl:!1})),o.mockUserToken){let v,A;if("string"==typeof o.mockUserToken)v=o.mockUserToken,A=ui.MOCK_USER;else{v=(0,et.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const V=o.mockUserToken.sub||o.mockUserToken.user_id;if(!V)throw new $e(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new ui(V)}i._authCredentials=new Jr(new Gn(v,A))}}(this._delegate,e,r,o)}enableNetwork(){return function Jy(i){return function Xa(i){return i.asyncQueue.enqueue((0,te.Z)(function*(){const e=yield Zc(i),r=yield Fl(i);return e.setNetworkEnabled(!0),function(o){const u=ge(o);return u.Gr.delete(0),Ad(u)}(r)}))}(ws(i=pr(i,Li)))}(this._delegate)}disableNetwork(){return function Em(i){return function Nd(i){return i.asyncQueue.enqueue((0,te.Z)(function*(){const e=yield Zc(i),r=yield Fl(i);return e.setNetworkEnabled(!1),(o=(0,te.Z)(function*(u){const f=ge(u);f.Gr.add(0),yield Hc(f),f.Jr.set("Offline")}),function(u){return o.apply(this,arguments)})(r);var o}))}(ws(i=pr(i,Li)))}(this._delegate)}enablePersistence(e){let r=!1,o=!1;return e&&(r=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Yc("synchronizeTabs",r,"experimentalForceOwningTab",o)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Pv(i){return function(e){const r=new Rt;return e.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function am(i,e){return ac.apply(this,arguments)}(yield Mp(e),r)})),r.promise}(ws(i=pr(i,Li)))}(this._delegate)}onSnapshotsInSync(e){return function Hm(i,e){return function Pp(i,e){const r=new Wh(e);return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return o=yield Ul(i),u=r,ge(o).io.add(u),void u.next();var o,u})),()=>{r.nc(),i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return o=yield Ul(i),u=r,void ge(o).io.delete(u);var o,u}))}}(ws(i=pr(i,Li)),Qh(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new $e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Xl(this,Lp(this._delegate,e))}catch(r){throw ro(r,"collection()","Firestore.collection()")}}doc(e){try{return new Bo(this,Fd(this._delegate,e))}catch(r){throw ro(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new po(this,function Wy(i,e){if(i=pr(i,Hl),cc("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $e(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ks(i,null,(r=e,new zi(zn.emptyPath(),r)));var r}(this._delegate,e))}catch(r){throw ro(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function p_(i,e){return function Bl(i,e){const r=new Rt;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){const o=yield(u=i,Kh(u).then(f=>f.datastore));var u;new mm(i.asyncQueue,o,e,r).run()})),r.promise}(ws(i=pr(i,Li)),r=>e(new f_(i,r)))}(this._delegate,r=>e(new lf(this,r)))}batch(){return ws(this._delegate),new ig(new Yp(this._delegate,e=>Xc(this._delegate,e)))}loadBundle(e){return function Xy(i,e){const r=ws(i=pr(i,Li)),o=new Ky;return function Vl(i,e,r,o){const u=function(f,v){let A;return A="string"==typeof f?(new TextEncoder).encode(f):f,V=function(V,K){if(V instanceof Uint8Array)return Tp(V,K);if(V instanceof ArrayBuffer)return Tp(new Uint8Array(V),K);if(V instanceof ReadableStream)return V.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(A),new Rv(V,v);var V}(r,Td(e));i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){!function ba(i,e,r){const o=ge(i);var u;(u=(0,te.Z)(function*(f,v,A){try{const V=yield v.getMetadata();if(yield function(He,ct){const pt=ge(He),Wt=Ni(ct.createTime);return pt.persistence.runTransaction("hasNewerBundle","readonly",Sn=>pt.Ye.getBundleMetadata(Sn,ct.id)).then(Sn=>!!Sn&&Sn.createTime.compareTo(Wt)>=0)}(f.localStore,V))return yield v.close(),void A._completeWith((He=V,{taskState:"Success",documentsLoaded:He.totalDocuments,bytesLoaded:He.totalBytes,totalDocuments:He.totalDocuments,totalBytes:He.totalBytes}));A._updateProgress(tm(V));const K=new Cv(V,f.localStore,v.k);let re=yield v.Ho();for(;re;){const He=yield K.yo(re);He&&A._updateProgress(He),re=yield v.Ho()}const Ee=yield K.complete();yield Lu(f,Ee.In,void 0),yield function(He,ct){const pt=ge(He);return pt.persistence.runTransaction("Save bundle","readwrite",Wt=>pt.Ye.saveBundleMetadata(Wt,ct))}(f.localStore,V),A._completeWith(Ee.progress)}catch(V){T("SyncEngine",`Loading bundle failed with ${V}`),A._failWith(V)}var He}),function(f,v,A){return u.apply(this,arguments)})(o,e,r).then(()=>{o.sharedClientState.notifyBundleLoaded()})}(yield Mp(i),u,o)}))}(r,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Gl(i,e){return function jl(i,e){return i.asyncQueue.enqueue((0,te.Z)(function*(){return function(r,o){const u=ge(r);return u.persistence.runTransaction("Get named query","readonly",f=>u.Ye.getNamedQuery(f,o))}(yield xp(i),e)}))}(ws(i=pr(i,Li)),e).then(r=>r?new Ks(i,null,r.query):null)}(this._delegate,e).then(r=>r?new po(this,r):null)}}class Hd extends sf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yl(new Ta(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return Bo.forKey(r,this.firestore,null)}}class lf{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new Hd(e)}get(e){const r=el(e);return this._delegate.get(r).then(o=>new Ql(this._firestore,new ru(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,r.converter)))}set(e,r,o){const u=el(e);return o?(eg("Transaction.set",o),this._delegate.set(u,r,o)):this._delegate.set(u,r),this}update(e,r,o,...u){const f=el(e);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,o,...u),this}delete(e){const r=el(e);return this._delegate.delete(r),this}}class ig{constructor(e){this._delegate=e}set(e,r,o){const u=el(e);return o?(eg("WriteBatch.set",o),this._delegate.set(u,r,o)):this._delegate.set(u,r),this}update(e,r,o,...u){const f=el(e);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,o,...u),this}delete(e){const r=el(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class fc{constructor(e,r,o){this._firestore=e,this._userDataWriter=r,this._delegate=o}fromFirestore(e,r){const o=new Wl(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Jl(this._firestore,o),null!=r?r:{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const o=fc.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let f=u.get(r);return f||(f=new fc(e,new Hd(e),r),u.set(r,f)),f}}fc.INSTANCES=new WeakMap;class Bo{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new Hd(e)}static forPath(e,r,o){if(e.length%2!=0)throw new $e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Bo(r,new vi(r._delegate,o,new Zt(e)))}static forKey(e,r,o){return new Bo(r,new vi(r._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Xl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Xl(this.firestore,Lp(this._delegate,e))}catch(r){throw ro(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,et.m9)(e))instanceof vi&&Fp(this._delegate,e)}set(e,r){r=eg("DocumentReference.set",r);try{return r?jm(this._delegate,e,r):jm(this._delegate,e)}catch(o){throw ro(o,"setDoc()","DocumentReference.set()")}}update(e,r,...o){try{return 1===arguments.length?Qp(this._delegate,e):Qp(this._delegate,e,r,...o)}catch(u){throw ro(u,"updateDoc()","DocumentReference.update()")}}delete(){return function d_(i){return Xc(pr(i.firestore,Li),[new ea(i._key,Yi.none())])}(this._delegate)}onSnapshot(...e){const r=sg(e),o=og(e,u=>new Ql(this.firestore,new ru(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return h_(this._delegate,r,o)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function c_(i){i=pr(i,vi);const e=pr(i.firestore,Li),r=ws(e),o=new hc(e);return function no(i,e){const r=new Rt;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(o=(0,te.Z)(function*(u,f,v){try{const A=yield function(V,K){const re=ge(V);return re.persistence.runTransaction("read document","readonly",Ee=>re.Wn.Rn(Ee,K))}(u,f);A.isFoundDocument()?v.resolve(A):A.isNoDocument()?v.resolve(null):v.reject(new $e(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(A){const V=zc(A,`Failed to get document '${f} from cache`);v.reject(V)}}),function(u,f,v){return o.apply(this,arguments)})(yield xp(i),e,r);var o})),r.promise}(r,i._key).then(u=>new ru(e,o,i._key,u,new Uu(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Bm(i){i=pr(i,vi);const e=pr(i.firestore,Li);return uc(ws(e),i._key,{source:"server"}).then(r=>oa(e,i,r))}(this._delegate):function u_(i){i=pr(i,vi);const e=pr(i.firestore,Li);return uc(ws(e),i._key).then(r=>oa(e,i,r))}(this._delegate),r.then(o=>new Ql(this.firestore,new ru(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Bo(this.firestore,this._delegate.withConverter(e?fc.getInstance(this.firestore,e):null))}}function ro(i,e,r){return i.message=i.message.replace(e,r),i}function sg(i){for(const e of i)if("object"==typeof e&&!uf(e))return e;return{}}function og(i,e){var r,o;let u;return u=uf(i[0])?i[0]:uf(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:f=>{u.next&&u.next(e(f))},error:null===(r=u.error)||void 0===r?void 0:r.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class Ql{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new Bo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return xm(this._delegate,e._delegate)}}class Jl extends Ql{data(e){const r=this._delegate.data(e);return function le(i,e){i||B()}(void 0!==r),r}}class po{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new Hd(e)}where(e,r,o){try{return new po(this.firestore,su(this._delegate,function i_(i,e,r){const o=e,u=jd("where",i);return new Mm(u,o,r)}(e,r,o)))}catch(u){throw ro(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new po(this.firestore,su(this._delegate,function o_(i,e="asc"){const r=e,o=jd("orderBy",i);return new s_(o,r)}(e,r)))}catch(o){throw ro(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new po(this.firestore,su(this._delegate,function qp(i){return kp("limit",i),new zp("limit",i,"F")}(e)))}catch(r){throw ro(r,"limit()","Query.limit()")}}limitToLast(e){try{return new po(this.firestore,su(this._delegate,function Pm(i){return kp("limitToLast",i),new zp("limitToLast",i,"L")}(e)))}catch(r){throw ro(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new po(this.firestore,su(this._delegate,function Om(...i){return new Wp("startAt",i,!0)}(...e)))}catch(r){throw ro(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new po(this.firestore,su(this._delegate,function km(...i){return new Wp("startAfter",i,!1)}(...e)))}catch(r){throw ro(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new po(this.firestore,su(this._delegate,function Nm(...i){return new Zp("endBefore",i,!0)}(...e)))}catch(r){throw ro(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new po(this.firestore,su(this._delegate,function Lm(...i){return new Zp("endAt",i,!1)}(...e)))}catch(r){throw ro(r,"endAt()","Query.endAt()")}}isEqual(e){return vm(this._delegate,e._delegate)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function Kl(i){i=pr(i,Ks);const e=pr(i.firestore,Li),r=ws(e),o=new hc(e);return function Yh(i,e){const r=new Rt;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(o=(0,te.Z)(function*(u,f,v){try{const A=yield Dh(u,f,!0),V=new lp(f,A.zn),K=V.Po(A.documents),re=V.applyChanges(K,!1);v.resolve(re.snapshot)}catch(A){const V=zc(A,`Failed to execute query '${f} against cache`);v.reject(V)}}),function(u,f,v){return o.apply(this,arguments)})(yield xp(i),e,r);var o})),r.promise}(r,i._query).then(u=>new iu(e,o,i,u))}(this._delegate):"server"===(null==e?void 0:e.source)?function l_(i){i=pr(i,Ks);const e=pr(i.firestore,Li),r=ws(e),o=new hc(e);return Uo(r,i._query,{source:"server"}).then(u=>new iu(e,o,i,u))}(this._delegate):function Vm(i){i=pr(i,Ks);const e=pr(i.firestore,Li),r=ws(e),o=new hc(e);return Gp(i._query),Uo(r,i._query).then(u=>new iu(e,o,i,u))}(this._delegate),r.then(o=>new ag(this.firestore,new iu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const r=sg(e),o=og(e,u=>new ag(this.firestore,new iu(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return h_(this._delegate,r,o)}withConverter(e){return new po(this.firestore,this._delegate.withConverter(e?fc.getInstance(this.firestore,e):null))}}class m_{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Jl(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ag{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new po(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Jl(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new m_(this._firestore,r))}forEach(e,r){this._delegate.forEach(o=>{e.call(r,new Jl(this._firestore,o))})}isEqual(e){return xm(this._delegate,e._delegate)}}class Xl extends po{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Bo(this.firestore,e):null}doc(e){try{return new Bo(this.firestore,void 0===e?Fd(this._delegate):Fd(this._delegate,e))}catch(r){throw ro(r,"doc()","CollectionReference.doc()")}}add(e){return function $m(i,e){const r=pr(i.firestore,Li),o=Fd(i),u=af(i.converter,e);return Xc(r,[tf(lc(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Yi.exists(!1))]).then(()=>o)}(this._delegate,e).then(r=>new Bo(this.firestore,r))}isEqual(e){return Fp(this._delegate,e._delegate)}withConverter(e){return new Xl(this.firestore,this._delegate.withConverter(e?fc.getInstance(this.firestore,e):null))}}function el(i){return pr(i,vi)}class ug{constructor(...e){this._delegate=new tu(...e)}static documentId(){return new ug(tr.keyField().canonicalString())}isEqual(e){return(e=(0,et.m9)(e))instanceof tu&&this._delegate._internalPath.isEqual(e._internalPath)}}class tl{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Ca(){return new Ud("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new tl(e)}static delete(){const e=function ou(){return new zl("deleteField")}();return e._methodName="FieldValue.delete",new tl(e)}static arrayUnion(...e){const r=function Aa(...i){return new kv("arrayUnion",i)}(...e);return r._methodName="FieldValue.arrayUnion",new tl(r)}static arrayRemove(...e){const r=function Gm(...i){return new Vp("arrayRemove",i)}(...e);return r._methodName="FieldValue.arrayRemove",new tl(r)}static increment(e){const r=function zm(i){return new n_("increment",i)}(e);return r._methodName="FieldValue.increment",new tl(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const y_={Firestore:ng,GeoPoint:Xh,Timestamp:Hi,Blob:Yl,Transaction:lf,WriteBatch:ig,DocumentReference:Bo,DocumentSnapshot:Ql,Query:po,QueryDocumentSnapshot:Jl,QuerySnapshot:ag,CollectionReference:Xl,FieldPath:ug,FieldValue:tl,setLogLevel:function rg(i){!function I(i){Fs.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function v_(i){(function __(i,e){i.INTERNAL.registerComponent(new Ye.wA("firestore-compat",r=>{const o=r.getProvider("app-compat").getImmediate(),u=r.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},y_)))})(i,(e,r)=>new ng(e,r,new g_)),i.registerVersion("@firebase/firestore-compat","0.1.13")}(Xe.Z);var Zm=U(7579),w_=U(6451),df=U(5363),pc=U(3900),E_=U(6063);class I_ extends Zm.x{constructor(e=1/0,r=1/0,o=E_.l){super(),this._bufferSize=e,this._windowTime=r,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,r)}next(e){const{isStopped:r,_buffer:o,_infiniteTimeWindow:u,_timestampProvider:f,_windowTime:v}=this;r||(o.push(e),!u&&o.push(f.now()+v)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(e),{_infiniteTimeWindow:o,_buffer:u}=this,f=u.slice();for(let v=0;v<f.length&&!e.closed;v+=o?1:2)e.next(f[v]);return this._checkFinalizedStatuses(e),r}_trimBuffer(){const{_bufferSize:e,_timestampProvider:r,_buffer:o,_infiniteTimeWindow:u}=this,f=(u?1:2)*e;if(e<1/0&&f<o.length&&o.splice(0,o.length-f),!u){const v=r.now();let A=0;for(let V=1;V<o.length&&o[V]<=v;V+=2)A=V;A&&o.splice(0,A+1)}}}var b_=U(3099);function Km(i,e,r){var o,u;let f,v=!1;return i&&"object"==typeof i?(f=null!==(o=i.bufferSize)&&void 0!==o?o:1/0,e=null!==(u=i.windowTime)&&void 0!==u?u:1/0,v=!!i.refCount,r=i.scheduler):f=null!=i?i:1/0,(0,b_.B)({connector:()=>new I_(f,e,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:v})}var Ym=U(590),Qm=U(576);function cg(i,e){return(0,Qm.m)(e)?(0,pc.w)(()=>i,e):(0,pc.w)(()=>i)}var hf=U(9468),lg=U(440),Jm=U(127);const dg=new E.OlP("angularfire2.auth.use-emulator"),hg=new E.OlP("angularfire2.auth.settings"),fg=new E.OlP("angularfire2.auth.tenant-id"),pg=new E.OlP("angularfire2.auth.langugage-code"),gc=new E.OlP("angularfire2.auth.use-device-language"),ey=new E.OlP("angularfire.auth.persistence"),ty=(i,e,r,o,u,f,v,A)=>(0,we.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const V=e.runOutsideAngular(()=>i.auth());if(r&&V.useEmulator(...r),o&&(V.tenantId=o),V.languageCode=u,f&&V.useDeviceLanguage(),v)for(const[K,re]of Object.entries(v))V.settings[K]=re;return A&&V.setPersistence(A),V},[r,o,u,f,v,A]);let nl=(()=>{class i{constructor(r,o,u,f,v,A,V,K,re,Ee,He,ct){const pt=new Zm.x,Wt=(0,ve.of)(void 0).pipe((0,df.Q)(v.outsideAngular),(0,pc.w)(()=>f.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,2209)))),(0,Ge.U)(()=>(0,we.on)(r,f,o)),(0,Ge.U)(Sn=>ty(Sn,f,A,K,re,Ee,V,He)),Km({bufferSize:1,refCount:!1}));if((0,Pe.PM)(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ve.of)(null);else{Wt.pipe((0,Ym.P)()).subscribe();const Fi=Wt.pipe((0,pc.w)($r=>$r.getRedirectResult().then(cs=>cs,()=>null)),Ie.iC,Km({bufferSize:1,refCount:!1})),Es=Wt.pipe((0,pc.w)($r=>new W.y(cs=>({unsubscribe:f.runOutsideAngular(()=>$r.onAuthStateChanged(Sa=>cs.next(Sa),Sa=>cs.error(Sa),()=>cs.complete()))})))),To=Wt.pipe((0,pc.w)($r=>new W.y(cs=>({unsubscribe:f.runOutsideAngular(()=>$r.onIdTokenChanged(Sa=>cs.next(Sa),Sa=>cs.error(Sa),()=>cs.complete()))}))));this.authState=Fi.pipe(cg(Es),(0,hf.R)(v.outsideAngular),(0,df.Q)(v.insideAngular)),this.user=Fi.pipe(cg(To),(0,hf.R)(v.outsideAngular),(0,df.Q)(v.insideAngular)),this.idToken=this.user.pipe((0,pc.w)($r=>$r?(0,be.D)($r.getIdToken()):(0,ve.of)(null))),this.idTokenResult=this.user.pipe((0,pc.w)($r=>$r?(0,be.D)($r.getIdTokenResult()):(0,ve.of)(null))),this.credential=(0,w_.T)(Fi,pt,this.authState.pipe((0,rt.h)($r=>!$r))).pipe((0,Ge.U)($r=>(null==$r?void 0:$r.user)?$r:null),(0,hf.R)(v.outsideAngular),(0,df.Q)(v.insideAngular))}return(0,we.pX)(this,Wt,f,{spy:{apply:(Sn,Fi,Es)=>{(Sn.startsWith("signIn")||Sn.startsWith("createUser"))&&Es.then(To=>pt.next(To))}}})}}return i.\u0275fac=function(r){return new(r||i)(E.LFG(we.Dh),E.LFG(we.xv,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(Ie.HU),E.LFG(dg,8),E.LFG(hg,8),E.LFG(fg,8),E.LFG(pg,8),E.LFG(gc,8),E.LFG(ey,8),E.LFG(lg.nm,8))},i.\u0275prov=E.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function D_(i,e){return function gg(i,e=x.z){return new W.y(r=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},r)}):o=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=o&&o()}})}(i,e)}function ff(i,e){return D_(i,e).pipe((0,Ge.U)(r=>({payload:r,type:"query"})))}function mg(i,e){return ff(i,e).pipe((0,ht.O)(void 0),xe(),(0,Ge.U)(([r,o])=>{const u=o.payload.docChanges(),f=u.map(v=>({type:v.type,payload:v}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((v,A)=>{const V=u.find(re=>re.doc.ref.isEqual(v.ref)),K=null==r?void 0:r.payload.docs.find(re=>re.ref.isEqual(v.ref));V&&JSON.stringify(V.doc.metadata)===JSON.stringify(v.metadata)||!V&&K&&JSON.stringify(K.metadata)===JSON.stringify(v.metadata)||f.push({type:"modified",payload:{oldIndex:A,newIndex:A,type:"modified",doc:v}})}),f}))}function pn(i,e,r){return mg(i,r).pipe((0,Je.R)((o,u)=>function T_(i,e,r){return e.forEach(o=>{r.indexOf(o.type)>-1&&(i=function C_(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return yg(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=i.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return yg(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return yg(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(f=>f.payload),e),[]),function X(i,e=oe.y){return i=null!=i?i:Ce,(0,Re.e)((r,o)=>{let u,f=!0;r.subscribe(new Ae.Q(o,v=>{const A=e(v);(f||!i(u,A))&&(f=!1,u=A,o.next(v))}))})}(),(0,Ge.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function yg(i,e,r,...o){const u=i.slice();return u.splice(e,r,...o),u}function Gd(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class ry{constructor(e,r,o){this.ref=e,this.query=r,this.afs=o}stateChanges(e){let r=mg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,Ge.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),r.pipe((0,ht.O)(void 0),xe(),(0,rt.h)(([o,u])=>u.length>0||!o),(0,Ge.U)(([o,u])=>u),Ie.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Je.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=Gd(e);return pn(this.query,r,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(e={}){return ff(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),Ie.iC)}get(e){return(0,be.D)(this.query.get(e)).pipe(Ie.iC)}add(e){return this.ref.add(e)}doc(e){return new zd(this.ref.doc(e),this.afs)}}class zd{constructor(e,r){this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const o=this.ref.collection(e),{ref:u,query:f}=sy(o,r);return new ry(u,f,this.afs)}snapshotChanges(){return function ny(i,e){return D_(i,e).pipe((0,ht.O)(void 0),xe(),(0,Ge.U)(([r,o])=>o.exists?(null==r?void 0:r.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ge.U)(({payload:r})=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data()))}get(e){return(0,be.D)(this.ref.get(e)).pipe(Ie.iC)}}class pf{constructor(e,r){this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?mg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)),(0,rt.h)(r=>r.length>0),Ie.iC):mg(this.query,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Je.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=Gd(e);return pn(this.query,r,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(e={}){return ff(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ge.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),Ie.iC)}get(e){return(0,be.D)(this.query.get(e)).pipe(Ie.iC)}}const qi=new E.OlP("angularfire2.enableFirestorePersistence"),A_=new E.OlP("angularfire2.firestore.persistenceSettings"),iy=new E.OlP("angularfire2.firestore.settings"),S_=new E.OlP("angularfire2.firestore.use-emulator");function sy(i,e=(r=>r)){return{query:e(i),ref:i}}let _g=(()=>{class i{constructor(r,o,u,f,v,A,V,K,re,Ee,He,ct,pt,Wt,Sn,Fi,Es){this.schedulers=V;const To=(0,we.on)(r,A,o),$r=re;Ee&&ty(To,A,He,pt,Wt,Sn,ct,Fi),[this.firestore,this.persistenceEnabled$]=(0,we.cc)(`${To.name}.firestore`,"AngularFirestore",To.name,()=>{const cs=A.runOutsideAngular(()=>To.firestore());if(f&&cs.settings(f),$r&&cs.useEmulator(...$r),u&&!(0,Pe.PM)(v)){const Sa=()=>{try{return(0,be.D)(cs.enablePersistence(K||void 0).then(()=>!0,()=>!1))}catch(qd){return"undefined"!=typeof console&&console.warn(qd),(0,ve.of)(!1)}};return[cs,A.runOutsideAngular(Sa)]}return[cs,(0,ve.of)(!1)]},[f,$r,u])}collection(r,o){let u;u="string"==typeof r?this.firestore.collection(r):r;const{ref:f,query:v}=sy(u,o),A=this.schedulers.ngZone.run(()=>f);return new ry(A,v,this)}collectionGroup(r,o){const u=o||(v=>v),f=this.firestore.collectionGroup(r);return new pf(u(f),this)}doc(r){let o;o="string"==typeof r?this.firestore.doc(r):r;const u=this.schedulers.ngZone.run(()=>o);return new zd(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(r){return new(r||i)(E.LFG(we.Dh),E.LFG(we.xv,8),E.LFG(qi,8),E.LFG(iy,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(Ie.HU),E.LFG(A_,8),E.LFG(S_,8),E.LFG(nl,8),E.LFG(dg,8),E.LFG(hg,8),E.LFG(fg,8),E.LFG(pg,8),E.LFG(gc,8),E.LFG(ey,8),E.LFG(lg.nm,8))},i.\u0275prov=E.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),oy=(()=>{class i{constructor(){Jm.Z.registerVersion("angularfire",Ie.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:i,providers:[{provide:qi,useValue:!0},{provide:A_,useValue:r}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=E.oAB({type:i}),i.\u0275inj=E.cJS({providers:[_g]}),i})()},2084:(Ct,Ve,U)=>{"use strict";U.d(Ve,{Q1:()=>Gs,TE:()=>jo});var E=U(8306),x=U(9646),W=U(8996),be=U(4986),ve=U(4482),Ie=U(5403),Ae=U(4004),xe=U(3900),oe=U(5813),X=U(5e3),Ce=U(2011),ht=U(3942),Ge=U(5861),Je=U(9681),rt=U(2090),we=U(4859);const Pe="firebasestorage.googleapis.com",ze="storageBucket";class Fe extends rt.ZR{constructor(P,Z){super(Ye(P),`Firebase Storage: ${Z} (${Ye(P)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fe.prototype)}_codeEquals(P){return Ye(P)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(P){this.customData.serverResponse=P,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Ye(N){return"storage/"+N}function Et(){return new Fe("unknown","An unknown error occurred, please check the error payload for server response.")}function st(){return new Fe("canceled","User canceled the upload/download.")}function gr(){return new Fe("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function nr(N){return new Fe("invalid-argument",N)}function Yt(){return new Fe("app-deleted","The Firebase app was deleted.")}function Rn(N){return new Fe("invalid-root-operation","The operation '"+N+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yt(N,P){return new Fe("invalid-format","String does not match format '"+N+"': "+P)}function Vn(N){throw new Fe("internal-error","Internal error: "+N)}class En{constructor(P,Z){this.bucket=P,this.path_=Z}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const P=encodeURIComponent;return"/b/"+P(this.bucket)+"/o/"+P(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(P,Z){let J;try{J=En.makeFromUrl(P,Z)}catch(me){return new En(P,"")}if(""===J.path)return J;throw function Tt(N){return new Fe("invalid-default-bucket","Invalid default bucket '"+N+"'.")}(P)}static makeFromUrl(P,Z){let J=null;const me="([A-Za-z0-9.\\-_]+)",Nt=new RegExp("^gs://"+me+"(/(.*))?$","i");function on(Qr){Qr.path_=decodeURIComponent(Qr.path)}const Xn=Z.replace(/[.]/g,"\\."),Sr=[{regex:Nt,indices:{bucket:1,path:3},postModify:function Ne(Qr){"/"===Qr.path.charAt(Qr.path.length-1)&&(Qr.path_=Qr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Xn}/v[A-Za-z0-9_]+/b/${me}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:on},{regex:new RegExp(`^https?://${Z===Pe?"(?:storage.googleapis.com|storage.cloud.google.com)":Z}/${me}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:on}];for(let Qr=0;Qr<Sr.length;Qr++){const ar=Sr[Qr],gs=ar.regex.exec(P);if(gs){let zs=gs[ar.indices.path];zs||(zs=""),J=new En(gs[ar.indices.bucket],zs),ar.postModify(J);break}}if(null==J)throw function Be(N){return new Fe("invalid-url","Invalid URL '"+N+"'.")}(P);return J}}class Un{constructor(P){this.promise_=Promise.reject(P)}getPromise(){return this.promise_}cancel(P=!1){}}function zr(N){return"string"==typeof N||N instanceof String}function tt(N){return xn()&&N instanceof Blob}function xn(){return"undefined"!=typeof Blob}function At(N,P,Z,J){if(J<P)throw nr(`Invalid value for '${N}'. Expected ${P} or greater.`);if(J>Z)throw nr(`Invalid value for '${N}'. Expected ${Z} or less.`)}function mn(N,P,Z){let J=P;return null==Z&&(J=`https://${P}`),`${Z}://${J}/v0${N}`}function Dn(N){const P=encodeURIComponent;let Z="?";for(const J in N)N.hasOwnProperty(J)&&(Z=Z+(P(J)+"=")+P(N[J])+"&");return Z=Z.slice(0,-1),Z}var Ln=(()=>{return(N=Ln||(Ln={}))[N.NO_ERROR=0]="NO_ERROR",N[N.NETWORK_ERROR=1]="NETWORK_ERROR",N[N.ABORT=2]="ABORT",Ln;var N})();class Ri{constructor(P,Z,J,me,Ne,nt,Nt,It,on,rn,Xn){this.url_=P,this.method_=Z,this.headers_=J,this.body_=me,this.successCodes_=Ne,this.additionalRetryCodes_=nt,this.callback_=Nt,this.errorCallback_=It,this.timeout_=on,this.progressCallback_=rn,this.connectionFactory_=Xn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Dr,or)=>{this.resolve_=Dr,this.reject_=or,this.start_()})}start_(){const Z=(J,me)=>{const Ne=this.resolve_,nt=this.reject_,Nt=me.connection;if(me.wasSuccessCode)try{const It=this.callback_(Nt,Nt.getResponse());!function Kn(N){return void 0!==N}(It)?Ne():Ne(It)}catch(It){nt(It)}else if(null!==Nt){const It=Et();It.serverResponse=Nt.getErrorText(),nt(this.errorCallback_?this.errorCallback_(Nt,It):It)}else nt(me.canceled?this.appDelete_?Yt():st():function Se(){return new Fe("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?Z(0,new qt(!1,null,!0)):this.backoffId_=function Hr(N,P,Z){let J=1,me=null,Ne=null,nt=!1,Nt=0;function It(){return 2===Nt}let on=!1;function rn(...hr){on||(on=!0,P.apply(null,hr))}function Xn(hr){me=setTimeout(()=>{me=null,N(or,It())},hr)}function Dr(){Ne&&clearTimeout(Ne)}function or(hr,...rs){if(on)return void Dr();if(hr)return Dr(),void rn.call(null,hr,...rs);if(It()||nt)return Dr(),void rn.call(null,hr,...rs);let Sr;J<64&&(J*=2),1===Nt?(Nt=2,Sr=0):Sr=1e3*(J+Math.random()),Xn(Sr)}let Hn=!1;function Pi(hr){Hn||(Hn=!0,Dr(),!on&&(null!==me?(hr||(Nt=2),clearTimeout(me),Xn(0)):hr||(Nt=1)))}return Xn(0),Ne=setTimeout(()=>{nt=!0,Pi(!0)},Z),Pi}((J,me)=>{if(me)return void J(!1,new qt(!1,null,!0));const Ne=this.connectionFactory_();this.pendingConnection_=Ne;const nt=Nt=>{null!==this.progressCallback_&&this.progressCallback_(Nt.loaded,Nt.lengthComputable?Nt.total:-1)};null!==this.progressCallback_&&Ne.addUploadProgressListener(nt),Ne.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Ne.removeUploadProgressListener(nt),this.pendingConnection_=null;const Nt=Ne.getErrorCode()===Ln.NO_ERROR,It=Ne.getStatus();if(!Nt||this.isRetryStatusCode_(It)){const rn=Ne.getErrorCode()===Ln.ABORT;return void J(!1,new qt(!1,null,rn))}const on=-1!==this.successCodes_.indexOf(It);J(!0,new qt(on,Ne))})},Z,this.timeout_)}getPromise(){return this.promise_}cancel(P){this.canceled_=!0,this.appDelete_=P||!1,null!==this.backoffId_&&function un(N){N(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(P){const Z=P>=500&&P<600,me=-1!==[408,429].indexOf(P),Ne=-1!==this.additionalRetryCodes_.indexOf(P);return Z||me||Ne}}class qt{constructor(P,Z,J){this.wasSuccessCode=P,this.connection=Z,this.canceled=!!J}}function Ot(...N){const P=function Dt(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==P){const Z=new P;for(let J=0;J<N.length;J++)Z.append(N[J]);return Z.getBlob()}if(xn())return new Blob(N);throw new Fe("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Mt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vn{constructor(P,Z){this.data=P,this.contentType=Z||null}}function yr(N,P){switch(N){case Mt.RAW:return new vn(di(P));case Mt.BASE64:case Mt.BASE64URL:return new vn(ue(N,P));case Mt.DATA_URL:return new vn(function We(N){const P=new ce(N);return P.base64?ue(Mt.BASE64,P.rest):function ie(N){let P;try{P=decodeURIComponent(N)}catch(Z){throw yt(Mt.DATA_URL,"Malformed data URL.")}return di(P)}(P.rest)}(P),function Oe(N){return new ce(N).contentType}(P))}throw Et()}function di(N){const P=[];for(let Z=0;Z<N.length;Z++){let J=N.charCodeAt(Z);J<=127?P.push(J):J<=2047?P.push(192|J>>6,128|63&J):55296==(64512&J)?Z<N.length-1&&56320==(64512&N.charCodeAt(Z+1))?(J=65536|(1023&J)<<10|1023&N.charCodeAt(++Z),P.push(240|J>>18,128|J>>12&63,128|J>>6&63,128|63&J)):P.push(239,191,189):56320==(64512&J)?P.push(239,191,189):P.push(224|J>>12,128|J>>6&63,128|63&J)}return new Uint8Array(P)}function ue(N,P){switch(N){case Mt.BASE64:{const me=-1!==P.indexOf("-"),Ne=-1!==P.indexOf("_");if(me||Ne)throw yt(N,"Invalid character '"+(me?"-":"_")+"' found: is it base64url encoded?");break}case Mt.BASE64URL:{const me=-1!==P.indexOf("+"),Ne=-1!==P.indexOf("/");if(me||Ne)throw yt(N,"Invalid character '"+(me?"+":"/")+"' found: is it base64 encoded?");P=P.replace(/-/g,"+").replace(/_/g,"/");break}}let Z;try{Z=function wi(N){return atob(N)}(P)}catch(me){throw yt(N,"Invalid character found")}const J=new Uint8Array(Z.length);for(let me=0;me<Z.length;me++)J[me]=Z.charCodeAt(me);return J}class ce{constructor(P){this.base64=!1,this.contentType=null;const Z=P.match(/^data:([^,]+)?,/);if(null===Z)throw yt(Mt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const J=Z[1]||null;null!=J&&(this.base64=function vt(N,P){return N.length>=P.length&&N.substring(N.length-P.length)===P}(J,";base64"),this.contentType=this.base64?J.substring(0,J.length-";base64".length):J),this.rest=P.substring(P.indexOf(",")+1)}}class $t{constructor(P,Z){let J=0,me="";tt(P)?(this.data_=P,J=P.size,me=P.type):P instanceof ArrayBuffer?(Z?this.data_=new Uint8Array(P):(this.data_=new Uint8Array(P.byteLength),this.data_.set(new Uint8Array(P))),J=this.data_.length):P instanceof Uint8Array&&(Z?this.data_=P:(this.data_=new Uint8Array(P.length),this.data_.set(P)),J=P.length),this.size_=J,this.type_=me}size(){return this.size_}type(){return this.type_}slice(P,Z){if(tt(this.data_)){const me=function Ji(N,P,Z){return N.webkitSlice?N.webkitSlice(P,Z):N.mozSlice?N.mozSlice(P,Z):N.slice?N.slice(P,Z):null}(this.data_,P,Z);return null===me?null:new $t(me)}{const J=new Uint8Array(this.data_.buffer,P,Z-P);return new $t(J,!0)}}static getBlob(...P){if(xn()){const Z=P.map(J=>J instanceof $t?J.data_:J);return new $t(Ot.apply(null,Z))}{const Z=P.map(nt=>zr(nt)?yr(Mt.RAW,nt).data:nt.data_);let J=0;Z.forEach(nt=>{J+=nt.byteLength});const me=new Uint8Array(J);let Ne=0;return Z.forEach(nt=>{for(let Nt=0;Nt<nt.length;Nt++)me[Ne++]=nt[Nt]}),new $t(me,!0)}}uploadData(){return this.data_}}function Pn(N){let P;try{P=JSON.parse(N)}catch(Z){return null}return function Gr(N){return"object"==typeof N&&!Array.isArray(N)}(P)?P:null}function Ur(N){const P=N.lastIndexOf("/",N.length-2);return-1===P?N:N.slice(P+1)}function ln(N,P){return P}class On{constructor(P,Z,J,me){this.server=P,this.local=Z||P,this.writable=!!J,this.xform=me||ln}}let qr=null;function Qt(){if(qr)return qr;const N=[];N.push(new On("bucket")),N.push(new On("generation")),N.push(new On("metageneration")),N.push(new On("name","fullPath",!0));const Z=new On("name");Z.xform=function P(Ne,nt){return function ti(N){return!zr(N)||N.length<2?N:Ur(N)}(nt)},N.push(Z);const me=new On("size");return me.xform=function J(Ne,nt){return void 0!==nt?Number(nt):nt},N.push(me),N.push(new On("timeCreated")),N.push(new On("updated")),N.push(new On("md5Hash",null,!0)),N.push(new On("cacheControl",null,!0)),N.push(new On("contentDisposition",null,!0)),N.push(new On("contentEncoding",null,!0)),N.push(new On("contentLanguage",null,!0)),N.push(new On("contentType",null,!0)),N.push(new On("metadata","customMetadata",!0)),qr=N,qr}function Wn(N,P,Z){const J=Pn(P);return null===J?null:function Ui(N,P,Z){const J={type:"file"},me=Z.length;for(let Ne=0;Ne<me;Ne++){const nt=Z[Ne];J[nt.local]=nt.xform(J,P[nt.server])}return function xi(N,P){Object.defineProperty(N,"ref",{get:function Z(){const Ne=new En(N.bucket,N.fullPath);return P._makeStorageReference(Ne)}})}(J,N),J}(N,J,Z)}function Wr(N,P){const Z={},J=P.length;for(let me=0;me<J;me++){const Ne=P[me];Ne.writable&&(Z[Ne.server]=N[Ne.local])}return JSON.stringify(Z)}const _r="prefixes";class cr{constructor(P,Z,J,me){this.url=P,this.method=Z,this.handler=J,this.timeout=me,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function vr(N){if(!N)throw Et()}function ir(N,P){return function Z(J,me){const Ne=Wn(N,me,P);return vr(null!==Ne),Ne}}function gt(N){return function P(Z,J){let me;return me=401===Z.getStatus()?Z.getErrorText().includes("Firebase App Check token is invalid")?function ye(){return new Fe("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Te(){return new Fe("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Z.getStatus()?function Ut(N){return new Fe("quota-exceeded","Quota for bucket '"+N+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(N.bucket):403===Z.getStatus()?function Ue(N){return new Fe("unauthorized","User does not have permission to access '"+N+"'.")}(N.path):J,me.serverResponse=J.serverResponse,me}}function Pt(N){const P=gt(N);return function Z(J,me){let Ne=P(J,me);return 404===J.getStatus()&&(Ne=function et(N){return new Fe("object-not-found","Object '"+N+"' does not exist.")}(N.path)),Ne.serverResponse=me.serverResponse,Ne}}function Jt(N,P,Z){const me=mn(P.fullServerUrl(),N.host,N._protocol),nt=N.maxOperationRetryTime,Nt=new cr(me,"GET",ir(N,Z),nt);return Nt.errorHandler=Pt(P),Nt}function Qn(N,P,Z,J,me){const Ne={};Ne.prefix=P.isRoot?"":P.path+"/",Z&&Z.length>0&&(Ne.delimiter=Z),J&&(Ne.pageToken=J),me&&(Ne.maxResults=me);const Nt=mn(P.bucketOnlyServerUrl(),N.host,N._protocol),on=N.maxOperationRetryTime,rn=new cr(Nt,"GET",function hi(N,P){return function Z(J,me){const Ne=function Br(N,P,Z){const J=Pn(Z);return null===J?null:function Xi(N,P,Z){const J={prefixes:[],items:[],nextPageToken:Z.nextPageToken};if(Z[_r])for(const me of Z[_r]){const Ne=me.replace(/\/$/,""),nt=N._makeStorageReference(new En(P,Ne));J.prefixes.push(nt)}if(Z.items)for(const me of Z.items){const Ne=N._makeStorageReference(new En(P,me.name));J.items.push(Ne)}return J}(N,P,J)}(N,P,me);return vr(null!==Ne),Ne}}(N,P.bucket),on);return rn.urlParams=Ne,rn.errorHandler=gt(P),rn}function lr(N,P,Z){const J=Object.assign({},Z);return J.fullPath=N.path,J.size=P.size(),J.contentType||(J.contentType=function kn(N,P){return N&&N.contentType||P&&P.type()||"application/octet-stream"}(null,P)),J}class kr{constructor(P,Z,J,me){this.current=P,this.total=Z,this.finalized=!!J,this.metadata=me||null}}function fi(N,P){let Z=null;try{Z=N.getResponseHeader("X-Goog-Upload-Status")}catch(me){vr(!1)}return vr(!!Z&&-1!==(P||["active"]).indexOf(Z)),Z}const Kr={STATE_CHANGED:"state_changed"},Nn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Cn(N){switch(N){case"running":case"pausing":case"canceling":return Nn.RUNNING;case"paused":return Nn.PAUSED;case"success":return Nn.SUCCESS;case"canceled":return Nn.CANCELED;default:return Nn.ERROR}}class Ps{constructor(P,Z,J){if(function Si(N){return"function"==typeof N}(P)||null!=Z||null!=J)this.next=P,this.error=null!=Z?Z:void 0,this.complete=null!=J?J:void 0;else{const Ne=P;this.next=Ne.next,this.error=Ne.error,this.complete=Ne.complete}}}function si(N){return(...P)=>{Promise.resolve().then(()=>N(...P))}}class Os extends class Ii{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ln.NO_ERROR,this.sendPromise_=new Promise(P=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ln.ABORT,P()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ln.NETWORK_ERROR,P()}),this.xhr_.addEventListener("load",()=>{P()})})}send(P,Z,J,me){if(this.sent_)throw Vn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Z,P,!0),void 0!==me)for(const Ne in me)me.hasOwnProperty(Ne)&&this.xhr_.setRequestHeader(Ne,me[Ne].toString());return void 0!==J?this.xhr_.send(J):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vn("cannot .getStatus() before sending");try{return this.xhr_.status}catch(P){return-1}}getResponse(){if(!this.sent_)throw Vn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(P){return this.xhr_.getResponseHeader(P)}addUploadProgressListener(P){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",P)}removeUploadProgressListener(P){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",P)}}{initXhr(){this.xhr_.responseType="text"}}function Tn(){return new Os}class Ys{constructor(P,Z,J=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=P,this._blob=Z,this._metadata=J,this._mappings=Qt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=me=>{this._request=void 0,this._chunkMultiplier=1,me._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=me,this._transition("error"))},this._metadataErrorHandler=me=>{this._request=void 0,me._codeEquals("canceled")?this.completeTransitions_():(this._error=me,this._transition("error"))},this._promise=new Promise((me,Ne)=>{this._resolve=me,this._reject=Ne,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const P=this._transferred;return Z=>this._updateProgress(P+Z)}_shouldDoResumable(P){return P.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(P){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Z,J])=>{switch(this._state){case"running":P(Z,J);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((P,Z)=>{const J=function Ei(N,P,Z,J,me){const Ne=P.bucketOnlyServerUrl(),nt=lr(P,J,me),Nt={name:nt.fullPath},It=mn(Ne,N.host,N._protocol),rn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${J.size()}`,"X-Goog-Upload-Header-Content-Type":nt.contentType,"Content-Type":"application/json; charset=utf-8"},Xn=Wr(nt,Z),Hn=new cr(It,"POST",function or(Pi){let hr;fi(Pi);try{hr=Pi.getResponseHeader("X-Goog-Upload-URL")}catch(rs){vr(!1)}return vr(zr(hr)),hr},N.maxUploadRetryTime);return Hn.urlParams=Nt,Hn.headers=rn,Hn.body=Xn,Hn.errorHandler=gt(P),Hn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),me=this._ref.storage._makeRequest(J,Tn,P,Z);this._request=me,me.getPromise().then(Ne=>{this._request=void 0,this._uploadUrl=Ne,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const P=this._uploadUrl;this._resolveToken((Z,J)=>{const me=function br(N,P,Z,J){const It=new cr(Z,"POST",function Ne(on){const rn=fi(on,["active","final"]);let Xn=null;try{Xn=on.getResponseHeader("X-Goog-Upload-Size-Received")}catch(or){vr(!1)}Xn||vr(!1);const Dr=Number(Xn);return vr(!isNaN(Dr)),new kr(Dr,J.size(),"final"===rn)},N.maxUploadRetryTime);return It.headers={"X-Goog-Upload-Command":"query"},It.errorHandler=gt(P),It}(this._ref.storage,this._ref._location,P,this._blob),Ne=this._ref.storage._makeRequest(me,Tn,Z,J);this._request=Ne,Ne.getPromise().then(nt=>{nt=nt,this._request=void 0,this._updateProgress(nt.current),this._needToFetchStatus=!1,nt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const P=262144*this._chunkMultiplier,Z=new kr(this._transferred,this._blob.size()),J=this._uploadUrl;this._resolveToken((me,Ne)=>{let nt;try{nt=function pi(N,P,Z,J,me,Ne,nt,Nt){const It=new kr(0,0);if(nt?(It.current=nt.current,It.total=nt.total):(It.current=0,It.total=J.size()),J.size()!==It.total)throw function zt(){return new Fe("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const on=It.total-It.current;let rn=on;me>0&&(rn=Math.min(rn,me));const Xn=It.current,Hn={"X-Goog-Upload-Command":rn===on?"upload, finalize":"upload","X-Goog-Upload-Offset":`${It.current}`},Pi=J.slice(Xn,Xn+rn);if(null===Pi)throw gr();const Sr=new cr(Z,"POST",function hr(Qr,ar){const gs=fi(Qr,["active","final"]),$o=It.current+rn,zs=J.size();let qs;return qs="final"===gs?ir(P,Ne)(Qr,ar):null,new kr($o,zs,"final"===gs,qs)},P.maxUploadRetryTime);return Sr.headers=Hn,Sr.body=Pi.uploadData(),Sr.progressCallback=Nt||null,Sr.errorHandler=gt(N),Sr}(this._ref._location,this._ref.storage,J,this._blob,P,this._mappings,Z,this._makeProgressCallback())}catch(It){return this._error=It,void this._transition("error")}const Nt=this._ref.storage._makeRequest(nt,Tn,me,Ne);this._request=Nt,Nt.getPromise().then(It=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(It.current),It.finalized?(this._metadata=It.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((P,Z)=>{const J=Jt(this._ref.storage,this._ref._location,this._mappings),me=this._ref.storage._makeRequest(J,Tn,P,Z);this._request=me,me.getPromise().then(Ne=>{this._request=void 0,this._metadata=Ne,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((P,Z)=>{const J=function sn(N,P,Z,J,me){const Ne=P.bucketOnlyServerUrl(),nt={"X-Goog-Upload-Protocol":"multipart"},It=function Nt(){let Sr="";for(let Qr=0;Qr<2;Qr++)Sr+=Math.random().toString().slice(2);return Sr}();nt["Content-Type"]="multipart/related; boundary="+It;const on=lr(P,J,me),rn=Wr(on,Z),or=$t.getBlob("--"+It+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+rn+"\r\n--"+It+"\r\nContent-Type: "+on.contentType+"\r\n\r\n",J,"\r\n--"+It+"--");if(null===or)throw gr();const Hn={name:on.fullPath},Pi=mn(Ne,N.host,N._protocol),rs=N.maxUploadRetryTime,bi=new cr(Pi,"POST",ir(N,Z),rs);return bi.urlParams=Hn,bi.headers=nt,bi.body=or.uploadData(),bi.errorHandler=gt(P),bi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),me=this._ref.storage._makeRequest(J,Tn,P,Z);this._request=me,me.getPromise().then(Ne=>{this._request=void 0,this._metadata=Ne,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(P){const Z=this._transferred;this._transferred=P,this._transferred!==Z&&this._notifyObservers()}_transition(P){if(this._state!==P)switch(P){case"canceling":case"pausing":this._state=P,void 0!==this._request&&this._request.cancel();break;case"running":const Z="paused"===this._state;this._state=P,Z&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=P,this._notifyObservers();break;case"canceled":this._error=st(),this._state=P,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const P=Cn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:P,metadata:this._metadata,task:this,ref:this._ref}}on(P,Z,J,me){const Ne=new Ps(Z||void 0,J||void 0,me||void 0);return this._addObserver(Ne),()=>{this._removeObserver(Ne)}}then(P,Z){return this._promise.then(P,Z)}catch(P){return this.then(null,P)}_addObserver(P){this._observers.push(P),this._notifyObserver(P)}_removeObserver(P){const Z=this._observers.indexOf(P);-1!==Z&&this._observers.splice(Z,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Z=>{this._notifyObserver(Z)})}_finishPromise(){if(void 0!==this._resolve){let P=!0;switch(Cn(this._state)){case Nn.SUCCESS:si(this._resolve.bind(null,this.snapshot))();break;case Nn.CANCELED:case Nn.ERROR:si(this._reject.bind(null,this._error))();break;default:P=!1}P&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(P){switch(Cn(this._state)){case Nn.RUNNING:case Nn.PAUSED:P.next&&si(P.next.bind(P,this.snapshot))();break;case Nn.SUCCESS:P.complete&&si(P.complete.bind(P))();break;default:P.error&&si(P.error.bind(P,this._error))()}}resume(){const P="paused"===this._state||"pausing"===this._state;return P&&this._transition("running"),P}pause(){const P="running"===this._state;return P&&this._transition("pausing"),P}cancel(){const P="running"===this._state||"pausing"===this._state;return P&&this._transition("canceling"),P}}class dr{constructor(P,Z){this._service=P,this._location=Z instanceof En?Z:En.makeFromUrl(Z,P.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(P,Z){return new dr(P,Z)}get root(){const P=new En(this._location.bucket,"");return this._newRef(this._service,P)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ur(this._location.path)}get storage(){return this._service}get parent(){const P=function In(N){if(0===N.length)return null;const P=N.lastIndexOf("/");return-1===P?"":N.slice(0,P)}(this._location.path);if(null===P)return null;const Z=new En(this._location.bucket,P);return new dr(this._service,Z)}_throwIfRoot(P){if(""===this._location.path)throw Rn(P)}}function ft(N,P,Z){return bt.apply(this,arguments)}function bt(){return(bt=(0,Ge.Z)(function*(N,P,Z){const me=yield _n(N,{pageToken:Z});P.prefixes.push(...me.prefixes),P.items.push(...me.items),null!=me.nextPageToken&&(yield ft(N,P,me.nextPageToken))})).apply(this,arguments)}function _n(N,P){null!=P&&"number"==typeof P.maxResults&&At("options.maxResults",1,1e3,P.maxResults);const Z=P||{},J=Qn(N.storage,N._location,"/",Z.pageToken,Z.maxResults);return N.storage.makeRequestWithTokens(J,Tn)}function ts(N){N._throwIfRoot("getDownloadURL");const P=function sr(N,P,Z){const me=mn(P.fullServerUrl(),N.host,N._protocol),nt=N.maxOperationRetryTime,Nt=new cr(me,"GET",function Yn(N,P){return function Z(J,me){const Ne=Wn(N,me,P);return vr(null!==Ne),function rr(N,P,Z,J){const me=Pn(P);if(null===me||!zr(me.downloadTokens))return null;const Ne=me.downloadTokens;if(0===Ne.length)return null;const nt=encodeURIComponent;return Ne.split(",").map(on=>{const Xn=N.fullPath;return mn("/b/"+nt(N.bucket)+"/o/"+nt(Xn),Z,J)+Dn({alt:"media",token:on})})[0]}(Ne,me,N.host,N._protocol)}}(N,Z),nt);return Nt.errorHandler=Pt(P),Nt}(N.storage,N._location,Qt());return N.storage.makeRequestWithTokens(P,Tn).then(Z=>{if(null===Z)throw function Bt(){return new Fe("no-download-url","The given file does not have any download URLs.")}();return Z})}function ns(N,P){const Z=function qn(N,P){const Z=P.split("/").filter(J=>J.length>0).join("/");return 0===N.length?Z:N+"/"+Z}(N._location.path,P),J=new En(N._location.bucket,Z);return new dr(N.storage,J)}function ks(N,P){if(N instanceof Ns){const Z=N;if(null==Z._bucket)throw function fn(){return new Fe("no-default-bucket","No default bucket found. Did you set the '"+ze+"' property when initializing the app?")}();const J=new dr(Z,Z._bucket);return null!=P?ks(J,P):J}return void 0!==P?ns(N,P):N}function Ts(N,P){if(P&&function bs(N){return/^[A-Za-z]+:\/\//.test(N)}(P)){if(N instanceof Ns)return function Ds(N,P){return new dr(N,P)}(N,P);throw nr("To use ref(service, url), the first argument must be a Storage instance.")}return ks(N,P)}function Cs(N,P){const Z=null==P?void 0:P[ze];return null==Z?null:En.makeFromBucketSpec(Z,N)}class Ns{constructor(P,Z,J,me,Ne){this.app=P,this._authProvider=Z,this._appCheckProvider=J,this._url=me,this._firebaseVersion=Ne,this._bucket=null,this._host=Pe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=me?En.makeFromBucketSpec(me,this._host):Cs(this._host,this.app.options)}get host(){return this._host}set host(P){this._host=P,this._bucket=null!=this._url?En.makeFromBucketSpec(this._url,P):Cs(P,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(P){At("time",0,Number.POSITIVE_INFINITY,P),this._maxUploadRetryTime=P}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(P){At("time",0,Number.POSITIVE_INFINITY,P),this._maxOperationRetryTime=P}_getAuthToken(){var P=this;return(0,Ge.Z)(function*(){if(P._overrideAuthToken)return P._overrideAuthToken;const Z=P._authProvider.getImmediate({optional:!0});if(Z){const J=yield Z.getToken();if(null!==J)return J.accessToken}return null})()}_getAppCheckToken(){var P=this;return(0,Ge.Z)(function*(){const Z=P._appCheckProvider.getImmediate({optional:!0});return Z?(yield Z.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(P=>P.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(P){return new dr(this,P)}_makeRequest(P,Z,J,me){if(this._deleted)return new Un(Yt());{const Ne=function en(N,P,Z,J,me,Ne){const nt=Dn(N.urlParams),Nt=N.url+nt,It=Object.assign({},N.headers);return function St(N,P){P&&(N["X-Firebase-GMPID"]=P)}(It,P),function Vt(N,P){null!==P&&P.length>0&&(N.Authorization="Firebase "+P)}(It,Z),function cn(N,P){N["X-Firebase-Storage-Version"]="webjs/"+(null!=P?P:"AppManager")}(It,Ne),function mr(N,P){null!==P&&(N["X-Firebase-AppCheck"]=P)}(It,J),new Ri(Nt,N.method,It,N.body,N.successCodes,N.additionalRetryCodes,N.handler,N.errorHandler,N.timeout,N.progressCallback,me)}(P,this._appId,J,me,Z,this._firebaseVersion);return this._requests.add(Ne),Ne.getPromise().then(()=>this._requests.delete(Ne),()=>this._requests.delete(Ne)),Ne}}makeRequestWithTokens(P,Z){var J=this;return(0,Ge.Z)(function*(){const[me,Ne]=yield Promise.all([J._getAuthToken(),J._getAppCheckToken()]);return J._makeRequest(P,Z,me,Ne).getPromise()})()}}const Wi="@firebase/storage";function jt(N,P){return Ts(N=(0,rt.m9)(N),P)}function an(N,{instanceIdentifier:P}){const Z=N.getProvider("app").getImmediate(),J=N.getProvider("auth-internal"),me=N.getProvider("app-check-internal");return new Ns(Z,J,me,P,Je.SDK_VERSION)}!function C(){(0,Je._registerComponent)(new we.wA("storage",an,"PUBLIC").setMultipleInstances(!0)),(0,Je.registerVersion)(Wi,"0.9.2",""),(0,Je.registerVersion)(Wi,"0.9.2","esm2017")}();class ${constructor(P,Z,J){this._delegate=P,this.task=Z,this.ref=J}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class S{constructor(P,Z){this._delegate=P,this._ref=Z,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new $(this._delegate.snapshot,this,this._ref)}then(P,Z){return this._delegate.then(J=>{if(P)return P(new $(J,this,this._ref))},Z)}on(P,Z,J,me){let Ne;return Z&&(Ne="function"==typeof Z?nt=>Z(new $(nt,this,this._ref)):{next:Z.next?nt=>Z.next(new $(nt,this,this._ref)):void 0,complete:Z.complete||void 0,error:Z.error||void 0}),this._delegate.on(P,Ne,J||void 0,me||void 0)}}class z{constructor(P,Z){this._delegate=P,this._service=Z}get prefixes(){return this._delegate.prefixes.map(P=>new se(P,this._service))}get items(){return this._delegate.items.map(P=>new se(P,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class se{constructor(P,Z){this._delegate=P,this.storage=Z}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(P){const Z=function yn(N,P){return ns(N,P)}(this._delegate,P);return new se(Z,this.storage)}get root(){return new se(this._delegate.root,this.storage)}get parent(){const P=this._delegate.parent;return null==P?null:new se(P,this.storage)}put(P,Z){return this._throwIfRoot("put"),new S(function oi(N,P,Z){return function pe(N,P,Z){return N._throwIfRoot("uploadBytesResumable"),new Ys(N,new $t(P),Z)}(N=(0,rt.m9)(N),P,Z)}(this._delegate,P,Z),this)}putString(P,Z=Mt.RAW,J){this._throwIfRoot("putString");const me=yr(Z,P),Ne=Object.assign({},J);return null==Ne.contentType&&null!=me.contentType&&(Ne.contentType=me.contentType),new S(new Ys(this._delegate,new $t(me.data,!0),Ne),this)}listAll(){return function ne(N){return function Ke(N){const P={prefixes:[],items:[]};return ft(N,P).then(()=>P)}(N=(0,rt.m9)(N))}(this._delegate).then(P=>new z(P,this.storage))}list(P){return function O(N,P){return _n(N=(0,rt.m9)(N),P)}(this._delegate,P||void 0).then(Z=>new z(Z,this.storage))}getMetadata(){return function q(N){return function Ar(N){N._throwIfRoot("getMetadata");const P=Jt(N.storage,N._location,Qt());return N.storage.makeRequestWithTokens(P,Tn)}(N=(0,rt.m9)(N))}(this._delegate)}updateMetadata(P){return function F(N,P){return function An(N,P){N._throwIfRoot("updateMetadata");const Z=function Zr(N,P,Z,J){const Ne=mn(P.fullServerUrl(),N.host,N._protocol),Nt=Wr(Z,J),on=N.maxOperationRetryTime,rn=new cr(Ne,"PATCH",ir(N,J),on);return rn.headers={"Content-Type":"application/json; charset=utf-8"},rn.body=Nt,rn.errorHandler=Pt(P),rn}(N.storage,N._location,P,Qt());return N.storage.makeRequestWithTokens(Z,Tn)}(N=(0,rt.m9)(N),P)}(this._delegate,P)}getDownloadURL(){return function he(N){return ts(N=(0,rt.m9)(N))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function ot(N){return function ds(N){N._throwIfRoot("deleteObject");const P=function wn(N,P){const J=mn(P.fullServerUrl(),N.host,N._protocol),Nt=new cr(J,"DELETE",function nt(It,on){},N.maxOperationRetryTime);return Nt.successCodes=[200,204],Nt.errorHandler=Pt(P),Nt}(N.storage,N._location);return N.storage.makeRequestWithTokens(P,Tn)}(N=(0,rt.m9)(N))}(this._delegate)}_throwIfRoot(P){if(""===this._delegate._location.path)throw Rn(P)}}class je{constructor(P,Z){this.app=P,this._delegate=Z}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(P){if(qe(P))throw nr("ref() expected a child path but got a URL, use refFromURL instead.");return new se(jt(this._delegate,P),this)}refFromURL(P){if(!qe(P))throw nr("refFromURL() expected a full URL but got a child path, use ref() instead.");try{En.makeFromUrl(P,this._delegate.host)}catch(Z){throw nr("refFromUrl() expected a valid full URL but got an invalid one.")}return new se(jt(this._delegate,P),this)}setMaxUploadRetryTime(P){this._delegate.maxUploadRetryTime=P}setMaxOperationRetryTime(P){this._delegate.maxOperationRetryTime=P}useEmulator(P,Z,J={}){!function tn(N,P,Z,J={}){!function hs(N,P,Z,J={}){N.host=`${P}:${Z}`,N._protocol="http";const{mockUserToken:me}=J;me&&(N._overrideAuthToken="string"==typeof me?me:(0,rt.Sg)(me,N.app.options.projectId))}(N,P,Z,J)}(this._delegate,P,Z,J)}}function qe(N){return/^[A-Za-z]+:\/\//.test(N)}function jn(N,{instanceIdentifier:P}){const Z=N.getProvider("app-compat").getImmediate(),J=N.getProvider("storage").getImmediate({identifier:P});return new je(Z,J)}!function nn(N){const P={TaskState:Nn,TaskEvent:Kr,StringFormat:Mt,Storage:je,Reference:se};N.INTERNAL.registerComponent(new we.wA("storage-compat",jn,"PUBLIC").setServiceProps(P).setMultipleInstances(!0)),N.registerVersion("@firebase/storage-compat","0.1.10")}(ht.Z);var Fr=U(440),$n=U(127);function ni(N){const P=function kt(N){return new E.y(P=>{const Z=nt=>P.next(nt);Z(N.snapshot);const Ne=N.on("state_changed",Z);return N.then(nt=>{Z(nt),P.complete()},nt=>{Z(N.snapshot),(nt=>{P.error(nt)})(nt)}),function(){Ne()}}).pipe(function Re(N,P=be.z){return(0,ve.e)((Z,J)=>{let me=null,Ne=null,nt=null;const Nt=()=>{if(me){me.unsubscribe(),me=null;const on=Ne;Ne=null,J.next(on)}};function It(){const on=nt+N,rn=P.now();if(rn<on)return me=this.schedule(void 0,on-rn),void J.add(me);Nt()}Z.subscribe(new Ie.Q(J,on=>{Ne=on,nt=P.now(),me||(me=P.schedule(It,N),J.add(me))},()=>{Nt(),J.complete()},void 0,()=>{Ne=me=null}))})}(0))}(N);return{task:N,then:N.then.bind(N),catch:N.catch.bind(N),pause:N.pause.bind(N),cancel:N.cancel.bind(N),resume:N.resume.bind(N),snapshotChanges:()=>P,percentageChanges:()=>P.pipe((0,Ae.U)(Z=>Z.bytesTransferred/Z.totalBytes*100))}}function Vi(N){return{getDownloadURL:()=>(0,x.of)(void 0).pipe(oe.fc,(0,xe.w)(()=>N.getDownloadURL()),oe.iC),getMetadata:()=>(0,x.of)(void 0).pipe(oe.fc,(0,xe.w)(()=>N.getMetadata()),oe.iC),delete:()=>(0,W.D)(N.delete()),child:P=>Vi(N.child(P)),updateMetadata:P=>(0,W.D)(N.updateMetadata(P)),put:(P,Z)=>ni(N.put(P,Z)),putString:(P,Z,J)=>ni(N.putString(P,Z,J)),list:P=>(0,W.D)(N.list(P)),listAll:()=>(0,W.D)(N.listAll())}}const Js=new X.OlP("angularfire2.storageBucket"),ji=new X.OlP("angularfire2.storage.maxUploadRetryTime"),$i=new X.OlP("angularfire2.storage.maxOperationRetryTime"),Hs=new X.OlP("angularfire2.storage.use-emulator");let Gs=(()=>{class N{constructor(Z,J,me,Ne,nt,Nt,It,on,rn,Xn){const Dr=(0,Ce.on)(Z,nt,J);this.storage=(0,Ce.cc)(`${Dr.name}.storage.${me}`,"AngularFireStorage",Dr.name,()=>{const or=nt.runOutsideAngular(()=>Dr.storage(me||void 0)),Hn=rn;return Hn&&or.useEmulator(...Hn),It&&or.setMaxUploadRetryTime(It),on&&or.setMaxOperationRetryTime(on),or},[It,on])}ref(Z){return Vi(this.storage.ref(Z))}refFromURL(Z){return Vi(this.storage.refFromURL(Z))}upload(Z,J,me){return Vi(this.storage.ref(Z)).put(J,me)}}return N.\u0275fac=function(Z){return new(Z||N)(X.LFG(Ce.Dh),X.LFG(Ce.xv,8),X.LFG(Js,8),X.LFG(X.Lbi),X.LFG(X.R0b),X.LFG(oe.HU),X.LFG(ji,8),X.LFG($i,8),X.LFG(Hs,8),X.LFG(Fr.nm,8))},N.\u0275prov=X.Yz7({token:N,factory:N.\u0275fac,providedIn:"any"}),N})(),hn=(()=>{class N{}return N.\u0275fac=function(Z){return new(Z||N)},N.\u0275mod=X.oAB({type:N}),N.\u0275inj=X.cJS({}),N})(),jo=(()=>{class N{constructor(){$n.Z.registerVersion("angularfire",oe.q4.full,"gcs-compat")}}return N.\u0275fac=function(Z){return new(Z||N)},N.\u0275mod=X.oAB({type:N}),N.\u0275inj=X.cJS({providers:[Gs],imports:[hn]}),N})()},2011:(Ct,Ve,U)=>{"use strict";U.d(Ve,{hO:()=>ht,xv:()=>xe,Dh:()=>Ae,GT:()=>Ie,cc:()=>Ge,on:()=>oe,pX:()=>ve});var E=U(5e3),x=U(127),W=U(5813);Ct=U.hmd(Ct);const be=["ngOnDestroy"],ve=(Pe,ze,Xe,te={})=>new Proxy(Pe,{get:(Fe,Ye)=>Xe.runOutsideAngular(()=>{var Et;if(Pe[Ye])return(null===(Et=null==te?void 0:te.spy)||void 0===Et?void 0:Et.get)&&te.spy.get(Ye,Pe[Ye]),Pe[Ye];if(be.indexOf(Ye)>-1)return()=>{};const et=ze.toPromise().then(Ut=>{const Te=Ut&&Ut[Ye];return"function"==typeof Te?Te.bind(Ut):Te&&Te.then?Te.then(ye=>Xe.run(()=>ye)):Xe.run(()=>Te)});return new Proxy(()=>{},{get:(Ut,Te)=>et[Te],apply:(Ut,Te,ye)=>et.then(Ue=>{var Se;const st=Ue&&Ue(...ye);return(null===(Se=null==te?void 0:te.spy)||void 0===Se?void 0:Se.apply)&&te.spy.apply(Ye,ye,st),st})})})}),Ie=(Pe,ze)=>{ze.forEach(Xe=>{Object.getOwnPropertyNames(Xe.prototype||Xe).forEach(te=>{Object.defineProperty(Pe.prototype,te,Object.getOwnPropertyDescriptor(Xe.prototype||Xe,te))})})};class Re{constructor(ze){return ze}}const Ae=new E.OlP("angularfire2.app.options"),xe=new E.OlP("angularfire2.app.name");function oe(Pe,ze,Xe){const Fe="object"==typeof Xe&&Xe||{};Fe.name=Fe.name||"string"==typeof Xe&&Xe||"[DEFAULT]";const Et=x.Z.apps.filter(et=>et&&et.name===Fe.name)[0]||ze.runOutsideAngular(()=>x.Z.initializeApp(Pe,Fe));try{JSON.stringify(Pe)!==JSON.stringify(Et.options)&&X("error",`${Et.name} Firebase App already initialized with different options${Ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(et){}return new Re(Et)}const X=(Pe,...ze)=>{(0,E.X6Q)()&&"undefined"!=typeof console&&console[Pe](...ze)},Ce={provide:Re,useFactory:oe,deps:[Ae,E.R0b,[new E.FiY,xe]]};let ht=(()=>{class Pe{constructor(Xe){x.Z.registerVersion("angularfire",W.q4.full,"core"),x.Z.registerVersion("angularfire",W.q4.full,"app-compat"),x.Z.registerVersion("angular",E.q4F.full,Xe.toString())}static initializeApp(Xe,te){return{ngModule:Pe,providers:[{provide:Ae,useValue:Xe},{provide:xe,useValue:te}]}}}return Pe.\u0275fac=function(Xe){return new(Xe||Pe)(E.LFG(E.Lbi))},Pe.\u0275mod=E.oAB({type:Pe}),Pe.\u0275inj=E.cJS({providers:[Ce]}),Pe})();function Ge(Pe,ze,Xe,te,Fe){const[,Ye,Et]=globalThis.\u0275AngularfireInstanceCache.find(et=>et[0]===Pe)||[];if(Ye)return function Je(Pe,ze){try{return Pe.toString()===ze.toString()}catch(Xe){return Pe===ze}}(Fe,Et)||(we("error",`${ze} was already initialized on the ${Xe} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:Fe,was:Et})),Ye;{const et=te();return globalThis.\u0275AngularfireInstanceCache.push([Pe,et,Fe]),et}}const rt=!!Ct.hot,we=(Pe,...ze)=>{(0,E.X6Q)()&&"undefined"!=typeof console&&console[Pe](...ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Ct,Ve,U)=>{"use strict";U.d(Ve,{q4:()=>ma,iC:()=>Ha,fc:()=>jr,HU:()=>$a,vb:()=>wc,JM:()=>lu});var E=U(5e3),x=U(5867),W=U(5861),be=U(9681),ve=U(2090),Ie=U(4859),Re=U(1877),Ae=U(2940);const xe="@firebase/installations",Ce="w:0.5.5",ht="FIS_v2",ze=new ve.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Xe(D){return D instanceof ve.ZR&&D.code.includes("request-failed")}function te({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Fe(D){return{token:D.token,requestStatus:2,expiresIn:Ue(D.expiresIn),creationTime:Date.now()}}function Ye(D,R){return Et.apply(this,arguments)}function Et(){return(Et=(0,W.Z)(function*(D,R){const ee=(yield R.json()).error;return ze.create("request-failed",{requestName:D,serverCode:ee.code,serverMessage:ee.message,serverStatus:ee.status})})).apply(this,arguments)}function et({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Ut(D,{refreshToken:R}){const G=et(D);return G.append("Authorization",function Se(D){return`${ht} ${D}`}(R)),G}function Te(D){return ye.apply(this,arguments)}function ye(){return(ye=(0,W.Z)(function*(D){const R=yield D();return R.status>=500&&R.status<600?D():R})).apply(this,arguments)}function Ue(D){return Number(D.replace("s","000"))}function st(D,R){return Be.apply(this,arguments)}function Be(){return(Be=(0,W.Z)(function*(D,{fid:R}){const G=te(D),Ze={method:"POST",headers:et(D),body:JSON.stringify({fid:R,authVersion:ht,appId:D.appId,sdkVersion:Ce})},dt=yield Te(()=>fetch(G,Ze));if(dt.ok){const Ht=yield dt.json();return{fid:Ht.fid||R,registrationStatus:2,refreshToken:Ht.refreshToken,authToken:Fe(Ht.authToken)}}throw yield Ye("Create Installation",dt)})).apply(this,arguments)}function Tt(D){return new Promise(R=>{setTimeout(R,D)})}const gr=/^[cdef][\w-]{21}$/;function Bt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const G=function nr(D){return function fn(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return gr.test(G)?G:""}catch(D){return""}}function Yt(D){return`${D.appName}!${D.appId}`}const Rn=new Map;function yt(D,R){const G=Yt(D);Un(G,R),function Hr(D,R){const G=function Kn(){return!un&&"BroadcastChannel"in self&&(un=new BroadcastChannel("[Firebase] FID Change"),un.onmessage=D=>{Un(D.data.key,D.data.fid)}),un}();G&&G.postMessage({key:D,fid:R}),function Si(){0===Rn.size&&un&&(un.close(),un=null)}()}(G,R)}function Un(D,R){const G=Rn.get(D);if(G)for(const ee of G)ee(R)}let un=null;const tt="firebase-installations-store";let xn=null;function At(){return xn||(xn=(0,Ae.openDb)("firebase-installations-database",1,D=>{0===D.oldVersion&&D.createObjectStore(tt)})),xn}function mn(D,R){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,W.Z)(function*(D,R){const G=Yt(D),De=(yield At()).transaction(tt,"readwrite"),Ze=De.objectStore(tt),dt=yield Ze.get(G);return yield Ze.put(R,G),yield De.complete,(!dt||dt.fid!==R.fid)&&yt(D,R.fid),R})).apply(this,arguments)}function Ln(D){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,W.Z)(function*(D){const R=Yt(D),ee=(yield At()).transaction(tt,"readwrite");yield ee.objectStore(tt).delete(R),yield ee.complete})).apply(this,arguments)}function qt(D,R){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,W.Z)(function*(D,R){const G=Yt(D),De=(yield At()).transaction(tt,"readwrite"),Ze=De.objectStore(tt),dt=yield Ze.get(G),Ht=R(dt);return void 0===Ht?yield Ze.delete(G):yield Ze.put(Ht,G),yield De.complete,Ht&&(!dt||dt.fid!==Ht.fid)&&yt(D,Ht.fid),Ht})).apply(this,arguments)}function cn(D){return St.apply(this,arguments)}function St(){return(St=(0,W.Z)(function*(D){let R;const G=yield qt(D,ee=>{const De=mr(ee),Ze=en(D,De);return R=Ze.registrationPromise,Ze.installationEntry});return""===G.fid?{installationEntry:yield R}:{installationEntry:G,registrationPromise:R}})).apply(this,arguments)}function mr(D){return vn(D||{fid:Bt(),registrationStatus:0})}function en(D,R){if(0===R.registrationStatus){if(!navigator.onLine)return{installationEntry:R,registrationPromise:Promise.reject(ze.create("app-offline"))};const G={fid:R.fid,registrationStatus:1,registrationTime:Date.now()},ee=function Dt(D,R){return Ot.apply(this,arguments)}(D,G);return{installationEntry:G,registrationPromise:ee}}return 1===R.registrationStatus?{installationEntry:R,registrationPromise:Ji(D)}:{installationEntry:R}}function Ot(){return(Ot=(0,W.Z)(function*(D,R){try{return mn(D,yield st(D,R))}catch(G){throw Xe(G)&&409===G.customData.serverCode?yield Ln(D):yield mn(D,{fid:R.fid,registrationStatus:0}),G}})).apply(this,arguments)}function Ji(D){return wi.apply(this,arguments)}function wi(){return(wi=(0,W.Z)(function*(D){let R=yield Mt(D);for(;1===R.registrationStatus;)yield Tt(100),R=yield Mt(D);if(0===R.registrationStatus){const{installationEntry:G,registrationPromise:ee}=yield cn(D);return ee||G}return R})).apply(this,arguments)}function Mt(D){return qt(D,R=>{if(!R)throw ze.create("installation-not-found");return vn(R)})}function vn(D){return function yr(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function di(D,R){return ie.apply(this,arguments)}function ie(){return(ie=(0,W.Z)(function*({appConfig:D,platformLoggerProvider:R},G){const ee=ue(D,G),De=Ut(D,G),Ze=R.getImmediate({optional:!0});Ze&&De.append("x-firebase-client",Ze.getPlatformInfoString());const Ht={method:"POST",headers:De,body:JSON.stringify({installation:{sdkVersion:Ce}})},Ft=yield Te(()=>fetch(ee,Ht));if(Ft.ok)return Fe(yield Ft.json());throw yield Ye("Generate Auth Token",Ft)})).apply(this,arguments)}function ue(D,{fid:R}){return`${te(D)}/${R}/authTokens:generate`}function ce(D){return We.apply(this,arguments)}function We(){return(We=(0,W.Z)(function*(D,R=!1){let G;const ee=yield qt(D.appConfig,Ze=>{if(!qn(Ze))throw ze.create("not-registered");const dt=Ze.authToken;if(!R&&Ur(dt))return Ze;if(1===dt.requestStatus)return G=Oe(D,R),Ze;{if(!navigator.onLine)throw ze.create("app-offline");const Ht=On(Ze);return G=Pn(D,Ht),Ht}});return G?yield G:ee.authToken})).apply(this,arguments)}function Oe(D,R){return vt.apply(this,arguments)}function vt(){return(vt=(0,W.Z)(function*(D,R){let G=yield $t(D.appConfig);for(;1===G.authToken.requestStatus;)yield Tt(100),G=yield $t(D.appConfig);const ee=G.authToken;return 0===ee.requestStatus?ce(D,R):ee})).apply(this,arguments)}function $t(D){return qt(D,R=>{if(!qn(R))throw ze.create("not-registered");return function qr(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(R.authToken)?Object.assign(Object.assign({},R),{authToken:{requestStatus:0}}):R})}function Pn(D,R){return In.apply(this,arguments)}function In(){return(In=(0,W.Z)(function*(D,R){try{const G=yield di(D,R),ee=Object.assign(Object.assign({},R),{authToken:G});return yield mn(D.appConfig,ee),G}catch(G){if(!Xe(G)||401!==G.customData.serverCode&&404!==G.customData.serverCode){const ee=Object.assign(Object.assign({},R),{authToken:{requestStatus:0}});yield mn(D.appConfig,ee)}else yield Ln(D.appConfig);throw G}})).apply(this,arguments)}function qn(D){return void 0!==D&&2===D.registrationStatus}function Ur(D){return 2===D.requestStatus&&!function ln(D){const R=Date.now();return R<D.creationTime||D.creationTime+D.expiresIn<R+36e5}(D)}function On(D){const R={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:R})}function Qt(){return(Qt=(0,W.Z)(function*(D){const R=D,{installationEntry:G,registrationPromise:ee}=yield cn(R.appConfig);return ee?ee.catch(console.error):ce(R).catch(console.error),G.fid})).apply(this,arguments)}function Ui(){return(Ui=(0,W.Z)(function*(D,R=!1){const G=D;return yield Wn(G.appConfig),(yield ce(G,R)).token})).apply(this,arguments)}function Wn(D){return rr.apply(this,arguments)}function rr(){return(rr=(0,W.Z)(function*(D){const{registrationPromise:R}=yield cn(D);R&&(yield R)})).apply(this,arguments)}function hi(D){return ze.create("missing-app-config-values",{valueName:D})}const Yn="installations",Pt=D=>{const R=D.getProvider("app").getImmediate(),G=function ir(D){if(!D||!D.options)throw hi("App Configuration");if(!D.name)throw hi("App Name");const R=["projectId","apiKey","appId"];for(const G of R)if(!D.options[G])throw hi(G);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(R);return{app:R,appConfig:G,platformLoggerProvider:(0,be._getProvider)(R,"platform-logger"),_delete:()=>Promise.resolve()}},Jt=D=>{const R=D.getProvider("app").getImmediate(),G=(0,be._getProvider)(R,Yn).getImmediate();return{getId:()=>function ti(D){return Qt.apply(this,arguments)}(G),getToken:De=>function xi(D){return Ui.apply(this,arguments)}(G,De)}};(function Qn(){(0,be._registerComponent)(new Ie.wA(Yn,Pt,"PUBLIC")),(0,be._registerComponent)(new Ie.wA("installations-internal",Jt,"PRIVATE"))})(),(0,be.registerVersion)(xe,"0.5.5"),(0,be.registerVersion)(xe,"0.5.5","esm2017");const Ir="@firebase/remote-config",lr=new ve.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Is{constructor(R,G,ee,De){this.client=R,this.storage=G,this.storageCache=ee,this.logger=De}isCachedDataFresh(R,G){if(!G)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ee=Date.now()-G,De=ee<=R;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ee}. Cache max age millis (minimumFetchIntervalMillis setting): ${R}. Is cache hit: ${De}.`),De}fetch(R){var G=this;return(0,W.Z)(function*(){const[ee,De]=yield Promise.all([G.storage.getLastSuccessfulFetchTimestampMillis(),G.storage.getLastSuccessfulFetchResponse()]);if(De&&G.isCachedDataFresh(R.cacheMaxAgeMillis,ee))return De;R.eTag=De&&De.eTag;const Ze=yield G.client.fetch(R),dt=[G.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ze.status&&dt.push(G.storage.setLastSuccessfulFetchResponse(Ze)),yield Promise.all(dt),Ze})()}}function Ys(D=navigator){return D.languages&&D.languages[0]||D.language}class dr{constructor(R,G,ee,De,Ze,dt){this.firebaseInstallations=R,this.sdkVersion=G,this.namespace=ee,this.projectId=De,this.apiKey=Ze,this.appId=dt}fetch(R){var G=this;return(0,W.Z)(function*(){const[ee,De]=yield Promise.all([G.firebaseInstallations.getId(),G.firebaseInstallations.getToken()]),dt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${G.projectId}/namespaces/${G.namespace}:fetch?key=${G.apiKey}`,Ht={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":R.eTag||"*"},Ft={sdk_version:G.sdkVersion,app_instance_id:ee,app_instance_id_token:De,app_id:G.appId,language_code:Ys()},fr={method:"POST",headers:Ht,body:JSON.stringify(Ft)},xr=fetch(dt,fr),os=new Promise((zi,Po)=>{R.signal.addEventListener(()=>{const Eo=new Error("The operation was aborted.");Eo.name="AbortError",Po(Eo)})});let Ti;try{yield Promise.race([xr,os]),Ti=yield xr}catch(zi){let Po="fetch-client-network";throw"AbortError"===zi.name&&(Po="fetch-timeout"),lr.create(Po,{originalErrorMessage:zi.message})}let Mr=Ti.status;const _a=Ti.headers.get("ETag")||void 0;let co,za;if(200===Ti.status){let zi;try{zi=yield Ti.json()}catch(Po){throw lr.create("fetch-client-parse",{originalErrorMessage:Po.message})}co=zi.entries,za=zi.state}if("INSTANCE_STATE_UNSPECIFIED"===za?Mr=500:"NO_CHANGE"===za?Mr=304:("NO_TEMPLATE"===za||"EMPTY_CONFIG"===za)&&(co={}),304!==Mr&&200!==Mr)throw lr.create("fetch-status",{httpStatus:Mr});return{status:Mr,eTag:_a,config:co}})()}}class _e{constructor(R,G){this.client=R,this.storage=G}fetch(R){var G=this;return(0,W.Z)(function*(){const ee=(yield G.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return G.attemptFetch(R,ee)})()}attemptFetch(R,{throttleEndTimeMillis:G,backoffCount:ee}){var De=this;return(0,W.Z)(function*(){yield function es(D,R){return new Promise((G,ee)=>{const De=Math.max(R-Date.now(),0),Ze=setTimeout(G,De);D.addEventListener(()=>{clearTimeout(Ze),ee(lr.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(R.signal,G);try{const Ze=yield De.client.fetch(R);return yield De.storage.deleteThrottleMetadata(),Ze}catch(Ze){if(!function ls(D){if(!(D instanceof ve.ZR&&D.customData))return!1;const R=Number(D.customData.httpStatus);return 429===R||500===R||503===R||504===R}(Ze))throw Ze;const dt={throttleEndTimeMillis:Date.now()+(0,ve.$s)(ee),backoffCount:ee+1};return yield De.storage.setThrottleMetadata(dt),De.attemptFetch(R,dt)}})()}}class Ke{constructor(R,G,ee,De,Ze){this.app=R,this._client=G,this._storageCache=ee,this._storage=De,this._logger=Ze,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ft(D,R){const G=D.target.error||void 0;return lr.create(R,{originalErrorMessage:G&&G.message})}const bt="app_namespace_store";class ts{constructor(R,G,ee,De=function An(){return new Promise((D,R)=>{try{const G=indexedDB.open("firebase_remote_config",1);G.onerror=ee=>{R(ft(ee,"storage-open"))},G.onsuccess=ee=>{D(ee.target.result)},G.onupgradeneeded=ee=>{0===ee.oldVersion&&ee.target.result.createObjectStore(bt,{keyPath:"compositeKey"})}}catch(G){R(lr.create("storage-open",{originalErrorMessage:G}))}})}()){this.appId=R,this.appName=G,this.namespace=ee,this.openDbPromise=De}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(R){return this.set("last_fetch_status",R)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(R){return this.set("last_successful_fetch_timestamp_millis",R)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(R){return this.set("last_successful_fetch_response",R)}getActiveConfig(){return this.get("active_config")}setActiveConfig(R){return this.set("active_config",R)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(R){return this.set("active_config_etag",R)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(R){return this.set("throttle_metadata",R)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(R){var G=this;return(0,W.Z)(function*(){const ee=yield G.openDbPromise;return new Promise((De,Ze)=>{const Ht=ee.transaction([bt],"readonly").objectStore(bt),Ft=G.createCompositeKey(R);try{const fr=Ht.get(Ft);fr.onerror=xr=>{Ze(ft(xr,"storage-get"))},fr.onsuccess=xr=>{const os=xr.target.result;De(os?os.value:void 0)}}catch(fr){Ze(lr.create("storage-get",{originalErrorMessage:fr&&fr.message}))}})})()}set(R,G){var ee=this;return(0,W.Z)(function*(){const De=yield ee.openDbPromise;return new Promise((Ze,dt)=>{const Ft=De.transaction([bt],"readwrite").objectStore(bt),fr=ee.createCompositeKey(R);try{const xr=Ft.put({compositeKey:fr,value:G});xr.onerror=os=>{dt(ft(os,"storage-set"))},xr.onsuccess=()=>{Ze()}}catch(xr){dt(lr.create("storage-set",{originalErrorMessage:xr&&xr.message}))}})})()}delete(R){var G=this;return(0,W.Z)(function*(){const ee=yield G.openDbPromise;return new Promise((De,Ze)=>{const Ht=ee.transaction([bt],"readwrite").objectStore(bt),Ft=G.createCompositeKey(R);try{const fr=Ht.delete(Ft);fr.onerror=xr=>{Ze(ft(xr,"storage-delete"))},fr.onsuccess=()=>{De()}}catch(fr){Ze(lr.create("storage-delete",{originalErrorMessage:fr&&fr.message}))}})})()}createCompositeKey(R){return[this.appId,this.appName,this.namespace,R].join()}}class ds{constructor(R){this.storage=R}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var R=this;return(0,W.Z)(function*(){const G=R.storage.getLastFetchStatus(),ee=R.storage.getLastSuccessfulFetchTimestampMillis(),De=R.storage.getActiveConfig(),Ze=yield G;Ze&&(R.lastFetchStatus=Ze);const dt=yield ee;dt&&(R.lastSuccessfulFetchTimestampMillis=dt);const Ht=yield De;Ht&&(R.activeConfig=Ht)})()}setLastFetchStatus(R){return this.lastFetchStatus=R,this.storage.setLastFetchStatus(R)}setLastSuccessfulFetchTimestampMillis(R){return this.lastSuccessfulFetchTimestampMillis=R,this.storage.setLastSuccessfulFetchTimestampMillis(R)}setActiveConfig(R){return this.activeConfig=R,this.storage.setActiveConfig(R)}}function ks(){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,W.Z)(function*(){if(!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch(D){return!1}})).apply(this,arguments)}!function ns(){(0,be._registerComponent)(new Ie.wA("remote-config",function D(R,{instanceIdentifier:G}){const ee=R.getProvider("app").getImmediate(),De=R.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw lr.create("registration-window");if(!(0,ve.hl)())throw lr.create("indexed-db-unavailable");const{projectId:Ze,apiKey:dt,appId:Ht}=ee.options;if(!Ze)throw lr.create("registration-project-id");if(!dt)throw lr.create("registration-api-key");if(!Ht)throw lr.create("registration-app-id");const Ft=new ts(Ht,ee.name,G=G||"firebase"),fr=new ds(Ft),xr=new Re.Yd(Ir);xr.logLevel=Re.in.ERROR;const os=new dr(De,be.SDK_VERSION,G,Ze,dt,Ht),Ti=new _e(os,Ft),Mr=new Is(Ti,Ft,fr,xr),_a=new Ke(ee,Mr,fr,Ft,xr);return function Cn(D){const R=(0,ve.m9)(D);R._initializePromise||(R._initializePromise=R._storageCache.loadFromStorage().then(()=>{R._isInitializationComplete=!0}))}(_a),_a},"PUBLIC").setMultipleInstances(!0)),(0,be.registerVersion)(Ir,"0.3.4"),(0,be.registerVersion)(Ir,"0.3.4","esm2017")}();const Cs="/firebase-messaging-sw.js",hs="/firebase-cloud-messaging-push-scope",Ns="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Nr="google.c.a.c_id",fs="google.c.a.c_l",mi="google.c.a.ts",Qs="google.c.a.e";var oi=(()=>{return(D=oi||(oi={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",oi;var D})();function q(D){const R=new Uint8Array(D);return btoa(String.fromCharCode(...R)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function F(D){const G=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ee=atob(G),De=new Uint8Array(ee.length);for(let Ze=0;Ze<ee.length;++Ze)De[Ze]=ee.charCodeAt(Ze);return De}const O="fcm_token_details_db",he="fcm_token_object_Store";function ot(D){return jt.apply(this,arguments)}function jt(){return jt=(0,W.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ze=>Ze.name).includes(O))return null;let R=null;return(yield(0,Ae.openDb)(O,5,function(){var ee=(0,W.Z)(function*(De){var Ze;if(De.oldVersion<2||!De.objectStoreNames.contains(he))return;const dt=De.transaction.objectStore(he),Ht=yield dt.index("fcmSenderId").get(D);if(yield dt.clear(),Ht)if(2===De.oldVersion){const Ft=Ht;if(!Ft.auth||!Ft.p256dh||!Ft.endpoint)return;R={token:Ft.fcmToken,createTime:null!==(Ze=Ft.createTime)&&void 0!==Ze?Ze:Date.now(),subscriptionOptions:{auth:Ft.auth,p256dh:Ft.p256dh,endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:"string"==typeof Ft.vapidKey?Ft.vapidKey:q(Ft.vapidKey)}}}else if(3===De.oldVersion){const Ft=Ht;R={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:q(Ft.auth),p256dh:q(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:q(Ft.vapidKey)}}}else if(4===De.oldVersion){const Ft=Ht;R={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:q(Ft.auth),p256dh:q(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:q(Ft.vapidKey)}}}});return function(De){return ee.apply(this,arguments)}}())).close(),yield(0,Ae.deleteDb)(O),yield(0,Ae.deleteDb)("fcm_vapid_details_db"),yield(0,Ae.deleteDb)("undefined"),yn(R)?R:null}),jt.apply(this,arguments)}function yn(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:R}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof R.auth&&R.auth.length>0&&"string"==typeof R.p256dh&&R.p256dh.length>0&&"string"==typeof R.endpoint&&R.endpoint.length>0&&"string"==typeof R.swScope&&R.swScope.length>0&&"string"==typeof R.vapidKey&&R.vapidKey.length>0}const Lr="firebase-messaging-store";let ps=null;function an(){return ps||(ps=(0,Ae.openDb)("firebase-messaging-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Lr)})),ps}function C(D){return $.apply(this,arguments)}function $(){return($=(0,W.Z)(function*(D){const R=qe(D),ee=yield(yield an()).transaction(Lr).objectStore(Lr).get(R);if(ee)return ee;{const De=yield ot(D.appConfig.senderId);if(De)return yield S(D,De),De}})).apply(this,arguments)}function S(D,R){return z.apply(this,arguments)}function z(){return(z=(0,W.Z)(function*(D,R){const G=qe(D),De=(yield an()).transaction(Lr,"readwrite");return yield De.objectStore(Lr).put(R,G),yield De.complete,R})).apply(this,arguments)}function se(D){return je.apply(this,arguments)}function je(){return(je=(0,W.Z)(function*(D){const R=qe(D),ee=(yield an()).transaction(Lr,"readwrite");yield ee.objectStore(Lr).delete(R),yield ee.complete})).apply(this,arguments)}function qe({appConfig:D}){return D.appId}const dn=new ve.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Bn(D,R){return jn.apply(this,arguments)}function jn(){return(jn=(0,W.Z)(function*(D,R){const G=yield Vi(D),ee=ji(R),De={method:"POST",headers:G,body:JSON.stringify(ee)};let Ze;try{Ze=yield(yield fetch(ni(D.appConfig),De)).json()}catch(dt){throw dn.create("token-subscribe-failed",{errorInfo:dt})}if(Ze.error)throw dn.create("token-subscribe-failed",{errorInfo:Ze.error.message});if(!Ze.token)throw dn.create("token-subscribe-no-token");return Ze.token})).apply(this,arguments)}function nn(D,R){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,W.Z)(function*(D,R){const G=yield Vi(D),ee=ji(R.subscriptionOptions),De={method:"PATCH",headers:G,body:JSON.stringify(ee)};let Ze;try{Ze=yield(yield fetch(`${ni(D.appConfig)}/${R.token}`,De)).json()}catch(dt){throw dn.create("token-update-failed",{errorInfo:dt})}if(Ze.error)throw dn.create("token-update-failed",{errorInfo:Ze.error.message});if(!Ze.token)throw dn.create("token-update-no-token");return Ze.token})).apply(this,arguments)}function $n(D,R){return kt.apply(this,arguments)}function kt(){return(kt=(0,W.Z)(function*(D,R){const ee={method:"DELETE",headers:yield Vi(D)};try{const Ze=yield(yield fetch(`${ni(D.appConfig)}/${R}`,ee)).json();if(Ze.error)throw dn.create("token-unsubscribe-failed",{errorInfo:Ze.error.message})}catch(De){throw dn.create("token-unsubscribe-failed",{errorInfo:De})}})).apply(this,arguments)}function ni({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Vi(D){return Js.apply(this,arguments)}function Js(){return(Js=(0,W.Z)(function*({appConfig:D,installations:R}){const G=yield R.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${G}`})})).apply(this,arguments)}function ji({p256dh:D,auth:R,endpoint:G,vapidKey:ee}){const De={web:{endpoint:G,auth:R,p256dh:D}};return ee!==Ns&&(De.web.applicationPubKey=ee),De}const $i=6048e5;function Hs(D){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,W.Z)(function*(D){const R=yield J(D.swRegistration,D.vapidKey),G={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:R.endpoint,auth:q(R.getKey("auth")),p256dh:q(R.getKey("p256dh"))},ee=yield C(D.firebaseDependencies);if(ee){if(Ne(ee.subscriptionOptions,G))return Date.now()>=ee.createTime+$i?jo(D,{token:ee.token,createTime:Date.now(),subscriptionOptions:G}):ee.token;try{yield $n(D.firebaseDependencies,ee.token)}catch(De){console.warn(De)}return P(D.firebaseDependencies,G)}return P(D.firebaseDependencies,G)})).apply(this,arguments)}function it(D){return hn.apply(this,arguments)}function hn(){return(hn=(0,W.Z)(function*(D){const R=yield C(D.firebaseDependencies);R&&(yield $n(D.firebaseDependencies,R.token),yield se(D.firebaseDependencies));const G=yield D.swRegistration.pushManager.getSubscription();return!G||G.unsubscribe()})).apply(this,arguments)}function jo(D,R){return N.apply(this,arguments)}function N(){return(N=(0,W.Z)(function*(D,R){try{const G=yield nn(D.firebaseDependencies,R),ee=Object.assign(Object.assign({},R),{token:G,createTime:Date.now()});return yield S(D.firebaseDependencies,ee),G}catch(G){throw yield it(D),G}})).apply(this,arguments)}function P(D,R){return Z.apply(this,arguments)}function Z(){return(Z=(0,W.Z)(function*(D,R){const ee={token:yield Bn(D,R),createTime:Date.now(),subscriptionOptions:R};return yield S(D,ee),ee.token})).apply(this,arguments)}function J(D,R){return me.apply(this,arguments)}function me(){return(me=(0,W.Z)(function*(D,R){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:F(R)})})).apply(this,arguments)}function Ne(D,R){return R.vapidKey===D.vapidKey&&R.endpoint===D.endpoint&&R.auth===D.auth&&R.p256dh===D.p256dh}function nt(D){const R={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Nt(D,R){if(!R.notification)return;D.notification={};const G=R.notification.title;G&&(D.notification.title=G);const ee=R.notification.body;ee&&(D.notification.body=ee);const De=R.notification.image;De&&(D.notification.image=De)}(R,D),function It(D,R){!R.data||(D.data=R.data)}(R,D),function on(D,R){if(!R.fcmOptions)return;D.fcmOptions={};const G=R.fcmOptions.link;G&&(D.fcmOptions.link=G);const ee=R.fcmOptions.analytics_label;ee&&(D.fcmOptions.analyticsLabel=ee)}(R,D),R}function rn(D){return"object"==typeof D&&!!D&&Nr in D}function Xn(D,R){const G=[];for(let ee=0;ee<D.length;ee++)G.push(D.charAt(ee)),ee<R.length&&G.push(R.charAt(ee));return G.join("")}function or(D){return dn.create("missing-app-config-values",{valueName:D})}Xn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Xn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hn{constructor(R,G,ee){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const De=function Dr(D){if(!D||!D.options)throw or("App Configuration Object");if(!D.name)throw or("App Name");const R=["projectId","apiKey","appId","messagingSenderId"],{options:G}=D;for(const ee of R)if(!G[ee])throw or(ee);return{appName:D.name,projectId:G.projectId,apiKey:G.apiKey,appId:G.appId,senderId:G.messagingSenderId}}(R);this.firebaseDependencies={app:R,appConfig:De,installations:G,analyticsProvider:ee}}_delete(){return Promise.resolve()}}function Pi(D){return hr.apply(this,arguments)}function hr(){return(hr=(0,W.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Cs,{scope:hs}),D.swRegistration.update().catch(()=>{})}catch(R){throw dn.create("failed-service-worker-registration",{browserErrorMessage:R.message})}})).apply(this,arguments)}function rs(D,R){return bi.apply(this,arguments)}function bi(){return(bi=(0,W.Z)(function*(D,R){if(!R&&!D.swRegistration&&(yield Pi(D)),R||!D.swRegistration){if(!(R instanceof ServiceWorkerRegistration))throw dn.create("invalid-sw-registration");D.swRegistration=R}})).apply(this,arguments)}function Sr(D,R){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,W.Z)(function*(D,R){R?D.vapidKey=R:D.vapidKey||(D.vapidKey=Ns)})).apply(this,arguments)}function gs(){return(gs=(0,W.Z)(function*(D,R){if(!navigator)throw dn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw dn.create("permission-blocked");return yield Sr(D,null==R?void 0:R.vapidKey),yield rs(D,null==R?void 0:R.serviceWorkerRegistration),Hs(D)})).apply(this,arguments)}function $o(D,R,G){return zs.apply(this,arguments)}function zs(){return(zs=(0,W.Z)(function*(D,R,G){const ee=qs(R);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(ee,{message_id:G[Nr],message_name:G[fs],message_time:G[mi],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qs(D){switch(D){case oi.NOTIFICATION_CLICKED:return"notification_open";case oi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function mo(){return(mo=(0,W.Z)(function*(D,R){const G=R.data;if(!G.isFirebaseMessaging)return;D.onMessageHandler&&G.messageType===oi.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(nt(G)):D.onMessageHandler.next(nt(G)));const ee=G.data;rn(ee)&&"1"===ee[Qs]&&(yield $o(D,G.messageType,ee))})).apply(this,arguments)}const Pa="@firebase/messaging",Co=D=>{const R=new Hn(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",G=>function Ma(D,R){return mo.apply(this,arguments)}(R,G)),R},Oa=D=>{const R=D.getProvider("messaging").getImmediate();return{getToken:ee=>function ar(D,R){return gs.apply(this,arguments)}(R,ee)}};function Di(){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,W.Z)(function*(){return"undefined"!=typeof window&&(0,ve.hl)()&&(yield(0,ve.eu)())&&(0,ve.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function io(){(0,be._registerComponent)(new Ie.wA("messaging",Co,"PUBLIC")),(0,be._registerComponent)(new Ie.wA("messaging-internal",Oa,"PRIVATE")),(0,be.registerVersion)(Pa,"0.9.7"),(0,be.registerVersion)(Pa,"0.9.7","esm2017")}();const Xs="analytics",ua="firebase_id",La="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ms="https://www.googletagmanager.com/gtag/js",Tr=new Re.Yd("@firebase/analytics");function qo(D){return Promise.all(D.map(R=>R.catch(G=>G)))}function oo(D,R){const G=document.createElement("script");G.src=`${ms}?l=${D}&id=${R}`,G.async=!0,document.head.appendChild(G)}function Wo(D,R,G,ee,De,Ze){return eo.apply(this,arguments)}function eo(){return(eo=(0,W.Z)(function*(D,R,G,ee,De,Ze){const dt=ee[De];try{if(dt)yield R[dt];else{const Ft=(yield qo(G)).find(fr=>fr.measurementId===De);Ft&&(yield R[Ft.appId])}}catch(Ht){Tr.error(Ht)}D("config",De,Ze)})).apply(this,arguments)}function So(D,R,G,ee,De){return ca.apply(this,arguments)}function ca(){return(ca=(0,W.Z)(function*(D,R,G,ee,De){try{let Ze=[];if(De&&De.send_to){let dt=De.send_to;Array.isArray(dt)||(dt=[dt]);const Ht=yield qo(G);for(const Ft of dt){const fr=Ht.find(os=>os.measurementId===Ft),xr=fr&&R[fr.appId];if(!xr){Ze=[];break}Ze.push(xr)}}0===Ze.length&&(Ze=Object.values(R)),yield Promise.all(Ze),D("event",ee,De||{})}catch(Ze){Tr.error(Ze)}})).apply(this,arguments)}function Fa(){const D=window.document.getElementsByTagName("script");for(const R of Object.values(D))if(R.src&&R.src.includes(ms))return R;return null}const Oi=new ve.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),yc=new class la{constructor(R={},G=1e3){this.throttleMetadata=R,this.intervalMillis=G}getThrottleMetadata(R){return this.throttleMetadata[R]}setThrottleMetadata(R,G){this.throttleMetadata[R]=G}deleteThrottleMetadata(R){delete this.throttleMetadata[R]}};function xo(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function $u(D){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,W.Z)(function*(D){var R;const{appId:G,apiKey:ee}=D,De={method:"GET",headers:xo(ee)},Ze=La.replace("{app-id}",G),dt=yield fetch(Ze,De);if(200!==dt.status&&304!==dt.status){let Ht="";try{const Ft=yield dt.json();(null===(R=Ft.error)||void 0===R?void 0:R.message)&&(Ht=Ft.error.message)}catch(Ft){}throw Oi.create("config-fetch-failed",{httpStatus:dt.status,responseMessage:Ht})}return dt.json()})).apply(this,arguments)}function uu(D){return to.apply(this,arguments)}function to(){return(to=(0,W.Z)(function*(D,R=yc,G){const{appId:ee,apiKey:De,measurementId:Ze}=D.options;if(!ee)throw Oi.create("no-app-id");if(!De){if(Ze)return{measurementId:Ze,appId:ee};throw Oi.create("no-api-key")}const dt=R.getThrottleMetadata(ee)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ht=new ao;return setTimeout((0,W.Z)(function*(){Ht.abort()}),void 0!==G?G:6e4),_o({appId:ee,apiKey:De,measurementId:Ze},dt,Ht,R)})).apply(this,arguments)}function _o(D,R,G){return da.apply(this,arguments)}function da(){return(da=(0,W.Z)(function*(D,{throttleEndTimeMillis:R,backoffCount:G},ee,De=yc){const{appId:Ze,measurementId:dt}=D;try{yield Hu(ee,R)}catch(Ht){if(dt)return Tr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dt} provided in the "measurementId" field in the local Firebase config. [${Ht.message}]`),{appId:Ze,measurementId:dt};throw Ht}try{const Ht=yield $u(D);return De.deleteThrottleMetadata(Ze),Ht}catch(Ht){if(!ui(Ht)){if(De.deleteThrottleMetadata(Ze),dt)return Tr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dt} provided in the "measurementId" field in the local Firebase config. [${Ht.message}]`),{appId:Ze,measurementId:dt};throw Ht}const Ft=503===Number(Ht.customData.httpStatus)?(0,ve.$s)(G,De.intervalMillis,30):(0,ve.$s)(G,De.intervalMillis),fr={throttleEndTimeMillis:Date.now()+Ft,backoffCount:G+1};return De.setThrottleMetadata(Ze,fr),Tr.debug(`Calling attemptFetch again in ${Ft} millis`),_o(D,fr,ee,De)}})).apply(this,arguments)}function Hu(D,R){return new Promise((G,ee)=>{const De=Math.max(R-Date.now(),0),Ze=setTimeout(G,De);D.addEventListener(()=>{clearTimeout(Ze),ee(Oi.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}function ui(D){if(!(D instanceof ve.ZR&&D.customData))return!1;const R=Number(D.customData.httpStatus);return 429===R||500===R||503===R||504===R}class ao{constructor(){this.listeners=[]}addEventListener(R){this.listeners.push(R)}abort(){this.listeners.forEach(R=>R())}}function Fs(){return uo.apply(this,arguments)}function uo(){return(uo=(0,W.Z)(function*(){if(!(0,ve.hl)())return Tr.warn(Oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ve.eu)()}catch(D){return Tr.warn(Oi.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function m(){return(m=(0,W.Z)(function*(D,R,G,ee,De,Ze,dt){var Ht;const Ft=uu(D);Ft.then(Mr=>{G[Mr.measurementId]=Mr.appId,D.options.measurementId&&Mr.measurementId!==D.options.measurementId&&Tr.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Mr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mr=>Tr.error(Mr)),R.push(Ft);const fr=Fs().then(Mr=>{if(Mr)return ee.getId()}),[xr,os]=yield Promise.all([Ft,fr]);Fa()||oo(Ze,xr.measurementId),De("js",new Date);const Ti=null!==(Ht=null==dt?void 0:dt.config)&&void 0!==Ht?Ht:{};return Ti.origin="firebase",Ti.update=!0,null!=os&&(Ti[ua]=os),De("config",xr.measurementId,Ti),xr.measurementId})).apply(this,arguments)}class _{constructor(R){this.app=R}_delete(){return delete T[this.app.options.appId],Promise.resolve()}}let T={},k=[];const B={};let ge,de,Y="dataLayer",$e=!1;function er(D,R,G){!function Gn(){const D=[];if((0,ve.ru)()&&D.push("This is a browser extension environment."),(0,ve.zI)()||D.push("Cookies are not available."),D.length>0){const R=D.map((ee,De)=>`(${De+1}) ${ee}`).join(" "),G=Oi.create("invalid-analytics-context",{errorInfo:R});Tr.warn(G.message)}}();const ee=D.options.appId;if(!ee)throw Oi.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Oi.create("no-api-key");Tr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=T[ee])throw Oi.create("already-exists",{id:ee});if(!$e){!function yo(D){let R=[];Array.isArray(window[D])?R=window[D]:window[D]=R}(Y);const{wrappedGtag:Ze,gtagCore:dt}=function Ro(D,R,G,ee,De){let Ze=function(...dt){window[ee].push(arguments)};return window[De]&&"function"==typeof window[De]&&(Ze=window[De]),window[De]=function Vu(D,R,G,ee){function Ze(){return(Ze=(0,W.Z)(function*(dt,Ht,Ft){try{"event"===dt?yield So(D,R,G,Ht,Ft):"config"===dt?yield Wo(D,R,G,ee,Ht,Ft):D("set",Ht)}catch(fr){Tr.error(fr)}})).apply(this,arguments)}return function De(dt,Ht,Ft){return Ze.apply(this,arguments)}}(Ze,D,R,G),{gtagCore:Ze,wrappedGtag:window[De]}}(T,k,B,Y,"gtag");de=Ze,ge=dt,$e=!0}return T[ee]=function I(D,R,G,ee,De,Ze,dt){return m.apply(this,arguments)}(D,k,B,R,ge,Y,G),new _(D)}function As(){return(As=(0,W.Z)(function*(D,R,G,ee,De){if(De&&De.global)D("event",G,ee);else{const Ze=yield R;D("event",G,Object.assign(Object.assign({},ee),{send_to:Ze}))}})).apply(this,arguments)}function cu(){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,W.Z)(function*(){if((0,ve.ru)()||!(0,ve.zI)()||!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch(D){return!1}})).apply(this,arguments)}const zn="@firebase/analytics";!function tr(){(0,be._registerComponent)(new Ie.wA(Xs,(R,{options:G})=>er(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),G),"PUBLIC")),(0,be._registerComponent)(new Ie.wA("analytics-internal",function D(R){try{const G=R.getProvider(Xs).getImmediate();return{logEvent:(ee,De,Ze)=>function Va(D,R,G,ee){D=(0,ve.m9)(D),function Jr(D,R,G,ee,De){return As.apply(this,arguments)}(de,T[D.app.options.appId],R,G,ee).catch(De=>Tr.error(De))}(G,ee,De,Ze)}}catch(G){throw Oi.create("interop-component-reg-failed",{reason:G})}},"PRIVATE")),(0,be.registerVersion)(zn,"0.7.5"),(0,be.registerVersion)(zn,"0.7.5","esm2017")}();var fa=U(4408),Ki=U(7565);const Gi=new class nd extends Ki.v{}(class vo extends fa.o{constructor(R,G){super(R,G),this.scheduler=R,this.work=G}schedule(R,G=0){return G>0?super.schedule(R,G):(this.delay=G,this.state=R,this.scheduler.flush(this),this)}execute(R,G){return G>0||this.closed?super.execute(R,G):this._execute(R,G)}requestAsyncId(R,G,ee=0){return null!=ee&&ee>0||null==ee&&this.delay>0?super.requestAsyncId(R,G,ee):R.flush(this)}});var pa=U(4986),ga=U(8505),Qo=U(5363),ja=U(9468);const ma=new E.GfV("7.2.0"),_c="__angularfire_symbol__analyticsIsSupported",wo="__angularfire_symbol__remoteConfigIsSupported",Mo="__angularfire_symbol__messagingIsSupported";function lu(D,R,G){if(R){if(1===R.length)return R[0];const Ze=R.filter(dt=>dt.app===G);if(1===Ze.length)return Ze[0]}return G.container.getProvider(D).getImmediate({optional:!0})}globalThis[_c]||(globalThis[_c]=cu().then(D=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=D)),globalThis[Mo]||(globalThis[Mo]=Di().then(D=>globalThis.__angularfire_symbol__messagingIsSupportedValue=D)),globalThis[wo]||(globalThis[wo]=ks().then(D=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=D));const wc=(D,R)=>{const G=R?[R]:(0,x.C6)(),ee=[];return G.forEach(De=>{De.container.getProvider(D).instances.forEach(dt=>{ee.includes(dt)||ee.push(dt)})}),ee};function Xo(){}class Ec{constructor(R,G=Gi){this.zone=R,this.delegate=G}now(){return this.delegate.now()}schedule(R,G,ee){const De=this.zone;return this.delegate.schedule(function(dt){De.runGuarded(()=>{R.apply(this,[dt])})},G,ee)}}class du{constructor(R){this.zone=R,this.task=null}call(R,G){const ee=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xo,{},Xo,Xo)),G.pipe((0,ga.b)({next:ee,complete:ee,error:ee})).subscribe(R).add(ee)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $a=(()=>{class D{constructor(G){this.ngZone=G,this.outsideAngular=G.runOutsideAngular(()=>new Ec(Zone.current)),this.insideAngular=G.run(()=>new Ec(Zone.current,pa.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(G){return new(G||D)(E.LFG(E.R0b))},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function ys(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function jr(D){return D.pipe((0,Qo.Q)(ys().outsideAngular))}function Ha(D){return ys(),function ya(D){return function(G){return(G=G.lift(new du(D.ngZone))).pipe((0,ja.R)(D.outsideAngular),(0,Qo.Q)(D.insideAngular))}}(ys())(D)}},2090:(Ct,Ve,U)=>{"use strict";U.d(Ve,{BH:()=>ht,LL:()=>Be,ZR:()=>st,zI:()=>ye,US:()=>Ie,tV:()=>xe,$s:()=>Mt,r3:()=>Vn,Sg:()=>Ge,ne:()=>xn,vZ:()=>un,ZB:()=>X,pd:()=>zr,m9:()=>di,z$:()=>Je,jU:()=>Pe,ru:()=>ze,d:()=>te,xb:()=>Un,w1:()=>Fe,hl:()=>Ut,uI:()=>rt,UG:()=>we,b$:()=>Xe,G6:()=>et,Mn:()=>Ye,xO:()=>Si,zd:()=>Gr,eu:()=>Te});const be=function(ie){const ue=[];let ce=0;for(let We=0;We<ie.length;We++){let Oe=ie.charCodeAt(We);Oe<128?ue[ce++]=Oe:Oe<2048?(ue[ce++]=Oe>>6|192,ue[ce++]=63&Oe|128):55296==(64512&Oe)&&We+1<ie.length&&56320==(64512&ie.charCodeAt(We+1))?(Oe=65536+((1023&Oe)<<10)+(1023&ie.charCodeAt(++We)),ue[ce++]=Oe>>18|240,ue[ce++]=Oe>>12&63|128,ue[ce++]=Oe>>6&63|128,ue[ce++]=63&Oe|128):(ue[ce++]=Oe>>12|224,ue[ce++]=Oe>>6&63|128,ue[ce++]=63&Oe|128)}return ue},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ie,ue){if(!Array.isArray(ie))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ce=ue?this.byteToCharMapWebSafe_:this.byteToCharMap_,We=[];for(let Oe=0;Oe<ie.length;Oe+=3){const vt=ie[Oe],$t=Oe+1<ie.length,Pn=$t?ie[Oe+1]:0,In=Oe+2<ie.length,qn=In?ie[Oe+2]:0;let On=(15&Pn)<<2|qn>>6,qr=63&qn;In||(qr=64,$t||(On=64)),We.push(ce[vt>>2],ce[(3&vt)<<4|Pn>>4],ce[On],ce[qr])}return We.join("")},encodeString(ie,ue){return this.HAS_NATIVE_SUPPORT&&!ue?btoa(ie):this.encodeByteArray(be(ie),ue)},decodeString(ie,ue){return this.HAS_NATIVE_SUPPORT&&!ue?atob(ie):function(ie){const ue=[];let ce=0,We=0;for(;ce<ie.length;){const Oe=ie[ce++];if(Oe<128)ue[We++]=String.fromCharCode(Oe);else if(Oe>191&&Oe<224){const vt=ie[ce++];ue[We++]=String.fromCharCode((31&Oe)<<6|63&vt)}else if(Oe>239&&Oe<365){const In=((7&Oe)<<18|(63&ie[ce++])<<12|(63&ie[ce++])<<6|63&ie[ce++])-65536;ue[We++]=String.fromCharCode(55296+(In>>10)),ue[We++]=String.fromCharCode(56320+(1023&In))}else{const vt=ie[ce++],$t=ie[ce++];ue[We++]=String.fromCharCode((15&Oe)<<12|(63&vt)<<6|63&$t)}}return ue.join("")}(this.decodeStringToByteArray(ie,ue))},decodeStringToByteArray(ie,ue){this.init_();const ce=ue?this.charToByteMapWebSafe_:this.charToByteMap_,We=[];for(let Oe=0;Oe<ie.length;){const vt=ce[ie.charAt(Oe++)],Pn=Oe<ie.length?ce[ie.charAt(Oe)]:0;++Oe;const qn=Oe<ie.length?ce[ie.charAt(Oe)]:64;++Oe;const ln=Oe<ie.length?ce[ie.charAt(Oe)]:64;if(++Oe,null==vt||null==Pn||null==qn||null==ln)throw Error();We.push(vt<<2|Pn>>4),64!==qn&&(We.push(Pn<<4&240|qn>>2),64!==ln&&We.push(qn<<6&192|ln))}return We},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ie=0;ie<this.ENCODED_VALS.length;ie++)this.byteToCharMap_[ie]=this.ENCODED_VALS.charAt(ie),this.charToByteMap_[this.byteToCharMap_[ie]]=ie,this.byteToCharMapWebSafe_[ie]=this.ENCODED_VALS_WEBSAFE.charAt(ie),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ie]]=ie,ie>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ie)]=ie,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ie)]=ie)}}},Ae=function(ie){return function(ie){const ue=be(ie);return Ie.encodeByteArray(ue,!0)}(ie).replace(/\./g,"")},xe=function(ie){try{return Ie.decodeString(ie,!0)}catch(ue){console.error("base64Decode failed: ",ue)}return null};function X(ie,ue){if(!(ue instanceof Object))return ue;switch(ue.constructor){case Date:return new Date(ue.getTime());case Object:void 0===ie&&(ie={});break;case Array:ie=[];break;default:return ue}for(const ce in ue)!ue.hasOwnProperty(ce)||!Ce(ce)||(ie[ce]=X(ie[ce],ue[ce]));return ie}function Ce(ie){return"__proto__"!==ie}class ht{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ue,ce)=>{this.resolve=ue,this.reject=ce})}wrapCallback(ue){return(ce,We)=>{ce?this.reject(ce):this.resolve(We),"function"==typeof ue&&(this.promise.catch(()=>{}),1===ue.length?ue(ce):ue(ce,We))}}}function Ge(ie,ue){if(ie.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const We=ue||"demo-project",Oe=ie.iat||0,vt=ie.sub||ie.user_id;if(!vt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $t=Object.assign({iss:`https://securetoken.google.com/${We}`,aud:We,iat:Oe,exp:Oe+3600,auth_time:Oe,sub:vt,user_id:vt,firebase:{sign_in_provider:"custom",identities:{}}},ie);return[Ae(JSON.stringify({alg:"none",type:"JWT"})),Ae(JSON.stringify($t)),""].join(".")}function Je(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function rt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ie){return!1}}function Pe(){return"object"==typeof self&&self.self===self}function ze(){const ie="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ie&&void 0!==ie.id}function Xe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function te(){return Je().indexOf("Electron/")>=0}function Fe(){const ie=Je();return ie.indexOf("MSIE ")>=0||ie.indexOf("Trident/")>=0}function Ye(){return Je().indexOf("MSAppHost/")>=0}function et(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ut(){return"object"==typeof indexedDB}function Te(){return new Promise((ie,ue)=>{try{let ce=!0;const We="validate-browser-context-for-indexeddb-analytics-module",Oe=self.indexedDB.open(We);Oe.onsuccess=()=>{Oe.result.close(),ce||self.indexedDB.deleteDatabase(We),ie(!0)},Oe.onupgradeneeded=()=>{ce=!1},Oe.onerror=()=>{var vt;ue((null===(vt=Oe.error)||void 0===vt?void 0:vt.message)||"")}}catch(ce){ue(ce)}})}function ye(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class st extends Error{constructor(ue,ce,We){super(ce),this.code=ue,this.customData=We,this.name="FirebaseError",Object.setPrototypeOf(this,st.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Be.prototype.create)}}class Be{constructor(ue,ce,We){this.service=ue,this.serviceName=ce,this.errors=We}create(ue,...ce){const We=ce[0]||{},Oe=`${this.service}/${ue}`,vt=this.errors[ue],$t=vt?function Tt(ie,ue){return ie.replace(fn,(ce,We)=>{const Oe=ue[We];return null!=Oe?String(Oe):`<${We}?>`})}(vt,We):"Error";return new st(Oe,`${this.serviceName}: ${$t} (${Oe}).`,We)}}const fn=/\{\$([^}]+)}/g;function Vn(ie,ue){return Object.prototype.hasOwnProperty.call(ie,ue)}function Un(ie){for(const ue in ie)if(Object.prototype.hasOwnProperty.call(ie,ue))return!1;return!0}function un(ie,ue){if(ie===ue)return!0;const ce=Object.keys(ie),We=Object.keys(ue);for(const Oe of ce){if(!We.includes(Oe))return!1;const vt=ie[Oe],$t=ue[Oe];if(Kn(vt)&&Kn($t)){if(!un(vt,$t))return!1}else if(vt!==$t)return!1}for(const Oe of We)if(!ce.includes(Oe))return!1;return!0}function Kn(ie){return null!==ie&&"object"==typeof ie}function Si(ie){const ue=[];for(const[ce,We]of Object.entries(ie))Array.isArray(We)?We.forEach(Oe=>{ue.push(encodeURIComponent(ce)+"="+encodeURIComponent(Oe))}):ue.push(encodeURIComponent(ce)+"="+encodeURIComponent(We));return ue.length?"&"+ue.join("&"):""}function Gr(ie){const ue={};return ie.replace(/^\?/,"").split("&").forEach(We=>{if(We){const[Oe,vt]=We.split("=");ue[decodeURIComponent(Oe)]=decodeURIComponent(vt)}}),ue}function zr(ie){const ue=ie.indexOf("?");if(!ue)return"";const ce=ie.indexOf("#",ue);return ie.substring(ue,ce>0?ce:void 0)}function xn(ie,ue){const ce=new At(ie,ue);return ce.subscribe.bind(ce)}class At{constructor(ue,ce){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ce,this.task.then(()=>{ue(this)}).catch(We=>{this.error(We)})}next(ue){this.forEachObserver(ce=>{ce.next(ue)})}error(ue){this.forEachObserver(ce=>{ce.error(ue)}),this.close(ue)}complete(){this.forEachObserver(ue=>{ue.complete()}),this.close()}subscribe(ue,ce,We){let Oe;if(void 0===ue&&void 0===ce&&void 0===We)throw new Error("Missing Observer.");Oe=function Dn(ie,ue){if("object"!=typeof ie||null===ie)return!1;for(const ce of ue)if(ce in ie&&"function"==typeof ie[ce])return!0;return!1}(ue,["next","error","complete"])?ue:{next:ue,error:ce,complete:We},void 0===Oe.next&&(Oe.next=Ln),void 0===Oe.error&&(Oe.error=Ln),void 0===Oe.complete&&(Oe.complete=Ln);const vt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Oe.error(this.finalError):Oe.complete()}catch($t){}}),this.observers.push(Oe),vt}unsubscribeOne(ue){void 0===this.observers||void 0===this.observers[ue]||(delete this.observers[ue],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ue){if(!this.finalized)for(let ce=0;ce<this.observers.length;ce++)this.sendOne(ce,ue)}sendOne(ue,ce){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ue])try{ce(this.observers[ue])}catch(We){"undefined"!=typeof console&&console.error&&console.error(We)}})}close(ue){this.finalized||(this.finalized=!0,void 0!==ue&&(this.finalError=ue),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ln(){}function Mt(ie,ue=1e3,ce=2){const We=ue*Math.pow(ce,ie),Oe=Math.round(.5*We*(Math.random()-.5)*2);return Math.min(144e5,We+Oe)}function di(ie){return ie&&ie._delegate?ie._delegate:ie}},7557:(Ct,Ve,U)=>{"use strict";var E=U(9808),x=U(5e3);class W extends E.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class be extends W{static makeCurrent(){(0,E.HT)(new be)}onAndCancel(F,O,ne){return F.addEventListener(O,ne,!1),()=>{F.removeEventListener(O,ne,!1)}}dispatchEvent(F,O){F.dispatchEvent(O)}remove(F){F.parentNode&&F.parentNode.removeChild(F)}createElement(F,O){return(O=O||this.getDefaultDocument()).createElement(F)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(F){return F.nodeType===Node.ELEMENT_NODE}isShadowRoot(F){return F instanceof DocumentFragment}getGlobalEventTarget(F,O){return"window"===O?window:"document"===O?F:"body"===O?F.body:null}getBaseHref(F){const O=function Ie(){return ve=ve||document.querySelector("base"),ve?ve.getAttribute("href"):null}();return null==O?null:function Ae(q){Re=Re||document.createElement("a"),Re.setAttribute("href",q);const F=Re.pathname;return"/"===F.charAt(0)?F:`/${F}`}(O)}resetBaseElement(){ve=null}getUserAgent(){return window.navigator.userAgent}getCookie(F){return(0,E.Mx)(document.cookie,F)}}let Re,ve=null;const xe=new x.OlP("TRANSITION_ID"),X=[{provide:x.ip1,useFactory:function oe(q,F,O){return()=>{O.get(x.CZH).donePromise.then(()=>{const ne=(0,E.q)(),he=F.querySelectorAll(`style[ng-transition="${q}"]`);for(let ot=0;ot<he.length;ot++)ne.remove(he[ot])})}},deps:[xe,E.K0,x.zs3],multi:!0}];class Ce{static init(){(0,x.VLi)(new Ce)}addToWindow(F){x.dqk.getAngularTestability=(ne,he=!0)=>{const ot=F.findTestabilityInTree(ne,he);if(null==ot)throw new Error("Could not find testability for element.");return ot},x.dqk.getAllAngularTestabilities=()=>F.getAllTestabilities(),x.dqk.getAllAngularRootElements=()=>F.getAllRootElements(),x.dqk.frameworkStabilizers||(x.dqk.frameworkStabilizers=[]),x.dqk.frameworkStabilizers.push(ne=>{const he=x.dqk.getAllAngularTestabilities();let ot=he.length,jt=!1;const yn=function(Xt){jt=jt||Xt,ot--,0==ot&&ne(jt)};he.forEach(function(Xt){Xt.whenStable(yn)})})}findTestabilityInTree(F,O,ne){if(null==O)return null;const he=F.getTestability(O);return null!=he?he:ne?(0,E.q)().isShadowRoot(O)?this.findTestabilityInTree(F,O.host,!0):this.findTestabilityInTree(F,O.parentElement,!0):null}}let ht=(()=>{class q{build(){return new XMLHttpRequest}}return q.\u0275fac=function(O){return new(O||q)},q.\u0275prov=x.Yz7({token:q,factory:q.\u0275fac}),q})();const Ge=new x.OlP("EventManagerPlugins");let Je=(()=>{class q{constructor(O,ne){this._zone=ne,this._eventNameToPlugin=new Map,O.forEach(he=>he.manager=this),this._plugins=O.slice().reverse()}addEventListener(O,ne,he){return this._findPluginFor(ne).addEventListener(O,ne,he)}addGlobalEventListener(O,ne,he){return this._findPluginFor(ne).addGlobalEventListener(O,ne,he)}getZone(){return this._zone}_findPluginFor(O){const ne=this._eventNameToPlugin.get(O);if(ne)return ne;const he=this._plugins;for(let ot=0;ot<he.length;ot++){const jt=he[ot];if(jt.supports(O))return this._eventNameToPlugin.set(O,jt),jt}throw new Error(`No event manager plugin found for event ${O}`)}}return q.\u0275fac=function(O){return new(O||q)(x.LFG(Ge),x.LFG(x.R0b))},q.\u0275prov=x.Yz7({token:q,factory:q.\u0275fac}),q})();class rt{constructor(F){this._doc=F}addGlobalEventListener(F,O,ne){const he=(0,E.q)().getGlobalEventTarget(this._doc,F);if(!he)throw new Error(`Unsupported event target ${he} for event ${O}`);return this.addEventListener(he,O,ne)}}let we=(()=>{class q{constructor(){this._stylesSet=new Set}addStyles(O){const ne=new Set;O.forEach(he=>{this._stylesSet.has(he)||(this._stylesSet.add(he),ne.add(he))}),this.onStylesAdded(ne)}onStylesAdded(O){}getAllStyles(){return Array.from(this._stylesSet)}}return q.\u0275fac=function(O){return new(O||q)},q.\u0275prov=x.Yz7({token:q,factory:q.\u0275fac}),q})(),Pe=(()=>{class q extends we{constructor(O){super(),this._doc=O,this._hostNodes=new Map,this._hostNodes.set(O.head,[])}_addStylesToHost(O,ne,he){O.forEach(ot=>{const jt=this._doc.createElement("style");jt.textContent=ot,he.push(ne.appendChild(jt))})}addHost(O){const ne=[];this._addStylesToHost(this._stylesSet,O,ne),this._hostNodes.set(O,ne)}removeHost(O){const ne=this._hostNodes.get(O);ne&&ne.forEach(ze),this._hostNodes.delete(O)}onStylesAdded(O){this._hostNodes.forEach((ne,he)=>{this._addStylesToHost(O,he,ne)})}ngOnDestroy(){this._hostNodes.forEach(O=>O.forEach(ze))}}return q.\u0275fac=function(O){return new(O||q)(x.LFG(E.K0))},q.\u0275prov=x.Yz7({token:q,factory:q.\u0275fac}),q})();function ze(q){(0,E.q)().remove(q)}const Xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},te=/%COMP%/g;function ye(q,F,O){for(let ne=0;ne<F.length;ne++){let he=F[ne];Array.isArray(he)?ye(q,he,O):(he=he.replace(te,q),O.push(he))}return O}function Ue(q){return F=>{if("__ngUnwrap__"===F)return q;!1===q(F)&&(F.preventDefault(),F.returnValue=!1)}}let st=(()=>{class q{constructor(O,ne,he){this.eventManager=O,this.sharedStylesHost=ne,this.appId=he,this.rendererByCompId=new Map,this.defaultRenderer=new Be(O)}createRenderer(O,ne){if(!O||!ne)return this.defaultRenderer;switch(ne.encapsulation){case x.ifc.Emulated:{let he=this.rendererByCompId.get(ne.id);return he||(he=new gr(this.eventManager,this.sharedStylesHost,ne,this.appId),this.rendererByCompId.set(ne.id,he)),he.applyToHost(O),he}case 1:case x.ifc.ShadowDom:return new zt(this.eventManager,this.sharedStylesHost,O,ne);default:if(!this.rendererByCompId.has(ne.id)){const he=ye(ne.id,ne.styles,[]);this.sharedStylesHost.addStyles(he),this.rendererByCompId.set(ne.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return q.\u0275fac=function(O){return new(O||q)(x.LFG(Je),x.LFG(Pe),x.LFG(x.AFp))},q.\u0275prov=x.Yz7({token:q,factory:q.\u0275fac}),q})();class Be{constructor(F){this.eventManager=F,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(F,O){return O?document.createElementNS(Xe[O]||O,F):document.createElement(F)}createComment(F){return document.createComment(F)}createText(F){return document.createTextNode(F)}appendChild(F,O){F.appendChild(O)}insertBefore(F,O,ne){F&&F.insertBefore(O,ne)}removeChild(F,O){F&&F.removeChild(O)}selectRootElement(F,O){let ne="string"==typeof F?document.querySelector(F):F;if(!ne)throw new Error(`The selector "${F}" did not match any elements`);return O||(ne.textContent=""),ne}parentNode(F){return F.parentNode}nextSibling(F){return F.nextSibling}setAttribute(F,O,ne,he){if(he){O=he+":"+O;const ot=Xe[he];ot?F.setAttributeNS(ot,O,ne):F.setAttribute(O,ne)}else F.setAttribute(O,ne)}removeAttribute(F,O,ne){if(ne){const he=Xe[ne];he?F.removeAttributeNS(he,O):F.removeAttribute(`${ne}:${O}`)}else F.removeAttribute(O)}addClass(F,O){F.classList.add(O)}removeClass(F,O){F.classList.remove(O)}setStyle(F,O,ne,he){he&(x.JOm.DashCase|x.JOm.Important)?F.style.setProperty(O,ne,he&x.JOm.Important?"important":""):F.style[O]=ne}removeStyle(F,O,ne){ne&x.JOm.DashCase?F.style.removeProperty(O):F.style[O]=""}setProperty(F,O,ne){F[O]=ne}setValue(F,O){F.nodeValue=O}listen(F,O,ne){return"string"==typeof F?this.eventManager.addGlobalEventListener(F,O,Ue(ne)):this.eventManager.addEventListener(F,O,Ue(ne))}}class gr extends Be{constructor(F,O,ne,he){super(F),this.component=ne;const ot=ye(he+"-"+ne.id,ne.styles,[]);O.addStyles(ot),this.contentAttr=function Ut(q){return"_ngcontent-%COMP%".replace(te,q)}(he+"-"+ne.id),this.hostAttr=function Te(q){return"_nghost-%COMP%".replace(te,q)}(he+"-"+ne.id)}applyToHost(F){super.setAttribute(F,this.hostAttr,"")}createElement(F,O){const ne=super.createElement(F,O);return super.setAttribute(ne,this.contentAttr,""),ne}}class zt extends Be{constructor(F,O,ne,he){super(F),this.sharedStylesHost=O,this.hostEl=ne,this.shadowRoot=ne.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ot=ye(he.id,he.styles,[]);for(let jt=0;jt<ot.length;jt++){const yn=document.createElement("style");yn.textContent=ot[jt],this.shadowRoot.appendChild(yn)}}nodeOrShadowRoot(F){return F===this.hostEl?this.shadowRoot:F}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(F,O){return super.appendChild(this.nodeOrShadowRoot(F),O)}insertBefore(F,O,ne){return super.insertBefore(this.nodeOrShadowRoot(F),O,ne)}removeChild(F,O){return super.removeChild(this.nodeOrShadowRoot(F),O)}parentNode(F){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(F)))}}let Bt=(()=>{class q extends rt{constructor(O){super(O)}supports(O){return!0}addEventListener(O,ne,he){return O.addEventListener(ne,he,!1),()=>this.removeEventListener(O,ne,he)}removeEventListener(O,ne,he){return O.removeEventListener(ne,he)}}return q.\u0275fac=function(O){return new(O||q)(x.LFG(E.K0))},q.\u0275prov=x.Yz7({token:q,factory:q.\u0275fac}),q})();const nr=["alt","control","meta","shift"],Rn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Vn={alt:q=>q.altKey,control:q=>q.ctrlKey,meta:q=>q.metaKey,shift:q=>q.shiftKey};let En=(()=>{class q extends rt{constructor(O){super(O)}supports(O){return null!=q.parseEventName(O)}addEventListener(O,ne,he){const ot=q.parseEventName(ne),jt=q.eventCallback(ot.fullKey,he,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.q)().onAndCancel(O,ot.domEventName,jt))}static parseEventName(O){const ne=O.toLowerCase().split("."),he=ne.shift();if(0===ne.length||"keydown"!==he&&"keyup"!==he)return null;const ot=q._normalizeKey(ne.pop());let jt="";if(nr.forEach(Xt=>{const tn=ne.indexOf(Xt);tn>-1&&(ne.splice(tn,1),jt+=Xt+".")}),jt+=ot,0!=ne.length||0===ot.length)return null;const yn={};return yn.domEventName=he,yn.fullKey=jt,yn}static getEventFullKey(O){let ne="",he=function Un(q){let F=q.key;if(null==F){if(F=q.keyIdentifier,null==F)return"Unidentified";F.startsWith("U+")&&(F=String.fromCharCode(parseInt(F.substring(2),16)),3===q.location&&yt.hasOwnProperty(F)&&(F=yt[F]))}return Rn[F]||F}(O);return he=he.toLowerCase()," "===he?he="space":"."===he&&(he="dot"),nr.forEach(ot=>{ot!=he&&Vn[ot](O)&&(ne+=ot+".")}),ne+=he,ne}static eventCallback(O,ne,he){return ot=>{q.getEventFullKey(ot)===O&&he.runGuarded(()=>ne(ot))}}static _normalizeKey(O){return"esc"===O?"escape":O}}return q.\u0275fac=function(O){return new(O||q)(x.LFG(E.K0))},q.\u0275prov=x.Yz7({token:q,factory:q.\u0275fac}),q})();const Gr=(0,x.eFA)(x._c5,"browser",[{provide:x.Lbi,useValue:E.bD},{provide:x.g9A,useValue:function Hr(){be.makeCurrent(),Ce.init()},multi:!0},{provide:E.K0,useFactory:function Kn(){return(0,x.RDi)(document),document},deps:[]}]),zr=[{provide:x.zSh,useValue:"root"},{provide:x.qLn,useFactory:function un(){return new x.qLn},deps:[]},{provide:Ge,useClass:Bt,multi:!0,deps:[E.K0,x.R0b,x.Lbi]},{provide:Ge,useClass:En,multi:!0,deps:[E.K0]},{provide:st,useClass:st,deps:[Je,Pe,x.AFp]},{provide:x.FYo,useExisting:st},{provide:we,useExisting:Pe},{provide:Pe,useClass:Pe,deps:[E.K0]},{provide:x.dDg,useClass:x.dDg,deps:[x.R0b]},{provide:Je,useClass:Je,deps:[Ge,x.R0b]},{provide:E.JF,useClass:ht,deps:[]}];let tt=(()=>{class q{constructor(O){if(O)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(O){return{ngModule:q,providers:[{provide:x.AFp,useValue:O.appId},{provide:xe,useExisting:x.AFp},X]}}}return q.\u0275fac=function(O){return new(O||q)(x.LFG(q,12))},q.\u0275mod=x.oAB({type:q}),q.\u0275inj=x.cJS({providers:zr,imports:[E.ez,x.hGG]}),q})();"undefined"!=typeof window&&window;var Qt=U(9646),xi=U(8306),Ui=U(4351),Wn=U(9300),rr=U(4004);class Wr{}class _r{}class Or{constructor(F){this.normalizedNames=new Map,this.lazyUpdate=null,F?this.lazyInit="string"==typeof F?()=>{this.headers=new Map,F.split("\n").forEach(O=>{const ne=O.indexOf(":");if(ne>0){const he=O.slice(0,ne),ot=he.toLowerCase(),jt=O.slice(ne+1).trim();this.maybeSetNormalizedName(he,ot),this.headers.has(ot)?this.headers.get(ot).push(jt):this.headers.set(ot,[jt])}})}:()=>{this.headers=new Map,Object.keys(F).forEach(O=>{let ne=F[O];const he=O.toLowerCase();"string"==typeof ne&&(ne=[ne]),ne.length>0&&(this.headers.set(he,ne),this.maybeSetNormalizedName(O,he))})}:this.headers=new Map}has(F){return this.init(),this.headers.has(F.toLowerCase())}get(F){this.init();const O=this.headers.get(F.toLowerCase());return O&&O.length>0?O[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(F){return this.init(),this.headers.get(F.toLowerCase())||null}append(F,O){return this.clone({name:F,value:O,op:"a"})}set(F,O){return this.clone({name:F,value:O,op:"s"})}delete(F,O){return this.clone({name:F,value:O,op:"d"})}maybeSetNormalizedName(F,O){this.normalizedNames.has(O)||this.normalizedNames.set(O,F)}init(){this.lazyInit&&(this.lazyInit instanceof Or?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(F=>this.applyUpdate(F)),this.lazyUpdate=null))}copyFrom(F){F.init(),Array.from(F.headers.keys()).forEach(O=>{this.headers.set(O,F.headers.get(O)),this.normalizedNames.set(O,F.normalizedNames.get(O))})}clone(F){const O=new Or;return O.lazyInit=this.lazyInit&&this.lazyInit instanceof Or?this.lazyInit:this,O.lazyUpdate=(this.lazyUpdate||[]).concat([F]),O}applyUpdate(F){const O=F.name.toLowerCase();switch(F.op){case"a":case"s":let ne=F.value;if("string"==typeof ne&&(ne=[ne]),0===ne.length)return;this.maybeSetNormalizedName(F.name,O);const he=("a"===F.op?this.headers.get(O):void 0)||[];he.push(...ne),this.headers.set(O,he);break;case"d":const ot=F.value;if(ot){let jt=this.headers.get(O);if(!jt)return;jt=jt.filter(yn=>-1===ot.indexOf(yn)),0===jt.length?(this.headers.delete(O),this.normalizedNames.delete(O)):this.headers.set(O,jt)}else this.headers.delete(O),this.normalizedNames.delete(O)}}forEach(F){this.init(),Array.from(this.normalizedNames.keys()).forEach(O=>F(this.normalizedNames.get(O),this.headers.get(O)))}}class Xi{encodeKey(F){return ir(F)}encodeValue(F){return ir(F)}decodeKey(F){return decodeURIComponent(F)}decodeValue(F){return decodeURIComponent(F)}}const cr=/%(\d[a-f0-9])/gi,vr={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ir(q){return encodeURIComponent(q).replace(cr,(F,O)=>{var ne;return null!==(ne=vr[O])&&void 0!==ne?ne:F})}function hi(q){return`${q}`}class Yn{constructor(F={}){if(this.updates=null,this.cloneFrom=null,this.encoder=F.encoder||new Xi,F.fromString){if(F.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Br(q,F){const O=new Map;return q.length>0&&q.replace(/^\?/,"").split("&").forEach(he=>{const ot=he.indexOf("="),[jt,yn]=-1==ot?[F.decodeKey(he),""]:[F.decodeKey(he.slice(0,ot)),F.decodeValue(he.slice(ot+1))],Xt=O.get(jt)||[];Xt.push(yn),O.set(jt,Xt)}),O}(F.fromString,this.encoder)}else F.fromObject?(this.map=new Map,Object.keys(F.fromObject).forEach(O=>{const ne=F.fromObject[O];this.map.set(O,Array.isArray(ne)?ne:[ne])})):this.map=null}has(F){return this.init(),this.map.has(F)}get(F){this.init();const O=this.map.get(F);return O?O[0]:null}getAll(F){return this.init(),this.map.get(F)||null}keys(){return this.init(),Array.from(this.map.keys())}append(F,O){return this.clone({param:F,value:O,op:"a"})}appendAll(F){const O=[];return Object.keys(F).forEach(ne=>{const he=F[ne];Array.isArray(he)?he.forEach(ot=>{O.push({param:ne,value:ot,op:"a"})}):O.push({param:ne,value:he,op:"a"})}),this.clone(O)}set(F,O){return this.clone({param:F,value:O,op:"s"})}delete(F,O){return this.clone({param:F,value:O,op:"d"})}toString(){return this.init(),this.keys().map(F=>{const O=this.encoder.encodeKey(F);return this.map.get(F).map(ne=>O+"="+this.encoder.encodeValue(ne)).join("&")}).filter(F=>""!==F).join("&")}clone(F){const O=new Yn({encoder:this.encoder});return O.cloneFrom=this.cloneFrom||this,O.updates=(this.updates||[]).concat(F),O}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(F=>this.map.set(F,this.cloneFrom.map.get(F))),this.updates.forEach(F=>{switch(F.op){case"a":case"s":const O=("a"===F.op?this.map.get(F.param):void 0)||[];O.push(hi(F.value)),this.map.set(F.param,O);break;case"d":if(void 0===F.value){this.map.delete(F.param);break}{let ne=this.map.get(F.param)||[];const he=ne.indexOf(hi(F.value));-1!==he&&ne.splice(he,1),ne.length>0?this.map.set(F.param,ne):this.map.delete(F.param)}}}),this.cloneFrom=this.updates=null)}}class Pt{constructor(){this.map=new Map}set(F,O){return this.map.set(F,O),this}get(F){return this.map.has(F)||this.map.set(F,F.defaultValue()),this.map.get(F)}delete(F){return this.map.delete(F),this}has(F){return this.map.has(F)}keys(){return this.map.keys()}}function Qn(q){return"undefined"!=typeof ArrayBuffer&&q instanceof ArrayBuffer}function Ir(q){return"undefined"!=typeof Blob&&q instanceof Blob}function sr(q){return"undefined"!=typeof FormData&&q instanceof FormData}class wn{constructor(F,O,ne,he){let ot;if(this.url=O,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=F.toUpperCase(),function Jt(q){switch(q){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||he?(this.body=void 0!==ne?ne:null,ot=he):ot=ne,ot&&(this.reportProgress=!!ot.reportProgress,this.withCredentials=!!ot.withCredentials,ot.responseType&&(this.responseType=ot.responseType),ot.headers&&(this.headers=ot.headers),ot.context&&(this.context=ot.context),ot.params&&(this.params=ot.params)),this.headers||(this.headers=new Or),this.context||(this.context=new Pt),this.params){const jt=this.params.toString();if(0===jt.length)this.urlWithParams=O;else{const yn=O.indexOf("?");this.urlWithParams=O+(-1===yn?"?":yn<O.length-1?"&":"")+jt}}else this.params=new Yn,this.urlWithParams=O}serializeBody(){return null===this.body?null:Qn(this.body)||Ir(this.body)||sr(this.body)||function Zr(q){return"undefined"!=typeof URLSearchParams&&q instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Yn?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||sr(this.body)?null:Ir(this.body)?this.body.type||null:Qn(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Yn?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(F={}){var O;const ne=F.method||this.method,he=F.url||this.url,ot=F.responseType||this.responseType,jt=void 0!==F.body?F.body:this.body,yn=void 0!==F.withCredentials?F.withCredentials:this.withCredentials,Xt=void 0!==F.reportProgress?F.reportProgress:this.reportProgress;let tn=F.headers||this.headers,Lr=F.params||this.params;const ps=null!==(O=F.context)&&void 0!==O?O:this.context;return void 0!==F.setHeaders&&(tn=Object.keys(F.setHeaders).reduce((an,C)=>an.set(C,F.setHeaders[C]),tn)),F.setParams&&(Lr=Object.keys(F.setParams).reduce((an,C)=>an.set(C,F.setParams[C]),Lr)),new wn(ne,he,jt,{params:Lr,headers:tn,context:ps,reportProgress:Xt,responseType:ot,withCredentials:yn})}}var kn=(()=>((kn=kn||{})[kn.Sent=0]="Sent",kn[kn.UploadProgress=1]="UploadProgress",kn[kn.ResponseHeader=2]="ResponseHeader",kn[kn.DownloadProgress=3]="DownloadProgress",kn[kn.Response=4]="Response",kn[kn.User=5]="User",kn))();class lr{constructor(F,O=200,ne="OK"){this.headers=F.headers||new Or,this.status=void 0!==F.status?F.status:O,this.statusText=F.statusText||ne,this.url=F.url||null,this.ok=this.status>=200&&this.status<300}}class sn extends lr{constructor(F={}){super(F),this.type=kn.ResponseHeader}clone(F={}){return new sn({headers:F.headers||this.headers,status:void 0!==F.status?F.status:this.status,statusText:F.statusText||this.statusText,url:F.url||this.url||void 0})}}class kr extends lr{constructor(F={}){super(F),this.type=kn.Response,this.body=void 0!==F.body?F.body:null}clone(F={}){return new kr({body:void 0!==F.body?F.body:this.body,headers:F.headers||this.headers,status:void 0!==F.status?F.status:this.status,statusText:F.statusText||this.statusText,url:F.url||this.url||void 0})}}class fi extends lr{constructor(F){super(F,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${F.url||"(unknown url)"}`:`Http failure response for ${F.url||"(unknown url)"}: ${F.status} ${F.statusText}`,this.error=F.error||null}}function Ei(q,F){return{body:F,headers:q.headers,context:q.context,observe:q.observe,params:q.params,reportProgress:q.reportProgress,responseType:q.responseType,withCredentials:q.withCredentials}}let br=(()=>{class q{constructor(O){this.handler=O}request(O,ne,he={}){let ot;if(O instanceof wn)ot=O;else{let Xt,tn;Xt=he.headers instanceof Or?he.headers:new Or(he.headers),he.params&&(tn=he.params instanceof Yn?he.params:new Yn({fromObject:he.params})),ot=new wn(O,ne,void 0!==he.body?he.body:null,{headers:Xt,context:he.context,params:tn,reportProgress:he.reportProgress,responseType:he.responseType||"json",withCredentials:he.withCredentials})}const jt=(0,Qt.of)(ot).pipe((0,Ui.b)(Xt=>this.handler.handle(Xt)));if(O instanceof wn||"events"===he.observe)return jt;const yn=jt.pipe((0,Wn.h)(Xt=>Xt instanceof kr));switch(he.observe||"body"){case"body":switch(ot.responseType){case"arraybuffer":return yn.pipe((0,rr.U)(Xt=>{if(null!==Xt.body&&!(Xt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Xt.body}));case"blob":return yn.pipe((0,rr.U)(Xt=>{if(null!==Xt.body&&!(Xt.body instanceof Blob))throw new Error("Response is not a Blob.");return Xt.body}));case"text":return yn.pipe((0,rr.U)(Xt=>{if(null!==Xt.body&&"string"!=typeof Xt.body)throw new Error("Response is not a string.");return Xt.body}));default:return yn.pipe((0,rr.U)(Xt=>Xt.body))}case"response":return yn;default:throw new Error(`Unreachable: unhandled observe type ${he.observe}}`)}}delete(O,ne={}){return this.request("DELETE",O,ne)}get(O,ne={}){return this.request("GET",O,ne)}head(O,ne={}){return this.request("HEAD",O,ne)}jsonp(O,ne){return this.request("JSONP",O,{params:(new Yn).append(ne,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(O,ne={}){return this.request("OPTIONS",O,ne)}patch(O,ne,he={}){return this.request("PATCH",O,Ei(he,ne))}post(O,ne,he={}){return this.request("POST",O,Ei(he,ne))}put(O,ne,he={}){return this.request("PUT",O,Ei(he,ne))}}return q.\u0275fac=function(O){return new(O||q)(x.LFG(Wr))},q.\u0275prov=x.Yz7({token:q,factory:q.\u0275fac}),q})();class Jn{constructor(F,O){this.next=F,this.interceptor=O}handle(F){return this.interceptor.intercept(F,this.next)}}const pi=new x.OlP("HTTP_INTERCEPTORS");let Kr=(()=>{class q{intercept(O,ne){return ne.handle(O)}}return q.\u0275fac=function(O){return new(O||q)},q.\u0275prov=x.Yz7({token:q,factory:q.\u0275fac}),q})();const Tn=/^\)\]\}',?\n/;let gi=(()=>{class q{constructor(O){this.xhrFactory=O}handle(O){if("JSONP"===O.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new xi.y(ne=>{const he=this.xhrFactory.build();if(he.open(O.method,O.urlWithParams),O.withCredentials&&(he.withCredentials=!0),O.headers.forEach((C,$)=>he.setRequestHeader(C,$.join(","))),O.headers.has("Accept")||he.setRequestHeader("Accept","application/json, text/plain, */*"),!O.headers.has("Content-Type")){const C=O.detectContentTypeHeader();null!==C&&he.setRequestHeader("Content-Type",C)}if(O.responseType){const C=O.responseType.toLowerCase();he.responseType="json"!==C?C:"text"}const ot=O.serializeBody();let jt=null;const yn=()=>{if(null!==jt)return jt;const C=1223===he.status?204:he.status,$=he.statusText||"OK",S=new Or(he.getAllResponseHeaders()),z=function Mi(q){return"responseURL"in q&&q.responseURL?q.responseURL:/^X-Request-URL:/m.test(q.getAllResponseHeaders())?q.getResponseHeader("X-Request-URL"):null}(he)||O.url;return jt=new sn({headers:S,status:C,statusText:$,url:z}),jt},Xt=()=>{let{headers:C,status:$,statusText:S,url:z}=yn(),se=null;204!==$&&(se=void 0===he.response?he.responseText:he.response),0===$&&($=se?200:0);let je=$>=200&&$<300;if("json"===O.responseType&&"string"==typeof se){const qe=se;se=se.replace(Tn,"");try{se=""!==se?JSON.parse(se):null}catch(wt){se=qe,je&&(je=!1,se={error:wt,text:se})}}je?(ne.next(new kr({body:se,headers:C,status:$,statusText:S,url:z||void 0})),ne.complete()):ne.error(new fi({error:se,headers:C,status:$,statusText:S,url:z||void 0}))},tn=C=>{const{url:$}=yn(),S=new fi({error:C,status:he.status||0,statusText:he.statusText||"Unknown Error",url:$||void 0});ne.error(S)};let Lr=!1;const ps=C=>{Lr||(ne.next(yn()),Lr=!0);let $={type:kn.DownloadProgress,loaded:C.loaded};C.lengthComputable&&($.total=C.total),"text"===O.responseType&&!!he.responseText&&($.partialText=he.responseText),ne.next($)},an=C=>{let $={type:kn.UploadProgress,loaded:C.loaded};C.lengthComputable&&($.total=C.total),ne.next($)};return he.addEventListener("load",Xt),he.addEventListener("error",tn),he.addEventListener("timeout",tn),he.addEventListener("abort",tn),O.reportProgress&&(he.addEventListener("progress",ps),null!==ot&&he.upload&&he.upload.addEventListener("progress",an)),he.send(ot),ne.next({type:kn.Sent}),()=>{he.removeEventListener("error",tn),he.removeEventListener("abort",tn),he.removeEventListener("load",Xt),he.removeEventListener("timeout",tn),O.reportProgress&&(he.removeEventListener("progress",ps),null!==ot&&he.upload&&he.upload.removeEventListener("progress",an)),he.readyState!==he.DONE&&he.abort()}})}}return q.\u0275fac=function(O){return new(O||q)(x.LFG(E.JF))},q.\u0275prov=x.Yz7({token:q,factory:q.\u0275fac}),q})();const Bi=new x.OlP("XSRF_COOKIE_NAME"),Is=new x.OlP("XSRF_HEADER_NAME");class Ys{}let dr=(()=>{class q{constructor(O,ne,he){this.doc=O,this.platform=ne,this.cookieName=he,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const O=this.doc.cookie||"";return O!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,E.Mx)(O,this.cookieName),this.lastCookieString=O),this.lastToken}}return q.\u0275fac=function(O){return new(O||q)(x.LFG(E.K0),x.LFG(x.Lbi),x.LFG(Bi))},q.\u0275prov=x.Yz7({token:q,factory:q.\u0275fac}),q})(),es=(()=>{class q{constructor(O,ne){this.tokenService=O,this.headerName=ne}intercept(O,ne){const he=O.url.toLowerCase();if("GET"===O.method||"HEAD"===O.method||he.startsWith("http://")||he.startsWith("https://"))return ne.handle(O);const ot=this.tokenService.getToken();return null!==ot&&!O.headers.has(this.headerName)&&(O=O.clone({headers:O.headers.set(this.headerName,ot)})),ne.handle(O)}}return q.\u0275fac=function(O){return new(O||q)(x.LFG(Ys),x.LFG(Is))},q.\u0275prov=x.Yz7({token:q,factory:q.\u0275fac}),q})(),ls=(()=>{class q{constructor(O,ne){this.backend=O,this.injector=ne,this.chain=null}handle(O){if(null===this.chain){const ne=this.injector.get(pi,[]);this.chain=ne.reduceRight((he,ot)=>new Jn(he,ot),this.backend)}return this.chain.handle(O)}}return q.\u0275fac=function(O){return new(O||q)(x.LFG(_r),x.LFG(x.zs3))},q.\u0275prov=x.Yz7({token:q,factory:q.\u0275fac}),q})(),ke=(()=>{class q{static disable(){return{ngModule:q,providers:[{provide:es,useClass:Kr}]}}static withOptions(O={}){return{ngModule:q,providers:[O.cookieName?{provide:Bi,useValue:O.cookieName}:[],O.headerName?{provide:Is,useValue:O.headerName}:[]]}}}return q.\u0275fac=function(O){return new(O||q)},q.\u0275mod=x.oAB({type:q}),q.\u0275inj=x.cJS({providers:[es,{provide:pi,useExisting:es,multi:!0},{provide:Ys,useClass:dr},{provide:Bi,useValue:"XSRF-TOKEN"},{provide:Is,useValue:"X-XSRF-TOKEN"}]}),q})(),Ke=(()=>{class q{}return q.\u0275fac=function(O){return new(O||q)},q.\u0275mod=x.oAB({type:q}),q.\u0275inj=x.cJS({providers:[br,{provide:Wr,useClass:ls},gi,{provide:_r,useExisting:gi}],imports:[[ke.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),q})();var _n=U(5335);const ns=[{path:"home",loadChildren:()=>U.e(441).then(U.bind(U,5441)).then(q=>q.HomepageModule)},{path:"sell",component:(()=>{class q{constructor(){}ngOnInit(){}}return q.\u0275fac=function(O){return new(O||q)},q.\u0275cmp=x.Xpm({type:q,selectors:[["app-sell"]],decls:2,vars:0,template:function(O,ne){1&O&&(x.TgZ(0,"p"),x._uU(1,"sell works!"),x.qZA())},styles:[""]}),q})()},{path:"buy",component:(()=>{class q{constructor(){}ngOnInit(){}}return q.\u0275fac=function(O){return new(O||q)},q.\u0275cmp=x.Xpm({type:q,selectors:[["app-buy"]],decls:2,vars:0,template:function(O,ne){1&O&&(x.TgZ(0,"p"),x._uU(1,"buy works!"),x.qZA())},styles:[""]}),q})()},{path:"market",component:(()=>{class q{constructor(){}ngOnInit(){}}return q.\u0275fac=function(O){return new(O||q)},q.\u0275cmp=x.Xpm({type:q,selectors:[["app-market"]],decls:2,vars:0,template:function(O,ne){1&O&&(x.TgZ(0,"p"),x._uU(1,"market works!"),x.qZA())},styles:[""]}),q})()},{path:"contact",component:(()=>{class q{constructor(){}ngOnInit(){}}return q.\u0275fac=function(O){return new(O||q)},q.\u0275cmp=x.Xpm({type:q,selectors:[["app-contact"]],decls:2,vars:0,template:function(O,ne){1&O&&(x.TgZ(0,"p"),x._uU(1,"contact works!"),x.qZA())},styles:[""]}),q})()},{path:"**",redirectTo:"home"}];let bs=(()=>{class q{}return q.\u0275fac=function(O){return new(O||q)},q.\u0275mod=x.oAB({type:q}),q.\u0275inj=x.cJS({imports:[[_n.Bz.forRoot(ns)],_n.Bz]}),q})(),Ds=(()=>{class q{constructor(){}}return q.\u0275fac=function(O){return new(O||q)},q.\u0275cmp=x.Xpm({type:q,selectors:[["app-navbar"]],decls:16,vars:0,consts:[["routerLinkActive","active","routerLink","home"],["routerLinkActive","active","routerLink","sell"],["routerLinkActive","active","routerLink","buy"],["routerLinkActive","active","routerLink","market"],["routerLinkActive","active","routerLink","contact"]],template:function(O,ne){1&O&&(x.TgZ(0,"ul"),x.TgZ(1,"li",0),x.TgZ(2,"a"),x._uU(3,"Home"),x.qZA(),x.qZA(),x.TgZ(4,"li",1),x.TgZ(5,"a"),x._uU(6,"Sell Car"),x.qZA(),x.qZA(),x.TgZ(7,"li",2),x.TgZ(8,"a"),x._uU(9,"Buy Car"),x.qZA(),x.qZA(),x.TgZ(10,"li",3),x.TgZ(11,"a"),x._uU(12,"Market"),x.qZA(),x.qZA(),x.TgZ(13,"li",4),x.TgZ(14,"a"),x._uU(15,"Contact Us"),x.qZA(),x.qZA(),x.qZA())},directives:[_n.Od,_n.rH],styles:['[_nghost-%COMP%]{display:block;margin:0 3rem}@media screen and (max-width: 991px){[_nghost-%COMP%]{margin:0 0 2rem;width:100%}}ul[_ngcontent-%COMP%]{display:flex;align-items:center}@media screen and (max-width: 991px){ul[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap}}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 1rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;text-decoration:none;padding:.75rem 0;position:relative;cursor:pointer!important}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;bottom:0;left:50%;right:50%;height:1px;background:#e05314;opacity:0;visibility:hidden;transition:.3s}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{visibility:visible;opacity:1;left:0;right:0}ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;color:#000}ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{visibility:visible;opacity:1;left:0;right:0}ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:gray}']}),q})();const ks=function(){return["/account/sign-in"]},Ts=function(){return["/account/sign-up"]};let Cs=(()=>{class q{constructor(){}ngOnInit(){}}return q.\u0275fac=function(O){return new(O||q)},q.\u0275cmp=x.Xpm({type:q,selectors:[["app-header"]],decls:19,vars:4,consts:[[1,"header"],[1,"container"],[1,"header-container"],["href","/",1,"logo"],[1,"header-toolbar"],["href","#"],[1,"material-icons"],[3,"routerLink"],[1,"btn-primary",3,"routerLink"]],template:function(O,ne){1&O&&(x.TgZ(0,"header",0),x.TgZ(1,"div",1),x.TgZ(2,"div",2),x.TgZ(3,"a",3),x._uU(4,"auto.market"),x.qZA(),x._UZ(5,"app-navbar"),x.TgZ(6,"div",4),x.TgZ(7,"a",5),x.TgZ(8,"span",6),x._uU(9,"directions_car"),x.qZA(),x.qZA(),x.TgZ(10,"a",5),x.TgZ(11,"span",6),x._uU(12,"star_border"),x.qZA(),x.qZA(),x.TgZ(13,"a",7),x.TgZ(14,"span",6),x._uU(15,"person_outline"),x.qZA(),x._uU(16," Sign in "),x.qZA(),x.TgZ(17,"a",8),x._uU(18,"Sign up"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA()),2&O&&(x.xp6(13),x.Q6J("routerLink",x.DdM(2,ks)),x.xp6(4),x.Q6J("routerLink",x.DdM(3,Ts)))},directives:[Ds,_n.yS],styles:["[_nghost-%COMP%]{display:block}.header[_ngcontent-%COMP%]{color:#000}.header-container[_ngcontent-%COMP%]{display:flex;padding:3rem 0;align-items:center}@media screen and (max-width: 991px){.header-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}}.header-toolbar[_ngcontent-%COMP%]{margin-left:auto;display:flex;align-items:center}@media screen and (max-width: 991px){.header-toolbar[_ngcontent-%COMP%]{margin:0 auto}}.header-toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:1rem;text-decoration:none;display:flex;align-items:center;color:#000}.header-toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:0 .5rem}.header-toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e05314}.header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{color:#000;font-weight:700}@media screen and (max-width: 991px){.header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:block;text-align:center;margin:0 0 2rem}}.header[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#e05314;color:#fff;border-radius:6px;padding:1.5rem 3rem;margin-left:2rem}.header[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none;background:#c94a12}"]}),q})(),hs=(()=>{class q{constructor(){this.currentDate=new Date}ngOnInit(){}}return q.\u0275fac=function(O){return new(O||q)},q.\u0275cmp=x.Xpm({type:q,selectors:[["app-footer"]],decls:74,vars:0,consts:[[1,"footer"],[1,"container"],[1,"footer-row"],[1,"col-3","col-logo"],["href","#",1,"logo"],[1,"social"],["href","#"],[1,"col-6","col-navi"],["href",""],[1,"col-3","col-links"],[1,"lang"],[1,"lang-select"],[1,"material-icons"],[1,"copyright"]],template:function(O,ne){1&O&&(x.TgZ(0,"footer",0),x.TgZ(1,"div",1),x.TgZ(2,"div",2),x.TgZ(3,"div",3),x.TgZ(4,"a",4),x._uU(5,"auto.market"),x.qZA(),x.TgZ(6,"div",5),x.TgZ(7,"a",6),x._uU(8,"i"),x.qZA(),x.TgZ(9,"a",6),x._uU(10,"f"),x.qZA(),x.TgZ(11,"a",6),x._uU(12,"t"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(13,"div",7),x.TgZ(14,"ul"),x.TgZ(15,"li"),x.TgZ(16,"a",8),x._uU(17,"Home"),x.qZA(),x.qZA(),x.TgZ(18,"li"),x.TgZ(19,"a",8),x._uU(20,"Sell Car"),x.qZA(),x.qZA(),x.TgZ(21,"li"),x.TgZ(22,"a",8),x._uU(23,"Buy Car"),x.qZA(),x.qZA(),x.TgZ(24,"li"),x.TgZ(25,"a",8),x._uU(26,"Market"),x.qZA(),x.qZA(),x.TgZ(27,"li"),x.TgZ(28,"a",8),x._uU(29,"Contact Us"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(30,"ul"),x.TgZ(31,"li"),x.TgZ(32,"a",8),x._uU(33,"Home"),x.qZA(),x.qZA(),x.TgZ(34,"li"),x.TgZ(35,"a",8),x._uU(36,"Sell Car"),x.qZA(),x.qZA(),x.TgZ(37,"li"),x.TgZ(38,"a",8),x._uU(39,"Buy Car"),x.qZA(),x.qZA(),x.TgZ(40,"li"),x.TgZ(41,"a",8),x._uU(42,"Market"),x.qZA(),x.qZA(),x.TgZ(43,"li"),x.TgZ(44,"a",8),x._uU(45,"Contact Us"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(46,"ul"),x.TgZ(47,"li"),x.TgZ(48,"a",8),x._uU(49,"Home"),x.qZA(),x.qZA(),x.TgZ(50,"li"),x.TgZ(51,"a",8),x._uU(52,"Sell Car"),x.qZA(),x.qZA(),x.TgZ(53,"li"),x.TgZ(54,"a",8),x._uU(55,"Buy Car"),x.qZA(),x.qZA(),x.TgZ(56,"li"),x.TgZ(57,"a",8),x._uU(58,"Market"),x.qZA(),x.qZA(),x.TgZ(59,"li"),x.TgZ(60,"a",8),x._uU(61,"Contact Us"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(62,"div",9),x.TgZ(63,"a",6),x._uU(64,"AppSote"),x.qZA(),x.TgZ(65,"a",6),x._uU(66,"GooglePlay"),x.qZA(),x.TgZ(67,"div",10),x.TgZ(68,"div",11),x._uU(69," English "),x.TgZ(70,"span",12),x._uU(71,"expand_more"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(72,"div",13),x._uU(73,"\xa9 auto.market / 2019 - 2022. All rights reserved. "),x.qZA(),x.qZA(),x.qZA())},styles:["[_nghost-%COMP%]{display:block;padding-bottom:2rem}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.footer-row[_ngcontent-%COMP%]{border-top:2px solid #d4d0d0;display:flex;justify-content:space-between;padding-top:2rem;margin-bottom:1rem}@media screen and (max-width: 991px){.footer-row[_ngcontent-%COMP%]{display:block;text-align:center}}.footer-row[_ngcontent-%COMP%]   .col-3[_ngcontent-%COMP%]{flex:0 0 25%}@media screen and (max-width: 991px){.footer-row[_ngcontent-%COMP%]   .col-3[_ngcontent-%COMP%]{margin-bottom:2rem}}.footer-row[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%]{flex:0 0 50%}@media screen and (max-width: 991px){.footer-row[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%]{margin-bottom:2rem}}.footer-row[_ngcontent-%COMP%]   .col-logo[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-weight:700;margin-bottom:1rem;display:block}.footer-row[_ngcontent-%COMP%]   .col-logo[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{font-size:2em}.footer-row[_ngcontent-%COMP%]   .col-logo[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:1rem}.footer-row[_ngcontent-%COMP%]   .col-navi[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media screen and (max-width: 991px){.footer-row[_ngcontent-%COMP%]   .col-navi[_ngcontent-%COMP%]{display:block;text-align:center}}.footer-row[_ngcontent-%COMP%]   .col-navi[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:1rem}.footer-row[_ngcontent-%COMP%]   .col-links[_ngcontent-%COMP%]{text-align:right}@media screen and (max-width: 991px){.footer-row[_ngcontent-%COMP%]   .col-links[_ngcontent-%COMP%]{text-align:center}}.footer-row[_ngcontent-%COMP%]   .col-links[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:inline-block;width:200px;text-align:center;padding:1rem 2rem;background:#000;border-radius:6px;color:#fff;font-size:1.5em;font-weight:700;margin-bottom:2rem}.footer-row[_ngcontent-%COMP%]   .col-links[_ngcontent-%COMP%]   .lang[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}@media screen and (max-width: 991px){.footer-row[_ngcontent-%COMP%]   .col-links[_ngcontent-%COMP%]   .lang[_ngcontent-%COMP%]{justify-content:center}}.footer-row[_ngcontent-%COMP%]   .col-links[_ngcontent-%COMP%]   .lang-select[_ngcontent-%COMP%]{cursor:pointer;width:200px;padding:1rem 2rem;background:#fff;border-radius:6px;box-shadow:0 0 12px 3px #0000001a;display:flex;align-items:center;justify-content:center}.footer-row[_ngcontent-%COMP%]   .col-links[_ngcontent-%COMP%]   .lang-select[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:1rem}.copyright[_ngcontent-%COMP%]{text-align:center;color:gray}"]}),q})(),Ns=(()=>{class q{constructor(){}ngOnInit(){}onActivate(O,ne){ne.scrollTop=0}}return q.\u0275fac=function(O){return new(O||q)},q.\u0275cmp=x.Xpm({type:q,selectors:[["base-layout"]],decls:6,vars:0,consts:[[1,"container"],[3,"activate"],["scrollContainer",""]],template:function(O,ne){if(1&O){const he=x.EpF();x._UZ(0,"app-header"),x.TgZ(1,"main"),x.TgZ(2,"div",0),x.TgZ(3,"router-outlet",1,2),x.NdJ("activate",function(jt){x.CHM(he);const yn=x.MAs(4);return ne.onActivate(jt,yn)}),x.qZA(),x.qZA(),x.qZA(),x._UZ(5,"app-footer")}},directives:[Cs,_n.lC,hs],styles:["main[_ngcontent-%COMP%]{padding:5rem 0;min-height:50vh}"]}),q})(),Wi=(()=>{class q{}return q.\u0275fac=function(O){return new(O||q)},q.\u0275cmp=x.Xpm({type:q,selectors:[["app-root"]],decls:1,vars:0,template:function(O,ne){1&O&&x._UZ(0,"base-layout")},directives:[Ns],encapsulation:2}),q})();const Nr_firebaseConfig={apiKey:"AIzaSyASqw9nxtaaBOXZhB0TxOi8IU-M7Y-j-Ds",authDomain:"carsltg.firebaseapp.com",databaseURL:"https://carsltg-default-rtdb.firebaseio.com",projectId:"carsltg",storageBucket:"carsltg.appspot.com",messagingSenderId:"976051698019",appId:"1:976051698019:web:ffa4112f4077e681b33b56"};var fs=U(2011),mi=U(9541),Qs=U(2084);let go=(()=>{class q{}return q.\u0275fac=function(O){return new(O||q)},q.\u0275mod=x.oAB({type:q}),q.\u0275inj=x.cJS({imports:[[_n.Bz]]}),q})(),oi=(()=>{class q{}return q.\u0275fac=function(O){return new(O||q)},q.\u0275mod=x.oAB({type:q,bootstrap:[Wi]}),q.\u0275inj=x.cJS({imports:[[tt,bs,Ke,fs.hO.initializeApp(Nr_firebaseConfig),mi.yb,Qs.TE,go]]}),q})();(0,x.G48)(),Gr().bootstrapModule(oi).catch(q=>console.error(q))},5867:(Ct,Ve,U)=>{"use strict";U.d(Ve,{Mq:()=>E.getApp,C6:()=>E.getApps});var E=U(9681);(0,E.registerVersion)("firebase","9.6.5","app")},127:(Ct,Ve,U)=>{"use strict";U.d(Ve,{Z:()=>E.Z});var E=U(3942);E.Z.registerVersion("firebase","9.6.5","app-compat")},2209:(Ct,Ve,U)=>{"use strict";U.r(Ve);var E=U(5861),x=U(3942),W=U(2090),be=U(9681);function Ae(p,l){var d={};for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&l.indexOf(y)<0&&(d[y]=p[y]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(y=Object.getOwnPropertySymbols(p);M<y.length;M++)l.indexOf(y[M])<0&&Object.prototype.propertyIsEnumerable.call(p,y[M])&&(d[y[M]]=p[y[M]])}return d}var st=U(1877),Be=U(4859);const Rn=function nr(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},yt=function Yt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Vn=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Un=new st.Yd("@firebase/auth");function Hr(p,...l){Un.logLevel<=st.in.ERROR&&Un.error(`Auth (${be.SDK_VERSION}): ${p}`,...l)}function un(p,...l){throw zr(p,...l)}function Kn(p,...l){return zr(p,...l)}function Si(p,l,d){const y=Object.assign(Object.assign({},yt()),{[l]:d});return new W.LL("auth","Firebase",y).create(l,{appName:p.name})}function Gr(p,l,d){if(!(l instanceof d))throw d.name!==l.constructor.name&&un(p,"argument-error"),Si(p,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zr(p,...l){if("string"!=typeof p){const d=l[0],y=[...l.slice(1)];return y[0]&&(y[0].appName=p.name),p._errorFactory.create(d,...y)}return Vn.create(p,...l)}function tt(p,l,...d){if(!p)throw zr(l,...d)}function xn(p){const l="INTERNAL ASSERTION FAILED: "+p;throw Hr(l),new Error(l)}function At(p,l){p||xn(l)}const mn=new Map;function Dn(p){At(p instanceof Function,"Expected a class definition");let l=mn.get(p);return l?(At(l instanceof p,"Instance stored in cache mismatched with class"),l):(l=new p,mn.set(p,l),l)}function qt(){var p;return"undefined"!=typeof self&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function Vt(){return"http:"===cn()||"https:"===cn()}function cn(){var p;return"undefined"!=typeof self&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class en{constructor(l,d){this.shortDelay=l,this.longDelay=d,At(d>l,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function St(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Vt()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dt(p,l){At(p.emulator,"Emulator should always be set here");const{url:d}=p.emulator;return l?`${d}${l.startsWith("/")?l.slice(1):l}`:d}class Ot{static initialize(l,d,y){this.fetchImpl=l,d&&(this.headersImpl=d),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ji={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},wi=new en(3e4,6e4);function Mt(p,l){return p.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:p.tenantId}):l}function vn(p,l,d,y){return yr.apply(this,arguments)}function yr(){return(yr=(0,E.Z)(function*(p,l,d,y,M={}){return di(p,M,(0,E.Z)(function*(){let j={},ae={};y&&("GET"===l?ae=y:j={body:JSON.stringify(y)});const Le=(0,W.xO)(Object.assign({key:p.config.apiKey},ae)).slice(1),mt=yield p._getAdditionalHeaders();return mt["Content-Type"]="application/json",p.languageCode&&(mt["X-Firebase-Locale"]=p.languageCode),Ot.fetch()(We(p,p.config.apiHost,d,Le),Object.assign({method:l,headers:mt,referrerPolicy:"no-referrer"},j))}))})).apply(this,arguments)}function di(p,l,d){return ie.apply(this,arguments)}function ie(){return(ie=(0,E.Z)(function*(p,l,d){p._canInitEmulator=!1;const y=Object.assign(Object.assign({},Ji),l);try{const M=new Oe(p),j=yield Promise.race([d(),M.promise]);M.clearNetworkTimeout();const ae=yield j.json();if("needConfirmation"in ae)throw vt(p,"account-exists-with-different-credential",ae);if(j.ok&&!("errorMessage"in ae))return ae;{const Le=j.ok?ae.errorMessage:ae.error.message,[mt,lt]=Le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===mt)throw vt(p,"credential-already-in-use",ae);if("EMAIL_EXISTS"===mt)throw vt(p,"email-already-in-use",ae);const Lt=y[mt]||mt.toLowerCase().replace(/[_\s]+/g,"-");if(lt)throw Si(p,Lt,lt);un(p,Lt)}}catch(M){if(M instanceof W.ZR)throw M;un(p,"network-request-failed")}})).apply(this,arguments)}function ue(p,l,d,y){return ce.apply(this,arguments)}function ce(){return(ce=(0,E.Z)(function*(p,l,d,y,M={}){const j=yield vn(p,l,d,y,M);return"mfaPendingCredential"in j&&un(p,"multi-factor-auth-required",{_serverResponse:j}),j})).apply(this,arguments)}function We(p,l,d,y){const M=`${l}${d}?${y}`;return p.config.emulator?Dt(p.config,M):`${p.config.apiScheme}://${M}`}class Oe{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((d,y)=>{this.timer=setTimeout(()=>y(Kn(this.auth,"network-request-failed")),wi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vt(p,l,d){const y={appName:p.name};d.email&&(y.email=d.email),d.phoneNumber&&(y.phoneNumber=d.phoneNumber);const M=Kn(p,l,y);return M.customData._tokenResponse=d,M}function Pn(){return(Pn=(0,E.Z)(function*(p,l){return vn(p,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function In(p,l){return qn.apply(this,arguments)}function qn(){return(qn=(0,E.Z)(function*(p,l){return vn(p,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Ur(p,l){return ln.apply(this,arguments)}function ln(){return(ln=(0,E.Z)(function*(p,l){return vn(p,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function On(p){if(p)try{const l=new Date(Number(p));if(!isNaN(l.getTime()))return l.toUTCString()}catch(l){}}function Qt(){return(Qt=(0,E.Z)(function*(p,l=!1){const d=(0,W.m9)(p),y=yield d.getIdToken(l),M=Ui(y);tt(M&&M.exp&&M.auth_time&&M.iat,d.auth,"internal-error");const j="object"==typeof M.firebase?M.firebase:void 0,ae=null==j?void 0:j.sign_in_provider;return{claims:M,token:y,authTime:On(xi(M.auth_time)),issuedAtTime:On(xi(M.iat)),expirationTime:On(xi(M.exp)),signInProvider:ae||null,signInSecondFactor:(null==j?void 0:j.sign_in_second_factor)||null}})).apply(this,arguments)}function xi(p){return 1e3*Number(p)}function Ui(p){const[l,d,y]=p.split(".");if(void 0===l||void 0===d||void 0===y)return Hr("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,W.tV)(d);return M?JSON.parse(M):(Hr("Failed to decode base64 JWT payload"),null)}catch(M){return Hr("Caught error parsing JWT payload as JSON",M),null}}function rr(p,l){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,E.Z)(function*(p,l,d=!1){if(d)return l;try{return yield l}catch(y){throw y instanceof W.ZR&&_r(y)&&p.auth.currentUser===p&&(yield p.auth.signOut()),y}})).apply(this,arguments)}function _r({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}class Or{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var d;if(l){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const M=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(l=!1){var d=this;if(!this.isRunning)return;const y=this.getInterval(l);this.timerId=setTimeout((0,E.Z)(function*(){yield d.iteration()}),y)}iteration(){var l=this;return(0,E.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d.code&&l.schedule(!0))}l.schedule()})()}}class Xi{constructor(l,d){this.createdAt=l,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=On(this.lastLoginAt),this.creationTime=On(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Br(p){return cr.apply(this,arguments)}function cr(){return(cr=(0,E.Z)(function*(p){var l;const d=p.auth,y=yield p.getIdToken(),M=yield rr(p,Ur(d,{idToken:y}));tt(null==M?void 0:M.users.length,d,"internal-error");const j=M.users[0];p._notifyReloadListener(j);const ae=(null===(l=j.providerUserInfo)||void 0===l?void 0:l.length)?Yn(j.providerUserInfo):[],Le=hi(p.providerData,ae),Lt=!!p.isAnonymous&&!(p.email&&j.passwordHash||(null==Le?void 0:Le.length)),Gt={uid:j.localId,displayName:j.displayName||null,photoURL:j.photoUrl||null,email:j.email||null,emailVerified:j.emailVerified||!1,phoneNumber:j.phoneNumber||null,tenantId:j.tenantId||null,providerData:Le,metadata:new Xi(j.createdAt,j.lastLoginAt),isAnonymous:Lt};Object.assign(p,Gt)})).apply(this,arguments)}function ir(){return(ir=(0,E.Z)(function*(p){const l=(0,W.m9)(p);yield Br(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function hi(p,l){return[...p.filter(y=>!l.some(M=>M.providerId===y.providerId)),...l]}function Yn(p){return p.map(l=>{var{providerId:d}=l,y=Ae(l,["providerId"]);return{providerId:d,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}function Pt(){return(Pt=(0,E.Z)(function*(p,l){const d=yield di(p,{},(0,E.Z)(function*(){const y=(0,W.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:M,apiKey:j}=p.config,ae=We(p,M,"/v1/token",`key=${j}`),Le=yield p._getAdditionalHeaders();return Le["Content-Type"]="application/x-www-form-urlencoded",Ot.fetch()(ae,{method:"POST",headers:Le,body:y})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class Jt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){tt(l.idToken,"internal-error"),tt(void 0!==l.idToken,"internal-error"),tt(void 0!==l.refreshToken,"internal-error");const d="expiresIn"in l&&void 0!==l.expiresIn?Number(l.expiresIn):function Wn(p){const l=Ui(p);return tt(l,"internal-error"),tt(void 0!==l.exp,"internal-error"),tt(void 0!==l.iat,"internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,d)}getToken(l,d=!1){var y=this;return(0,E.Z)(function*(){return tt(!y.accessToken||y.refreshToken,l,"user-token-expired"),d||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(l,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,d){var y=this;return(0,E.Z)(function*(){const{accessToken:M,refreshToken:j,expiresIn:ae}=yield function gt(p,l){return Pt.apply(this,arguments)}(l,d);y.updateTokensAndExpiration(M,j,Number(ae))})()}updateTokensAndExpiration(l,d,y){this.refreshToken=d||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(l,d){const{refreshToken:y,accessToken:M,expirationTime:j}=d,ae=new Jt;return y&&(tt("string"==typeof y,"internal-error",{appName:l}),ae.refreshToken=y),M&&(tt("string"==typeof M,"internal-error",{appName:l}),ae.accessToken=M),j&&(tt("number"==typeof j,"internal-error",{appName:l}),ae.expirationTime=j),ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new Jt,this.toJSON())}_performRefresh(){return xn("not implemented")}}function Qn(p,l){tt("string"==typeof p||void 0===p,"internal-error",{appName:l})}class Ir{constructor(l){var{uid:d,auth:y,stsTokenManager:M}=l,j=Ae(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Or(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=y,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=j.displayName||null,this.email=j.email||null,this.emailVerified=j.emailVerified||!1,this.phoneNumber=j.phoneNumber||null,this.photoURL=j.photoURL||null,this.isAnonymous=j.isAnonymous||!1,this.tenantId=j.tenantId||null,this.metadata=new Xi(j.createdAt||void 0,j.lastLoginAt||void 0)}getIdToken(l){var d=this;return(0,E.Z)(function*(){const y=yield rr(d,d.stsTokenManager.getToken(d.auth,l));return tt(y,d.auth,"internal-error"),d.accessToken!==y&&(d.accessToken=y,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),y})()}getIdTokenResult(l){return function ti(p){return Qt.apply(this,arguments)}(this,l)}reload(){return function vr(p){return ir.apply(this,arguments)}(this)}_assign(l){this!==l&&(tt(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(d=>Object.assign({},d)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){return new Ir(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(l){tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,d=!1){var y=this;return(0,E.Z)(function*(){let M=!1;l.idToken&&l.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(l),M=!0),d&&(yield Br(y)),yield y.auth._persistUserIfCurrent(y),M&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var l=this;return(0,E.Z)(function*(){const d=yield l.getIdToken();return yield rr(l,function $t(p,l){return Pn.apply(this,arguments)}(l.auth,{idToken:d})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,d){var y,M,j,ae,Le,mt,lt,Lt;const Gt=null!==(y=d.displayName)&&void 0!==y?y:void 0,Fn=null!==(M=d.email)&&void 0!==M?M:void 0,us=null!==(j=d.phoneNumber)&&void 0!==j?j:void 0,fo=null!==(ae=d.photoURL)&&void 0!==ae?ae:void 0,_l=null!==(Le=d.tenantId)&&void 0!==Le?Le:void 0,Lc=null!==(mt=d._redirectEventId)&&void 0!==mt?mt:void 0,vl=null!==(lt=d.createdAt)&&void 0!==lt?lt:void 0,_d=null!==(Lt=d.lastLoginAt)&&void 0!==Lt?Lt:void 0,{uid:xu,emailVerified:vd,isAnonymous:Xu,providerData:Mu,stsTokenManager:$s}=d;tt(xu&&$s,l,"internal-error");const wl=Jt.fromJSON(this.name,$s);tt("string"==typeof xu,l,"internal-error"),Qn(Gt,l.name),Qn(Fn,l.name),tt("boolean"==typeof vd,l,"internal-error"),tt("boolean"==typeof Xu,l,"internal-error"),Qn(us,l.name),Qn(fo,l.name),Qn(_l,l.name),Qn(Lc,l.name),Qn(vl,l.name),Qn(_d,l.name);const Pu=new Ir({uid:xu,auth:l,email:Fn,emailVerified:vd,displayName:Gt,isAnonymous:Xu,photoURL:fo,phoneNumber:us,tenantId:_l,stsTokenManager:wl,createdAt:vl,lastLoginAt:_d});return Mu&&Array.isArray(Mu)&&(Pu.providerData=Mu.map(Fc=>Object.assign({},Fc))),Lc&&(Pu._redirectEventId=Lc),Pu}static _fromIdTokenResponse(l,d,y=!1){return(0,E.Z)(function*(){const M=new Jt;M.updateFromServerResponse(d);const j=new Ir({uid:d.localId,auth:l,stsTokenManager:M,isAnonymous:y});return yield Br(j),j})()}}const Zr=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.Z)(function*(){return!0})()}_set(d,y){var M=this;return(0,E.Z)(function*(){M.storage[d]=y})()}_get(d){var y=this;return(0,E.Z)(function*(){const M=y.storage[d];return void 0===M?null:M})()}_remove(d){var y=this;return(0,E.Z)(function*(){delete y.storage[d]})()}_addListener(d,y){}_removeListener(d,y){}}return p.type="NONE",p})();function wn(p,l,d){return`firebase:${p}:${l}:${d}`}class kn{constructor(l,d,y){this.persistence=l,this.auth=d,this.userKey=y;const{config:M,name:j}=this.auth;this.fullUserKey=wn(this.userKey,M.apiKey,j),this.fullPersistenceKey=wn("persistence",M.apiKey,j),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,E.Z)(function*(){const d=yield l.persistence._get(l.fullUserKey);return d?Ir._fromJSON(l.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var d=this;return(0,E.Z)(function*(){if(d.persistence===l)return;const y=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=l,y?d.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,d,y="authUser"){return(0,E.Z)(function*(){if(!d.length)return new kn(Dn(Zr),l,y);const M=(yield Promise.all(d.map(function(){var lt=(0,E.Z)(function*(Lt){if(yield Lt._isAvailable())return Lt});return function(Lt){return lt.apply(this,arguments)}}()))).filter(lt=>lt);let j=M[0]||Dn(Zr);const ae=wn(y,l.config.apiKey,l.name);let Le=null;for(const lt of d)try{const Lt=yield lt._get(ae);if(Lt){const Gt=Ir._fromJSON(l,Lt);lt!==j&&(Le=Gt),j=lt;break}}catch(Lt){}const mt=M.filter(lt=>lt._shouldAllowMigration);return j._shouldAllowMigration&&mt.length?(j=mt[0],Le&&(yield j._set(ae,Le.toJSON())),yield Promise.all(d.map(function(){var lt=(0,E.Z)(function*(Lt){if(Lt!==j)try{yield Lt._remove(ae)}catch(Gt){}});return function(Lt){return lt.apply(this,arguments)}}())),new kn(j,l,y)):new kn(j,l,y)})()}}function lr(p){const l=p.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(Ei(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(sn(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(Jn(l))return"Blackberry";if(pi(l))return"Webos";if(kr(l))return"Safari";if((l.includes("chrome/")||fi(l))&&!l.includes("edge/"))return"Chrome";if(br(l))return"Android";{const y=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==y?void 0:y.length))return y[1]}return"Other"}function sn(p=(0,W.z$)()){return/firefox\//i.test(p)}function kr(p=(0,W.z$)()){const l=p.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function fi(p=(0,W.z$)()){return/crios\//i.test(p)}function Ei(p=(0,W.z$)()){return/iemobile/i.test(p)}function br(p=(0,W.z$)()){return/android/i.test(p)}function Jn(p=(0,W.z$)()){return/blackberry/i.test(p)}function pi(p=(0,W.z$)()){return/webos/i.test(p)}function Kr(p=(0,W.z$)()){return/iphone|ipad|ipod/i.test(p)}function si(p=(0,W.z$)()){return Kr(p)||br(p)||pi(p)||Jn(p)||/windows phone/i.test(p)||Ei(p)}function Ii(p,l=[]){let d;switch(p){case"Browser":d=lr((0,W.z$)());break;case"Worker":d=`${lr((0,W.z$)())}-${p}`;break;default:d=p}const y=l.length?l.join(","):"FirebaseCore-web";return`${d}/JsCore/${be.SDK_VERSION}/${y}`}class Os{constructor(l,d){this.app=l,this.config=d,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mi(this),this.idTokenSubscription=new Mi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=d.sdkClientVersion}_initializeWithPersistence(l,d){var y=this;return d&&(this._popupRedirectResolver=Dn(d)),this._initializationPromise=this.queue((0,E.Z)(function*(){var M,j;if(!y._deleted&&(y.persistenceManager=yield kn.create(y,l),!y._deleted)){if(null===(M=y._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch(ae){}yield y.initializeCurrentUser(d),y.lastNotifiedUid=(null===(j=y.currentUser)||void 0===j?void 0:j.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,E.Z)(function*(){if(l._deleted)return;const d=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||d){if(l.currentUser&&d&&l.currentUser.uid===d.uid)return l._currentUser._assign(d),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(d)}})()}initializeCurrentUser(l){var d=this;return(0,E.Z)(function*(){var y;let M=yield d.assertedPersistence.getCurrentUser();if(l&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const j=null===(y=d.redirectUser)||void 0===y?void 0:y._redirectEventId,ae=null==M?void 0:M._redirectEventId,Le=yield d.tryRedirectSignIn(l);(!j||j===ae)&&(null==Le?void 0:Le.user)&&(M=Le.user)}return M?M._redirectEventId?(tt(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===M._redirectEventId?d.directlySetCurrentUser(M):d.reloadAndSetCurrentUserOrClear(M)):d.reloadAndSetCurrentUserOrClear(M):d.directlySetCurrentUser(null)})()}tryRedirectSignIn(l){var d=this;return(0,E.Z)(function*(){let y=null;try{y=yield d._popupRedirectResolver._completeRedirectFn(d,l,!0)}catch(M){yield d._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(l){var d=this;return(0,E.Z)(function*(){try{yield Br(l)}catch(y){if("auth/network-request-failed"!==y.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function mr(){if("undefined"==typeof navigator)return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var l=this;return(0,E.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var d=this;return(0,E.Z)(function*(){const y=l?(0,W.m9)(l):null;return y&&tt(y.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(y&&y._clone(d))})()}_updateCurrentUser(l){var d=this;return(0,E.Z)(function*(){if(!d._deleted)return l&&tt(d.tenantId===l.tenantId,d,"tenant-id-mismatch"),d.queue((0,E.Z)(function*(){yield d.directlySetCurrentUser(l),d.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,E.Z)(function*(){return(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null)})()}setPersistence(l){var d=this;return this.queue((0,E.Z)(function*(){yield d.assertedPersistence.setPersistence(Dn(l))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new W.LL("auth","Firebase",l())}onAuthStateChanged(l,d,y){return this.registerStateListener(this.authStateSubscription,l,d,y)}onIdTokenChanged(l,d,y){return this.registerStateListener(this.idTokenSubscription,l,d,y)}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,d){var y=this;return(0,E.Z)(function*(){const M=yield y.getOrInitRedirectPersistenceManager(d);return null===l?M.removeCurrentUser():M.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var d=this;return(0,E.Z)(function*(){if(!d.redirectPersistenceManager){const y=l&&Dn(l)||d._popupRedirectResolver;tt(y,d,"argument-error"),d.redirectPersistenceManager=yield kn.create(d,[Dn(y._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(l){var d=this;return(0,E.Z)(function*(){var y,M;return d._isInitialized&&(yield d.queue((0,E.Z)(function*(){}))),(null===(y=d._currentUser)||void 0===y?void 0:y._redirectEventId)===l?d._currentUser:(null===(M=d.redirectUser)||void 0===M?void 0:M._redirectEventId)===l?d.redirectUser:null})()}_persistUserIfCurrent(l){var d=this;return(0,E.Z)(function*(){if(l===d.currentUser)return d.queue((0,E.Z)(function*(){return d.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(d=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,d,y,M){if(this._deleted)return()=>{};const j="function"==typeof d?d:d.next.bind(d),ae=this._isInitialized?Promise.resolve():this._initializationPromise;return tt(ae,this,"internal-error"),ae.then(()=>j(this.currentUser)),"function"==typeof d?l.addObserver(d,y,M):l.addObserver(d)}directlySetCurrentUser(l){var d=this;return(0,E.Z)(function*(){d.currentUser&&d.currentUser!==l&&(d._currentUser._stopProactiveRefresh(),l&&d.isProactiveRefreshEnabled&&l._startProactiveRefresh()),d.currentUser=l,l?yield d.assertedPersistence.setCurrentUser(l):yield d.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=Ii(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,E.Z)(function*(){const d={"X-Client-Version":l.clientVersion};return l.app.options.appId&&(d["X-Firebase-gmpid"]=l.app.options.appId),d})()}}function Tn(p){return(0,W.m9)(p)}class Mi{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,W.ne)(d=>this.observer=d)}get next(){return tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Bi(p){const l=p.indexOf(":");return l<0?"":p.substr(0,l+1)}function Ys(p){if(!p)return null;const l=Number(p);return isNaN(l)?null:l}class es{constructor(l,d){this.providerId=l,this.signInMethod=d}toJSON(){return xn("not implemented")}_getIdTokenResponse(l){return xn("not implemented")}_linkToIdToken(l,d){return xn("not implemented")}_getReauthenticationResolver(l){return xn("not implemented")}}function ls(p,l){return _e.apply(this,arguments)}function _e(){return(_e=(0,E.Z)(function*(p,l){return vn(p,"POST","/v1/accounts:resetPassword",Mt(p,l))})).apply(this,arguments)}function pe(p,l){return ke.apply(this,arguments)}function ke(){return(ke=(0,E.Z)(function*(p,l){return vn(p,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Ke(p,l){return ft.apply(this,arguments)}function ft(){return(ft=(0,E.Z)(function*(p,l){return vn(p,"POST","/v1/accounts:update",Mt(p,l))})).apply(this,arguments)}function _n(){return(_n=(0,E.Z)(function*(p,l){return ue(p,"POST","/v1/accounts:signInWithPassword",Mt(p,l))})).apply(this,arguments)}function Ar(p,l){return An.apply(this,arguments)}function An(){return(An=(0,E.Z)(function*(p,l){return vn(p,"POST","/v1/accounts:sendOobCode",Mt(p,l))})).apply(this,arguments)}function ts(p,l){return ds.apply(this,arguments)}function ds(){return(ds=(0,E.Z)(function*(p,l){return Ar(p,l)})).apply(this,arguments)}function ns(p,l){return bs.apply(this,arguments)}function bs(){return(bs=(0,E.Z)(function*(p,l){return Ar(p,l)})).apply(this,arguments)}function Ds(p,l){return ks.apply(this,arguments)}function ks(){return(ks=(0,E.Z)(function*(p,l){return Ar(p,l)})).apply(this,arguments)}function Ts(p,l){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,E.Z)(function*(p,l){return Ar(p,l)})).apply(this,arguments)}function Ns(){return(Ns=(0,E.Z)(function*(p,l){return ue(p,"POST","/v1/accounts:signInWithEmailLink",Mt(p,l))})).apply(this,arguments)}function Nr(){return(Nr=(0,E.Z)(function*(p,l){return ue(p,"POST","/v1/accounts:signInWithEmailLink",Mt(p,l))})).apply(this,arguments)}class fs extends es{constructor(l,d,y,M=null){super("password",y),this._email=l,this._password=d,this._tenantId=M}static _fromEmailAndPassword(l,d){return new fs(l,d,"password")}static _fromEmailAndCode(l,d,y=null){return new fs(l,d,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l;if((null==d?void 0:d.email)&&(null==d?void 0:d.password)){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(l){var d=this;return(0,E.Z)(function*(){switch(d.signInMethod){case"password":return function bt(p,l){return _n.apply(this,arguments)}(l,{returnSecureToken:!0,email:d._email,password:d._password});case"emailLink":return function hs(p,l){return Ns.apply(this,arguments)}(l,{email:d._email,oobCode:d._password});default:un(l,"internal-error")}})()}_linkToIdToken(l,d){var y=this;return(0,E.Z)(function*(){switch(y.signInMethod){case"password":return pe(l,{idToken:d,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Wi(p,l){return Nr.apply(this,arguments)}(l,{idToken:d,email:y._email,oobCode:y._password});default:un(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function mi(p,l){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,E.Z)(function*(p,l){return ue(p,"POST","/v1/accounts:signInWithIdp",Mt(p,l))})).apply(this,arguments)}class oi extends es{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const d=new oi(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(d.idToken=l.idToken),l.accessToken&&(d.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(d.nonce=l.nonce),l.pendingToken&&(d.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(d.accessToken=l.oauthToken,d.secret=l.oauthTokenSecret):un("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:y,signInMethod:M}=d,j=Ae(d,["providerId","signInMethod"]);if(!y||!M)return null;const ae=new oi(y,M);return ae.idToken=j.idToken||void 0,ae.accessToken=j.accessToken||void 0,ae.secret=j.secret,ae.nonce=j.nonce,ae.pendingToken=j.pendingToken||null,ae}_getIdTokenResponse(l){return mi(l,this.buildRequest())}_linkToIdToken(l,d){const y=this.buildRequest();return y.idToken=d,mi(l,y)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,mi(l,d)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),l.postBody=(0,W.xO)(d)}return l}}function q(p,l){return F.apply(this,arguments)}function F(){return(F=(0,E.Z)(function*(p,l){return vn(p,"POST","/v1/accounts:sendVerificationCode",Mt(p,l))})).apply(this,arguments)}function ne(){return(ne=(0,E.Z)(function*(p,l){return ue(p,"POST","/v1/accounts:signInWithPhoneNumber",Mt(p,l))})).apply(this,arguments)}function ot(){return(ot=(0,E.Z)(function*(p,l){const d=yield ue(p,"POST","/v1/accounts:signInWithPhoneNumber",Mt(p,l));if(d.temporaryProof)throw vt(p,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const jt={USER_NOT_FOUND:"user-not-found"};function Xt(){return(Xt=(0,E.Z)(function*(p,l){return ue(p,"POST","/v1/accounts:signInWithPhoneNumber",Mt(p,Object.assign(Object.assign({},l),{operation:"REAUTH"})),jt)})).apply(this,arguments)}class tn extends es{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,d){return new tn({verificationId:l,verificationCode:d})}static _fromTokenResponse(l,d){return new tn({phoneNumber:l,temporaryProof:d})}_getIdTokenResponse(l){return function O(p,l){return ne.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,d){return function he(p,l){return ot.apply(this,arguments)}(l,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function yn(p,l){return Xt.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:d,verificationId:y,verificationCode:M}=this.params;return l&&d?{temporaryProof:l,phoneNumber:d}:{sessionInfo:y,code:M}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:d,verificationCode:y,phoneNumber:M,temporaryProof:j}=l;return y||d||M||j?new tn({verificationId:d,verificationCode:y,phoneNumber:M,temporaryProof:j}):null}}class an{constructor(l){var d,y,M,j,ae,Le;const mt=(0,W.zd)((0,W.pd)(l)),lt=null!==(d=mt.apiKey)&&void 0!==d?d:null,Lt=null!==(y=mt.oobCode)&&void 0!==y?y:null,Gt=function Lr(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=mt.mode)&&void 0!==M?M:null);tt(lt&&Lt&&Gt,"argument-error"),this.apiKey=lt,this.operation=Gt,this.code=Lt,this.continueUrl=null!==(j=mt.continueUrl)&&void 0!==j?j:null,this.languageCode=null!==(ae=mt.languageCode)&&void 0!==ae?ae:null,this.tenantId=null!==(Le=mt.tenantId)&&void 0!==Le?Le:null}static parseLink(l){const d=function ps(p){const l=(0,W.zd)((0,W.pd)(p)).link,d=l?(0,W.zd)((0,W.pd)(l)).deep_link_id:null,y=(0,W.zd)((0,W.pd)(p)).deep_link_id;return(y?(0,W.zd)((0,W.pd)(y)).link:null)||y||d||l||p}(l);try{return new an(d)}catch(y){return null}}}let $=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(d,y){return fs._fromEmailAndPassword(d,y)}static credentialWithLink(d,y){const M=an.parseLink(y);return tt(M,"argument-error"),fs._fromEmailAndCode(d,M.code,M.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class S{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class z extends S{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class se extends z{static credentialFromJSON(l){const d="string"==typeof l?JSON.parse(l):l;return tt("providerId"in d&&"signInMethod"in d,"argument-error"),oi._fromParams(d)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return tt(l.idToken||l.accessToken,"argument-error"),oi._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return se.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return se.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:d,oauthAccessToken:y,oauthTokenSecret:M,pendingToken:j,nonce:ae,providerId:Le}=l;if(!y&&!M&&!d&&!j||!Le)return null;try{return new se(Le)._credential({idToken:d,accessToken:y,nonce:ae,pendingToken:j})}catch(mt){return null}}}let je=(()=>{class p extends z{constructor(){super("facebook.com")}static credential(d){return oi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch(y){return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),qe=(()=>{class p extends z{constructor(){super("google.com"),this.addScope("profile")}static credential(d,y){return oi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:y})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:y,oauthAccessToken:M}=d;if(!y&&!M)return null;try{return p.credential(y,M)}catch(j){return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),wt=(()=>{class p extends z{constructor(){super("github.com")}static credential(d){return oi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch(y){return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class Bn extends es{constructor(l,d){super(l,l),this.pendingToken=d}_getIdTokenResponse(l){return mi(l,this.buildRequest())}_linkToIdToken(l,d){const y=this.buildRequest();return y.idToken=d,mi(l,y)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,mi(l,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:y,signInMethod:M,pendingToken:j}=d;return y&&M&&j&&y===M?new Bn(y,j):null}static _create(l,d){return new Bn(l,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class nn extends S{constructor(l){tt(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return nn.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return nn.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const d=Bn.fromJSON(l);return tt(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:d,providerId:y}=l;if(!d||!y)return null;try{return Bn._create(y,d)}catch(M){return null}}}let Fr=(()=>{class p extends z{constructor(){super("twitter.com")}static credential(d,y){return oi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:y})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:y,oauthTokenSecret:M}=d;if(!y||!M)return null;try{return p.credential(y,M)}catch(j){return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function $n(p,l){return kt.apply(this,arguments)}function kt(){return(kt=(0,E.Z)(function*(p,l){return ue(p,"POST","/v1/accounts:signUp",Mt(p,l))})).apply(this,arguments)}class ni{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,d,y,M=!1){return(0,E.Z)(function*(){const j=yield Ir._fromIdTokenResponse(l,y,M),ae=Vi(y);return new ni({user:j,providerId:ae,_tokenResponse:y,operationType:d})})()}static _forOperation(l,d,y){return(0,E.Z)(function*(){yield l._updateTokensIfNecessary(y,!0);const M=Vi(y);return new ni({user:l,providerId:M,_tokenResponse:y,operationType:d})})()}}function Vi(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function ji(){return(ji=(0,E.Z)(function*(p){var l;const d=Tn(p);if(yield d._initializationPromise,null===(l=d.currentUser)||void 0===l?void 0:l.isAnonymous)return new ni({user:d.currentUser,providerId:null,operationType:"signIn"});const y=yield $n(d,{returnSecureToken:!0}),M=yield ni._fromIdTokenResponse(d,"signIn",y,!0);return yield d._updateCurrentUser(M.user),M})).apply(this,arguments)}class $i extends W.ZR{constructor(l,d,y,M){var j;super(d.code,d.message),this.operationType=y,this.user=M,Object.setPrototypeOf(this,$i.prototype),this.customData={appName:l.name,tenantId:null!==(j=l.tenantId)&&void 0!==j?j:void 0,_serverResponse:d.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(l,d,y,M){return new $i(l,d,y,M)}}function Hs(p,l,d,y){return("reauthenticate"===l?d._getReauthenticationResolver(p):d._getIdTokenResponse(p)).catch(j=>{throw"auth/multi-factor-auth-required"===j.code?$i._fromErrorAndOperation(p,j,l,y):j})}function Gs(p){return new Set(p.map(({providerId:l})=>l).filter(l=>!!l))}function hn(){return(hn=(0,E.Z)(function*(p,l){const d=(0,W.m9)(p);yield P(!0,d,l);const{providerUserInfo:y}=yield In(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[l]}),M=Gs(y||[]);return d.providerData=d.providerData.filter(j=>M.has(j.providerId)),M.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d})).apply(this,arguments)}function jo(p,l){return N.apply(this,arguments)}function N(){return(N=(0,E.Z)(function*(p,l,d=!1){const y=yield rr(p,l._linkToIdToken(p.auth,yield p.getIdToken()),d);return ni._forOperation(p,"link",y)})).apply(this,arguments)}function P(p,l,d){return Z.apply(this,arguments)}function Z(){return(Z=(0,E.Z)(function*(p,l,d){yield Br(l);const M=!1===p?"provider-already-linked":"no-such-provider";tt(Gs(l.providerData).has(d)===p,l.auth,M)})).apply(this,arguments)}function J(p,l){return me.apply(this,arguments)}function me(){return(me=(0,E.Z)(function*(p,l,d=!1){const{auth:y}=p,M="reauthenticate";try{const j=yield rr(p,Hs(y,M,l,p),d);tt(j.idToken,y,"internal-error");const ae=Ui(j.idToken);tt(ae,y,"internal-error");const{sub:Le}=ae;return tt(p.uid===Le,y,"user-mismatch"),ni._forOperation(p,M,j)}catch(j){throw"auth/user-not-found"===(null==j?void 0:j.code)&&un(y,"user-mismatch"),j}})).apply(this,arguments)}function Ne(p,l){return nt.apply(this,arguments)}function nt(){return(nt=(0,E.Z)(function*(p,l,d=!1){const y="signIn",M=yield Hs(p,y,l),j=yield ni._fromIdTokenResponse(p,y,M);return d||(yield p._updateCurrentUser(j.user)),j})).apply(this,arguments)}function Nt(p,l){return It.apply(this,arguments)}function It(){return(It=(0,E.Z)(function*(p,l){return Ne(Tn(p),l)})).apply(this,arguments)}function on(p,l){return rn.apply(this,arguments)}function rn(){return(rn=(0,E.Z)(function*(p,l){const d=(0,W.m9)(p);return yield P(!1,d,l.providerId),jo(d,l)})).apply(this,arguments)}function Xn(p,l){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,E.Z)(function*(p,l){return J((0,W.m9)(p),l)})).apply(this,arguments)}function or(p,l){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,E.Z)(function*(p,l){return ue(p,"POST","/v1/accounts:signInWithCustomToken",Mt(p,l))})).apply(this,arguments)}function hr(){return(hr=(0,E.Z)(function*(p,l){const d=Tn(p),y=yield or(d,{token:l,returnSecureToken:!0}),M=yield ni._fromIdTokenResponse(d,"signIn",y);return yield d._updateCurrentUser(M.user),M})).apply(this,arguments)}class rs{constructor(l,d){this.factorId=l,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(l,d){return"phoneInfo"in d?bi._fromServerResponse(l,d):un(l,"internal-error")}}class bi extends rs{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,d){return new bi(d)}}function Sr(p,l,d){var y;tt((null===(y=d.url)||void 0===y?void 0:y.length)>0,p,"invalid-continue-uri"),tt(void 0===d.dynamicLinkDomain||d.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),l.continueUrl=d.url,l.dynamicLinkDomain=d.dynamicLinkDomain,l.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(tt(d.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),l.iOSBundleId=d.iOS.bundleId),d.android&&(tt(d.android.packageName.length>0,p,"missing-android-pkg-name"),l.androidInstallApp=d.android.installApp,l.androidMinimumVersionCode=d.android.minimumVersion,l.androidPackageName=d.android.packageName)}function ar(){return(ar=(0,E.Z)(function*(p,l,d){const y=(0,W.m9)(p),M={requestType:"PASSWORD_RESET",email:l};d&&Sr(y,M,d),yield ns(y,M)})).apply(this,arguments)}function $o(){return($o=(0,E.Z)(function*(p,l,d){yield ls((0,W.m9)(p),{oobCode:l,newPassword:d})})).apply(this,arguments)}function qs(){return(qs=(0,E.Z)(function*(p,l){yield Ke((0,W.m9)(p),{oobCode:l})})).apply(this,arguments)}function Ma(p,l){return mo.apply(this,arguments)}function mo(){return(mo=(0,E.Z)(function*(p,l){const d=(0,W.m9)(p),y=yield ls(d,{oobCode:l}),M=y.requestType;switch(tt(M,d,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":tt(y.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":tt(y.mfaInfo,d,"internal-error");default:tt(y.email,d,"internal-error")}let j=null;return y.mfaInfo&&(j=rs._fromServerResponse(Tn(d),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:j},operation:M}})).apply(this,arguments)}function Ho(){return(Ho=(0,E.Z)(function*(p,l){const{data:d}=yield Ma((0,W.m9)(p),l);return d.email})).apply(this,arguments)}function Oa(){return(Oa=(0,E.Z)(function*(p,l,d){const y=Tn(p),M=yield $n(y,{returnSecureToken:!0,email:l,password:d}),j=yield ni._fromIdTokenResponse(y,"signIn",M);return yield y._updateCurrentUser(j.user),j})).apply(this,arguments)}function Ls(){return(Ls=(0,E.Z)(function*(p,l,d){const y=(0,W.m9)(p),M={requestType:"EMAIL_SIGNIN",email:l};tt(d.handleCodeInApp,y,"argument-error"),d&&Sr(y,M,d),yield Ds(y,M)})).apply(this,arguments)}function Go(){return(Go=(0,E.Z)(function*(p,l,d){const y=(0,W.m9)(p),M=$.credentialWithLink(l,d||qt());return tt(M._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),Nt(y,M)})).apply(this,arguments)}function au(p,l){return aa.apply(this,arguments)}function aa(){return(aa=(0,E.Z)(function*(p,l){return vn(p,"POST","/v1/accounts:createAuthUri",Mt(p,l))})).apply(this,arguments)}function Na(){return(Na=(0,E.Z)(function*(p,l){const y={identifier:l,continueUri:Vt()?qt():"http://localhost"},{signinMethods:M}=yield au((0,W.m9)(p),y);return M||[]})).apply(this,arguments)}function Xs(){return(Xs=(0,E.Z)(function*(p,l){const d=(0,W.m9)(p),M={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};l&&Sr(d.auth,M,l);const{email:j}=yield ts(d.auth,M);j!==p.email&&(yield p.reload())})).apply(this,arguments)}function so(){return(so=(0,E.Z)(function*(p,l,d){const y=(0,W.m9)(p),j={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:l};d&&Sr(y.auth,j,d);const{email:ae}=yield Ts(y.auth,j);ae!==p.email&&(yield p.reload())})).apply(this,arguments)}function is(p,l){return La.apply(this,arguments)}function La(){return(La=(0,E.Z)(function*(p,l){return vn(p,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Tr(){return(Tr=(0,E.Z)(function*(p,{displayName:l,photoURL:d}){if(void 0===l&&void 0===d)return;const y=(0,W.m9)(p),j={idToken:yield y.getIdToken(),displayName:l,photoUrl:d,returnSecureToken:!0},ae=yield rr(y,is(y.auth,j));y.displayName=ae.displayName||null,y.photoURL=ae.photoUrl||null;const Le=y.providerData.find(({providerId:mt})=>"password"===mt);Le&&(Le.displayName=y.displayName,Le.photoURL=y.photoURL),yield y._updateTokensIfNecessary(ae)})).apply(this,arguments)}function yo(p,l,d){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,E.Z)(function*(p,l,d){const{auth:y}=p,j={idToken:yield p.getIdToken(),returnSecureToken:!0};l&&(j.email=l),d&&(j.password=d);const ae=yield rr(p,pe(y,j));yield p._updateTokensIfNecessary(ae,!0)})).apply(this,arguments)}class So{constructor(l,d,y={}){this.isNewUser=l,this.providerId=d,this.profile=y}}class ca extends So{constructor(l,d,y,M){super(l,d,y),this.username=M}}class Vu extends So{constructor(l,d){super(l,"facebook.com",d)}}class Ro extends ca{constructor(l,d){super(l,"github.com",d,"string"==typeof(null==d?void 0:d.login)?null==d?void 0:d.login:null)}}class Fa extends So{constructor(l,d){super(l,"google.com",d)}}class ai extends ca{constructor(l,d,y){super(l,"twitter.com",d,y)}}function Oi(p){const{user:l,_tokenResponse:d}=p;return l.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function eo(p){var l,d;if(!p)return null;const{providerId:y}=p,M=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},j=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!y&&(null==p?void 0:p.idToken)){const ae=null===(d=null===(l=Ui(p.idToken))||void 0===l?void 0:l.firebase)||void 0===d?void 0:d.sign_in_provider;if(ae)return new So(j,"anonymous"!==ae&&"custom"!==ae?ae:null)}if(!y)return null;switch(y){case"facebook.com":return new Vu(j,M);case"github.com":return new Ro(j,M);case"google.com":return new Fa(j,M);case"twitter.com":return new ai(j,M,p.screenName||null);case"custom":case"anonymous":return new So(j,null);default:return new So(j,y,M)}}(d)}class to{constructor(l,d){this.type=l,this.credential=d}static _fromIdtoken(l){return new to("enroll",l)}static _fromMfaPendingCredential(l){return new to("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var d,y;if(null==l?void 0:l.multiFactorSession){if(null===(d=l.multiFactorSession)||void 0===d?void 0:d.pendingCredential)return to._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null===(y=l.multiFactorSession)||void 0===y?void 0:y.idToken)return to._fromIdtoken(l.multiFactorSession.idToken)}return null}}class _o{constructor(l,d,y){this.session=l,this.hints=d,this.signInResolver=y}static _fromError(l,d){const y=Tn(l),M=d.customData._serverResponse,j=(M.mfaInfo||[]).map(Le=>rs._fromServerResponse(y,Le));tt(M.mfaPendingCredential,y,"internal-error");const ae=to._fromMfaPendingCredential(M.mfaPendingCredential);return new _o(ae,j,function(){var Le=(0,E.Z)(function*(mt){const lt=yield mt._process(y,ae);delete M.mfaInfo,delete M.mfaPendingCredential;const Lt=Object.assign(Object.assign({},M),{idToken:lt.idToken,refreshToken:lt.refreshToken});switch(d.operationType){case"signIn":const Gt=yield ni._fromIdTokenResponse(y,d.operationType,Lt);return yield y._updateCurrentUser(Gt.user),Gt;case"reauthenticate":return tt(d.user,y,"internal-error"),ni._forOperation(d.user,d.operationType,Lt);default:un(y,"internal-error")}});return function(mt){return Le.apply(this,arguments)}}())}resolveSignIn(l){var d=this;return(0,E.Z)(function*(){return d.signInResolver(l)})()}}function Hu(p,l){return vn(p,"POST","/v2/accounts/mfaEnrollment:start",Mt(p,l))}class Fs{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(y=>rs._fromServerResponse(l.auth,y)))})}static _fromUser(l){return new Fs(l)}getSession(){var l=this;return(0,E.Z)(function*(){return to._fromIdtoken(yield l.user.getIdToken())})()}enroll(l,d){var y=this;return(0,E.Z)(function*(){const M=l,j=yield y.getSession(),ae=yield rr(y.user,M._process(y.user.auth,j,d));return yield y.user._updateTokensIfNecessary(ae),y.user.reload()})()}unenroll(l){var d=this;return(0,E.Z)(function*(){const y="string"==typeof l?l:l.uid,M=yield d.user.getIdToken(),j=yield rr(d.user,function ao(p,l){return vn(p,"POST","/v2/accounts/mfaEnrollment:withdraw",Mt(p,l))}(d.user.auth,{idToken:M,mfaEnrollmentId:y}));d.enrolledFactors=d.enrolledFactors.filter(({uid:ae})=>ae!==y),yield d.user._updateTokensIfNecessary(j);try{yield d.user.reload()}catch(ae){if("auth/user-token-expired"!==ae.code)throw ae}})()}}const uo=new WeakMap,m="__sak";class _{constructor(l,d){this.storageRetriever=l,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(m,"1"),this.storage.removeItem(m),Promise.resolve(!0)):Promise.resolve(!1)}catch(l){return Promise.resolve(!1)}}_set(l,d){return this.storage.setItem(l,JSON.stringify(d)),Promise.resolve()}_get(l){const d=this.storage.getItem(l);return Promise.resolve(d?JSON.parse(d):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const le=(()=>{class p extends _{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,y)=>this.onStorageEvent(d,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function T(){const p=(0,W.z$)();return kr(p)||Kr(p)}()&&function Yr(){try{return!(!window||window===window.top)}catch(p){return!1}}(),this.fallbackToPolling=si(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const y of Object.keys(this.listeners)){const M=this.storage.getItem(y),j=this.localCache[y];M!==j&&d(y,j,M)}}onStorageEvent(d,y=!1){if(!d.key)return void this.forAllChangedKeys((Le,mt,lt)=>{this.notifyListeners(Le,lt)});const M=d.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Le=this.storage.getItem(M);if(d.newValue!==Le)null!==d.newValue?this.storage.setItem(M,d.newValue):this.storage.removeItem(M);else if(this.localCache[M]===d.newValue&&!y)return}const j=()=>{const Le=this.storage.getItem(M);!y&&this.localCache[M]===Le||this.notifyListeners(M,Le)},ae=this.storage.getItem(M);!function Ps(){return(0,W.w1)()&&10===document.documentMode}()||ae===d.newValue||d.newValue===d.oldValue?j():setTimeout(j,10)}notifyListeners(d,y){this.localCache[d]=y;const M=this.listeners[d];if(M)for(const j of Array.from(M))j(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,y,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:y,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(y)}_removeListener(d,y){this.listeners[d]&&(this.listeners[d].delete(y),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,y){var M=()=>super._set,j=this;return(0,E.Z)(function*(){yield M().call(j,d,y),j.localCache[d]=JSON.stringify(y)})()}_get(d){var y=()=>super._get,M=this;return(0,E.Z)(function*(){const j=yield y().call(M,d);return M.localCache[d]=JSON.stringify(j),j})()}_remove(d){var y=()=>super._remove,M=this;return(0,E.Z)(function*(){yield y().call(M,d),delete M.localCache[d]})()}}return p.type="LOCAL",p})(),de=(()=>{class p extends _{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,y){}_removeListener(d,y){}}return p.type="SESSION",p})();let Rt=(()=>{class p{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const y=this.receivers.find(j=>j.isListeningto(d));if(y)return y;const M=new p(d);return this.receivers.push(M),M}isListeningto(d){return this.eventTarget===d}handleEvent(d){var y=this;return(0,E.Z)(function*(){const M=d,{eventId:j,eventType:ae,data:Le}=M.data,mt=y.handlersMap[ae];if(!(null==mt?void 0:mt.size))return;M.ports[0].postMessage({status:"ack",eventId:j,eventType:ae});const lt=Array.from(mt).map(function(){var Gt=(0,E.Z)(function*(Fn){return Fn(M.origin,Le)});return function(Fn){return Gt.apply(this,arguments)}}()),Lt=yield function $e(p){return Promise.all(p.map(function(){var l=(0,E.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(y){return{fulfilled:!1,reason:y}}});return function(d){return l.apply(this,arguments)}}()))}(lt);M.ports[0].postMessage({status:"done",eventId:j,eventType:ae,response:Lt})})()}_subscribe(d,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(y)}_unsubscribe(d,y){this.handlersMap[d]&&y&&this.handlersMap[d].delete(y),(!y||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function Gn(p="",l=10){let d="";for(let y=0;y<l;y++)d+=Math.floor(10*Math.random());return p+d}class er{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,d,y=50){var M=this;return(0,E.Z)(function*(){const j="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!j)throw new Error("connection_unavailable");let ae,Le;return new Promise((mt,lt)=>{const Lt=Gn("",20);j.port1.start();const Gt=setTimeout(()=>{lt(new Error("unsupported_event"))},y);Le={messageChannel:j,onMessage(Fn){const us=Fn;if(us.data.eventId===Lt)switch(us.data.status){case"ack":clearTimeout(Gt),ae=setTimeout(()=>{lt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ae),mt(us.data.response);break;default:clearTimeout(Gt),clearTimeout(ae),lt(new Error("invalid_response"))}}},M.handlers.add(Le),j.port1.addEventListener("message",Le.onMessage),M.target.postMessage({eventType:l,eventId:Lt,data:d},[j.port2])}).finally(()=>{Le&&M.removeMessageHandler(Le)})})()}}function Jr(){return window}function Ss(){return void 0!==Jr().WorkerGlobalScope&&"function"==typeof Jr().importScripts}function Us(){return(Us=(0,E.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(p){return null}})).apply(this,arguments)}const ki="firebaseLocalStorageDb",Ba="firebaseLocalStorage",Zn="fbase_key";class wr{constructor(l){this.request=l}toPromise(){return new Promise((l,d)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function cu(p,l){return p.transaction([Ba],l?"readwrite":"readonly").objectStore(Ba)}function bn(){const p=indexedDB.open(ki,1);return new Promise((l,d)=>{p.addEventListener("error",()=>{d(p.error)}),p.addEventListener("upgradeneeded",()=>{const y=p.result;try{y.createObjectStore(Ba,{keyPath:Zn})}catch(M){d(M)}}),p.addEventListener("success",(0,E.Z)(function*(){const y=p.result;y.objectStoreNames.contains(Ba)?l(y):(y.close(),yield function Hi(){const p=indexedDB.deleteDatabase(ki);return new wr(p).toPromise()}(),l(yield bn()))}))})}function ed(p,l,d){return ha.apply(this,arguments)}function ha(){return(ha=(0,E.Z)(function*(p,l,d){const y=cu(p,!0).put({[Zn]:l,value:d});return new wr(y).toPromise()})).apply(this,arguments)}function Va(){return(Va=(0,E.Z)(function*(p,l){const d=cu(p,!1).get(l),y=yield new wr(d).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function zn(p,l){const d=cu(p,!0).delete(l);return new wr(d).toPromise()}const vo=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,E.Z)(function*(){return d.db||(d.db=yield bn()),d.db})()}_withRetries(d){var y=this;return(0,E.Z)(function*(){let M=0;for(;;)try{const j=yield y._openDb();return yield d(j)}catch(j){if(M++>3)throw j;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,E.Z)(function*(){return Ss()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,E.Z)(function*(){d.receiver=Rt._getInstance(function Yo(){return Ss()?self:null}()),d.receiver._subscribe("keyChanged",function(){var y=(0,E.Z)(function*(M,j){return{keyProcessed:(yield d._poll()).includes(j.key)}});return function(M,j){return y.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var y=(0,E.Z)(function*(M,j){return["keyChanged"]});return function(M,j){return y.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,E.Z)(function*(){var y,M;if(d.activeServiceWorker=yield function ss(){return Us.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new er(d.activeServiceWorker);const j=yield d.sender._send("ping",{},800);!j||(null===(y=j[0])||void 0===y?void 0:y.fulfilled)&&(null===(M=j[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var y=this;return(0,E.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function Zi(){var p;return(null===(p=null==navigator?void 0:navigator.serviceWorker)||void 0===p?void 0:p.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:d},y.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,E.Z)(function*(){try{if(!indexedDB)return!1;const d=yield bn();return yield ed(d,m,"1"),yield zn(d,m),!0}catch(d){}return!1})()}_withPendingWrite(d){var y=this;return(0,E.Z)(function*(){y.pendingWrites++;try{yield d()}finally{y.pendingWrites--}})()}_set(d,y){var M=this;return(0,E.Z)(function*(){return M._withPendingWrite((0,E.Z)(function*(){return yield M._withRetries(j=>ed(j,d,y)),M.localCache[d]=y,M.notifyServiceWorker(d)}))})()}_get(d){var y=this;return(0,E.Z)(function*(){const M=yield y._withRetries(j=>function Kd(p,l){return Va.apply(this,arguments)}(j,d));return y.localCache[d]=M,M})()}_remove(d){var y=this;return(0,E.Z)(function*(){return y._withPendingWrite((0,E.Z)(function*(){return yield y._withRetries(M=>zn(M,d)),delete y.localCache[d],y.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,E.Z)(function*(){const y=yield d._withRetries(ae=>{const Le=cu(ae,!1).getAll();return new wr(Le).toPromise()});if(!y)return[];if(0!==d.pendingWrites)return[];const M=[],j=new Set;for(const{fbase_key:ae,value:Le}of y)j.add(ae),JSON.stringify(d.localCache[ae])!==JSON.stringify(Le)&&(d.notifyListeners(ae,Le),M.push(ae));for(const ae of Object.keys(d.localCache))d.localCache[ae]&&!j.has(ae)&&(d.notifyListeners(ae,null),M.push(ae));return M})()}notifyListeners(d,y){this.localCache[d]=y;const M=this.listeners[d];if(M)for(const j of Array.from(M))j(y)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,E.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(y)}_removeListener(d,y){this.listeners[d]&&(this.listeners[d].delete(y),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})();function Ki(p,l){return vn(p,"POST","/v2/accounts/mfaSignIn:start",Mt(p,l))}function Cr(){return(Cr=(0,E.Z)(function*(p){return(yield vn(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ga(p){return new Promise((l,d)=>{const y=document.createElement("script");y.setAttribute("src",p),y.onload=l,y.onerror=M=>{const j=Kn("internal-error");j.customData=M,d(j)},y.type="text/javascript",y.charset="UTF-8",function pa(){var p,l;return null!==(l=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==l?l:document}().appendChild(y)})}function Qo(p){return`__${p}${Math.floor(1e6*Math.random())}`}const Jo=1e12;class _c{constructor(l){this.auth=l,this.counter=Jo,this._widgets=new Map}render(l,d){const y=this.counter;return this._widgets.set(y,new Zt(l,this.auth.name,d||{})),this.counter++,y}reset(l){var d;const y=l||Jo;null===(d=this._widgets.get(y))||void 0===d||d.delete(),this._widgets.delete(y)}getResponse(l){var d;return(null===(d=this._widgets.get(l||Jo))||void 0===d?void 0:d.getResponse())||""}execute(l){var d=this;return(0,E.Z)(function*(){var y;return null===(y=d._widgets.get(l||Jo))||void 0===y||y.execute(),""})()}}class Zt{constructor(l,d,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof l?document.getElementById(l):l;tt(M,"argument-error",{appName:d}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function wo(p){const l=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<p;y++)l.push(d.charAt(Math.floor(Math.random()*d.length)));return l.join("")}(50);const{callback:l,"expired-callback":d}=this.params;if(l)try{l(this.responseToken)}catch(y){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch(y){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xr=Qo("rcb"),Mo=new en(3e4,6e4);class Yd{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Jr().grecaptcha}load(l,d=""){return tt(function vc(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(d),l,"argument-error"),this.shouldResolveImmediately(d)?Promise.resolve(Jr().grecaptcha):new Promise((y,M)=>{const j=Jr().setTimeout(()=>{M(Kn(l,"network-request-failed"))},Mo.get());Jr()[Xr]=()=>{Jr().clearTimeout(j),delete Jr()[Xr];const Le=Jr().grecaptcha;if(!Le)return void M(Kn(l,"internal-error"));const mt=Le.render;Le.render=(lt,Lt)=>{const Gt=mt(lt,Lt);return this.counter++,Gt},this.hostLanguage=d,y(Le)},ga(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:Xr,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(j),M(Kn(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){return!!Jr().grecaptcha&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class rl{load(l){return(0,E.Z)(function*(){return new _c(l)})()}clearedOneInstance(){}}const lu="recaptcha",wc={theme:"light",type:"image"};class Xo{constructor(l,d=Object.assign({},wc),y){this.parameters=d,this.type=lu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tn(y),this.isInvisible="invisible"===this.parameters.size,tt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof l?document.getElementById(l):l;tt(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new rl:new Yd,this.validateStartingState()}verify(){var l=this;return(0,E.Z)(function*(){l.assertNotDestroyed();const d=yield l.render(),y=l.getAssertedRecaptcha();return y.getResponse(d)||new Promise(j=>{const ae=Le=>{!Le||(l.tokenChangeListeners.delete(ae),j(Le))};l.tokenChangeListeners.add(ae),l.isInvisible&&y.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){tt(!this.parameters.sitekey,this.auth,"argument-error"),tt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),tt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return d=>{if(this.tokenChangeListeners.forEach(y=>y(d)),"function"==typeof l)l(d);else if("string"==typeof l){const y=Jr()[l];"function"==typeof y&&y(d)}}}assertNotDestroyed(){tt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,E.Z)(function*(){if(yield l.init(),!l.widgetId){let d=l.container;if(!l.isInvisible){const y=document.createElement("div");d.appendChild(y),d=y}l.widgetId=l.getAssertedRecaptcha().render(d,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,E.Z)(function*(){tt(Vt()&&!Ss(),l.auth,"internal-error"),yield function Ec(){let p=null;return new Promise(l=>{"complete"!==document.readyState?(p=()=>l(),window.addEventListener("load",p)):l()}).catch(l=>{throw p&&window.removeEventListener("load",p),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const d=yield function Gi(p){return Cr.apply(this,arguments)}(l.auth);tt(d,l.auth,"internal-error"),l.parameters.sitekey=d})()}getAssertedRecaptcha(){return tt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class du{constructor(l,d){this.verificationId=l,this.onConfirmation=d}confirm(l){const d=tn._fromVerification(this.verificationId,l);return this.onConfirmation(d)}}function ys(){return(ys=(0,E.Z)(function*(p,l,d){const y=Tn(p),M=yield Ha(y,l,(0,W.m9)(d));return new du(M,j=>Nt(y,j))})).apply(this,arguments)}function Bs(){return(Bs=(0,E.Z)(function*(p,l,d){const y=(0,W.m9)(p);yield P(!1,y,"phone");const M=yield Ha(y.auth,l,(0,W.m9)(d));return new du(M,j=>on(y,j))})).apply(this,arguments)}function hu(){return(hu=(0,E.Z)(function*(p,l,d){const y=(0,W.m9)(p),M=yield Ha(y.auth,l,(0,W.m9)(d));return new du(M,j=>Xn(y,j))})).apply(this,arguments)}function Ha(p,l,d){return ya.apply(this,arguments)}function ya(){return(ya=(0,E.Z)(function*(p,l,d){var y;const M=yield d.verify();try{let j;if(tt("string"==typeof M,p,"argument-error"),tt(d.type===lu,p,"argument-error"),j="string"==typeof l?{phoneNumber:l}:l,"session"in j){const ae=j.session;if("phoneNumber"in j)return tt("enroll"===ae.type,p,"internal-error"),(yield Hu(p,{idToken:ae.credential,phoneEnrollmentInfo:{phoneNumber:j.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{tt("signin"===ae.type,p,"internal-error");const Le=(null===(y=j.multiFactorHint)||void 0===y?void 0:y.uid)||j.multiFactorUid;return tt(Le,p,"missing-multi-factor-info"),(yield Ki(p,{mfaPendingCredential:ae.credential,mfaEnrollmentId:Le,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ae}=yield q(p,{phoneNumber:j.phoneNumber,recaptchaToken:M});return ae}}finally{d._reset()}})).apply(this,arguments)}function Ga(){return(Ga=(0,E.Z)(function*(p,l){yield jo((0,W.m9)(p),l)})).apply(this,arguments)}let D=(()=>{class p{constructor(d){this.providerId=p.PROVIDER_ID,this.auth=Tn(d)}verifyPhoneNumber(d,y){return Ha(this.auth,d,(0,W.m9)(y))}static credential(d,y){return tn._fromVerification(d,y)}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:y,temporaryProof:M}=d;return y&&M?tn._fromTokenResponse(y,M):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function R(p,l){return l?Dn(l):(tt(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class G extends es{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return mi(l,this._buildIdpRequest())}_linkToIdToken(l,d){return mi(l,this._buildIdpRequest(d))}_getReauthenticationResolver(l){return mi(l,this._buildIdpRequest())}_buildIdpRequest(l){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(d.idToken=l),d}}function ee(p){return Ne(p.auth,new G(p),p.bypassAuthState)}function De(p){const{auth:l,user:d}=p;return tt(d,l,"internal-error"),J(d,new G(p),p.bypassAuthState)}function Ze(p){return dt.apply(this,arguments)}function dt(){return(dt=(0,E.Z)(function*(p){const{auth:l,user:d}=p;return tt(d,l,"internal-error"),jo(d,new G(p),p.bypassAuthState)})).apply(this,arguments)}class Ht{constructor(l,d,y,M,j=!1){this.auth=l,this.resolver=y,this.user=M,this.bypassAuthState=j,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var l=this;return new Promise(function(){var d=(0,E.Z)(function*(y,M){l.pendingPromise={resolve:y,reject:M};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(j){l.reject(j)}});return function(y,M){return d.apply(this,arguments)}}())}onAuthEvent(l){var d=this;return(0,E.Z)(function*(){const{urlResponse:y,sessionId:M,postBody:j,tenantId:ae,error:Le,type:mt}=l;if(Le)return void d.reject(Le);const lt={auth:d.auth,requestUri:y,sessionId:M,tenantId:ae||void 0,postBody:j||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(mt)(lt))}catch(Lt){d.reject(Lt)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return ee;case"linkViaPopup":case"linkViaRedirect":return Ze;case"reauthViaPopup":case"reauthViaRedirect":return De;default:un(this.auth,"internal-error")}}resolve(l){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ft=new en(2e3,1e4);function xr(){return(xr=(0,E.Z)(function*(p,l,d){const y=Tn(p);Gr(p,l,S);const M=R(y,d);return new co(y,"signInViaPopup",l,M).executeNotNull()})).apply(this,arguments)}function Ti(){return(Ti=(0,E.Z)(function*(p,l,d){const y=(0,W.m9)(p);Gr(y.auth,l,S);const M=R(y.auth,d);return new co(y.auth,"reauthViaPopup",l,M,y).executeNotNull()})).apply(this,arguments)}function _a(){return(_a=(0,E.Z)(function*(p,l,d){const y=(0,W.m9)(p);Gr(y.auth,l,S);const M=R(y.auth,d);return new co(y.auth,"linkViaPopup",l,M,y).executeNotNull()})).apply(this,arguments)}let co=(()=>{class p extends Ht{constructor(d,y,M,j,ae){super(d,y,j,ae),this.provider=M,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var d=this;return(0,E.Z)(function*(){const y=yield d.execute();return tt(y,d.auth,"internal-error"),y})()}onExecution(){var d=this;return(0,E.Z)(function*(){At(1===d.filter.length,"Popup operations only handle one event");const y=Gn();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],y),d.authWindow.associatedEvent=y,d.resolver._originValidation(d.auth).catch(M=>{d.reject(M)}),d.resolver._isIframeWebStorageSupported(d.auth,M=>{M||d.reject(Kn(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const d=()=>{var y,M;this.pollId=(null===(M=null===(y=this.authWindow)||void 0===y?void 0:y.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(d,Ft.get())};d()}}return p.currentPopupAction=null,p})();const zi=new Map;class Po extends Ht{constructor(l,d,y=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,y),this.eventId=null}execute(){var l=()=>super.execute,d=this;return(0,E.Z)(function*(){let y=zi.get(d.auth._key());if(!y){try{const j=(yield function Eo(p,l){return fu.apply(this,arguments)}(d.resolver,d.auth))?yield l().call(d):null;y=()=>Promise.resolve(j)}catch(M){y=()=>Promise.reject(M)}zi.set(d.auth._key(),y)}return d.bypassAuthState||zi.set(d.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(l){var d=()=>super.onAuthEvent,y=this;return(0,E.Z)(function*(){if("signInViaRedirect"===l.type)return d().call(y,l);if("unknown"!==l.type){if(l.eventId){const M=yield y.auth._redirectUserForId(l.eventId);if(M)return y.user=M,d().call(y,l);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,E.Z)(function*(){})()}cleanUp(){}}function fu(){return(fu=(0,E.Z)(function*(p,l){const d=pu(l),y=Wa(p);if(!(yield y._isAvailable()))return!1;const M="true"===(yield y._get(d));return yield y._remove(d),M})).apply(this,arguments)}function Gu(p,l){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,E.Z)(function*(p,l){return Wa(p)._set(pu(l),"true")})).apply(this,arguments)}function Wa(p){return Dn(p._redirectPersistence)}function pu(p){return wn("pendingRedirect",p.config.apiKey,p.name)}function gu(){return(gu=(0,E.Z)(function*(p,l,d){const y=Tn(p);Gr(p,l,S);const M=R(y,d);return yield Gu(M,y),M._openRedirect(y,l,"signInViaRedirect")})).apply(this,arguments)}function mu(){return(mu=(0,E.Z)(function*(p,l,d){const y=(0,W.m9)(p);Gr(y.auth,l,S);const M=R(y.auth,d);yield Gu(M,y.auth);const j=yield bc(y);return M._openRedirect(y.auth,l,"reauthViaRedirect",j)})).apply(this,arguments)}function zu(){return(zu=(0,E.Z)(function*(p,l,d){const y=(0,W.m9)(p);Gr(y.auth,l,S);const M=R(y.auth,d);yield P(!1,y,l.providerId),yield Gu(M,y.auth);const j=yield bc(y);return M._openRedirect(y.auth,l,"linkViaRedirect",j)})).apply(this,arguments)}function sl(){return(sl=(0,E.Z)(function*(p,l){return yield Tn(p)._initializationPromise,_u(p,l,!1)})).apply(this,arguments)}function _u(p,l){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,E.Z)(function*(p,l,d=!1){const y=Tn(p),M=R(y,l),ae=yield new Po(y,M,d).execute();return ae&&!d&&(delete ae.user._redirectEventId,yield y._persistUserIfCurrent(ae.user),yield y._setRedirectUser(null,l)),ae})).apply(this,arguments)}function bc(p){return qu.apply(this,arguments)}function qu(){return(qu=(0,E.Z)(function*(p){const l=Gn(`${p.uid}:::`);return p._redirectEventId=l,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),l})).apply(this,arguments)}class va{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let d=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(l,y)&&(d=!0,this.sendToConsumer(l,y),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function Xd(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wa(p);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=l,d=!0)),d}sendToConsumer(l,d){var y;if(l.error&&!wa(l)){const M=(null===(y=l.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";d.onError(Kn(this.auth,M))}else d.onAuthEvent(l)}isEventForConsumer(l,d){const y=null===d.eventId||!!l.eventId&&l.eventId===d.eventId;return d.filter.includes(l.type)&&y}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ol(l))}saveEventToCache(l){this.cachedEventUids.add(ol(l)),this.lastProcessedEventTime=Date.now()}}function ol(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(l=>l).join("-")}function wa({type:p,error:l}){return"unknown"===p&&"auth/no-auth-event"===(null==l?void 0:l.code)}function wu(p){return al.apply(this,arguments)}function al(){return(al=(0,E.Z)(function*(p,l={}){return vn(p,"GET","/v1/projects",l)})).apply(this,arguments)}const eh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dc=/^https?/;function Eu(){return(Eu=(0,E.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:l}=yield wu(p);for(const d of l)try{if(Yi(d))return}catch(y){}un(p,"unauthorized-domain")})).apply(this,arguments)}function Yi(p){const l=qt(),{protocol:d,hostname:y}=new URL(l);if(p.startsWith("chrome-extension://")){const ae=new URL(p);return""===ae.hostname&&""===y?"chrome-extension:"===d&&p.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===d&&ae.hostname===y}if(!Dc.test(d))return!1;if(eh.test(p))return y===p;const M=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(y)}const od=new en(3e4,6e4);function ul(){const p=Jr().___jsl;if(null==p?void 0:p.H)for(const l of Object.keys(p.H))if(p.H[l].r=p.H[l].r||[],p.H[l].L=p.H[l].L||[],p.H[l].r=[...p.H[l].L],p.CP)for(let d=0;d<p.CP.length;d++)p.CP[d]=null}let Tc=null;function Rg(p){return Tc=Tc||function Sg(p){return new Promise((l,d)=>{var y,M,j;function ae(){ul(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{ul(),d(Kn(p,"network-request-failed"))},timeout:od.get()})}if(null===(M=null===(y=Jr().gapi)||void 0===y?void 0:y.iframes)||void 0===M?void 0:M.Iframe)l(gapi.iframes.getContext());else{if(!(null===(j=Jr().gapi)||void 0===j?void 0:j.load)){const Le=Qo("iframefcb");return Jr()[Le]=()=>{gapi.load?ae():d(Kn(p,"network-request-failed"))},ga(`https://apis.google.com/js/api.js?onload=${Le}`).catch(mt=>d(mt))}ae()}}).catch(l=>{throw Tc=null,l})}(p),Tc}const ad=new en(5e3,15e3),Ka={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function If(p){const l=p.config;tt(l.authDomain,p,"auth-domain-config-required");const d=l.emulator?Dt(l,"emulator/auth/iframe"):`https://${p.config.authDomain}/__/auth/iframe`,y={apiKey:l.apiKey,appName:p.name,v:be.SDK_VERSION},M=nh.get(p.config.apiHost);M&&(y.eid=M);const j=p._getFrameworks();return j.length&&(y.fw=j.join(",")),`${d}?${(0,W.xO)(y).slice(1)}`}function ea(){return ea=(0,E.Z)(function*(p){const l=yield Rg(p),d=Jr().gapi;return tt(d,p,"internal-error"),l.open({where:document.body,url:If(p),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ka,dontclear:!0},y=>new Promise(function(){var M=(0,E.Z)(function*(j,ae){yield y.restyle({setHideOnLeave:!1});const Le=Kn(p,"network-request-failed"),mt=Jr().setTimeout(()=>{ae(Le)},ad.get());function lt(){Jr().clearTimeout(mt),j(y)}y.ping(lt).then(lt,()=>{ae(Le)})});return function(j,ae){return M.apply(this,arguments)}}()))}),ea.apply(this,arguments)}const cl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ll{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(l){}}}function Wu(p,l,d,y,M,j){tt(p.config.authDomain,p,"auth-domain-config-required"),tt(p.config.apiKey,p,"invalid-api-key");const ae={apiKey:p.config.apiKey,appName:p.name,authType:d,redirectUrl:y,v:be.SDK_VERSION,eventId:M};if(l instanceof S){l.setDefaultLanguage(p.languageCode),ae.providerId=l.providerId||"",(0,W.xb)(l.getCustomParameters())||(ae.customParameters=JSON.stringify(l.getCustomParameters()));for(const[mt,lt]of Object.entries(j||{}))ae[mt]=lt}if(l instanceof z){const mt=l.getScopes().filter(lt=>""!==lt);mt.length>0&&(ae.scopes=mt.join(","))}p.tenantId&&(ae.tid=p.tenantId);const Le=ae;for(const mt of Object.keys(Le))void 0===Le[mt]&&delete Le[mt];return`${function ld({config:p}){return p.emulator?Dt(p,"emulator/auth/handler"):`https://${p.authDomain}/__/auth/handler`}(p)}?${(0,W.xO)(Le).slice(1)}`}const lo="webStorageSupport";class dl extends class bf{constructor(l){this.factorId=l}_process(l,d,y){switch(d.type){case"enroll":return this._finalizeEnroll(l,d.credential,y);case"signin":return this._finalizeSignIn(l,d.credential);default:return xn("unexpected MultiFactorSessionType")}}}{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new dl(l)}_finalizeEnroll(l,d,y){return function ui(p,l){return vn(p,"POST","/v2/accounts/mfaEnrollment:finalize",Mt(p,l))}(l,{idToken:d,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,d){return function nd(p,l){return vn(p,"POST","/v2/accounts/mfaSignIn:finalize",Mt(p,l))}(l,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Df=(()=>{class p{constructor(){}static assertion(d){return dl._fromCredential(d)}}return p.FACTOR_ID="phone",p})();var Pr="@firebase/auth";class Iu{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var d=this;return(0,E.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const d=this.auth.onIdTokenChanged(y=>{var M;l((null===(M=y)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(l,d),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const d=this.internalListeners.get(l);!d||(this.internalListeners.delete(l),d(),this.updateProactiveRefresh())}assertAuthConfigured(){tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ei(){return window}function Rc(){return(Rc=(0,E.Z)(function*(p,l,d){var y;const{BuildInfo:M}=ei();At(l.sessionId,"AuthEvent did not contain a session ID");const j=yield Af(l.sessionId),ae={};return Kr()?ae.ibi=M.packageName:br()?ae.apn=M.packageName:un(p,"operation-not-supported-in-this-environment"),M.displayName&&(ae.appDisplayName=M.displayName),ae.sessionId=j,Wu(p,d,l.type,void 0,null!==(y=l.eventId)&&void 0!==y?y:void 0,ae)})).apply(this,arguments)}function hl(){return(hl=(0,E.Z)(function*(p){const{BuildInfo:l}=ei(),d={};Kr()?d.iosBundleId=l.packageName:br()?d.androidPackageName=l.packageName:un(p,"operation-not-supported-in-this-environment"),yield wu(p,d)})).apply(this,arguments)}function pd(){return(pd=(0,E.Z)(function*(p,l,d){const{cordova:y}=ei();let M=()=>{};try{yield new Promise((j,ae)=>{let Le=null;function mt(){var Gt;j();const Fn=null===(Gt=y.plugins.browsertab)||void 0===Gt?void 0:Gt.close;"function"==typeof Fn&&Fn(),"function"==typeof(null==d?void 0:d.close)&&d.close()}function lt(){Le||(Le=window.setTimeout(()=>{ae(Kn(p,"redirect-cancelled-by-user"))},2e3))}function Lt(){"visible"===(null==document?void 0:document.visibilityState)&&lt()}l.addPassiveListener(mt),document.addEventListener("resume",lt,!1),br()&&document.addEventListener("visibilitychange",Lt,!1),M=()=>{l.removePassiveListener(mt),document.removeEventListener("resume",lt,!1),document.removeEventListener("visibilitychange",Lt,!1),Le&&window.clearTimeout(Le)}})}finally{M()}})).apply(this,arguments)}function Af(p){return oh.apply(this,arguments)}function oh(){return(oh=(0,E.Z)(function*(p){const l=Ni(p),d=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(d)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ni(p){if(At(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(p);const l=new ArrayBuffer(p.length),d=new Uint8Array(l);for(let y=0;y<p.length;y++)d[y]=p.charCodeAt(y);return d}!function bu(p){(0,be._registerComponent)(new Be.wA("auth",(l,{options:d})=>{const y=l.getProvider("app").getImmediate(),{apiKey:M,authDomain:j}=y.options;return(ae=>{tt(M&&!M.includes(":"),"invalid-api-key",{appName:ae.name}),tt(!(null==j?void 0:j.includes(":")),"argument-error",{appName:ae.name});const Le={apiKey:M,authDomain:j,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ii(p)},mt=new Os(ae,Le);return function Ri(p,l){const d=(null==l?void 0:l.persistence)||[],y=(Array.isArray(d)?d:[d]).map(Dn);(null==l?void 0:l.errorMap)&&p._updateErrorMap(l.errorMap),p._initializeWithPersistence(y,null==l?void 0:l.popupRedirectResolver)}(mt,d),mt})(y)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,d,y)=>{l.getProvider("auth-internal").initialize()})),(0,be._registerComponent)(new Be.wA("auth-internal",l=>{const d=Tn(l.getProvider("auth").getImmediate());return new Iu(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,be.registerVersion)(Pr,"0.19.7",function Sc(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,be.registerVersion)(Pr,"0.19.7","esm2017")}("Browser");class fl extends va{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(l)),super.onEvent(l)}initialized(){var l=this;return(0,E.Z)(function*(){yield l.initPromise})()}}function as(p){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,E.Z)(function*(p){const l=yield pl()._get(Mc(p));return l&&(yield pl()._remove(Mc(p))),l})).apply(this,arguments)}function ah(){const p=[],l="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let d=0;d<20;d++){const y=Math.floor(Math.random()*l.length);p.push(l.charAt(y))}return p.join("")}function pl(){return Dn(le)}function Mc(p){return wn("authEvent",p.config.apiKey,p.name)}function Tu(p){if(!(null==p?void 0:p.includes("?")))return{};const[l,...d]=p.split("?");return(0,W.zd)(d.join("?"))}function Pc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Kn("no-auth-event")}}function Oc(){var p;return(null===(p=null==self?void 0:self.location)||void 0===p?void 0:p.protocol)||null}function hh(p=(0,W.z$)()){return!("file:"!==Oc()&&"ionic:"!==Oc()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function md(){try{const p=self.localStorage,l=Gn();if(p)return p.setItem(l,"1"),p.removeItem(l),!function Pf(p=(0,W.z$)()){return function Yu(){return(0,W.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Mf(p=(0,W.z$)()){return/Edge\/\d+/.test(p)}(p)}()||(0,W.hl)()}catch(p){return ml()&&(0,W.hl)()}return!1}function ml(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ho(){return(function kc(){return"http:"===Oc()||"https:"===Oc()}()||(0,W.ru)()||hh())&&!function Ku(){return(0,W.b$)()||(0,W.UG)()}()&&md()&&!ml()}function fh(){return hh()&&"undefined"!=typeof document}function Io(){return(Io=(0,E.Z)(function*(){return!!fh()&&new Promise(p=>{const l=setTimeout(()=>{p(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),p(!0)})})})).apply(this,arguments)}const ci={LOCAL:"local",NONE:"none",SESSION:"session"},bo=tt,Rr="persistence";function gh(p){return mh.apply(this,arguments)}function mh(){return(mh=(0,E.Z)(function*(p){yield p._initializationPromise;const l=na(),d=wn(Rr,p.config.apiKey,p.name);l&&l.setItem(d,p._getPersistence())})).apply(this,arguments)}function na(){var p;try{return(null===(p=function Of(){return"undefined"!=typeof window?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch(l){return null}}const Ai=tt;class ri{constructor(){this.browserResolver=Dn(class xg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=de,this._completeRedirectFn=_u}_openPopup(l,d,y,M){var j=this;return(0,E.Z)(function*(){var ae;At(null===(ae=j.eventManagers[l._key()])||void 0===ae?void 0:ae.manager,"_initialize() not called before _openPopup()");const Le=Wu(l,d,y,qt(),M);return function _s(p,l,d,y=500,M=600){const j=Math.max((window.screen.availHeight-M)/2,0).toString(),ae=Math.max((window.screen.availWidth-y)/2,0).toString();let Le="";const mt=Object.assign(Object.assign({},cl),{width:y.toString(),height:M.toString(),top:j,left:ae}),lt=(0,W.z$)().toLowerCase();d&&(Le=fi(lt)?"_blank":d),sn(lt)&&(l=l||"http://localhost",mt.scrollbars="yes");const Lt=Object.entries(mt).reduce((Fn,[us,fo])=>`${Fn}${us}=${fo},`,"");if(function Cn(p=(0,W.z$)()){var l;return Kr(p)&&!!(null===(l=window.navigator)||void 0===l?void 0:l.standalone)}(lt)&&"_self"!==Le)return function cd(p,l){const d=document.createElement("a");d.href=p,d.target=l;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(y)}(l||"",Le),new ll(null);const Gt=window.open(l||"",Le,Lt);tt(Gt,p,"popup-blocked");try{Gt.focus()}catch(Fn){}return new ll(Gt)}(l,Le,Gn())})()}_openRedirect(l,d,y,M){var j=this;return(0,E.Z)(function*(){return yield j._originValidation(l),function As(p){Jr().location.href=p}(Wu(l,d,y,qt(),M)),new Promise(()=>{})})()}_initialize(l){const d=l._key();if(this.eventManagers[d]){const{manager:M,promise:j}=this.eventManagers[d];return M?Promise.resolve(M):(At(j,"If manager is not set, promise should be"),j)}const y=this.initAndGetManager(l);return this.eventManagers[d]={promise:y},y.catch(()=>{delete this.eventManagers[d]}),y}initAndGetManager(l){var d=this;return(0,E.Z)(function*(){const y=yield function rh(p){return ea.apply(this,arguments)}(l),M=new va(l);return y.register("authEvent",j=>(tt(null==j?void 0:j.authEvent,l,"invalid-auth-event"),{status:M.onEvent(j.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[l._key()]={manager:M},d.iframes[l._key()]=y,M})()}_isIframeWebStorageSupported(l,d){this.iframes[l._key()].send(lo,{type:lo},M=>{var j;const ae=null===(j=null==M?void 0:M[0])||void 0===j?void 0:j[lo];void 0!==ae&&d(!!ae),un(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Za(p){return Eu.apply(this,arguments)}(l)),this.originValidationPromises[d]}get _shouldInitProactively(){return si()||kr()||Kr()}}),this.cordovaResolver=Dn(class Rf{constructor(){this._redirectPersistence=de,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_u}_initialize(l){var d=this;return(0,E.Z)(function*(){const y=l._key();let M=d.eventManagers.get(y);return M||(M=new fl(l),d.eventManagers.set(y,M),d.attachCallbackListeners(l,M)),M})()}_openPopup(l){un(l,"operation-not-supported-in-this-environment")}_openRedirect(l,d,y,M){var j=this;return(0,E.Z)(function*(){!function xc(p){var l,d,y,M,j,ae,Le,mt,lt,Lt;const Gt=ei();tt("function"==typeof(null===(l=null==Gt?void 0:Gt.universalLinks)||void 0===l?void 0:l.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),tt(void 0!==(null===(d=null==Gt?void 0:Gt.BuildInfo)||void 0===d?void 0:d.packageName),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),tt("function"==typeof(null===(j=null===(M=null===(y=null==Gt?void 0:Gt.cordova)||void 0===y?void 0:y.plugins)||void 0===M?void 0:M.browsertab)||void 0===j?void 0:j.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),tt("function"==typeof(null===(mt=null===(Le=null===(ae=null==Gt?void 0:Gt.cordova)||void 0===ae?void 0:ae.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===mt?void 0:mt.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),tt("function"==typeof(null===(Lt=null===(lt=null==Gt?void 0:Gt.cordova)||void 0===lt?void 0:lt.InAppBrowser)||void 0===Lt?void 0:Lt.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const ae=yield j._initialize(l);yield ae.initialized(),ae.resetRedirect(),function qa(){zi.clear()}(),yield j._originValidation(l);const Le=function Zu(p,l,d=null){return{type:l,eventId:d,urlResponse:null,sessionId:ah(),postBody:null,tenantId:p.tenantId,error:Kn(p,"no-auth-event")}}(l,y,M);yield function ko(p,l){return pl()._set(Mc(p),l)}(l,Le);const mt=yield function sh(p,l,d){return Rc.apply(this,arguments)}(l,Le,d),lt=yield function Tf(p){const{cordova:l}=ei();return new Promise(d=>{l.plugins.browsertab.isAvailable(y=>{let M=null;y?l.plugins.browsertab.openUrl(p):M=l.InAppBrowser.open(p,function Nn(p=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}()?"_blank":"_system","location=yes"),d(M)})})}(mt);return function Cf(p,l,d){return pd.apply(this,arguments)}(l,ae,lt)})()}_isIframeWebStorageSupported(l,d){throw new Error("Method not implemented.")}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function fd(p){return hl.apply(this,arguments)}(l)),this.originValidationPromises[d]}attachCallbackListeners(l,d){const{universalLinks:y,handleOpenURL:M,BuildInfo:j}=ei(),ae=setTimeout((0,E.Z)(function*(){yield as(l),d.onEvent(Pc())}),500),Le=function(){var Lt=(0,E.Z)(function*(Gt){clearTimeout(ae);const Fn=yield as(l);let us=null;Fn&&(null==Gt?void 0:Gt.url)&&(us=function Du(p,l){var d,y;const M=function uh(p){const l=Tu(p),d=l.link?decodeURIComponent(l.link):void 0,y=Tu(d).link,M=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return Tu(M).link||M||y||d||p}(l);if(M.includes("/__/auth/callback")){const j=Tu(M),ae=j.firebaseError?function Sf(p){try{return JSON.parse(p)}catch(l){return null}}(decodeURIComponent(j.firebaseError)):null,Le=null===(y=null===(d=null==ae?void 0:ae.code)||void 0===d?void 0:d.split("auth/"))||void 0===y?void 0:y[1],mt=Le?Kn(Le):null;return mt?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:mt,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:M,postBody:null}}return null}(Fn,Gt.url)),d.onEvent(us||Pc())});return function(Fn){return Lt.apply(this,arguments)}}();void 0!==y&&"function"==typeof y.subscribe&&y.subscribe(null,Le);const mt=M,lt=`${j.packageName.toLowerCase()}://`;ei().handleOpenURL=function(){var Lt=(0,E.Z)(function*(Gt){if(Gt.toLowerCase().startsWith(lt)&&Le({url:Gt}),"function"==typeof mt)try{mt(Gt)}catch(Fn){console.error(Fn)}});return function(Gt){return Lt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=de,this._completeRedirectFn=_u}_initialize(l){var d=this;return(0,E.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,d,y,M){var j=this;return(0,E.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._openPopup(l,d,y,M)})()}_openRedirect(l,d,y,M){var j=this;return(0,E.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._openRedirect(l,d,y,M)})()}_isIframeWebStorageSupported(l,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,d)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return fh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ai(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,E.Z)(function*(){if(l.underlyingResolver)return;const d=yield function ph(){return Io.apply(this,arguments)}();l.underlyingResolver=d?l.cordovaResolver:l.browserResolver})()}}function js(p){return p.unwrap()}function ra(p){return Qa(p)}function Qa(p){const{_tokenResponse:l}=p instanceof W.ZR?p.customData:p;if(!l)return null;if(!(p instanceof W.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return D.credentialFromResult(p);const d=l.providerId;if(!d||"password"===d)return null;let y;switch(d){case"google.com":y=qe;break;case"facebook.com":y=je;break;case"github.com":y=wt;break;case"twitter.com":y=Fr;break;default:const{oauthIdToken:M,oauthAccessToken:j,oauthTokenSecret:ae,pendingToken:Le,nonce:mt}=l;return j||ae||M||Le?Le?d.startsWith("saml.")?Bn._create(d,Le):oi._fromParams({providerId:d,signInMethod:d,pendingToken:Le,idToken:M,accessToken:j}):new se(d).credential({idToken:M,accessToken:j,rawNonce:mt}):null}return p instanceof W.ZR?y.credentialFromError(p):y.credentialFromResult(p)}function Zs(p,l){return l.catch(d=>{throw d instanceof W.ZR&&function ia(p,l){var d;const y=null===(d=l.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===l.code)l.resolver=new ut(p,function da(p,l){var d;const y=(0,W.m9)(p),M=l;return tt(l.customData.operationType,y,"argument-error"),tt(null===(d=M.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,y,"argument-error"),_o._fromError(y,M)}(p,l));else if(y){const M=Qa(l),j=l;M&&(j.credential=M,j.tenantId=y.tenantId||void 0,j.email=y.email||void 0,j.phoneNumber=y.phoneNumber||void 0)}}(p,d),d}).then(d=>{const M=d.user;return{operationType:d.operationType,credential:ra(d),additionalUserInfo:Oi(d),user:No.getOrCreate(M)}})}function Qu(p,l){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,E.Z)(function*(p,l){const d=yield l;return{verificationId:d.verificationId,confirm:y=>Zs(p,d.confirm(y))}})).apply(this,arguments)}class ut{constructor(l,d){this.resolver=d,this.auth=function Cu(p){return p.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return Zs(js(this.auth),this.resolver.resolveSignIn(l))}}class No{constructor(l){this._delegate=l,this.multiFactor=function I(p){const l=(0,W.m9)(p);return uo.has(l)||uo.set(l,Fs._fromUser(l)),uo.get(l)}(l)}static getOrCreate(l){return No.USER_MAP.has(l)||No.USER_MAP.set(l,new No(l)),No.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var d=this;return(0,E.Z)(function*(){return Zs(d.auth,on(d._delegate,l))})()}linkWithPhoneNumber(l,d){var y=this;return(0,E.Z)(function*(){return Qu(y.auth,function Rs(p,l,d){return Bs.apply(this,arguments)}(y._delegate,l,d))})()}linkWithPopup(l){var d=this;return(0,E.Z)(function*(){return Zs(d.auth,function Mr(p,l,d){return _a.apply(this,arguments)}(d._delegate,l,ri))})()}linkWithRedirect(l){var d=this;return(0,E.Z)(function*(){return yield gh(Tn(d.auth)),function Qd(p,l,d){return function il(p,l,d){return zu.apply(this,arguments)}(p,l,d)}(d._delegate,l,ri)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var d=this;return(0,E.Z)(function*(){return Zs(d.auth,Xn(d._delegate,l))})()}reauthenticateWithPhoneNumber(l,d){return Qu(this.auth,function jr(p,l,d){return hu.apply(this,arguments)}(this._delegate,l,d))}reauthenticateWithPopup(l){return Zs(this.auth,function os(p,l,d){return Ti.apply(this,arguments)}(this._delegate,l,ri))}reauthenticateWithRedirect(l){var d=this;return(0,E.Z)(function*(){return yield gh(Tn(d.auth)),function Ef(p,l,d){return function sd(p,l,d){return mu.apply(this,arguments)}(p,l,d)}(d._delegate,l,ri)})()}sendEmailVerification(l){return function zo(p,l){return Xs.apply(this,arguments)}(this._delegate,l)}unlink(l){var d=this;return(0,E.Z)(function*(){return yield function it(p,l){return hn.apply(this,arguments)}(d._delegate,l),d})()}updateEmail(l){return function qo(p,l){return yo((0,W.m9)(p),l,null)}(this._delegate,l)}updatePassword(l){return function oo(p,l){return yo((0,W.m9)(p),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function rd(p,l){return Ga.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function ms(p,l){return Tr.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,d){return function ua(p,l,d){return so.apply(this,arguments)}(this._delegate,l,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}No.USER_MAP=new WeakMap;const Qi=tt;let yl=(()=>{class p{constructor(d,y){if(this.app=d,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=d.options;Qi(M,"invalid-api-key",{appName:d.name}),Qi(M,"invalid-api-key",{appName:d.name});const j="undefined"!=typeof window?ri:void 0;this._delegate=y.initialize({options:{persistence:Su(M,d.name),popupRedirectResolver:j}}),this._delegate._updateErrorMap(Rn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?No.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,y){!function gi(p,l,d){const y=Tn(p);tt(y._canInitEmulator,y,"emulator-config-failed"),tt(/^https?:\/\//.test(l),y,"invalid-emulator-scheme");const M=!!(null==d?void 0:d.disableWarnings),j=Bi(l),{host:ae,port:Le}=function Is(p){const l=Bi(p),d=/(\/\/)?([^?#/]+)/.exec(p.substr(l.length));if(!d)return{host:"",port:null};const y=d[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(y);if(M){const j=M[1];return{host:j,port:Ys(y.substr(j.length+1))}}{const[j,ae]=y.split(":");return{host:j,port:Ys(ae)}}}(l);y.config.emulator={url:`${j}//${ae}${null===Le?"":`:${Le}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:ae,port:Le,protocol:j.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function dr(){function p(){const l=document.createElement("p"),d=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}(this._delegate,d,y)}applyActionCode(d){return function zs(p,l){return qs.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return Ma(this._delegate,d)}confirmPasswordReset(d,y){return function gs(p,l,d){return $o.apply(this,arguments)}(this._delegate,d,y)}createUserWithEmailAndPassword(d,y){var M=this;return(0,E.Z)(function*(){return Zs(M._delegate,function Co(p,l,d){return Oa.apply(this,arguments)}(M._delegate,d,y))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function ka(p,l){return Na.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function Vr(p,l){const d=an.parseLink(l);return"EMAIL_SIGNIN"===(null==d?void 0:d.operation)}(0,d)}getRedirectResult(){var d=this;return(0,E.Z)(function*(){Qi(ho(),d._delegate,"operation-not-supported-in-this-environment");const y=yield function yu(p,l){return sl.apply(this,arguments)}(d._delegate,ri);return y?Zs(d._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function lh(p,l){Tn(p)._logFramework(l)}(this._delegate,d)}onAuthStateChanged(d,y,M){const{next:j,error:ae,complete:Le}=Au(d,y,M);return this._delegate.onAuthStateChanged(j,ae,Le)}onIdTokenChanged(d,y,M){const{next:j,error:ae,complete:Le}=Au(d,y,M);return this._delegate.onIdTokenChanged(j,ae,Le)}sendSignInLinkToEmail(d,y){return function Di(p,l,d){return Ls.apply(this,arguments)}(this._delegate,d,y)}sendPasswordResetEmail(d,y){return function Qr(p,l,d){return ar.apply(this,arguments)}(this._delegate,d,y||void 0)}setPersistence(d){var y=this;return(0,E.Z)(function*(){let M;switch(function li(p,l){bo(Object.values(ci).includes(l),p,"invalid-persistence-type"),(0,W.b$)()?bo(l!==ci.SESSION,p,"unsupported-persistence-type"):(0,W.UG)()?bo(l===ci.NONE,p,"unsupported-persistence-type"):ml()?bo(l===ci.NONE||l===ci.LOCAL&&(0,W.hl)(),p,"unsupported-persistence-type"):bo(l===ci.NONE||md(),p,"unsupported-persistence-type")}(y._delegate,d),d){case ci.SESSION:M=de;break;case ci.LOCAL:M=(yield Dn(vo)._isAvailable())?vo:le;break;case ci.NONE:M=Zr;break;default:return un("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return Zs(this._delegate,function Js(p){return ji.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return Zs(this._delegate,Nt(this._delegate,d))}signInWithCustomToken(d){return Zs(this._delegate,function Pi(p,l){return hr.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,y){return Zs(this._delegate,function io(p,l,d){return Nt((0,W.m9)(p),$.credential(l,d))}(this._delegate,d,y))}signInWithEmailLink(d,y){return Zs(this._delegate,function Ao(p,l,d){return Go.apply(this,arguments)}(this._delegate,d,y))}signInWithPhoneNumber(d,y){return Qu(this._delegate,function $a(p,l,d){return ys.apply(this,arguments)}(this._delegate,d,y))}signInWithPopup(d){var y=this;return(0,E.Z)(function*(){return Qi(ho(),y._delegate,"operation-not-supported-in-this-environment"),Zs(y._delegate,function fr(p,l,d){return xr.apply(this,arguments)}(y._delegate,d,ri))})()}signInWithRedirect(d){var y=this;return(0,E.Z)(function*(){return Qi(ho(),y._delegate,"operation-not-supported-in-this-environment"),yield gh(y._delegate),function Oo(p,l,d){return function id(p,l,d){return gu.apply(this,arguments)}(p,l,d)}(y._delegate,d,ri)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function Pa(p,l){return Ho.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=ci,p})();function Au(p,l,d){let y=p;"function"!=typeof p&&({next:y,error:l,complete:d}=p);const M=y;return{next:ae=>M(ae&&No.getOrCreate(ae)),error:l,complete:d}}function Su(p,l){const d=function Ci(p,l){const d=na();if(!d)return[];const y=wn(Rr,p,l);switch(d.getItem(y)){case ci.NONE:return[Zr];case ci.LOCAL:return[vo,de];case ci.SESSION:return[de];default:return[]}}(p,l);if("undefined"!=typeof self&&!d.includes(vo)&&d.push(vo),"undefined"!=typeof window)for(const y of[le,de])d.includes(y)||d.push(y);return d.includes(Zr)||d.push(Zr),d}class Nc{constructor(){this.providerId="phone",this._delegate=new D(js(x.Z.auth()))}static credential(l,d){return D.credential(l,d)}verifyPhoneNumber(l,d){return this._delegate.verifyPhoneNumber(l,d)}unwrap(){return this._delegate}}Nc.PHONE_SIGN_IN_METHOD=D.PHONE_SIGN_IN_METHOD,Nc.PROVIDER_ID=D.PROVIDER_ID;const Ru=tt;class yh{constructor(l,d,y=x.Z.app()){var M;Ru(null===(M=y.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new Xo(l,d,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function _h(p){p.INTERNAL.registerComponent(new Be.wA("auth-compat",l=>{const d=l.getProvider("app-compat").getImmediate(),y=l.getProvider("auth");return new yl(d,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:$,FacebookAuthProvider:je,GithubAuthProvider:wt,GoogleAuthProvider:qe,OAuthProvider:se,SAMLAuthProvider:nn,PhoneAuthProvider:Nc,PhoneMultiFactorGenerator:Df,RecaptchaVerifier:yh,TwitterAuthProvider:Fr,Auth:yl,AuthCredential:es,Error:W.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.2.7")}(x.Z)},2940:function(Ct,Ve){!function(U){"use strict";function E(we){return Array.prototype.slice.call(we)}function x(we){return new Promise(function(Pe,ze){we.onsuccess=function(){Pe(we.result)},we.onerror=function(){ze(we.error)}})}function W(we,Pe,ze){var Xe,te=new Promise(function(Fe,Ye){x(Xe=we[Pe].apply(we,ze)).then(Fe,Ye)});return te.request=Xe,te}function be(we,Pe,ze){var Xe=W(we,Pe,ze);return Xe.then(function(te){if(te)return new oe(te,Xe.request)})}function ve(we,Pe,ze){ze.forEach(function(Xe){Object.defineProperty(we.prototype,Xe,{get:function(){return this[Pe][Xe]},set:function(te){this[Pe][Xe]=te}})})}function Ie(we,Pe,ze,Xe){Xe.forEach(function(te){te in ze.prototype&&(we.prototype[te]=function(){return W(this[Pe],te,arguments)})})}function Re(we,Pe,ze,Xe){Xe.forEach(function(te){te in ze.prototype&&(we.prototype[te]=function(){return this[Pe][te].apply(this[Pe],arguments)})})}function Ae(we,Pe,ze,Xe){Xe.forEach(function(te){te in ze.prototype&&(we.prototype[te]=function(){return be(this[Pe],te,arguments)})})}function xe(we){this._index=we}function oe(we,Pe){this._cursor=we,this._request=Pe}function X(we){this._store=we}function Ce(we){this._tx=we,this.complete=new Promise(function(Pe,ze){we.oncomplete=function(){Pe()},we.onerror=function(){ze(we.error)},we.onabort=function(){ze(we.error)}})}function ht(we,Pe,ze){this._db=we,this.oldVersion=Pe,this.transaction=new Ce(ze)}function Ge(we){this._db=we}ve(xe,"_index",["name","keyPath","multiEntry","unique"]),Ie(xe,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Ae(xe,"_index",IDBIndex,["openCursor","openKeyCursor"]),ve(oe,"_cursor",["direction","key","primaryKey","value"]),Ie(oe,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(we){we in IDBCursor.prototype&&(oe.prototype[we]=function(){var Pe=this,ze=arguments;return Promise.resolve().then(function(){return Pe._cursor[we].apply(Pe._cursor,ze),x(Pe._request).then(function(Xe){if(Xe)return new oe(Xe,Pe._request)})})})}),X.prototype.createIndex=function(){return new xe(this._store.createIndex.apply(this._store,arguments))},X.prototype.index=function(){return new xe(this._store.index.apply(this._store,arguments))},ve(X,"_store",["name","keyPath","indexNames","autoIncrement"]),Ie(X,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Ae(X,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Re(X,"_store",IDBObjectStore,["deleteIndex"]),Ce.prototype.objectStore=function(){return new X(this._tx.objectStore.apply(this._tx,arguments))},ve(Ce,"_tx",["objectStoreNames","mode"]),Re(Ce,"_tx",IDBTransaction,["abort"]),ht.prototype.createObjectStore=function(){return new X(this._db.createObjectStore.apply(this._db,arguments))},ve(ht,"_db",["name","version","objectStoreNames"]),Re(ht,"_db",IDBDatabase,["deleteObjectStore","close"]),Ge.prototype.transaction=function(){return new Ce(this._db.transaction.apply(this._db,arguments))},ve(Ge,"_db",["name","version","objectStoreNames"]),Re(Ge,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(we){[X,xe].forEach(function(Pe){we in Pe.prototype&&(Pe.prototype[we.replace("open","iterate")]=function(){var ze=E(arguments),Xe=ze[ze.length-1],te=this._store||this._index,Fe=te[we].apply(te,ze.slice(0,-1));Fe.onsuccess=function(){Xe(Fe.result)}})})}),[xe,X].forEach(function(we){we.prototype.getAll||(we.prototype.getAll=function(Pe,ze){var Xe=this,te=[];return new Promise(function(Fe){Xe.iterateCursor(Pe,function(Ye){Ye?(te.push(Ye.value),void 0===ze||te.length!=ze?Ye.continue():Fe(te)):Fe(te)})})})}),U.openDb=function Je(we,Pe,ze){var Xe=W(indexedDB,"open",[we,Pe]),te=Xe.request;return te&&(te.onupgradeneeded=function(Fe){ze&&ze(new ht(te.result,Fe.oldVersion,te.transaction))}),Xe.then(function(Fe){return new Ge(Fe)})},U.deleteDb=function rt(we){return W(indexedDB,"deleteDatabase",[we])},Object.defineProperty(U,"__esModule",{value:!0})}(Ve)},8306:(Ct,Ve,U)=>{"use strict";U.d(Ve,{y:()=>oe});var E=U(2961),x=U(727),W=U(8822),be=U(4671);var Re=U(2416),Ae=U(576),xe=U(2806);let oe=(()=>{class Ge{constructor(rt){rt&&(this._subscribe=rt)}lift(rt){const we=new Ge;return we.source=this,we.operator=rt,we}subscribe(rt,we,Pe){const ze=function ht(Ge){return Ge&&Ge instanceof E.Lv||function Ce(Ge){return Ge&&(0,Ae.m)(Ge.next)&&(0,Ae.m)(Ge.error)&&(0,Ae.m)(Ge.complete)}(Ge)&&(0,x.Nn)(Ge)}(rt)?rt:new E.Hp(rt,we,Pe);return(0,xe.x)(()=>{const{operator:Xe,source:te}=this;ze.add(Xe?Xe.call(ze,te):te?this._subscribe(ze):this._trySubscribe(ze))}),ze}_trySubscribe(rt){try{return this._subscribe(rt)}catch(we){rt.error(we)}}forEach(rt,we){return new(we=X(we))((Pe,ze)=>{let Xe;Xe=this.subscribe(te=>{try{rt(te)}catch(Fe){ze(Fe),null==Xe||Xe.unsubscribe()}},ze,Pe)})}_subscribe(rt){var we;return null===(we=this.source)||void 0===we?void 0:we.subscribe(rt)}[W.L](){return this}pipe(...rt){return function Ie(Ge){return 0===Ge.length?be.y:1===Ge.length?Ge[0]:function(rt){return Ge.reduce((we,Pe)=>Pe(we),rt)}}(rt)(this)}toPromise(rt){return new(rt=X(rt))((we,Pe)=>{let ze;this.subscribe(Xe=>ze=Xe,Xe=>Pe(Xe),()=>we(ze))})}}return Ge.create=Je=>new Ge(Je),Ge})();function X(Ge){var Je;return null!==(Je=null!=Ge?Ge:Re.v.Promise)&&void 0!==Je?Je:Promise}},7579:(Ct,Ve,U)=>{"use strict";U.d(Ve,{x:()=>Re});var E=U(8306),x=U(727);const be=(0,U(3888).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=U(8737),Ie=U(2806);let Re=(()=>{class xe extends E.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(X){const Ce=new Ae(this,this);return Ce.operator=X,Ce}_throwIfClosed(){if(this.closed)throw new be}next(X){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Ce=this.observers.slice();for(const ht of Ce)ht.next(X)}})}error(X){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=X;const{observers:Ce}=this;for(;Ce.length;)Ce.shift().error(X)}})}complete(){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:X}=this;for(;X.length;)X.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var X;return(null===(X=this.observers)||void 0===X?void 0:X.length)>0}_trySubscribe(X){return this._throwIfClosed(),super._trySubscribe(X)}_subscribe(X){return this._throwIfClosed(),this._checkFinalizedStatuses(X),this._innerSubscribe(X)}_innerSubscribe(X){const{hasError:Ce,isStopped:ht,observers:Ge}=this;return Ce||ht?x.Lc:(Ge.push(X),new x.w0(()=>(0,ve.P)(Ge,X)))}_checkFinalizedStatuses(X){const{hasError:Ce,thrownError:ht,isStopped:Ge}=this;Ce?X.error(ht):Ge&&X.complete()}asObservable(){const X=new E.y;return X.source=this,X}}return xe.create=(oe,X)=>new Ae(oe,X),xe})();class Ae extends Re{constructor(oe,X){super(),this.destination=oe,this.source=X}next(oe){var X,Ce;null===(Ce=null===(X=this.destination)||void 0===X?void 0:X.next)||void 0===Ce||Ce.call(X,oe)}error(oe){var X,Ce;null===(Ce=null===(X=this.destination)||void 0===X?void 0:X.error)||void 0===Ce||Ce.call(X,oe)}complete(){var oe,X;null===(X=null===(oe=this.destination)||void 0===oe?void 0:oe.complete)||void 0===X||X.call(oe)}_subscribe(oe){var X,Ce;return null!==(Ce=null===(X=this.source)||void 0===X?void 0:X.subscribe(oe))&&void 0!==Ce?Ce:x.Lc}}},2961:(Ct,Ve,U)=>{"use strict";U.d(Ve,{Hp:()=>ht,Lv:()=>Ce});var E=U(576),x=U(727),W=U(2416),be=U(7849);function ve(){}const Ie=xe("C",void 0,void 0);function xe(Pe,ze,Xe){return{kind:Pe,value:ze,error:Xe}}var oe=U(3410),X=U(2806);class Ce extends x.w0{constructor(ze){super(),this.isStopped=!1,ze?(this.destination=ze,(0,x.Nn)(ze)&&ze.add(this)):this.destination=we}static create(ze,Xe,te){return new ht(ze,Xe,te)}next(ze){this.isStopped?rt(function Ae(Pe){return xe("N",Pe,void 0)}(ze),this):this._next(ze)}error(ze){this.isStopped?rt(function Re(Pe){return xe("E",void 0,Pe)}(ze),this):(this.isStopped=!0,this._error(ze))}complete(){this.isStopped?rt(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ze){this.destination.next(ze)}_error(ze){try{this.destination.error(ze)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class ht extends Ce{constructor(ze,Xe,te){let Fe;if(super(),(0,E.m)(ze))Fe=ze;else if(ze){let Ye;({next:Fe,error:Xe,complete:te}=ze),this&&W.v.useDeprecatedNextContext?(Ye=Object.create(ze),Ye.unsubscribe=()=>this.unsubscribe()):Ye=ze,Fe=null==Fe?void 0:Fe.bind(Ye),Xe=null==Xe?void 0:Xe.bind(Ye),te=null==te?void 0:te.bind(Ye)}this.destination={next:Fe?Ge(Fe):ve,error:Ge(null!=Xe?Xe:Je),complete:te?Ge(te):ve}}}function Ge(Pe,ze){return(...Xe)=>{try{Pe(...Xe)}catch(te){W.v.useDeprecatedSynchronousErrorHandling?(0,X.O)(te):(0,be.h)(te)}}}function Je(Pe){throw Pe}function rt(Pe,ze){const{onStoppedNotification:Xe}=W.v;Xe&&oe.z.setTimeout(()=>Xe(Pe,ze))}const we={closed:!0,next:ve,error:Je,complete:ve}},727:(Ct,Ve,U)=>{"use strict";U.d(Ve,{Lc:()=>Ie,w0:()=>ve,Nn:()=>Re});var E=U(576);const W=(0,U(3888).d)(xe=>function(X){xe(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((Ce,ht)=>`${ht+1}) ${Ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X});var be=U(8737);class ve{constructor(oe){this.initialTeardown=oe,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let oe;if(!this.closed){this.closed=!0;const{_parentage:X}=this;if(X)if(this._parentage=null,Array.isArray(X))for(const Ge of X)Ge.remove(this);else X.remove(this);const{initialTeardown:Ce}=this;if((0,E.m)(Ce))try{Ce()}catch(Ge){oe=Ge instanceof W?Ge.errors:[Ge]}const{_teardowns:ht}=this;if(ht){this._teardowns=null;for(const Ge of ht)try{Ae(Ge)}catch(Je){oe=null!=oe?oe:[],Je instanceof W?oe=[...oe,...Je.errors]:oe.push(Je)}}if(oe)throw new W(oe)}}add(oe){var X;if(oe&&oe!==this)if(this.closed)Ae(oe);else{if(oe instanceof ve){if(oe.closed||oe._hasParent(this))return;oe._addParent(this)}(this._teardowns=null!==(X=this._teardowns)&&void 0!==X?X:[]).push(oe)}}_hasParent(oe){const{_parentage:X}=this;return X===oe||Array.isArray(X)&&X.includes(oe)}_addParent(oe){const{_parentage:X}=this;this._parentage=Array.isArray(X)?(X.push(oe),X):X?[X,oe]:oe}_removeParent(oe){const{_parentage:X}=this;X===oe?this._parentage=null:Array.isArray(X)&&(0,be.P)(X,oe)}remove(oe){const{_teardowns:X}=this;X&&(0,be.P)(X,oe),oe instanceof ve&&oe._removeParent(this)}}ve.EMPTY=(()=>{const xe=new ve;return xe.closed=!0,xe})();const Ie=ve.EMPTY;function Re(xe){return xe instanceof ve||xe&&"closed"in xe&&(0,E.m)(xe.remove)&&(0,E.m)(xe.add)&&(0,E.m)(xe.unsubscribe)}function Ae(xe){(0,E.m)(xe)?xe():xe.unsubscribe()}},2416:(Ct,Ve,U)=>{"use strict";U.d(Ve,{v:()=>E});const E={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Ct,Ve,U)=>{"use strict";U.d(Ve,{z:()=>ve});var E=U(8189),W=U(7669),be=U(8996);function ve(...Ie){return function x(){return(0,E.J)(1)}()((0,be.D)(Ie,(0,W.yG)(Ie)))}},515:(Ct,Ve,U)=>{"use strict";U.d(Ve,{E:()=>x});const x=new(U(8306).y)(ve=>ve.complete())},8996:(Ct,Ve,U)=>{"use strict";U.d(Ve,{D:()=>Fe});var E=U(8421),x=U(5363),W=U(9468),Ie=U(8306),Ae=U(2202),xe=U(576),oe=U(9672);function Ce(Ye,Et){if(!Ye)throw new Error("Iterable cannot be null");return new Ie.y(et=>{(0,oe.f)(et,Et,()=>{const Ut=Ye[Symbol.asyncIterator]();(0,oe.f)(et,Et,()=>{Ut.next().then(Te=>{Te.done?et.complete():et.next(Te.value)})},0,!0)})})}var ht=U(3670),Ge=U(8239),Je=U(1144),rt=U(6495),we=U(2206),Pe=U(4532),ze=U(3260);function Fe(Ye,Et){return Et?function te(Ye,Et){if(null!=Ye){if((0,ht.c)(Ye))return function be(Ye,Et){return(0,E.Xf)(Ye).pipe((0,W.R)(Et),(0,x.Q)(Et))}(Ye,Et);if((0,Je.z)(Ye))return function Re(Ye,Et){return new Ie.y(et=>{let Ut=0;return Et.schedule(function(){Ut===Ye.length?et.complete():(et.next(Ye[Ut++]),et.closed||this.schedule())})})}(Ye,Et);if((0,Ge.t)(Ye))return function ve(Ye,Et){return(0,E.Xf)(Ye).pipe((0,W.R)(Et),(0,x.Q)(Et))}(Ye,Et);if((0,we.D)(Ye))return Ce(Ye,Et);if((0,rt.T)(Ye))return function X(Ye,Et){return new Ie.y(et=>{let Ut;return(0,oe.f)(et,Et,()=>{Ut=Ye[Ae.h](),(0,oe.f)(et,Et,()=>{let Te,ye;try{({value:Te,done:ye}=Ut.next())}catch(Ue){return void et.error(Ue)}ye?et.complete():et.next(Te)},0,!0)}),()=>(0,xe.m)(null==Ut?void 0:Ut.return)&&Ut.return()})}(Ye,Et);if((0,ze.L)(Ye))return function Xe(Ye,Et){return Ce((0,ze.Q)(Ye),Et)}(Ye,Et)}throw(0,Pe.z)(Ye)}(Ye,Et):(0,E.Xf)(Ye)}},8421:(Ct,Ve,U)=>{"use strict";U.d(Ve,{Xf:()=>ht});var E=U(5987),x=U(1144),W=U(8239),be=U(8306),ve=U(3670),Ie=U(2206),Re=U(4532),Ae=U(6495),xe=U(3260),oe=U(576),X=U(7849),Ce=U(8822);function ht(te){if(te instanceof be.y)return te;if(null!=te){if((0,ve.c)(te))return function Ge(te){return new be.y(Fe=>{const Ye=te[Ce.L]();if((0,oe.m)(Ye.subscribe))return Ye.subscribe(Fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(te);if((0,x.z)(te))return function Je(te){return new be.y(Fe=>{for(let Ye=0;Ye<te.length&&!Fe.closed;Ye++)Fe.next(te[Ye]);Fe.complete()})}(te);if((0,W.t)(te))return function rt(te){return new be.y(Fe=>{te.then(Ye=>{Fe.closed||(Fe.next(Ye),Fe.complete())},Ye=>Fe.error(Ye)).then(null,X.h)})}(te);if((0,Ie.D)(te))return Pe(te);if((0,Ae.T)(te))return function we(te){return new be.y(Fe=>{for(const Ye of te)if(Fe.next(Ye),Fe.closed)return;Fe.complete()})}(te);if((0,xe.L)(te))return function ze(te){return Pe((0,xe.Q)(te))}(te)}throw(0,Re.z)(te)}function Pe(te){return new be.y(Fe=>{(function Xe(te,Fe){var Ye,Et,et,Ut;return(0,E.mG)(this,void 0,void 0,function*(){try{for(Ye=(0,E.KL)(te);!(Et=yield Ye.next()).done;)if(Fe.next(Et.value),Fe.closed)return}catch(Te){et={error:Te}}finally{try{Et&&!Et.done&&(Ut=Ye.return)&&(yield Ut.call(Ye))}finally{if(et)throw et.error}}Fe.complete()})})(te,Fe).catch(Ye=>Fe.error(Ye))})}},6451:(Ct,Ve,U)=>{"use strict";U.d(Ve,{T:()=>Ie});var E=U(8189),x=U(8421),W=U(515),be=U(7669),ve=U(8996);function Ie(...Re){const Ae=(0,be.yG)(Re),xe=(0,be._6)(Re,1/0),oe=Re;return oe.length?1===oe.length?(0,x.Xf)(oe[0]):(0,E.J)(xe)((0,ve.D)(oe,Ae)):W.E}},9646:(Ct,Ve,U)=>{"use strict";U.d(Ve,{of:()=>W});var E=U(7669),x=U(8996);function W(...be){const ve=(0,E.yG)(be);return(0,x.D)(be,ve)}},5403:(Ct,Ve,U)=>{"use strict";U.d(Ve,{Q:()=>x});var E=U(2961);class x extends E.Lv{constructor(be,ve,Ie,Re,Ae){super(be),this.onFinalize=Ae,this._next=ve?function(xe){try{ve(xe)}catch(oe){be.error(oe)}}:super._next,this._error=Re?function(xe){try{Re(xe)}catch(oe){be.error(oe)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(xe){be.error(xe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var be;const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(be=this.onFinalize)||void 0===be||be.call(this))}}},4351:(Ct,Ve,U)=>{"use strict";U.d(Ve,{b:()=>W});var E=U(5577),x=U(576);function W(be,ve){return(0,x.m)(ve)?(0,E.z)(be,ve,1):(0,E.z)(be,1)}},6590:(Ct,Ve,U)=>{"use strict";U.d(Ve,{d:()=>W});var E=U(4482),x=U(5403);function W(be){return(0,E.e)((ve,Ie)=>{let Re=!1;ve.subscribe(new x.Q(Ie,Ae=>{Re=!0,Ie.next(Ae)},()=>{Re||Ie.next(be),Ie.complete()}))})}},9300:(Ct,Ve,U)=>{"use strict";U.d(Ve,{h:()=>W});var E=U(4482),x=U(5403);function W(be,ve){return(0,E.e)((Ie,Re)=>{let Ae=0;Ie.subscribe(new x.Q(Re,xe=>be.call(ve,xe,Ae++)&&Re.next(xe)))})}},590:(Ct,Ve,U)=>{"use strict";U.d(Ve,{P:()=>Re});var E=U(6805),x=U(9300),W=U(5698),be=U(6590),ve=U(8068),Ie=U(4671);function Re(Ae,xe){const oe=arguments.length>=2;return X=>X.pipe(Ae?(0,x.h)((Ce,ht)=>Ae(Ce,ht,X)):Ie.y,(0,W.q)(1),oe?(0,be.d)(xe):(0,ve.T)(()=>new E.K))}},4004:(Ct,Ve,U)=>{"use strict";U.d(Ve,{U:()=>W});var E=U(4482),x=U(5403);function W(be,ve){return(0,E.e)((Ie,Re)=>{let Ae=0;Ie.subscribe(new x.Q(Re,xe=>{Re.next(be.call(ve,xe,Ae++))}))})}},8189:(Ct,Ve,U)=>{"use strict";U.d(Ve,{J:()=>W});var E=U(5577),x=U(4671);function W(be=1/0){return(0,E.z)(x.y,be)}},5577:(Ct,Ve,U)=>{"use strict";U.d(Ve,{z:()=>Ae});var E=U(4004),x=U(8421),W=U(4482),be=U(9672),ve=U(5403),Re=U(576);function Ae(xe,oe,X=1/0){return(0,Re.m)(oe)?Ae((Ce,ht)=>(0,E.U)((Ge,Je)=>oe(Ce,Ge,ht,Je))((0,x.Xf)(xe(Ce,ht))),X):("number"==typeof oe&&(X=oe),(0,W.e)((Ce,ht)=>function Ie(xe,oe,X,Ce,ht,Ge,Je,rt){const we=[];let Pe=0,ze=0,Xe=!1;const te=()=>{Xe&&!we.length&&!Pe&&oe.complete()},Fe=Et=>Pe<Ce?Ye(Et):we.push(Et),Ye=Et=>{Ge&&oe.next(Et),Pe++;let et=!1;(0,x.Xf)(X(Et,ze++)).subscribe(new ve.Q(oe,Ut=>{null==ht||ht(Ut),Ge?Fe(Ut):oe.next(Ut)},()=>{et=!0},void 0,()=>{if(et)try{for(Pe--;we.length&&Pe<Ce;){const Ut=we.shift();Je?(0,be.f)(oe,Je,()=>Ye(Ut)):Ye(Ut)}te()}catch(Ut){oe.error(Ut)}}))};return xe.subscribe(new ve.Q(oe,Fe,()=>{Xe=!0,te()})),()=>{null==rt||rt()}}(Ce,ht,xe,X)))}},5363:(Ct,Ve,U)=>{"use strict";U.d(Ve,{Q:()=>be});var E=U(9672),x=U(4482),W=U(5403);function be(ve,Ie=0){return(0,x.e)((Re,Ae)=>{Re.subscribe(new W.Q(Ae,xe=>(0,E.f)(Ae,ve,()=>Ae.next(xe),Ie),()=>(0,E.f)(Ae,ve,()=>Ae.complete(),Ie),xe=>(0,E.f)(Ae,ve,()=>Ae.error(xe),Ie)))})}},5026:(Ct,Ve,U)=>{"use strict";U.d(Ve,{R:()=>be});var E=U(4482),x=U(5403);function W(ve,Ie,Re,Ae,xe){return(oe,X)=>{let Ce=Re,ht=Ie,Ge=0;oe.subscribe(new x.Q(X,Je=>{const rt=Ge++;ht=Ce?ve(ht,Je,rt):(Ce=!0,Je),Ae&&X.next(ht)},xe&&(()=>{Ce&&X.next(ht),X.complete()})))}}function be(ve,Ie){return(0,E.e)(W(ve,Ie,arguments.length>=2,!0))}},3099:(Ct,Ve,U)=>{"use strict";U.d(Ve,{B:()=>Ie});var E=U(8996),x=U(5698),W=U(7579),be=U(2961),ve=U(4482);function Ie(Ae={}){const{connector:xe=(()=>new W.x),resetOnError:oe=!0,resetOnComplete:X=!0,resetOnRefCountZero:Ce=!0}=Ae;return ht=>{let Ge=null,Je=null,rt=null,we=0,Pe=!1,ze=!1;const Xe=()=>{null==Je||Je.unsubscribe(),Je=null},te=()=>{Xe(),Ge=rt=null,Pe=ze=!1},Fe=()=>{const Ye=Ge;te(),null==Ye||Ye.unsubscribe()};return(0,ve.e)((Ye,Et)=>{we++,!ze&&!Pe&&Xe();const et=rt=null!=rt?rt:xe();Et.add(()=>{we--,0===we&&!ze&&!Pe&&(Je=Re(Fe,Ce))}),et.subscribe(Et),Ge||(Ge=new be.Hp({next:Ut=>et.next(Ut),error:Ut=>{ze=!0,Xe(),Je=Re(te,oe,Ut),et.error(Ut)},complete:()=>{Pe=!0,Xe(),Je=Re(te,X),et.complete()}}),(0,E.D)(Ye).subscribe(Ge))})(ht)}}function Re(Ae,xe,...oe){return!0===xe?(Ae(),null):!1===xe?null:xe(...oe).pipe((0,x.q)(1)).subscribe(()=>Ae())}},8675:(Ct,Ve,U)=>{"use strict";U.d(Ve,{O:()=>be});var E=U(7272),x=U(7669),W=U(4482);function be(...ve){const Ie=(0,x.yG)(ve);return(0,W.e)((Re,Ae)=>{(Ie?(0,E.z)(ve,Re,Ie):(0,E.z)(ve,Re)).subscribe(Ae)})}},9468:(Ct,Ve,U)=>{"use strict";U.d(Ve,{R:()=>x});var E=U(4482);function x(W,be=0){return(0,E.e)((ve,Ie)=>{Ie.add(W.schedule(()=>ve.subscribe(Ie),be))})}},3900:(Ct,Ve,U)=>{"use strict";U.d(Ve,{w:()=>be});var E=U(8421),x=U(4482),W=U(5403);function be(ve,Ie){return(0,x.e)((Re,Ae)=>{let xe=null,oe=0,X=!1;const Ce=()=>X&&!xe&&Ae.complete();Re.subscribe(new W.Q(Ae,ht=>{null==xe||xe.unsubscribe();let Ge=0;const Je=oe++;(0,E.Xf)(ve(ht,Je)).subscribe(xe=new W.Q(Ae,rt=>Ae.next(Ie?Ie(ht,rt,Je,Ge++):rt),()=>{xe=null,Ce()}))},()=>{X=!0,Ce()}))})}},5698:(Ct,Ve,U)=>{"use strict";U.d(Ve,{q:()=>be});var E=U(515),x=U(4482),W=U(5403);function be(ve){return ve<=0?()=>E.E:(0,x.e)((Ie,Re)=>{let Ae=0;Ie.subscribe(new W.Q(Re,xe=>{++Ae<=ve&&(Re.next(xe),ve<=Ae&&Re.complete())}))})}},8505:(Ct,Ve,U)=>{"use strict";U.d(Ve,{b:()=>ve});var E=U(576),x=U(4482),W=U(5403),be=U(4671);function ve(Ie,Re,Ae){const xe=(0,E.m)(Ie)||Re||Ae?{next:Ie,error:Re,complete:Ae}:Ie;return xe?(0,x.e)((oe,X)=>{var Ce;null===(Ce=xe.subscribe)||void 0===Ce||Ce.call(xe);let ht=!0;oe.subscribe(new W.Q(X,Ge=>{var Je;null===(Je=xe.next)||void 0===Je||Je.call(xe,Ge),X.next(Ge)},()=>{var Ge;ht=!1,null===(Ge=xe.complete)||void 0===Ge||Ge.call(xe),X.complete()},Ge=>{var Je;ht=!1,null===(Je=xe.error)||void 0===Je||Je.call(xe,Ge),X.error(Ge)},()=>{var Ge,Je;ht&&(null===(Ge=xe.unsubscribe)||void 0===Ge||Ge.call(xe)),null===(Je=xe.finalize)||void 0===Je||Je.call(xe)}))}):be.y}},8068:(Ct,Ve,U)=>{"use strict";U.d(Ve,{T:()=>be});var E=U(6805),x=U(4482),W=U(5403);function be(Ie=ve){return(0,x.e)((Re,Ae)=>{let xe=!1;Re.subscribe(new W.Q(Ae,oe=>{xe=!0,Ae.next(oe)},()=>xe?Ae.complete():Ae.error(Ie())))})}function ve(){return new E.K}},4408:(Ct,Ve,U)=>{"use strict";U.d(Ve,{o:()=>ve});var E=U(727);class x extends E.w0{constructor(Re,Ae){super()}schedule(Re,Ae=0){return this}}const W={setInterval(...Ie){const{delegate:Re}=W;return((null==Re?void 0:Re.setInterval)||setInterval)(...Ie)},clearInterval(Ie){const{delegate:Re}=W;return((null==Re?void 0:Re.clearInterval)||clearInterval)(Ie)},delegate:void 0};var be=U(8737);class ve extends x{constructor(Re,Ae){super(Re,Ae),this.scheduler=Re,this.work=Ae,this.pending=!1}schedule(Re,Ae=0){if(this.closed)return this;this.state=Re;const xe=this.id,oe=this.scheduler;return null!=xe&&(this.id=this.recycleAsyncId(oe,xe,Ae)),this.pending=!0,this.delay=Ae,this.id=this.id||this.requestAsyncId(oe,this.id,Ae),this}requestAsyncId(Re,Ae,xe=0){return W.setInterval(Re.flush.bind(Re,this),xe)}recycleAsyncId(Re,Ae,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return Ae;W.clearInterval(Ae)}execute(Re,Ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(Re,Ae);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Re,Ae){let oe,xe=!1;try{this.work(Re)}catch(X){xe=!0,oe=X||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),oe}unsubscribe(){if(!this.closed){const{id:Re,scheduler:Ae}=this,{actions:xe}=Ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,be.P)(xe,this),null!=Re&&(this.id=this.recycleAsyncId(Ae,Re,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ct,Ve,U)=>{"use strict";U.d(Ve,{v:()=>W});var E=U(6063);class x{constructor(ve,Ie=x.now){this.schedulerActionCtor=ve,this.now=Ie}schedule(ve,Ie=0,Re){return new this.schedulerActionCtor(this,ve).schedule(Re,Ie)}}x.now=E.l.now;class W extends x{constructor(ve,Ie=x.now){super(ve,Ie),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ve){const{actions:Ie}=this;if(this._active)return void Ie.push(ve);let Re;this._active=!0;do{if(Re=ve.execute(ve.state,ve.delay))break}while(ve=Ie.shift());if(this._active=!1,Re){for(;ve=Ie.shift();)ve.unsubscribe();throw Re}}}},4986:(Ct,Ve,U)=>{"use strict";U.d(Ve,{z:()=>W});var E=U(4408);const W=new(U(7565).v)(E.o)},6063:(Ct,Ve,U)=>{"use strict";U.d(Ve,{l:()=>E});const E={now:()=>(E.delegate||Date).now(),delegate:void 0}},3410:(Ct,Ve,U)=>{"use strict";U.d(Ve,{z:()=>E});const E={setTimeout(...x){const{delegate:W}=E;return((null==W?void 0:W.setTimeout)||setTimeout)(...x)},clearTimeout(x){const{delegate:W}=E;return((null==W?void 0:W.clearTimeout)||clearTimeout)(x)},delegate:void 0}},2202:(Ct,Ve,U)=>{"use strict";U.d(Ve,{h:()=>x});const x=function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ct,Ve,U)=>{"use strict";U.d(Ve,{L:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Ct,Ve,U)=>{"use strict";U.d(Ve,{K:()=>x});const x=(0,U(3888).d)(W=>function(){W(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Ct,Ve,U)=>{"use strict";U.d(Ve,{_6:()=>Ie,jO:()=>be,yG:()=>ve});var E=U(576);function W(Re){return Re[Re.length-1]}function be(Re){return(0,E.m)(W(Re))?Re.pop():void 0}function ve(Re){return function x(Re){return Re&&(0,E.m)(Re.schedule)}(W(Re))?Re.pop():void 0}function Ie(Re,Ae){return"number"==typeof W(Re)?Re.pop():Ae}},4742:(Ct,Ve,U)=>{"use strict";U.d(Ve,{D:()=>ve});const{isArray:E}=Array,{getPrototypeOf:x,prototype:W,keys:be}=Object;function ve(Re){if(1===Re.length){const Ae=Re[0];if(E(Ae))return{args:Ae,keys:null};if(function Ie(Re){return Re&&"object"==typeof Re&&x(Re)===W}(Ae)){const xe=be(Ae);return{args:xe.map(oe=>Ae[oe]),keys:xe}}}return{args:Re,keys:null}}},8737:(Ct,Ve,U)=>{"use strict";function E(x,W){if(x){const be=x.indexOf(W);0<=be&&x.splice(be,1)}}U.d(Ve,{P:()=>E})},3888:(Ct,Ve,U)=>{"use strict";function E(x){const be=x(ve=>{Error.call(ve),ve.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}U.d(Ve,{d:()=>E})},1810:(Ct,Ve,U)=>{"use strict";function E(x,W){return x.reduce((be,ve,Ie)=>(be[ve]=W[Ie],be),{})}U.d(Ve,{n:()=>E})},2806:(Ct,Ve,U)=>{"use strict";U.d(Ve,{x:()=>W,O:()=>be});var E=U(2416);let x=null;function W(ve){if(E.v.useDeprecatedSynchronousErrorHandling){const Ie=!x;if(Ie&&(x={errorThrown:!1,error:null}),ve(),Ie){const{errorThrown:Re,error:Ae}=x;if(x=null,Re)throw Ae}}else ve()}function be(ve){E.v.useDeprecatedSynchronousErrorHandling&&x&&(x.errorThrown=!0,x.error=ve)}},9672:(Ct,Ve,U)=>{"use strict";function E(x,W,be,ve=0,Ie=!1){const Re=W.schedule(function(){be(),Ie?x.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(x.add(Re),!Ie)return Re}U.d(Ve,{f:()=>E})},4671:(Ct,Ve,U)=>{"use strict";function E(x){return x}U.d(Ve,{y:()=>E})},1144:(Ct,Ve,U)=>{"use strict";U.d(Ve,{z:()=>E});const E=x=>x&&"number"==typeof x.length&&"function"!=typeof x},2206:(Ct,Ve,U)=>{"use strict";U.d(Ve,{D:()=>x});var E=U(576);function x(W){return Symbol.asyncIterator&&(0,E.m)(null==W?void 0:W[Symbol.asyncIterator])}},576:(Ct,Ve,U)=>{"use strict";function E(x){return"function"==typeof x}U.d(Ve,{m:()=>E})},3670:(Ct,Ve,U)=>{"use strict";U.d(Ve,{c:()=>W});var E=U(8822),x=U(576);function W(be){return(0,x.m)(be[E.L])}},6495:(Ct,Ve,U)=>{"use strict";U.d(Ve,{T:()=>W});var E=U(2202),x=U(576);function W(be){return(0,x.m)(null==be?void 0:be[E.h])}},8239:(Ct,Ve,U)=>{"use strict";U.d(Ve,{t:()=>x});var E=U(576);function x(W){return(0,E.m)(null==W?void 0:W.then)}},3260:(Ct,Ve,U)=>{"use strict";U.d(Ve,{Q:()=>W,L:()=>be});var E=U(5987),x=U(576);function W(ve){return(0,E.FC)(this,arguments,function*(){const Re=ve.getReader();try{for(;;){const{value:Ae,done:xe}=yield(0,E.qq)(Re.read());if(xe)return yield(0,E.qq)(void 0);yield yield(0,E.qq)(Ae)}}finally{Re.releaseLock()}})}function be(ve){return(0,x.m)(null==ve?void 0:ve.getReader)}},4482:(Ct,Ve,U)=>{"use strict";U.d(Ve,{A:()=>x,e:()=>W});var E=U(576);function x(be){return(0,E.m)(null==be?void 0:be.lift)}function W(be){return ve=>{if(x(ve))return ve.lift(function(Ie){try{return be(Ie,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ct,Ve,U)=>{"use strict";U.d(Ve,{Z:()=>be});var E=U(4004);const{isArray:x}=Array;function be(ve){return(0,E.U)(Ie=>function W(ve,Ie){return x(Ie)?ve(...Ie):ve(Ie)}(ve,Ie))}},7849:(Ct,Ve,U)=>{"use strict";U.d(Ve,{h:()=>W});var E=U(2416),x=U(3410);function W(be){x.z.setTimeout(()=>{const{onUnhandledError:ve}=E.v;if(!ve)throw be;ve(be)})}},4532:(Ct,Ve,U)=>{"use strict";function E(x){return new TypeError(`You provided ${null!==x&&"object"==typeof x?"an invalid object":`'${x}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Ve,{z:()=>E})},5987:(Ct,Ve,U)=>{"use strict";function Ae(Te,ye,Ue,Se){return new(Ue||(Ue=Promise))(function(Be,Tt){function fn(Bt){try{zt(Se.next(Bt))}catch(nr){Tt(nr)}}function gr(Bt){try{zt(Se.throw(Bt))}catch(nr){Tt(nr)}}function zt(Bt){Bt.done?Be(Bt.value):function st(Be){return Be instanceof Ue?Be:new Ue(function(Tt){Tt(Be)})}(Bt.value).then(fn,gr)}zt((Se=Se.apply(Te,ye||[])).next())})}function we(Te){return this instanceof we?(this.v=Te,this):new we(Te)}function Pe(Te,ye,Ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var st,Se=Ue.apply(Te,ye||[]),Be=[];return st={},Tt("next"),Tt("throw"),Tt("return"),st[Symbol.asyncIterator]=function(){return this},st;function Tt(Yt){Se[Yt]&&(st[Yt]=function(Rn){return new Promise(function(yt,Vn){Be.push([Yt,Rn,yt,Vn])>1||fn(Yt,Rn)})})}function fn(Yt,Rn){try{!function gr(Yt){Yt.value instanceof we?Promise.resolve(Yt.value.v).then(zt,Bt):nr(Be[0][2],Yt)}(Se[Yt](Rn))}catch(yt){nr(Be[0][3],yt)}}function zt(Yt){fn("next",Yt)}function Bt(Yt){fn("throw",Yt)}function nr(Yt,Rn){Yt(Rn),Be.shift(),Be.length&&fn(Be[0][0],Be[0][1])}}function Xe(Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,ye=Te[Symbol.asyncIterator];return ye?ye.call(Te):(Te=function Ce(Te){var ye="function"==typeof Symbol&&Symbol.iterator,Ue=ye&&Te[ye],Se=0;if(Ue)return Ue.call(Te);if(Te&&"number"==typeof Te.length)return{next:function(){return Te&&Se>=Te.length&&(Te=void 0),{value:Te&&Te[Se++],done:!Te}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(Te),Ue={},Se("next"),Se("throw"),Se("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue);function Se(Be){Ue[Be]=Te[Be]&&function(Tt){return new Promise(function(fn,gr){!function st(Be,Tt,fn,gr){Promise.resolve(gr).then(function(zt){Be({value:zt,done:fn})},Tt)}(fn,gr,(Tt=Te[Be](Tt)).done,Tt.value)})}}}U.d(Ve,{mG:()=>Ae,qq:()=>we,FC:()=>Pe,KL:()=>Xe})},9808:(Ct,Ve,U)=>{"use strict";U.d(Ve,{mr:()=>ze,ez:()=>Qs,K0:()=>Re,uU:()=>An,Do:()=>te,V_:()=>oe,Ye:()=>Fe,S$:()=>we,mk:()=>fi,sg:()=>Jn,O5:()=>Nn,b0:()=>Xe,lw:()=>Ae,EM:()=>yn,JF:()=>an,PM:()=>ne,w_:()=>Ie,bD:()=>go,q:()=>W,Mx:()=>kr,HT:()=>ve});var E=U(5e3);let x=null;function W(){return x}function ve(C){x||(x=C)}class Ie{}const Re=new E.OlP("DocumentToken");let Ae=(()=>{class C{historyGo(S){throw new Error("Not implemented")}}return C.\u0275fac=function(S){return new(S||C)},C.\u0275prov=E.Yz7({token:C,factory:function(){return function xe(){return(0,E.LFG)(X)}()},providedIn:"platform"}),C})();const oe=new E.OlP("Location Initialized");let X=(()=>{class C extends Ae{constructor(S){super(),this._doc=S,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(S){const z=W().getGlobalEventTarget(this._doc,"window");return z.addEventListener("popstate",S,!1),()=>z.removeEventListener("popstate",S)}onHashChange(S){const z=W().getGlobalEventTarget(this._doc,"window");return z.addEventListener("hashchange",S,!1),()=>z.removeEventListener("hashchange",S)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(S){this.location.pathname=S}pushState(S,z,se){Ce()?this._history.pushState(S,z,se):this.location.hash=se}replaceState(S,z,se){Ce()?this._history.replaceState(S,z,se):this.location.hash=se}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}}return C.\u0275fac=function(S){return new(S||C)(E.LFG(Re))},C.\u0275prov=E.Yz7({token:C,factory:function(){return function ht(){return new X((0,E.LFG)(Re))}()},providedIn:"platform"}),C})();function Ce(){return!!window.history.pushState}function Ge(C,$){if(0==C.length)return $;if(0==$.length)return C;let S=0;return C.endsWith("/")&&S++,$.startsWith("/")&&S++,2==S?C+$.substring(1):1==S?C+$:C+"/"+$}function Je(C){const $=C.match(/#|\?|$/),S=$&&$.index||C.length;return C.slice(0,S-("/"===C[S-1]?1:0))+C.slice(S)}function rt(C){return C&&"?"!==C[0]?"?"+C:C}let we=(()=>{class C{historyGo(S){throw new Error("Not implemented")}}return C.\u0275fac=function(S){return new(S||C)},C.\u0275prov=E.Yz7({token:C,factory:function(){return function Pe(C){const $=(0,E.LFG)(Re).location;return new Xe((0,E.LFG)(Ae),$&&$.origin||"")}()},providedIn:"root"}),C})();const ze=new E.OlP("appBaseHref");let Xe=(()=>{class C extends we{constructor(S,z){if(super(),this._platformLocation=S,this._removeListenerFns=[],null==z&&(z=this._platformLocation.getBaseHrefFromDOM()),null==z)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=z}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return Ge(this._baseHref,S)}path(S=!1){const z=this._platformLocation.pathname+rt(this._platformLocation.search),se=this._platformLocation.hash;return se&&S?`${z}${se}`:z}pushState(S,z,se,je){const qe=this.prepareExternalUrl(se+rt(je));this._platformLocation.pushState(S,z,qe)}replaceState(S,z,se,je){const qe=this.prepareExternalUrl(se+rt(je));this._platformLocation.replaceState(S,z,qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(S=0){var z,se;null===(se=(z=this._platformLocation).historyGo)||void 0===se||se.call(z,S)}}return C.\u0275fac=function(S){return new(S||C)(E.LFG(Ae),E.LFG(ze,8))},C.\u0275prov=E.Yz7({token:C,factory:C.\u0275fac}),C})(),te=(()=>{class C extends we{constructor(S,z){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=z&&(this._baseHref=z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let z=this._platformLocation.hash;return null==z&&(z="#"),z.length>0?z.substring(1):z}prepareExternalUrl(S){const z=Ge(this._baseHref,S);return z.length>0?"#"+z:z}pushState(S,z,se,je){let qe=this.prepareExternalUrl(se+rt(je));0==qe.length&&(qe=this._platformLocation.pathname),this._platformLocation.pushState(S,z,qe)}replaceState(S,z,se,je){let qe=this.prepareExternalUrl(se+rt(je));0==qe.length&&(qe=this._platformLocation.pathname),this._platformLocation.replaceState(S,z,qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(S=0){var z,se;null===(se=(z=this._platformLocation).historyGo)||void 0===se||se.call(z,S)}}return C.\u0275fac=function(S){return new(S||C)(E.LFG(Ae),E.LFG(ze,8))},C.\u0275prov=E.Yz7({token:C,factory:C.\u0275fac}),C})(),Fe=(()=>{class C{constructor(S,z){this._subject=new E.vpe,this._urlChangeListeners=[],this._platformStrategy=S;const se=this._platformStrategy.getBaseHref();this._platformLocation=z,this._baseHref=Je(et(se)),this._platformStrategy.onPopState(je=>{this._subject.emit({url:this.path(!0),pop:!0,state:je.state,type:je.type})})}path(S=!1){return this.normalize(this._platformStrategy.path(S))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(S,z=""){return this.path()==this.normalize(S+rt(z))}normalize(S){return C.stripTrailingSlash(function Et(C,$){return C&&$.startsWith(C)?$.substring(C.length):$}(this._baseHref,et(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._platformStrategy.prepareExternalUrl(S)}go(S,z="",se=null){this._platformStrategy.pushState(se,"",S,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+rt(z)),se)}replaceState(S,z="",se=null){this._platformStrategy.replaceState(se,"",S,z),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+rt(z)),se)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(S=0){var z,se;null===(se=(z=this._platformStrategy).historyGo)||void 0===se||se.call(z,S)}onUrlChange(S){this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(z=>{this._notifyUrlChangeListeners(z.url,z.state)}))}_notifyUrlChangeListeners(S="",z){this._urlChangeListeners.forEach(se=>se(S,z))}subscribe(S,z,se){return this._subject.subscribe({next:S,error:z,complete:se})}}return C.normalizeQueryParams=rt,C.joinWithSlash=Ge,C.stripTrailingSlash=Je,C.\u0275fac=function(S){return new(S||C)(E.LFG(we),E.LFG(Ae))},C.\u0275prov=E.Yz7({token:C,factory:function(){return function Ye(){return new Fe((0,E.LFG)(we),(0,E.LFG)(Ae))}()},providedIn:"root"}),C})();function et(C){return C.replace(/\/index.html$/,"")}var ye=(()=>((ye=ye||{})[ye.Zero=0]="Zero",ye[ye.One=1]="One",ye[ye.Two=2]="Two",ye[ye.Few=3]="Few",ye[ye.Many=4]="Many",ye[ye.Other=5]="Other",ye))(),Ue=(()=>((Ue=Ue||{})[Ue.Format=0]="Format",Ue[Ue.Standalone=1]="Standalone",Ue))(),Se=(()=>((Se=Se||{})[Se.Narrow=0]="Narrow",Se[Se.Abbreviated=1]="Abbreviated",Se[Se.Wide=2]="Wide",Se[Se.Short=3]="Short",Se))(),st=(()=>((st=st||{})[st.Short=0]="Short",st[st.Medium=1]="Medium",st[st.Long=2]="Long",st[st.Full=3]="Full",st))(),Be=(()=>((Be=Be||{})[Be.Decimal=0]="Decimal",Be[Be.Group=1]="Group",Be[Be.List=2]="List",Be[Be.PercentSign=3]="PercentSign",Be[Be.PlusSign=4]="PlusSign",Be[Be.MinusSign=5]="MinusSign",Be[Be.Exponential=6]="Exponential",Be[Be.SuperscriptingExponent=7]="SuperscriptingExponent",Be[Be.PerMille=8]="PerMille",Be[Be.Infinity=9]="Infinity",Be[Be.NaN=10]="NaN",Be[Be.TimeSeparator=11]="TimeSeparator",Be[Be.CurrencyDecimal=12]="CurrencyDecimal",Be[Be.CurrencyGroup=13]="CurrencyGroup",Be))();function yt(C,$){return Dn((0,E.cg1)(C)[E.wAp.DateFormat],$)}function Vn(C,$){return Dn((0,E.cg1)(C)[E.wAp.TimeFormat],$)}function En(C,$){return Dn((0,E.cg1)(C)[E.wAp.DateTimeFormat],$)}function Un(C,$){const S=(0,E.cg1)(C),z=S[E.wAp.NumberSymbols][$];if(void 0===z){if($===Be.CurrencyDecimal)return S[E.wAp.NumberSymbols][Be.Decimal];if($===Be.CurrencyGroup)return S[E.wAp.NumberSymbols][Be.Group]}return z}const zr=E.kL8;function tt(C){if(!C[E.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${C[E.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Dn(C,$){for(let S=$;S>-1;S--)if(void 0!==C[S])return C[S];throw new Error("Locale data API: locale data undefined")}function Ln(C){const[$,S]=C.split(":");return{hours:+$,minutes:+S}}const cn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,St={},mr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var en=(()=>((en=en||{})[en.Short=0]="Short",en[en.ShortGMT=1]="ShortGMT",en[en.Long=2]="Long",en[en.Extended=3]="Extended",en))(),Dt=(()=>((Dt=Dt||{})[Dt.FullYear=0]="FullYear",Dt[Dt.Month=1]="Month",Dt[Dt.Date=2]="Date",Dt[Dt.Hours=3]="Hours",Dt[Dt.Minutes=4]="Minutes",Dt[Dt.Seconds=5]="Seconds",Dt[Dt.FractionalSeconds=6]="FractionalSeconds",Dt[Dt.Day=7]="Day",Dt))(),Ot=(()=>((Ot=Ot||{})[Ot.DayPeriods=0]="DayPeriods",Ot[Ot.Days=1]="Days",Ot[Ot.Months=2]="Months",Ot[Ot.Eras=3]="Eras",Ot))();function Ji(C,$,S,z){let se=function xi(C){if(Wn(C))return C;if("number"==typeof C&&!isNaN(C))return new Date(C);if("string"==typeof C){if(C=C.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(C)){const[se,je=1,qe=1]=C.split("-").map(wt=>+wt);return wi(se,je-1,qe)}const S=parseFloat(C);if(!isNaN(C-S))return new Date(S);let z;if(z=C.match(cn))return function Ui(C){const $=new Date(0);let S=0,z=0;const se=C[8]?$.setUTCFullYear:$.setFullYear,je=C[8]?$.setUTCHours:$.setHours;C[9]&&(S=Number(C[9]+C[10]),z=Number(C[9]+C[11])),se.call($,Number(C[1]),Number(C[2])-1,Number(C[3]));const qe=Number(C[4]||0)-S,wt=Number(C[5]||0)-z,dn=Number(C[6]||0),Bn=Math.floor(1e3*parseFloat("0."+(C[7]||0)));return je.call($,qe,wt,dn,Bn),$}(z)}const $=new Date(C);if(!Wn($))throw new Error(`Unable to convert "${C}" into a date`);return $}(C);$=Mt(S,$)||$;let wt,qe=[];for(;$;){if(wt=mr.exec($),!wt){qe.push($);break}{qe=qe.concat(wt.slice(1));const jn=qe.pop();if(!jn)break;$=jn}}let dn=se.getTimezoneOffset();z&&(dn=qr(z,dn),se=function Qt(C,$,S){const z=S?-1:1,se=C.getTimezoneOffset();return function ti(C,$){return(C=new Date(C.getTime())).setMinutes(C.getMinutes()+$),C}(C,z*(qr($,se)-se))}(se,z,!0));let Bn="";return qe.forEach(jn=>{const nn=function On(C){if(ln[C])return ln[C];let $;switch(C){case"G":case"GG":case"GGG":$=ce(Ot.Eras,Se.Abbreviated);break;case"GGGG":$=ce(Ot.Eras,Se.Wide);break;case"GGGGG":$=ce(Ot.Eras,Se.Narrow);break;case"y":$=ie(Dt.FullYear,1,0,!1,!0);break;case"yy":$=ie(Dt.FullYear,2,0,!0,!0);break;case"yyy":$=ie(Dt.FullYear,3,0,!1,!0);break;case"yyyy":$=ie(Dt.FullYear,4,0,!1,!0);break;case"Y":$=Ur(1);break;case"YY":$=Ur(2,!0);break;case"YYY":$=Ur(3);break;case"YYYY":$=Ur(4);break;case"M":case"L":$=ie(Dt.Month,1,1);break;case"MM":case"LL":$=ie(Dt.Month,2,1);break;case"MMM":$=ce(Ot.Months,Se.Abbreviated);break;case"MMMM":$=ce(Ot.Months,Se.Wide);break;case"MMMMM":$=ce(Ot.Months,Se.Narrow);break;case"LLL":$=ce(Ot.Months,Se.Abbreviated,Ue.Standalone);break;case"LLLL":$=ce(Ot.Months,Se.Wide,Ue.Standalone);break;case"LLLLL":$=ce(Ot.Months,Se.Narrow,Ue.Standalone);break;case"w":$=qn(1);break;case"ww":$=qn(2);break;case"W":$=qn(1,!0);break;case"d":$=ie(Dt.Date,1);break;case"dd":$=ie(Dt.Date,2);break;case"c":case"cc":$=ie(Dt.Day,1);break;case"ccc":$=ce(Ot.Days,Se.Abbreviated,Ue.Standalone);break;case"cccc":$=ce(Ot.Days,Se.Wide,Ue.Standalone);break;case"ccccc":$=ce(Ot.Days,Se.Narrow,Ue.Standalone);break;case"cccccc":$=ce(Ot.Days,Se.Short,Ue.Standalone);break;case"E":case"EE":case"EEE":$=ce(Ot.Days,Se.Abbreviated);break;case"EEEE":$=ce(Ot.Days,Se.Wide);break;case"EEEEE":$=ce(Ot.Days,Se.Narrow);break;case"EEEEEE":$=ce(Ot.Days,Se.Short);break;case"a":case"aa":case"aaa":$=ce(Ot.DayPeriods,Se.Abbreviated);break;case"aaaa":$=ce(Ot.DayPeriods,Se.Wide);break;case"aaaaa":$=ce(Ot.DayPeriods,Se.Narrow);break;case"b":case"bb":case"bbb":$=ce(Ot.DayPeriods,Se.Abbreviated,Ue.Standalone,!0);break;case"bbbb":$=ce(Ot.DayPeriods,Se.Wide,Ue.Standalone,!0);break;case"bbbbb":$=ce(Ot.DayPeriods,Se.Narrow,Ue.Standalone,!0);break;case"B":case"BB":case"BBB":$=ce(Ot.DayPeriods,Se.Abbreviated,Ue.Format,!0);break;case"BBBB":$=ce(Ot.DayPeriods,Se.Wide,Ue.Format,!0);break;case"BBBBB":$=ce(Ot.DayPeriods,Se.Narrow,Ue.Format,!0);break;case"h":$=ie(Dt.Hours,1,-12);break;case"hh":$=ie(Dt.Hours,2,-12);break;case"H":$=ie(Dt.Hours,1);break;case"HH":$=ie(Dt.Hours,2);break;case"m":$=ie(Dt.Minutes,1);break;case"mm":$=ie(Dt.Minutes,2);break;case"s":$=ie(Dt.Seconds,1);break;case"ss":$=ie(Dt.Seconds,2);break;case"S":$=ie(Dt.FractionalSeconds,1);break;case"SS":$=ie(Dt.FractionalSeconds,2);break;case"SSS":$=ie(Dt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":$=Oe(en.Short);break;case"ZZZZZ":$=Oe(en.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":$=Oe(en.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":$=Oe(en.Long);break;default:return null}return ln[C]=$,$}(jn);Bn+=nn?nn(se,S,dn):"''"===jn?"'":jn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Bn}function wi(C,$,S){const z=new Date(0);return z.setFullYear(C,$,S),z.setHours(0,0,0),z}function Mt(C,$){const S=function fn(C){return(0,E.cg1)(C)[E.wAp.LocaleId]}(C);if(St[S]=St[S]||{},St[S][$])return St[S][$];let z="";switch($){case"shortDate":z=yt(C,st.Short);break;case"mediumDate":z=yt(C,st.Medium);break;case"longDate":z=yt(C,st.Long);break;case"fullDate":z=yt(C,st.Full);break;case"shortTime":z=Vn(C,st.Short);break;case"mediumTime":z=Vn(C,st.Medium);break;case"longTime":z=Vn(C,st.Long);break;case"fullTime":z=Vn(C,st.Full);break;case"short":const se=Mt(C,"shortTime"),je=Mt(C,"shortDate");z=vn(En(C,st.Short),[se,je]);break;case"medium":const qe=Mt(C,"mediumTime"),wt=Mt(C,"mediumDate");z=vn(En(C,st.Medium),[qe,wt]);break;case"long":const dn=Mt(C,"longTime"),Bn=Mt(C,"longDate");z=vn(En(C,st.Long),[dn,Bn]);break;case"full":const jn=Mt(C,"fullTime"),nn=Mt(C,"fullDate");z=vn(En(C,st.Full),[jn,nn])}return z&&(St[S][$]=z),z}function vn(C,$){return $&&(C=C.replace(/\{([^}]+)}/g,function(S,z){return null!=$&&z in $?$[z]:S})),C}function yr(C,$,S="-",z,se){let je="";(C<0||se&&C<=0)&&(se?C=1-C:(C=-C,je=S));let qe=String(C);for(;qe.length<$;)qe="0"+qe;return z&&(qe=qe.substr(qe.length-$)),je+qe}function ie(C,$,S=0,z=!1,se=!1){return function(je,qe){let wt=function ue(C,$){switch(C){case Dt.FullYear:return $.getFullYear();case Dt.Month:return $.getMonth();case Dt.Date:return $.getDate();case Dt.Hours:return $.getHours();case Dt.Minutes:return $.getMinutes();case Dt.Seconds:return $.getSeconds();case Dt.FractionalSeconds:return $.getMilliseconds();case Dt.Day:return $.getDay();default:throw new Error(`Unknown DateType value "${C}".`)}}(C,je);if((S>0||wt>-S)&&(wt+=S),C===Dt.Hours)0===wt&&-12===S&&(wt=12);else if(C===Dt.FractionalSeconds)return function di(C,$){return yr(C,3).substr(0,$)}(wt,$);const dn=Un(qe,Be.MinusSign);return yr(wt,$,dn,z,se)}}function ce(C,$,S=Ue.Format,z=!1){return function(se,je){return function We(C,$,S,z,se,je){switch(S){case Ot.Months:return function Bt(C,$,S){const z=(0,E.cg1)(C),je=Dn([z[E.wAp.MonthsFormat],z[E.wAp.MonthsStandalone]],$);return Dn(je,S)}($,se,z)[C.getMonth()];case Ot.Days:return function zt(C,$,S){const z=(0,E.cg1)(C),je=Dn([z[E.wAp.DaysFormat],z[E.wAp.DaysStandalone]],$);return Dn(je,S)}($,se,z)[C.getDay()];case Ot.DayPeriods:const qe=C.getHours(),wt=C.getMinutes();if(je){const Bn=function xn(C){const $=(0,E.cg1)(C);return tt($),($[E.wAp.ExtraData][2]||[]).map(z=>"string"==typeof z?Ln(z):[Ln(z[0]),Ln(z[1])])}($),jn=function At(C,$,S){const z=(0,E.cg1)(C);tt(z);const je=Dn([z[E.wAp.ExtraData][0],z[E.wAp.ExtraData][1]],$)||[];return Dn(je,S)||[]}($,se,z),nn=Bn.findIndex(Fr=>{if(Array.isArray(Fr)){const[$n,kt]=Fr,ni=qe>=$n.hours&&wt>=$n.minutes,Vi=qe<kt.hours||qe===kt.hours&&wt<kt.minutes;if($n.hours<kt.hours){if(ni&&Vi)return!0}else if(ni||Vi)return!0}else if(Fr.hours===qe&&Fr.minutes===wt)return!0;return!1});if(-1!==nn)return jn[nn]}return function gr(C,$,S){const z=(0,E.cg1)(C),je=Dn([z[E.wAp.DayPeriodsFormat],z[E.wAp.DayPeriodsStandalone]],$);return Dn(je,S)}($,se,z)[qe<12?0:1];case Ot.Eras:return function nr(C,$){return Dn((0,E.cg1)(C)[E.wAp.Eras],$)}($,z)[C.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${S}`)}}(se,je,C,$,S,z)}}function Oe(C){return function($,S,z){const se=-1*z,je=Un(S,Be.MinusSign),qe=se>0?Math.floor(se/60):Math.ceil(se/60);switch(C){case en.Short:return(se>=0?"+":"")+yr(qe,2,je)+yr(Math.abs(se%60),2,je);case en.ShortGMT:return"GMT"+(se>=0?"+":"")+yr(qe,1,je);case en.Long:return"GMT"+(se>=0?"+":"")+yr(qe,2,je)+":"+yr(Math.abs(se%60),2,je);case en.Extended:return 0===z?"Z":(se>=0?"+":"")+yr(qe,2,je)+":"+yr(Math.abs(se%60),2,je);default:throw new Error(`Unknown zone width "${C}"`)}}}function In(C){return wi(C.getFullYear(),C.getMonth(),C.getDate()+(4-C.getDay()))}function qn(C,$=!1){return function(S,z){let se;if($){const je=new Date(S.getFullYear(),S.getMonth(),1).getDay()-1,qe=S.getDate();se=1+Math.floor((qe+je)/7)}else{const je=In(S),qe=function Pn(C){const $=wi(C,0,1).getDay();return wi(C,0,1+($<=4?4:11)-$)}(je.getFullYear()),wt=je.getTime()-qe.getTime();se=1+Math.round(wt/6048e5)}return yr(se,C,Un(z,Be.MinusSign))}}function Ur(C,$=!1){return function(S,z){return yr(In(S).getFullYear(),C,Un(z,Be.MinusSign),$)}}const ln={};function qr(C,$){C=C.replace(/:/g,"");const S=Date.parse("Jan 01, 1970 00:00:00 "+C)/6e4;return isNaN(S)?$:S}function Wn(C){return C instanceof Date&&!isNaN(C.valueOf())}class wn{}let lr=(()=>{class C extends wn{constructor(S){super(),this.locale=S}getPluralCategory(S,z){switch(zr(z||this.locale)(S)){case ye.Zero:return"zero";case ye.One:return"one";case ye.Two:return"two";case ye.Few:return"few";case ye.Many:return"many";default:return"other"}}}return C.\u0275fac=function(S){return new(S||C)(E.LFG(E.soG))},C.\u0275prov=E.Yz7({token:C,factory:C.\u0275fac}),C})();function kr(C,$){$=encodeURIComponent($);for(const S of C.split(";")){const z=S.indexOf("="),[se,je]=-1==z?[S,""]:[S.slice(0,z),S.slice(z+1)];if(se.trim()===$)return decodeURIComponent(je)}return null}let fi=(()=>{class C{constructor(S,z,se,je){this._iterableDiffers=S,this._keyValueDiffers=z,this._ngEl=se,this._renderer=je,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(S){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof S?S.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(S){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof S?S.split(/\s+/):S,this._rawClass&&((0,E.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const S=this._iterableDiffer.diff(this._rawClass);S&&this._applyIterableChanges(S)}else if(this._keyValueDiffer){const S=this._keyValueDiffer.diff(this._rawClass);S&&this._applyKeyValueChanges(S)}}_applyKeyValueChanges(S){S.forEachAddedItem(z=>this._toggleClass(z.key,z.currentValue)),S.forEachChangedItem(z=>this._toggleClass(z.key,z.currentValue)),S.forEachRemovedItem(z=>{z.previousValue&&this._toggleClass(z.key,!1)})}_applyIterableChanges(S){S.forEachAddedItem(z=>{if("string"!=typeof z.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,E.AaK)(z.item)}`);this._toggleClass(z.item,!0)}),S.forEachRemovedItem(z=>this._toggleClass(z.item,!1))}_applyClasses(S){S&&(Array.isArray(S)||S instanceof Set?S.forEach(z=>this._toggleClass(z,!0)):Object.keys(S).forEach(z=>this._toggleClass(z,!!S[z])))}_removeClasses(S){S&&(Array.isArray(S)||S instanceof Set?S.forEach(z=>this._toggleClass(z,!1)):Object.keys(S).forEach(z=>this._toggleClass(z,!1)))}_toggleClass(S,z){(S=S.trim())&&S.split(/\s+/g).forEach(se=>{z?this._renderer.addClass(this._ngEl.nativeElement,se):this._renderer.removeClass(this._ngEl.nativeElement,se)})}}return C.\u0275fac=function(S){return new(S||C)(E.Y36(E.ZZ4),E.Y36(E.aQg),E.Y36(E.SBq),E.Y36(E.Qsj))},C.\u0275dir=E.lG2({type:C,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),C})();class br{constructor($,S,z,se){this.$implicit=$,this.ngForOf=S,this.index=z,this.count=se}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jn=(()=>{class C{constructor(S,z,se){this._viewContainer=S,this._template=z,this._differs=se,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const z=this._viewContainer;S.forEachOperation((se,je,qe)=>{if(null==se.previousIndex)z.createEmbeddedView(this._template,new br(se.item,this._ngForOf,-1,-1),null===qe?void 0:qe);else if(null==qe)z.remove(null===je?void 0:je);else if(null!==je){const wt=z.get(je);z.move(wt,qe),pi(wt,se)}});for(let se=0,je=z.length;se<je;se++){const wt=z.get(se).context;wt.index=se,wt.count=je,wt.ngForOf=this._ngForOf}S.forEachIdentityChange(se=>{pi(z.get(se.currentIndex),se)})}static ngTemplateContextGuard(S,z){return!0}}return C.\u0275fac=function(S){return new(S||C)(E.Y36(E.s_b),E.Y36(E.Rgc),E.Y36(E.ZZ4))},C.\u0275dir=E.lG2({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),C})();function pi(C,$){C.context.$implicit=$.item}let Nn=(()=>{class C{constructor(S,z){this._viewContainer=S,this._context=new Cn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=z}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){Ps("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){Ps("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,z){return!0}}return C.\u0275fac=function(S){return new(S||C)(E.Y36(E.s_b),E.Y36(E.Rgc))},C.\u0275dir=E.lG2({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),C})();class Cn{constructor(){this.$implicit=null,this.ngIf=null}}function Ps(C,$){if($&&!$.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,E.AaK)($)}'.`)}const Ar=new E.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let An=(()=>{class C{constructor(S,z){this.locale=S,this.defaultTimezone=z}transform(S,z="mediumDate",se,je){var qe;if(null==S||""===S||S!=S)return null;try{return Ji(S,z,je||this.locale,null!==(qe=null!=se?se:this.defaultTimezone)&&void 0!==qe?qe:void 0)}catch(wt){throw function dr(C,$){return new E.vHH(2100,"")}()}}}return C.\u0275fac=function(S){return new(S||C)(E.Y36(E.soG,16),E.Y36(Ar,24))},C.\u0275pipe=E.Yjl({name:"date",type:C,pure:!0}),C})(),Qs=(()=>{class C{}return C.\u0275fac=function(S){return new(S||C)},C.\u0275mod=E.oAB({type:C}),C.\u0275inj=E.cJS({providers:[{provide:wn,useClass:lr}]}),C})();const go="browser";function ne(C){return"server"===C}let yn=(()=>{class C{}return C.\u0275prov=(0,E.Yz7)({token:C,providedIn:"root",factory:()=>new Xt((0,E.LFG)(Re),window)}),C})();class Xt{constructor($,S){this.document=$,this.window=S,this.offset=()=>[0,0]}setOffset($){this.offset=Array.isArray($)?()=>$:$}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition($){this.supportsScrolling()&&this.window.scrollTo($[0],$[1])}scrollToAnchor($){if(!this.supportsScrolling())return;const S=function Lr(C,$){const S=C.getElementById($)||C.getElementsByName($)[0];if(S)return S;if("function"==typeof C.createTreeWalker&&C.body&&(C.body.createShadowRoot||C.body.attachShadow)){const z=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let se=z.currentNode;for(;se;){const je=se.shadowRoot;if(je){const qe=je.getElementById($)||je.querySelector(`[name="${$}"]`);if(qe)return qe}se=z.nextNode()}}return null}(this.document,$);S&&(this.scrollToElement(S),this.attemptFocus(S))}setHistoryScrollRestoration($){if(this.supportScrollRestoration()){const S=this.window.history;S&&S.scrollRestoration&&(S.scrollRestoration=$)}}scrollToElement($){const S=$.getBoundingClientRect(),z=S.left+this.window.pageXOffset,se=S.top+this.window.pageYOffset,je=this.offset();this.window.scrollTo(z-je[0],se-je[1])}attemptFocus($){return $.focus(),this.document.activeElement===$}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const $=tn(this.window.history)||tn(Object.getPrototypeOf(this.window.history));return!(!$||!$.writable&&!$.set)}catch($){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch($){return!1}}}function tn(C){return Object.getOwnPropertyDescriptor(C,"scrollRestoration")}class an{}},5e3:(Ct,Ve,U)=>{"use strict";U.d(Ve,{deG:()=>cu,tb:()=>W0,AFp:()=>G0,ip1:()=>Q_,CZH:()=>wf,hGG:()=>ob,z2F:()=>Ag,sBO:()=>LI,Sil:()=>X_,_Vd:()=>wg,EJc:()=>K0,SBq:()=>Eg,qLn:()=>kc,vpe:()=>mc,tBr:()=>Ti,XFs:()=>At,OlP:()=>wr,zs3:()=>Do,ZZ4:()=>my,aQg:()=>yy,soG:()=>py,YKP:()=>r0,h0i:()=>yf,PXZ:()=>SI,R0b:()=>Ra,FiY:()=>Mr,Lbi:()=>q0,g9A:()=>z0,Qsj:()=>lE,FYo:()=>Jv,JOm:()=>Ai,tp0:()=>co,Rgc:()=>Tg,dDg:()=>J0,q4F:()=>e0,GfV:()=>Xv,s_b:()=>ly,ifc:()=>en,eFA:()=>tw,G48:()=>NI,X6Q:()=>kI,_c5:()=>XI,VLi:()=>TI,c2e:()=>Z0,zSh:()=>pp,wAp:()=>pn,vHH:()=>Je,cg1:()=>gg,kL8:()=>ny,dqk:()=>Mt,sIi:()=>Fl,CqO:()=>Wl,QGY:()=>Uu,F4k:()=>ru,RDi:()=>jt,AaK:()=>Ae,TTD:()=>Wi,xp6:()=>wh,uIk:()=>Pp,Suo:()=>b0,Xpm:()=>In,lG2:()=>xi,Yz7:()=>yt,cJS:()=>En,oAB:()=>qr,Yjl:()=>Ui,Y36:()=>Jc,_UZ:()=>Sm,qZA:()=>Vd,TgZ:()=>Bd,EpF:()=>jd,LFG:()=>De,$8M:()=>Ss,$Z:()=>jp,NdJ:()=>iu,CRH:()=>D0,oxw:()=>Mm,ALo:()=>g0,xi3:()=>m0,Q6J:()=>Fu,DdM:()=>u0,VKq:()=>c0,iGM:()=>I0,MAs:()=>Fd,CHM:()=>jo,LSH:()=>Rc,YNc:()=>Lp,_uU:()=>Hd,Oqu:()=>rg});var E=U(7579),x=U(727),W=U(8306),be=U(6451),ve=U(3099);function Ie(t){for(let n in t)if(t[n]===Ie)return n;throw Error("Could not find renamed property on target object.")}function Ae(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ae).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function xe(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const oe=Ie({__forward_ref__:Ie});function X(t){return t.__forward_ref__=X,t.toString=function(){return Ae(this())},t}function Ce(t){return function ht(t){return"function"==typeof t&&t.hasOwnProperty(oe)&&t.__forward_ref__===X}(t)?t():t}class Je extends Error{constructor(n,s){super(function rt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,s)),this.code=n}}function we(t){return"string"==typeof t?t:null==t?"":String(t)}function Pe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():we(t)}function Fe(t,n){const s=n?` in ${n}`:"";throw new Je(-201,`No provider for ${Pe(t)} found${s}`)}function zt(t,n){null==t&&function Bt(t,n,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function yt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function En(t){return{providers:t.providers||[],imports:t.imports||[]}}function Un(t){return Hr(t,Gr)||Hr(t,tt)}function Hr(t,n){return t.hasOwnProperty(n)?t[n]:null}function Si(t){return t&&(t.hasOwnProperty(zr)||t.hasOwnProperty(xn))?t[zr]:null}const Gr=Ie({\u0275prov:Ie}),zr=Ie({\u0275inj:Ie}),tt=Ie({ngInjectableDef:Ie}),xn=Ie({ngInjectorDef:Ie});var At=(()=>((At=At||{})[At.Default=0]="Default",At[At.Host=1]="Host",At[At.Self=2]="Self",At[At.SkipSelf=4]="SkipSelf",At[At.Optional=8]="Optional",At))();let mn;function Ln(t){const n=mn;return mn=t,n}function Ri(t,n,s){const a=Un(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&At.Optional?null:void 0!==n?n:void Fe(Ae(t),"Injector")}function Vt(t){return{toString:t}.toString()}var cn=(()=>((cn=cn||{})[cn.OnPush=0]="OnPush",cn[cn.Default=1]="Default",cn))(),en=(()=>{return(t=en||(en={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",en;var t})();const Dt="undefined"!=typeof globalThis&&globalThis,Ot="undefined"!=typeof window&&window,Ji="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Mt=Dt||"undefined"!=typeof global&&global||Ot||Ji,di={},ie=[],ue=Ie({\u0275cmp:Ie}),ce=Ie({\u0275dir:Ie}),We=Ie({\u0275pipe:Ie}),Oe=Ie({\u0275mod:Ie}),vt=Ie({\u0275fac:Ie}),$t=Ie({__NG_ELEMENT_ID__:Ie});let Pn=0;function In(t){return Vt(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===cn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ie,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||en.Emulated,id:"c",styles:t.styles||ie,_:null,setInput:null,schemas:t.schemas||null,tView:null},c=t.directives,h=t.features,g=t.pipes;return a.id+=Pn++,a.inputs=Qt(t.inputs,s),a.outputs=Qt(t.outputs),h&&h.forEach(w=>w(a)),a.directiveDefs=c?()=>("function"==typeof c?c():c).map(Ur):null,a.pipeDefs=g?()=>("function"==typeof g?g():g).map(ln):null,a})}function Ur(t){return Wn(t)||function rr(t){return t[ce]||null}(t)}function ln(t){return function Wr(t){return t[We]||null}(t)}const On={};function qr(t){return Vt(()=>{const n={type:t.type,bootstrap:t.bootstrap||ie,declarations:t.declarations||ie,imports:t.imports||ie,exports:t.exports||ie,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(On[t.id]=t.type),n})}function Qt(t,n){if(null==t)return di;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=a,n&&(n[c]=h)}return s}const xi=In;function Ui(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Wn(t){return t[ue]||null}function _r(t,n){const s=t[Oe]||null;if(!s&&!0===n)throw new Error(`Type ${Ae(t)} does not have '\u0275mod' property.`);return s}function Yr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ii(t){return Array.isArray(t)&&!0===t[1]}function Os(t){return 0!=(8&t.flags)}function Tn(t){return 2==(2&t.flags)}function Mi(t){return 1==(1&t.flags)}function gi(t){return null!==t.template}function Bi(t){return 0!=(512&t[2])}function hs(t,n){return t.hasOwnProperty(vt)?t[vt]:null}class Ns{constructor(n,s,a){this.previousValue=n,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Wi(){return Nr}function Nr(t){return t.type.prototype.ngOnChanges&&(t.setInput=mi),fs}function fs(){const t=go(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===di)t.previous=n;else for(let a in n)s[a]=n[a];t.current=null,this.ngOnChanges(n)}}function mi(t,n,s,a){const c=go(t)||function oi(t,n){return t[Qs]=n}(t,{previous:di,current:null}),h=c.current||(c.current={}),g=c.previous,w=this.declaredInputs[s],b=g[w];h[w]=new Ns(b&&b.currentValue,n,g===di),t[a]=n}Wi.ngInherit=!0;const Qs="__ngSimpleChanges__";function go(t){return t[Qs]||null}let ot;function jt(t){ot=t}function tn(t){return!!t.listen}const Lr={createRenderer:(t,n)=>function yn(){return void 0!==ot?ot:"undefined"!=typeof document?document:void 0}()};function an(t){for(;Array.isArray(t);)t=t[0];return t}function z(t,n){return an(n[t.index])}function je(t,n){return t.data[n]}function qe(t,n){return t[n]}function wt(t,n){const s=n[t];return Yr(s)?s:s[0]}function dn(t){return 4==(4&t[2])}function Bn(t){return 128==(128&t[2])}function nn(t,n){return null==n?null:t[n]}function Fr(t){t[18]=0}function $n(t,n){t[5]+=n;let s=t,a=t[3];for(;null!==a&&(1===n&&1===s[5]||-1===n&&0===s[5]);)a[5]+=n,s=a,a=a[3]}const kt={lFrame:mo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function $i(){return kt.bindingsEnabled}function it(){return kt.lFrame.lView}function hn(){return kt.lFrame.tView}function jo(t){return kt.lFrame.contextLView=t,t[8]}function N(){let t=P();for(;null!==t&&64===t.type;)t=t.parent;return t}function P(){return kt.lFrame.currentTNode}function J(t,n){const s=kt.lFrame;s.currentTNode=t,s.isParent=n}function me(){return kt.lFrame.isParent}function It(){return kt.isInCheckNoChangesMode}function on(t){kt.isInCheckNoChangesMode=t}function rn(){const t=kt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function or(){return kt.lFrame.bindingIndex++}function rs(t,n){const s=kt.lFrame;s.bindingIndex=s.bindingRootIndex=t,Sr(n)}function Sr(t){kt.lFrame.currentDirectiveIndex=t}function ar(){return kt.lFrame.currentQueryIndex}function gs(t){kt.lFrame.currentQueryIndex=t}function $o(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function zs(t,n,s){if(s&At.SkipSelf){let c=n,h=t;for(;!(c=c.parent,null!==c||s&At.Host||(c=$o(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;n=c,t=h}const a=kt.lFrame=Ma();return a.currentTNode=n,a.lView=t,!0}function qs(t){const n=Ma(),s=t[1];kt.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function Ma(){const t=kt.lFrame,n=null===t?null:t.child;return null===n?mo(t):n}function mo(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Pa(){const t=kt.lFrame;return kt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ho=Pa;function Co(){const t=Pa();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Di(){return kt.lFrame.selectedIndex}function Ls(t){kt.lFrame.selectedIndex=t}function Vr(){const t=kt.lFrame;return je(t.tView,t.selectedIndex)}function zo(t,n){for(let s=n.directiveStart,a=n.directiveEnd;s<a;s++){const h=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:L,ngOnDestroy:H}=h;g&&(t.contentHooks||(t.contentHooks=[])).push(-s,g),w&&((t.contentHooks||(t.contentHooks=[])).push(s,w),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,w)),b&&(t.viewHooks||(t.viewHooks=[])).push(-s,b),L&&((t.viewHooks||(t.viewHooks=[])).push(s,L),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,L)),null!=H&&(t.destroyHooks||(t.destroyHooks=[])).push(s,H)}}function Xs(t,n,s){is(t,n,3,s)}function ua(t,n,s,a){(3&t[2])===s&&is(t,n,s,a)}function so(t,n){let s=t[2];(3&s)===n&&(s&=2047,s+=1,t[2]=s)}function is(t,n,s,a){const h=null!=a?a:-1,g=n.length-1;let w=0;for(let b=void 0!==a?65535&t[18]:0;b<g;b++)if("number"==typeof n[b+1]){if(w=n[b],null!=a&&w>=a)break}else n[b]<0&&(t[18]+=65536),(w<h||-1==h)&&(La(t,s,n,b),t[18]=(4294901760&t[18])+b+2),b++}function La(t,n,s,a){const c=s[a]<0,h=s[a+1],w=t[c?-s[a]:s[a]];if(c){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{h.call(w)}finally{}}}else try{h.call(w)}finally{}}class Tr{constructor(n,s,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Ro(t,n,s){const a=tn(t);let c=0;for(;c<s.length;){const h=s[c];if("number"==typeof h){if(0!==h)break;c++;const g=s[c++],w=s[c++],b=s[c++];a?t.setAttribute(n,w,b,g):n.setAttributeNS(g,w,b)}else{const g=h,w=s[++c];ai(g)?a&&t.setProperty(n,g,w):a?t.setAttribute(n,g,w):n.setAttribute(g,w),c++}}return c}function Fa(t){return 3===t||4===t||6===t}function ai(t){return 64===t.charCodeAt(0)}function Oi(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let a=0;a<n.length;a++){const c=n[a];"number"==typeof c?s=c:0===s||ju(t,s,c,null,-1===s||2===s?n[++a]:null)}}return t}function ju(t,n,s,a,c){let h=0,g=t.length;if(-1===n)g=-1;else for(;h<t.length;){const w=t[h++];if("number"==typeof w){if(w===n){g=-1;break}if(w>n){g=h-1;break}}}for(;h<t.length;){const w=t[h];if("number"==typeof w)break;if(w===s){if(null===a)return void(null!==c&&(t[h+1]=c));if(a===t[h+1])return void(t[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==g&&(t.splice(g,0,n),h=g+1),t.splice(h++,0,s),null!==a&&t.splice(h++,0,a),null!==c&&t.splice(h++,0,c)}function Zo(t){return-1!==t}function la(t){return 32767&t}function xo(t,n){let s=function yc(t){return t>>16}(t),a=n;for(;s>0;)a=a[15],s--;return a}let $u=!0;function Ko(t){const n=$u;return $u=t,n}let da=0;function ui(t,n){const s=Fs(t,n);if(-1!==s)return s;const a=n[1];a.firstCreatePass&&(t.injectorIndex=n.length,ao(a.data,t),ao(n,null),ao(a.blueprint,null));const c=uo(t,n),h=t.injectorIndex;if(Zo(c)){const g=la(c),w=xo(c,n),b=w[1].data;for(let L=0;L<8;L++)n[h+L]=w[g+L]|b[g+L]}return n[h+8]=c,h}function ao(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Fs(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function uo(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=n;for(;null!==c;){const h=c[1],g=h.type;if(a=2===g?h.declTNode:1===g?c[6]:null,null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function I(t,n,s){!function Hu(t,n,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty($t)&&(a=s[$t]),null==a&&(a=s[$t]=da++);const c=255&a;n.data[t+(c>>5)]|=1<<c}(t,n,s)}function _(t,n,s){if(s&At.Optional)return t;Fe(n,"NodeInjector")}function T(t,n,s,a){if(s&At.Optional&&void 0===a&&(a=null),0==(s&(At.Self|At.Host))){const c=t[9],h=Ln(void 0);try{return c?c.get(n,a,s&At.Optional):Ri(n,a,s&At.Optional)}finally{Ln(h)}}return _(a,n,s)}function k(t,n,s,a=At.Default,c){if(null!==t){const h=function $e(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty($t)?t[$t]:void 0;return"number"==typeof n?n>=0?255&n:Y:n}(s);if("function"==typeof h){if(!zs(n,t,a))return a&At.Host?_(c,s,a):T(n,s,a,c);try{const g=h(a);if(null!=g||a&At.Optional)return g;Fe(s)}finally{Ho()}}else if("number"==typeof h){let g=null,w=Fs(t,n),b=-1,L=a&At.Host?n[16][6]:null;for((-1===w||a&At.SkipSelf)&&(b=-1===w?uo(t,n):n[w+8],-1!==b&&Gn(a,!1)?(g=n[1],w=la(b),n=xo(b,n)):w=-1);-1!==w;){const H=n[1];if(Rt(h,w,H.data)){const Q=le(w,n,s,g,a,L);if(Q!==B)return Q}b=n[w+8],-1!==b&&Gn(a,n[1].data[w+8]===L)&&Rt(h,w,n)?(g=H,w=la(b),n=xo(b,n)):w=-1}}}return T(n,s,a,c)}const B={};function Y(){return new er(N(),it())}function le(t,n,s,a,c,h){const g=n[1],w=g.data[t+8],H=ge(w,g,s,null==a?Tn(w)&&$u:a!=g&&0!=(3&w.type),c&At.Host&&h===w);return null!==H?de(n,g,H,w):B}function ge(t,n,s,a,c){const h=t.providerIndexes,g=n.data,w=1048575&h,b=t.directiveStart,H=h>>20,fe=c?w+H:t.directiveEnd;for(let Me=a?w:w+H;Me<fe;Me++){const Qe=g[Me];if(Me<b&&s===Qe||Me>=b&&Qe.type===s)return Me}if(c){const Me=g[b];if(Me&&gi(Me)&&Me.type===s)return b}return null}function de(t,n,s,a){let c=t[s];const h=n.data;if(function qo(t){return t instanceof Tr}(c)){const g=c;g.resolving&&function ze(t,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Je(-200,`Circular dependency in DI detected for ${t}${s}`)}(Pe(h[s]));const w=Ko(g.canSeeViewProviders);g.resolving=!0;const b=g.injectImpl?Ln(g.injectImpl):null;zs(t,a,At.Default);try{c=t[s]=g.factory(void 0,h,t,a),n.firstCreatePass&&s>=a.directiveStart&&function Na(t,n,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=n.type.prototype;if(a){const g=Nr(n);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,g),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,g)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,c),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,h))}(s,h[s],n)}finally{null!==b&&Ln(b),Ko(w),g.resolving=!1,Ho()}}return c}function Rt(t,n,s){return!!(s[n+(t>>5)]&1<<t)}function Gn(t,n){return!(t&At.Self||t&At.Host&&n)}class er{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,a){return k(this._tNode,this._lView,n,a,s)}}function Ss(t){return function m(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const h=s[c];if(Fa(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(h===n)return s[c+1];c+=2}}}return null}(N(),t)}const Us="__parameters__";function Ua(t,n,s){return Vt(()=>{const a=function ki(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(n);function c(...h){if(this instanceof c)return a.apply(this,h),this;const g=new c(...h);return w.annotation=g,w;function w(b,L,H){const Q=b.hasOwnProperty(Us)?b[Us]:Object.defineProperty(b,Us,{value:[]})[Us];for(;Q.length<=H;)Q.push(null);return(Q[H]=Q[H]||[]).push(g),b}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}class wr{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=yt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const cu=new wr("AnalyzeForEntryComponents");function Gi(t,n){void 0===n&&(n=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(n===t&&(n=t.slice(0,s)),Gi(a,n)):n!==t&&n.push(a)}return n}function Cr(t,n){t.forEach(s=>Array.isArray(s)?Cr(s,n):n(s))}function pa(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function ga(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}const Bs={},jr="__NG_DI_FLAG__",hu="ngTempTokenPath",ya=/\n/gm,Ga="__source",D=Ie({provide:String,useValue:Ie});let R;function G(t){const n=R;return R=t,n}function ee(t,n=At.Default){if(void 0===R)throw new Je(203,"");return null===R?Ri(t,void 0,n):R.get(t,n&At.Optional?null:void 0,n)}function De(t,n=At.Default){return(function Dn(){return mn}()||ee)(Ce(t),n)}function Ht(t){const n=[];for(let s=0;s<t.length;s++){const a=Ce(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Je(900,"");let c,h=At.Default;for(let g=0;g<a.length;g++){const w=a[g],b=fr(w);"number"==typeof b?-1===b?c=w.token:h|=b:c=w}n.push(De(c,h))}else n.push(De(a))}return n}function Ft(t,n){return t[jr]=n,t.prototype[jr]=n,t}function fr(t){return t[jr]}const Ti=Ft(Ua("Inject",t=>({token:t})),-1),Mr=Ft(Ua("Optional"),8),co=Ft(Ua("SkipSelf"),4);class wa{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const nh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var ei=(()=>((ei=ei||{})[ei.NONE=0]="NONE",ei[ei.HTML=1]="HTML",ei[ei.STYLE=2]="STYLE",ei[ei.SCRIPT=3]="SCRIPT",ei[ei.URL=4]="URL",ei[ei.RESOURCE_URL=5]="RESOURCE_URL",ei))();function Rc(t){const n=function Ni(){const t=it();return t&&t[12]}();return n?n.sanitize(ei.URL,t)||"":function Eu(t,n){const s=function Yi(t){return t instanceof wa&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===n}(t,"URL")?function Za(t){return t instanceof wa?t.changingThisBreaksApplicationSecurity:t}(t):function ea(t){return(t=String(t)).match(nh)||t.match(rh)?t:"unsafe:"+t}(we(t))}const ko="__ngContext__";function as(t,n){t[ko]=n}function Du(t){const n=function Ya(t){return t[ko]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function gl(t){return t.ngOriginalError}function Oc(t,...n){t.error(...n)}class kc{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n),a=function dh(t){return t&&t.ngErrorLogger||Oc}(n);a(this._console,"ERROR",n),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&gl(n);for(;s&&gl(s);)s=gl(s);return s||null}}const Io=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Mt))();function li(t){return t instanceof Function?t():t}var Ai=(()=>((Ai=Ai||{})[Ai.Important=1]="Important",Ai[Ai.DashCase=2]="DashCase",Ai))();function js(t,n){return undefined(t,n)}function ia(t){const n=t[3];return Ii(n)?n[3]:n}function Qu(t){return ut(t[13])}function Ju(t){return ut(t[4])}function ut(t){for(;null!==t&&!Ii(t);)t=t[4];return t}function Qi(t,n,s,a,c){if(null!=a){let h,g=!1;Ii(a)?h=a:Yr(a)&&(g=!0,a=a[0]);const w=an(a);0===t&&null!==s?null==c?Gt(n,s,w):Lt(n,s,w,c||null,!0):1===t&&null!==s?Lt(n,s,w,c||null,!0):2===t?function Pu(t,n,s){const a=fo(t,n);a&&function us(t,n,s,a){tn(t)?t.removeChild(n,s,a):n.removeChild(s)}(t,a,n,s)}(n,w,g):3===t&&n.destroyNode(w),null!=h&&function Mg(t,n,s,a,c){const h=s[7];h!==an(s)&&Qi(n,t,a,h,c);for(let w=10;w<s.length;w++){const b=s[w];El(b[1],b,t,n,a,h)}}(n,t,h,s,c)}}function Nc(t,n,s){return tn(t)?t.createElement(n,s):null===s?t.createElement(n):t.createElementNS(s,n)}function d(t,n){const s=t[9],a=s.indexOf(n),c=n[3];1024&n[2]&&(n[2]&=-1025,$n(c,-1)),s.splice(a,1)}function y(t,n){if(t.length<=10)return;const s=10+n,a=t[s];if(a){const c=a[17];null!==c&&c!==t&&d(c,a),n>0&&(t[s-1][4]=a[4]);const h=ga(t,10+n);!function Ru(t,n){El(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(a[1],a);const g=h[19];null!==g&&g.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function M(t,n){if(!(256&n[2])){const s=n[11];tn(s)&&s.destroyNode&&El(t,n,s,3,null,null),function _h(t){let n=t[13];if(!n)return j(t[1],t);for(;n;){let s=null;if(Yr(n))s=n[13];else{const a=n[10];a&&(s=a)}if(!s){for(;n&&!n[4]&&n!==t;)Yr(n)&&j(n[1],n),n=n[3];null===n&&(n=t),Yr(n)&&j(n[1],n),s=n&&n[4]}n=s}}(n)}}function j(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function Le(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=n[s[a]];if(!(c instanceof Tr)){const h=s[a+1];if(Array.isArray(h))for(let g=0;g<h.length;g+=2){const w=c[h[g]],b=h[g+1];try{b.call(w)}finally{}}else try{h.call(c)}finally{}}}}(t,n),function ae(t,n){const s=t.cleanup,a=n[7];let c=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const g=s[h+1],w="function"==typeof g?g(n):an(n[g]),b=a[c=s[h+2]],L=s[h+3];"boolean"==typeof L?w.removeEventListener(s[h],b,L):L>=0?a[c=L]():a[c=-L].unsubscribe(),h+=2}else{const g=a[c=s[h+1]];s[h].call(g)}if(null!==a){for(let h=c+1;h<a.length;h++)a[h]();n[7]=null}}(t,n),1===n[1].type&&tn(n[11])&&n[11].destroy();const s=n[17];if(null!==s&&Ii(n[3])){s!==n[3]&&d(s,n);const a=n[19];null!==a&&a.detachView(t)}}}function mt(t,n,s){return function lt(t,n,s){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return s[0];if(2&a.flags){const c=t.data[a.directiveStart].encapsulation;if(c===en.None||c===en.Emulated)return null}return z(a,s)}(t,n.parent,s)}function Lt(t,n,s,a,c){tn(t)?t.insertBefore(n,s,a,c):n.insertBefore(s,a,c)}function Gt(t,n,s){tn(t)?t.appendChild(n,s):n.appendChild(s)}function Fn(t,n,s,a,c){null!==a?Lt(t,n,s,a,c):Gt(t,n,s)}function fo(t,n){return tn(t)?t.parentNode(n):n.parentNode}let _d=function vl(t,n,s){return 40&t.type?z(t,s):null};function Xu(t,n,s,a){const c=mt(t,a,n),h=n[11],w=function Lc(t,n,s){return _d(t,n,s)}(a.parent||n[6],a,n);if(null!=c)if(Array.isArray(s))for(let b=0;b<s.length;b++)Fn(h,c,s[b],w,!1);else Fn(h,c,s,w,!1)}function Mu(t,n){if(null!==n){const s=n.type;if(3&s)return z(n,t);if(4&s)return wl(-1,t[n.index]);if(8&s){const a=n.child;if(null!==a)return Mu(t,a);{const c=t[n.index];return Ii(c)?wl(-1,c):an(c)}}if(32&s)return js(n,t)()||an(t[n.index]);{const a=$s(t,n);return null!==a?Array.isArray(a)?a[0]:Mu(ia(t[16]),a):Mu(t,n.next)}}return null}function $s(t,n){return null!==n?t[16][6].projection[n.projection]:null}function wl(t,n){const s=10+t+1;if(s<n.length){const a=n[s],c=a[1].firstChild;if(null!==c)return Mu(a,c)}return n[7]}function Fc(t,n,s,a,c,h,g){for(;null!=s;){const w=a[s.index],b=s.type;if(g&&0===n&&(w&&as(an(w),a),s.flags|=4),64!=(64&s.flags))if(8&b)Fc(t,n,s.child,a,c,h,!1),Qi(n,t,c,w,h);else if(32&b){const L=js(s,a);let H;for(;H=L();)Qi(n,t,c,H,h);Qi(n,t,c,w,h)}else 16&b?Uc(t,n,a,s,c,h):Qi(n,t,c,w,h);s=g?s.projectionNext:s.next}}function El(t,n,s,a,c,h){Fc(s,a,t.firstChild,n,c,h,!1)}function Uc(t,n,s,a,c,h){const g=s[16],b=g[6].projection[a.projection];if(Array.isArray(b))for(let L=0;L<b.length;L++)Qi(n,t,c,b[L],h);else Fc(t,n,b,g[3],c,h,!0)}function Pg(t,n,s){tn(t)?t.setAttribute(n,"style",s):n.style.cssText=s}function tc(t,n,s){tn(t)?""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s):n.className=s}function kf(t,n,s){let a=t.length;for(;;){const c=t.indexOf(n,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const h=n.length;if(c+h===a||t.charCodeAt(c+h)<=32)return c}s=c+1}}const nc="ng-template";function Nf(t,n,s){let a=0;for(;a<t.length;){let c=t[a++];if(s&&"class"===c){if(c=t[a],-1!==kf(c.toLowerCase(),n,0))return!0}else if(1===c){for(;a<t.length&&"string"==typeof(c=t[a++]);)if(c.toLowerCase()===n)return!0;return!1}}return!1}function Lf(t){return 4===t.type&&t.value!==nc}function _y(t,n,s){return n===(4!==t.type||s?t.value:nc)}function vy(t,n,s){let a=4;const c=t.attrs||[],h=function Og(t){for(let n=0;n<t.length;n++)if(Fa(t[n]))return n;return t.length}(c);let g=!1;for(let w=0;w<n.length;w++){const b=n[w];if("number"!=typeof b){if(!g)if(4&a){if(a=2|1&a,""!==b&&!_y(t,b,s)||""===b&&1===n.length){if(Ea(a))return!1;g=!0}}else{const L=8&a?b:n[++w];if(8&a&&null!==t.attrs){if(!Nf(t.attrs,L,s)){if(Ea(a))return!1;g=!0}continue}const Q=wy(8&a?"class":b,c,Lf(t),s);if(-1===Q){if(Ea(a))return!1;g=!0;continue}if(""!==L){let fe;fe=Q>h?"":c[Q+1].toLowerCase();const Me=8&a?fe:null;if(Me&&-1!==kf(Me,L,0)||2&a&&L!==fe){if(Ea(a))return!1;g=!0}}}}else{if(!g&&!Ea(a)&&!Ea(b))return!1;if(g&&Ea(b))continue;g=!1,a=b|1&a}}return Ea(a)||g}function Ea(t){return 0==(1&t)}function wy(t,n,s,a){if(null===n)return-1;let c=0;if(a||!s){let h=!1;for(;c<n.length;){const g=n[c];if(g===t)return c;if(3===g||6===g)h=!0;else{if(1===g||2===g){let w=n[++c];for(;"string"==typeof w;)w=n[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=h?1:2}return-1}return function Ey(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===n)return s;s++}return-1}(n,t)}function wd(t,n,s=!1){for(let a=0;a<n.length;a++)if(vy(t,n[a],s))return!0;return!1}function Ff(t,n){return t?":not("+n.trim()+")":n}function rc(t){let n=t[0],s=1,a=2,c="",h=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const w=t[++s];c+="["+g+(w.length>0?'="'+w+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!Ea(g)&&(n+=Ff(h,c),c=""),a=g,h=h||!Ea(a);s++}return""!==c&&(n+=Ff(h,c)),n}const Mn={};function wh(t){Eh(hn(),it(),Di()+t,It())}function Eh(t,n,s,a){if(!a)if(3==(3&n[2])){const h=t.preOrderCheckHooks;null!==h&&Xs(n,h,s)}else{const h=t.preOrderHooks;null!==h&&ua(n,h,0,s)}Ls(s)}function Dd(t,n){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a],h=s[a+1];if(-1!==h){const g=t.data[h];gs(c),g.contentQueries(2,n[h],h)}}}function Dl(t,n,s,a,c,h,g,w,b,L){const H=n.blueprint.slice();return H[0]=c,H[2]=140|a,Fr(H),H[3]=H[15]=t,H[8]=s,H[10]=g||t&&t[10],H[11]=w||t&&t[11],H[12]=b||t&&t[12]||null,H[9]=L||t&&t[9]||null,H[6]=h,H[16]=2==n.type?t[16]:H,H}function Tl(t,n,s,a,c){let h=t.data[n];if(null===h)h=function zf(t,n,s,a,c){const h=P(),g=me(),b=t.data[n]=function xy(t,n,s,a,c,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?h:h&&h.parent,s,n,a,c);return null===t.firstChild&&(t.firstChild=b),null!==h&&(g?null==h.child&&null!==b.parent&&(h.child=b):null===h.next&&(h.next=b)),b}(t,n,s,a,c),function Pi(){return kt.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=c;const g=function Z(){const t=kt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===g?-1:g.injectorIndex}return J(h,!0),h}function Cl(t,n,s,a){if(0===s)return-1;const c=n.length;for(let h=0;h<s;h++)n.push(a),t.blueprint.push(a),t.data.push(null);return c}function Cd(t,n,s){qs(n);try{const a=t.viewQuery;null!==a&&Fh(1,a,s);const c=t.template;null!==c&&Mh(t,n,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Dd(t,n),t.staticViewQueries&&Fh(2,t.viewQuery,s);const h=t.components;null!==h&&function Gf(t,n){for(let s=0;s<n.length;s++)Ly(t,n[s])}(n,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[2]&=-5,Co()}}function Al(t,n,s,a){const c=n[2];if(256==(256&c))return;qs(n);const h=It();try{Fr(n),function Dr(t){return kt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Mh(t,n,s,2,a);const g=3==(3&c);if(!h)if(g){const L=t.preOrderCheckHooks;null!==L&&Xs(n,L,null)}else{const L=t.preOrderHooks;null!==L&&ua(n,L,0,null),so(n,0)}if(function em(t){for(let n=Qu(t);null!==n;n=Ju(n)){if(!n[2])continue;const s=n[9];for(let a=0;a<s.length;a++){const c=s[a],h=c[3];0==(1024&c[2])&&$n(h,1),c[2]|=1024}}}(n),function Pl(t){for(let n=Qu(t);null!==n;n=Ju(n))for(let s=10;s<n.length;s++){const a=n[s],c=a[1];Bn(a)&&Al(c,a,c.template,a[8])}}(n),null!==t.contentQueries&&Dd(t,n),!h)if(g){const L=t.contentCheckHooks;null!==L&&Xs(n,L)}else{const L=t.contentHooks;null!==L&&ua(n,L,1),so(n,1)}!function zg(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)Ls(~c);else{const h=c,g=s[++a],w=s[++a];rs(g,h),w(2,n[h])}}}finally{Ls(-1)}}(t,n);const w=t.components;null!==w&&function Td(t,n){for(let s=0;s<n.length;s++)Ol(t,n[s])}(n,w);const b=t.viewQuery;if(null!==b&&Fh(2,b,a),!h)if(g){const L=t.viewCheckHooks;null!==L&&Xs(n,L)}else{const L=t.viewHooks;null!==L&&ua(n,L,2),so(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),h||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,$n(n[3],-1))}finally{Co()}}function Ad(t,n,s,a){const c=n[10],h=!It(),g=dn(n);try{h&&!g&&c.begin&&c.begin(),g&&Cd(t,n,a),Al(t,n,s,a)}finally{h&&!g&&c.end&&c.end()}}function Mh(t,n,s,a,c){const h=Di(),g=2&a;try{Ls(-1),g&&n.length>20&&Eh(t,n,20,It()),s(a,c)}finally{Ls(h)}}function Sd(t,n,s){!$i()||(function ky(t,n,s,a){const c=s.directiveStart,h=s.directiveEnd;t.firstCreatePass||ui(s,n),as(a,n);const g=s.initialInputs;for(let w=c;w<h;w++){const b=t.data[w],L=gi(b);L&&tp(n,s,b);const H=de(n,t,w,s);as(H,n),null!==g&&Ml(0,w-c,H,b,0,g),L&&(wt(s.index,n)[8]=H)}}(t,n,s,z(s,n)),128==(128&s.flags)&&function Qf(t,n,s){const a=s.directiveStart,c=s.directiveEnd,g=s.index,w=function bi(){return kt.lFrame.currentDirectiveIndex}();try{Ls(g);for(let b=a;b<c;b++){const L=t.data[b],H=n[b];Sr(b),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&Qg(L,H)}}finally{Ls(-1),Sr(w)}}(t,n,s))}function Sl(t,n,s=z){const a=n.localNames;if(null!==a){let c=n.index+1;for(let h=0;h<a.length;h+=2){const g=a[h+1],w=-1===g?s(n,t):t[g];t[c++]=w}}}function Rl(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=xl(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function xl(t,n,s,a,c,h,g,w,b,L){const H=20+a,Q=H+c,fe=function qg(t,n){const s=[];for(let a=0;a<n;a++)s.push(a<t?null:Mn);return s}(H,Q),Me="function"==typeof L?L():L;return fe[1]={type:t,blueprint:fe,template:s,queries:null,viewQuery:w,declTNode:n,data:fe.slice().fill(null,H),bindingStartIndex:H,expandoStartIndex:Q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:b,consts:Me,incompleteFirstPass:!1}}function qf(t,n,s,a){const c=up(n);null===s?c.push(a):(c.push(s),t.firstCreatePass&&cp(t).push(a,c.length-1))}function Oh(t,n,s){for(let a in t)if(t.hasOwnProperty(a)){const c=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(n,c):s[a]=[n,c]}return s}function Kf(t,n,s,a){let c=!1;if($i()){const h=function Jf(t,n,s){const a=t.directiveRegistry;let c=null;if(a)for(let h=0;h<a.length;h++){const g=a[h];wd(s,g.selectors,!1)&&(c||(c=[]),I(ui(s,n),t,g.type),gi(g)?(Jg(t,s),c.unshift(g)):c.push(g))}return c}(t,n,s),g=null===a?null:{"":-1};if(null!==h){c=!0,Nh(s,t.data.length,h.length);for(let H=0;H<h.length;H++){const Q=h[H];Q.providersResolver&&Q.providersResolver(Q)}let w=!1,b=!1,L=Cl(t,n,h.length,null);for(let H=0;H<h.length;H++){const Q=h[H];s.mergedAttrs=Oi(s.mergedAttrs,Q.hostAttrs),ep(t,s,n,L,Q),Ny(L,Q,g),null!==Q.contentQueries&&(s.flags|=8),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(s.flags|=128);const fe=Q.type.prototype;!w&&(fe.ngOnChanges||fe.ngOnInit||fe.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),w=!0),!b&&(fe.ngOnChanges||fe.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),b=!0),L++}!function My(t,n){const a=n.directiveEnd,c=t.data,h=n.attrs,g=[];let w=null,b=null;for(let L=n.directiveStart;L<a;L++){const H=c[L],Q=H.inputs,fe=null===h||Lf(n)?null:oc(Q,h);g.push(fe),w=Oh(Q,L,w),b=Oh(H.outputs,L,b)}null!==w&&(w.hasOwnProperty("class")&&(n.flags|=16),w.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=g,n.inputs=w,n.outputs=b}(t,s)}g&&function Xf(t,n,s){if(n){const a=t.localNames=[];for(let c=0;c<n.length;c+=2){const h=s[n[c+1]];if(null==h)throw new Je(-301,`Export of name '${n[c+1]}' not found!`);a.push(n[c],h)}}}(s,a,g)}return s.mergedAttrs=Oi(s.mergedAttrs,s.attrs),c}function Yf(t,n,s,a,c,h){const g=h.hostBindings;if(g){let w=t.hostBindingOpCodes;null===w&&(w=t.hostBindingOpCodes=[]);const b=~n.index;(function Yg(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(w)!=b&&w.push(b),w.push(a,c,g)}}function Qg(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Jg(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function Ny(t,n,s){if(s){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)s[n.exportAs[a]]=t;gi(n)&&(s[""]=t)}}function Nh(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}function ep(t,n,s,a,c){t.data[a]=c;const h=c.factory||(c.factory=hs(c.type)),g=new Tr(h,gi(c),null);t.blueprint[a]=g,s[a]=g,Yf(t,n,0,a,Cl(t,s,c.hostVars,Mn),c)}function tp(t,n,s){const a=z(n,t),c=Rl(s),h=t[10],g=kl(t,Dl(t,c,null,s.onPush?64:16,a,n,h,h.createRenderer(a,s),null,null));t[n.index]=g}function sa(t,n,s,a,c,h){const g=z(t,n);!function Rd(t,n,s,a,c,h,g){if(null==h)tn(t)?t.removeAttribute(n,c,s):n.removeAttribute(c);else{const w=null==g?we(h):g(h,a||"",c);tn(t)?t.setAttribute(n,c,w,s):s?n.setAttributeNS(s,c,w):n.setAttribute(c,w)}}(n[11],g,h,t.value,s,a,c)}function Ml(t,n,s,a,c,h){const g=h[n];if(null!==g){const w=a.setInput;for(let b=0;b<g.length;){const L=g[b++],H=g[b++],Q=g[b++];null!==w?a.setInput(s,Q,L,H):s[H]=Q}}}function oc(t,n){let s=null,a=0;for(;a<n.length;){const c=n[a];if(0!==c)if(5!==c){if("number"==typeof c)break;t.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,t[c],n[a+1])),a+=2}else a+=2;else a+=4}return s}function zc(t,n,s,a){return new Array(t,!0,!1,n,null,0,a,s,null,null)}function Ol(t,n){const s=wt(n,t);if(Bn(s)){const a=s[1];80&s[2]?Al(a,s,a.template,s[8]):s[5]>0&&np(s)}}function np(t){for(let a=Qu(t);null!==a;a=Ju(a))for(let c=10;c<a.length;c++){const h=a[c];if(1024&h[2]){const g=h[1];Al(g,h,g.template,h[8])}else h[5]>0&&np(h)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=wt(s[a],t);Bn(c)&&c[5]>0&&np(c)}}function Ly(t,n){const s=wt(n,t),a=s[1];(function rp(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])})(a,s),Cd(a,s,s[8])}function kl(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function xd(t){for(;t;){t[2]|=64;const n=ia(t);if(Bi(t)&&!n)return t;t=n}return null}function op(t,n,s){const a=n[10];a.begin&&a.begin();try{Al(t,n,t.template,s)}catch(c){throw nm(n,c),c}finally{a.end&&a.end()}}function Lh(t){!function sp(t){for(let n=0;n<t.components.length;n++){const s=t.components[n],a=Du(s),c=a[1];Ad(c,a,c.template,s)}}(t[8])}function Fh(t,n,s){gs(0),n(t,s)}const tm=(()=>Promise.resolve(null))();function up(t){return t[7]||(t[7]=[])}function cp(t){return t.cleanup||(t.cleanup=[])}function nm(t,n){const s=t[9],a=s?s.get(kc,null):null;a&&a.handleError(n)}function rm(t,n,s,a,c){for(let h=0;h<s.length;){const g=s[h++],w=s[h++],b=n[g],L=t.data[g];null!==L.setInput?L.setInput(b,c,a,w):b[w]=c}}function Nu(t,n,s){const a=function S(t,n){return an(n[t])}(n,t);!function Au(t,n,s){tn(t)?t.setValue(n,s):n.textContent=s}(t[11],a,s)}function Uh(t,n,s){let a=s?t.styles:null,c=s?t.classes:null,h=0;if(null!==n)for(let g=0;g<n.length;g++){const w=n[g];"number"==typeof w?h=w:1==h?c=xe(c,w):2==h&&(a=xe(a,w+": "+n[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}const fp=new wr("INJECTOR",-1);class Bh{get(n,s=Bs){if(s===Bs){const a=new Error(`NullInjectorError: No provider for ${Ae(n)}!`);throw a.name="NullInjectorError",a}return s}}const pp=new wr("Set Injector scope."),qc={},sm={};let Md;function gp(){return void 0===Md&&(Md=new Bh),Md}function om(t,n=null,s=null,a){const c=Vh(t,n,s,a);return c._resolveInjectorDefTypes(),c}function Vh(t,n=null,s=null,a){return new Uy(t,s,n||gp(),a)}class Uy{constructor(n,s,a,c=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];s&&Cr(s,w=>this.processProvider(w,n,s)),Cr([n],w=>this.processInjectorType(w,[],h)),this.records.set(fp,ac(void 0,this));const g=this.records.get(pp);this.scope=null!=g?g.value:null,this.source=c||("object"==typeof n?null:Ae(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,s=Bs,a=At.Default){this.assertNotDestroyed();const c=G(this),h=Ln(void 0);try{if(!(a&At.SkipSelf)){let w=this.records.get(n);if(void 0===w){const b=function Lu(t){return"function"==typeof t||"object"==typeof t&&t instanceof wr}(n)&&Un(n);w=b&&this.injectableDefInScope(b)?ac(Pd(n),qc):null,this.records.set(n,w)}if(null!=w)return this.hydrate(n,w)}return(a&At.Self?gp():this.parent).get(n,s=a&At.Optional&&s===Bs?null:s)}catch(g){if("NullInjectorError"===g.name){if((g[hu]=g[hu]||[]).unshift(Ae(n)),c)throw g;return function xr(t,n,s,a){const c=t[hu];throw n[Ga]&&c.unshift(n[Ga]),t.message=function os(t,n,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let c=Ae(n);if(Array.isArray(n))c=n.map(Ae).join(" -> ");else if("object"==typeof n){let h=[];for(let g in n)if(n.hasOwnProperty(g)){let w=n[g];h.push(g+":"+("string"==typeof w?JSON.stringify(w):Ae(w)))}c=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(ya,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[hu]=null,t}(g,n,"R3InjectorError",this.source)}throw g}finally{Ln(h),G(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((a,c)=>n.push(Ae(c))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Je(205,"")}processInjectorType(n,s,a){if(!(n=Ce(n)))return!1;let c=Si(n);const h=null==c&&n.ngModule||void 0,g=void 0===h?n:h,w=-1!==a.indexOf(g);if(void 0!==h&&(c=Si(h)),null==c)return!1;if(null!=c.imports&&!w){let H;a.push(g);try{Cr(c.imports,Q=>{this.processInjectorType(Q,s,a)&&(void 0===H&&(H=[]),H.push(Q))})}finally{}if(void 0!==H)for(let Q=0;Q<H.length;Q++){const{ngModule:fe,providers:Me}=H[Q];Cr(Me,Qe=>this.processProvider(Qe,fe,Me||ie))}}this.injectorDefTypes.add(g);const b=hs(g)||(()=>new g);this.records.set(g,ac(b,qc));const L=c.providers;if(null!=L&&!w){const H=n;Cr(L,Q=>this.processProvider(Q,H,L))}return void 0!==h&&void 0!==n.providers}processProvider(n,s,a){let c=Wc(n=Ce(n))?n:Ce(n&&n.provide);const h=function mp(t,n,s){return jh(t)?ac(void 0,t.useValue):ac(function am(t,n,s){let a;if(Wc(t)){const c=Ce(t);return hs(c)||Pd(c)}if(jh(t))a=()=>Ce(t.useValue);else if(function Nl(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Ht(t.deps||[]));else if(function yp(t){return!(!t||!t.useExisting)}(t))a=()=>De(Ce(t.useExisting));else{const c=Ce(t&&(t.useClass||t.provide));if(!function Vy(t){return!!t.deps}(t))return hs(c)||Pd(c);a=()=>new c(...Ht(t.deps))}return a}(t),qc)}(n);if(Wc(n)||!0!==n.multi)this.records.get(c);else{let g=this.records.get(c);g||(g=ac(void 0,qc,!0),g.factory=()=>Ht(g.multi),this.records.set(c,g)),c=n,g.multi.push(n)}this.records.set(c,h)}hydrate(n,s){return s.value===qc&&(s.value=sm,s.value=s.factory()),"object"==typeof s.value&&s.value&&function vp(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=Ce(n.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Pd(t){const n=Un(t),s=null!==n?n.factory:hs(t);if(null!==s)return s;if(t instanceof wr)throw new Je(204,"");if(t instanceof Function)return function By(t){const n=t.length;if(n>0)throw function Qo(t,n){const s=[];for(let a=0;a<t;a++)s.push(n);return s}(n,"?"),new Je(204,"");const s=function un(t){const n=t&&(t[Gr]||t[tt]);if(n){const s=function Kn(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),n}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Je(204,"")}function ac(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function jh(t){return null!==t&&"object"==typeof t&&D in t}function Wc(t){return"function"==typeof t}let Do=(()=>{class t{static create(s,a){var c;if(Array.isArray(s))return om({name:""},a,s,"");{const h=null!==(c=s.name)&&void 0!==c?c:"";return om({name:h},s.parent,s.providers,h)}}}return t.THROW_IF_NOT_FOUND=Bs,t.NULL=new Bh,t.\u0275prov=yt({token:t,providedIn:"any",factory:()=>De(fp)}),t.__NG_ELEMENT_ID__=-1,t})();function Wh(t,n){zo(Du(t)[1],N())}let Ll=null;function Zc(){if(!Ll){const t=Mt.Symbol;if(t&&t.iterator)Ll=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<n.length;++s){const a=n[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Ll=a)}}}return Ll}function Fl(t){return!!kd(t)&&(Array.isArray(t)||!(t instanceof Map)&&Zc()in t)}function kd(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Xa(t,n,s){return t[n]=s}function no(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function Pp(t,n,s,a){const c=it();return no(c,or(),n)&&(hn(),sa(Vr(),c,t,n,s,a)),Pp}function Lp(t,n,s,a,c,h,g,w){const b=it(),L=hn(),H=t+20,Q=L.firstCreatePass?function eu(t,n,s,a,c,h,g,w,b){const L=n.consts,H=Tl(n,t,4,g||null,nn(L,w));Kf(n,s,H,nn(L,b)),zo(n,H);const Q=H.tViews=xl(2,H,a,c,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,L);return null!==n.queries&&(n.queries.template(n,H),Q.queries=n.queries.embeddedTView(H)),H}(H,L,b,n,s,a,c,h,g):L.data[H];J(Q,!1);const fe=b[11].createComment("");Xu(L,b,fe,Q),as(fe,b),kl(b,b[H]=zc(fe,b,fe,Q)),Mi(Q)&&Sd(L,b,Q),null!=g&&Sl(b,Q,w)}function Fd(t){return qe(function Nt(){return kt.lFrame.contextLView}(),20+t)}function Jc(t,n=At.Default){const s=it();return null===s?De(t,n):k(N(),s,Ce(t),n)}function jp(){throw new Error("invalid")}function Fu(t,n,s){const a=it();return no(a,or(),n)&&function Fo(t,n,s,a,c,h,g,w){const b=z(n,s);let H,L=n.inputs;!w&&null!=L&&(H=L[a])?(rm(t,s,H,a,c),Tn(n)&&function Zf(t,n){const s=wt(n,t);16&s[2]||(s[2]|=64)}(s,n.index)):3&n.type&&(a=function Wf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,n.value||"",a):c,tn(h)?h.setProperty(b,a,c):ai(a)||(b.setProperty?b.setProperty(a,c):b[a]=c))}(hn(),Vr(),a,t,n,a[11],s,!1),Fu}function nf(t,n,s,a,c){const g=c?"class":"style";rm(t,s,n.inputs[g],g,a)}function Bd(t,n,s,a){const c=it(),h=hn(),g=20+t,w=c[11],b=c[g]=Nc(w,n,function ka(){return kt.lFrame.currentNamespace}()),L=h.firstCreatePass?function Am(t,n,s,a,c,h,g){const w=n.consts,L=Tl(n,t,2,c,nn(w,h));return Kf(n,s,L,nn(w,g)),null!==L.attrs&&Uh(L,L.attrs,!1),null!==L.mergedAttrs&&Uh(L,L.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,L),L}(g,h,c,0,n,s,a):h.data[g];J(L,!0);const H=L.mergedAttrs;null!==H&&Ro(w,b,H);const Q=L.classes;null!==Q&&tc(w,b,Q);const fe=L.styles;null!==fe&&Pg(w,b,fe),64!=(64&L.flags)&&Xu(h,c,b,L),0===function Vi(){return kt.lFrame.elementDepthCount}()&&as(b,c),function Js(){kt.lFrame.elementDepthCount++}(),Mi(L)&&(Sd(h,c,L),function Hc(t,n,s){if(Os(n)){const c=n.directiveEnd;for(let h=n.directiveStart;h<c;h++){const g=t.data[h];g.contentQueries&&g.contentQueries(1,s[h],h)}}}(h,L,c)),null!==a&&Sl(c,L)}function Vd(){let t=N();me()?function Ne(){kt.lFrame.isParent=!1}():(t=t.parent,J(t,!1));const n=t;!function ji(){kt.lFrame.elementDepthCount--}();const s=hn();s.firstCreatePass&&(zo(s,t),Os(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function eo(t){return 0!=(16&t.flags)}(n)&&nf(s,n,it(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function So(t){return 0!=(32&t.flags)}(n)&&nf(s,n,it(),n.stylesWithoutHost,!1)}function Sm(t,n,s,a){Bd(t,n,s,a),Vd()}function jd(){return it()}function Uu(t){return!!t&&"function"==typeof t.then}function ru(t){return!!t&&"function"==typeof t.subscribe}const Wl=ru;function iu(t,n,s,a){const c=it(),h=hn(),g=N();return function Gp(t,n,s,a,c,h,g,w){const b=Mi(a),H=t.firstCreatePass&&cp(t),Q=n[8],fe=up(n);let Me=!0;if(3&a.type||w){const xt=z(a,n),Kt=w?w(xt):xt,at=fe.length,gn=w?Er=>w(an(Er[a.index])):a.index;if(tn(s)){let Er=null;if(!w&&b&&(Er=function xm(t,n,s,a){const c=t.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const g=c[h];if(g===s&&c[h+1]===a){const w=n[7],b=c[h+2];return w.length>b?w[b]:null}"string"==typeof g&&(h+=2)}return null}(t,n,c,a.index)),null!==Er)(Er.__ngLastListenerFn__||Er).__ngNextListenerFn__=h,Er.__ngLastListenerFn__=h,Me=!1;else{h=su(a,n,Q,h,!1);const ii=s.listen(Kt,c,h);fe.push(h,ii),H&&H.push(c,gn,at,at+1)}}else h=su(a,n,Q,h,!0),Kt.addEventListener(c,h,g),fe.push(h),H&&H.push(c,gn,at,g)}else h=su(a,n,Q,h,!1);const Qe=a.outputs;let _t;if(Me&&null!==Qe&&(_t=Qe[c])){const xt=_t.length;if(xt)for(let Kt=0;Kt<xt;Kt+=2){const xa=n[_t[Kt]][_t[Kt+1]].subscribe(h),Zd=fe.length;fe.push(h,xa),H&&H.push(c,a.index,Zd,-(Zd+1))}}}(h,c,c[11],g,t,n,!!s,a),iu}function Zl(t,n,s,a){try{return!1!==s(a)}catch(c){return nm(t,c),!1}}function su(t,n,s,a,c){return function h(g){if(g===Function)return a;const w=2&t.flags?wt(t.index,n):n;0==(32&n[2])&&xd(w);let b=Zl(n,0,a,g),L=h.__ngNextListenerFn__;for(;L;)b=Zl(n,0,L,g)&&b,L=L.__ngNextListenerFn__;return c&&!1===b&&(g.preventDefault(),g.returnValue=!1),b}}function Mm(t=1){return function Oa(t){return(kt.lFrame.contextLView=function io(t,n){for(;t>0;)n=n[15],t--;return n}(t,kt.lFrame.contextLView))[8]}(t)}function Hd(t,n=""){const s=it(),a=hn(),c=t+20,h=a.firstCreatePass?Tl(a,c,1,n,null):a.data[c],g=s[c]=function yl(t,n){return tn(t)?t.createText(n):t.createTextNode(n)}(s[11],n);Xu(a,s,g,h),J(h,!1)}function rg(t){return lf("",t,""),rg}function lf(t,n,s){const a=it(),c=function Vl(t,n,s,a){return no(t,or(),s)?n+we(s)+a:Mn}(a,t,n,s);return c!==Mn&&Nu(a,Di(),c),lf}const gc=void 0;var ty=["en",[["a","p"],["AM","PM"],gc],[["AM","PM"],gc,gc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gc,"{1} 'at' {0}",gc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ey(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let nl={};function gg(t){const n=function T_(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=ff(n);if(s)return s;const a=n.split("-")[0];if(s=ff(a),s)return s;if("en"===a)return ty;throw new Error(`Missing locale data for the locale "${t}".`)}function ny(t){return gg(t)[pn.PluralCase]}function ff(t){return t in nl||(nl[t]=Mt.ng&&Mt.ng.common&&Mt.ng.common.locales&&Mt.ng.common.locales[t]),nl[t]}var pn=(()=>((pn=pn||{})[pn.LocaleId=0]="LocaleId",pn[pn.DayPeriodsFormat=1]="DayPeriodsFormat",pn[pn.DayPeriodsStandalone=2]="DayPeriodsStandalone",pn[pn.DaysFormat=3]="DaysFormat",pn[pn.DaysStandalone=4]="DaysStandalone",pn[pn.MonthsFormat=5]="MonthsFormat",pn[pn.MonthsStandalone=6]="MonthsStandalone",pn[pn.Eras=7]="Eras",pn[pn.FirstDayOfWeek=8]="FirstDayOfWeek",pn[pn.WeekendRange=9]="WeekendRange",pn[pn.DateFormat=10]="DateFormat",pn[pn.TimeFormat=11]="TimeFormat",pn[pn.DateTimeFormat=12]="DateTimeFormat",pn[pn.NumberSymbols=13]="NumberSymbols",pn[pn.NumberFormats=14]="NumberFormats",pn[pn.CurrencyCode=15]="CurrencyCode",pn[pn.CurrencySymbol=16]="CurrencySymbol",pn[pn.CurrencyName=17]="CurrencyName",pn[pn.Currencies=18]="Currencies",pn[pn.Directionality=19]="Directionality",pn[pn.PluralCase=20]="PluralCase",pn[pn.ExtraData=21]="ExtraData",pn))();const Gd="en-US";let iy=Gd;class Yv{}class aE{resolveComponentFactory(n){throw function oE(t){const n=Error(`No component factory found for ${Ae(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let wg=(()=>{class t{}return t.NULL=new aE,t})();function uE(){return mf(N(),it())}function mf(t,n){return new Eg(z(t,n))}let Eg=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=uE,t})();function cE(t){return t instanceof Eg?t.nativeElement:t}class Jv{}let lE=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function hE(){const t=it(),s=wt(N().index,t);return function dE(t){return t[11]}(Yr(s)?s:t)}(),t})(),fE=(()=>{class t{}return t.\u0275prov=yt({token:t,providedIn:"root",factory:()=>null}),t})();class Xv{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const e0=new Xv("13.1.3"),N_={};function uy(t,n,s,a,c=!1){for(;null!==s;){const h=n[s.index];if(null!==h&&a.push(an(h)),Ii(h))for(let w=10;w<h.length;w++){const b=h[w],L=b[1].firstChild;null!==L&&uy(b[1],b,L,a)}const g=s.type;if(8&g)uy(t,n,s.child,a);else if(32&g){const w=js(s,n);let b;for(;b=w();)a.push(b)}else if(16&g){const w=$s(n,s);if(Array.isArray(w))a.push(...w);else{const b=ia(n[16]);uy(b[1],b,w,a,!0)}}s=c?s.projectionNext:s.next}return a}class Ig{constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,s=n[1];return uy(s,n,s.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Ii(n)){const s=n[8],a=s?s.indexOf(this):-1;a>-1&&(y(n,a),ga(s,a))}this._attachedToViewContainer=!1}M(this._lView[1],this._lView)}onDestroy(n){qf(this._lView[1],this._lView,null,n)}markForCheck(){xd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){op(this._lView[1],this._lView,this.context)}checkNoChanges(){!function ap(t,n,s){on(!0);try{op(t,n,s)}finally{on(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Je(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yd(t,n){El(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Je(902,"");this._appRef=n}}class pE extends Ig{constructor(n){super(n),this._view=n}detectChanges(){Lh(this._view)}checkNoChanges(){!function Fy(t){on(!0);try{Lh(t)}finally{on(!1)}}(this._view)}get context(){return null}}class t0 extends wg{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=Wn(n);return new L_(s,this.ngModule)}}function n0(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}const mE=new wr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Io});class L_ extends Yv{constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function vh(t){return t.map(rc).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return n0(this.componentDef.inputs)}get outputs(){return n0(this.componentDef.outputs)}create(n,s,a,c){const h=(c=c||this.ngModule)?function yE(t,n){return{get:(s,a,c)=>{const h=t.get(s,N_,c);return h!==N_||a===N_?h:n.get(s,a,c)}}}(n,c.injector):n,g=h.get(Jv,Lr),w=h.get(fE,null),b=g.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",H=a?function ku(t,n,s){if(tn(t))return t.selectRootElement(n,s===en.ShadowDom);let a="string"==typeof n?t.querySelector(n):n;return a.textContent="",a}(b,a,this.componentDef.encapsulation):Nc(g.createRenderer(null,this.componentDef),L,function gE(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(L)),Q=this.componentDef.onPush?576:528,fe=function Tp(t,n){return{components:[],scheduler:t||Io,clean:tm,playerHandler:n||null,flags:0}}(),Me=xl(0,null,null,1,0,null,null,null,null,null),Qe=Dl(null,Me,fe,Q,null,null,g,b,w,h);let _t,xt;qs(Qe);try{const Kt=function pm(t,n,s,a,c,h){const g=s[1];s[20]=t;const b=Tl(g,20,2,"#host",null),L=b.mergedAttrs=n.hostAttrs;null!==L&&(Uh(b,L,!0),null!==t&&(Ro(c,t,L),null!==b.classes&&tc(c,t,b.classes),null!==b.styles&&Pg(c,t,b.styles)));const H=a.createRenderer(t,n),Q=Dl(s,Rl(n),null,n.onPush?64:16,s[20],b,a,H,h||null,null);return g.firstCreatePass&&(I(ui(b,s),g,n.type),Jg(g,b),Nh(b,s.length,1)),kl(s,Q),s[20]=Q}(H,this.componentDef,Qe,g,b);if(H)if(a)Ro(b,H,["ng-version",e0.full]);else{const{attrs:at,classes:gn}=function by(t){const n=[],s=[];let a=1,c=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===c?""!==h&&n.push(h,t[++a]):8===c&&s.push(h);else{if(!Ea(c))break;c=h}a++}return{attrs:n,classes:s}}(this.componentDef.selectors[0]);at&&Ro(b,H,at),gn&&gn.length>0&&tc(b,H,gn.join(" "))}if(xt=je(Me,20),void 0!==s){const at=xt.projection=[];for(let gn=0;gn<this.ngContentSelectors.length;gn++){const Er=s[gn];at.push(null!=Er?Array.from(Er):null)}}_t=function qh(t,n,s,a,c){const h=s[1],g=function Oy(t,n,s){const a=N();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),ep(t,a,n,Cl(t,n,1,null),s));const c=de(n,t,a.directiveStart,a);as(c,n);const h=z(a,n);return h&&as(h,n),c}(h,s,n);if(a.components.push(g),t[8]=g,c&&c.forEach(b=>b(g,n)),n.contentQueries){const b=N();n.contentQueries(1,g,b.directiveStart)}const w=N();return!h.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Ls(w.index),Yf(s[1],w,0,w.directiveStart,w.directiveEnd,n),Qg(n,g)),g}(Kt,this.componentDef,Qe,fe,[Wh]),Cd(Me,Qe,null)}finally{Co()}return new vE(this.componentType,_t,mf(xt,Qe),Qe,xt)}}class vE extends class sE{}{constructor(n,s,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new pE(c),this.componentType=n}get injector(){return new er(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class yf{}class r0{}const _f=new Map;class a0 extends yf{constructor(n,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new t0(this);const a=_r(n);this._bootstrapComponents=li(a.bootstrap),this._r3Injector=Vh(n,s,[{provide:yf,useValue:this},{provide:wg,useValue:this.componentFactoryResolver}],Ae(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,s=Do.THROW_IF_NOT_FOUND,a=At.Default){return n===Do||n===yf||n===fp?this:this._r3Injector.get(n,s,a)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class F_ extends r0{constructor(n){super(),this.moduleType=n,null!==_r(n)&&function EE(t){const n=new Set;!function s(a){const c=_r(a,!0),h=c.id;null!==h&&(function s0(t,n,s){if(n&&n!==s)throw new Error(`Duplicate module registered for ${t} - ${Ae(n)} vs ${Ae(n.name)}`)}(h,_f.get(h),a),_f.set(h,a));const g=li(c.imports);for(const w of g)n.has(w)||(n.add(w),s(w))}(t)}(n)}create(n){return new a0(this.moduleType,n)}}function u0(t,n,s){const a=rn()+t,c=it();return c[a]===Mn?Xa(c,a,s?n.call(s):n()):function Nd(t,n){return t[n]}(c,a)}function c0(t,n,s,a){return function l0(t,n,s,a,c,h){const g=n+s;return no(t,g,c)?Xa(t,g+1,h?a.call(h,c):a(c)):bg(t,g+1)}(it(),rn(),t,n,s,a)}function bg(t,n){const s=t[n];return s===Mn?void 0:s}function d0(t,n,s,a,c,h,g){const w=n+s;return function uc(t,n,s,a){const c=no(t,n,s);return no(t,n+1,a)||c}(t,w,c,h)?Xa(t,w+2,g?a.call(g,c,h):a(c,h)):bg(t,w+2)}function g0(t,n){const s=hn();let a;const c=t+20;s.firstCreatePass?(a=function xE(t,n){if(n)for(let s=n.length-1;s>=0;s--){const a=n[s];if(t===a.name)return a}}(n,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,a.onDestroy)):a=s.data[c];const h=a.factory||(a.factory=hs(a.type)),g=Ln(Jc);try{const w=Ko(!1),b=h();return Ko(w),function Wy(t,n,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=a}(s,it(),c,b),b}finally{Ln(g)}}function m0(t,n,s,a){const c=t+20,h=it(),g=qe(h,c);return function Dg(t,n){return t[1].data[n].pure}(h,c)?d0(h,rn(),n,g.transform,s,a,g):g.transform(s,a)}function U_(t){return n=>{setTimeout(t,void 0,n)}}const mc=class NE extends E.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,a){var c,h,g;let w=n,b=s||(()=>null),L=a;if(n&&"object"==typeof n){const Q=n;w=null===(c=Q.next)||void 0===c?void 0:c.bind(Q),b=null===(h=Q.error)||void 0===h?void 0:h.bind(Q),L=null===(g=Q.complete)||void 0===g?void 0:g.bind(Q)}this.__isAsync&&(b=U_(b),w&&(w=U_(w)),L&&(L=U_(L)));const H=super.subscribe({next:w,error:b,complete:L});return n instanceof x.w0&&n.add(H),H}};function LE(){return this._results[Zc()]()}class B_{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Zc(),a=B_.prototype;a[s]||(a[s]=LE)}get changes(){return this._changes||(this._changes=new mc)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const a=this;a.dirty=!1;const c=Gi(n);(this._changesDetected=!function nd(t,n,s){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],h=n[a];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Tg=(()=>{class t{}return t.__NG_ELEMENT_ID__=BE,t})();const FE=Tg,UE=class extends FE{constructor(n,s,a){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(n){const s=this._declarationTContainer.tViews,a=Dl(this._declarationLView,s,n,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(a[19]=h.createEmbeddedView(s)),Cd(s,a,n),new Ig(a)}};function BE(){return cy(N(),it())}function cy(t,n){return 4&t.type?new UE(n,t,mf(t,n)):null}let ly=(()=>{class t{}return t.__NG_ELEMENT_ID__=VE,t})();function VE(){return v0(N(),it())}const jE=ly,y0=class extends jE{constructor(n,s,a){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=a}get element(){return mf(this._hostTNode,this._hostLView)}get injector(){return new er(this._hostTNode,this._hostLView)}get parentInjector(){const n=uo(this._hostTNode,this._hostLView);if(Zo(n)){const s=xo(n,this._hostLView),a=la(n);return new er(s[1].data[a+8],s)}return new er(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=_0(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,s,a){const c=n.createEmbeddedView(s||{});return this.insert(c,a),c}createComponent(n,s,a,c,h){const g=n&&!function vo(t){return"function"==typeof t}(n);let w;if(g)w=s;else{const Q=s||{};w=Q.index,a=Q.injector,c=Q.projectableNodes,h=Q.ngModuleRef}const b=g?n:new L_(Wn(n)),L=a||this.parentInjector;if(!h&&null==b.ngModule&&L){const Q=L.get(yf,null);Q&&(h=Q)}const H=b.create(L,c,void 0,h);return this.insert(H.hostView,w),H}insert(n,s){const a=n._lView,c=a[1];if(function jn(t){return Ii(t[3])}(a)){const H=this.indexOf(n);if(-1!==H)this.detach(H);else{const Q=a[3],fe=new y0(Q,Q[6],Q[3]);fe.detach(fe.indexOf(n))}}const h=this._adjustIndex(s),g=this._lContainer;!function p(t,n,s,a){const c=10+a,h=s.length;a>0&&(s[c-1][4]=n),a<h-10?(n[4]=s[c],pa(s,10+a,n)):(s.push(n),n[4]=null),n[3]=s;const g=n[17];null!==g&&s!==g&&function l(t,n){const s=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===s?t[9]=[n]:s.push(n)}(g,n);const w=n[19];null!==w&&w.insertView(t),n[2]|=128}(c,a,g,h);const w=wl(h,g),b=a[11],L=fo(b,g[7]);return null!==L&&function yh(t,n,s,a,c,h){a[0]=c,a[6]=n,El(t,a,s,1,c,h)}(c,g[6],b,a,L,w),n.attachToViewContainerRef(),pa(V_(g),h,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=_0(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),a=y(this._lContainer,s);a&&(ga(V_(this._lContainer),s),M(a[1],a))}detach(n){const s=this._adjustIndex(n,-1),a=y(this._lContainer,s);return a&&null!=ga(V_(this._lContainer),s)?new Ig(a):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function _0(t){return t[8]}function V_(t){return t[8]||(t[8]=[])}function v0(t,n){let s;const a=n[t.index];if(Ii(a))s=a;else{let c;if(8&t.type)c=an(a);else{const h=n[11];c=h.createComment("");const g=z(t,n);Lt(h,fo(h,g),c,function _l(t,n){return tn(t)?t.nextSibling(n):n.nextSibling}(h,g),!1)}n[t.index]=s=zc(a,n,c,t),kl(n,s)}return new y0(s,t,n)}class j_{constructor(n){this.queryList=n,this.matches=null}clone(){return new j_(this.queryList)}setDirty(){this.queryList.setDirty()}}class $_{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const a=null!==n.contentQueries?n.contentQueries[0]:s.length,c=[];for(let h=0;h<a;h++){const g=s.getByIndex(h);c.push(this.queries[g.indexInDeclarationView].clone())}return new $_(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==A0(n,s).matches&&this.queries[s].setDirty()}}class w0{constructor(n,s,a=null){this.predicate=n,this.flags=s,this.read=a}}class H_{constructor(n=[]){this.queries=n}elementStart(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(n,c);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new H_(s):null}template(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class G_{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new G_(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(n,s,GE(s,h)),this.matchTNodeWithReadOption(n,s,ge(s,n,h,!1,!1))}else a===Tg?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,ge(s,n,a,!1,!1))}matchTNodeWithReadOption(n,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Eg||c===ly||c===Tg&&4&s.type)this.addMatch(s.index,-2);else{const h=ge(s,n,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function GE(t,n){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===n)return s[a+1];return null}function qE(t,n,s,a){return-1===s?function zE(t,n){return 11&t.type?mf(t,n):4&t.type?cy(t,n):null}(n,t):-2===s?function WE(t,n,s){return s===Eg?mf(n,t):s===Tg?cy(n,t):s===ly?v0(n,t):void 0}(t,n,a):de(t,t[1],s,n)}function E0(t,n,s,a){const c=n[19].queries[a];if(null===c.matches){const h=t.data,g=s.matches,w=[];for(let b=0;b<g.length;b+=2){const L=g[b];w.push(L<0?null:qE(n,h[L],g[b+1],s.metadata.read))}c.matches=w}return c.matches}function z_(t,n,s,a){const c=t.queries.getByIndex(s),h=c.matches;if(null!==h){const g=E0(t,n,c,s);for(let w=0;w<h.length;w+=2){const b=h[w];if(b>0)a.push(g[w/2]);else{const L=h[w+1],H=n[-b];for(let Q=10;Q<H.length;Q++){const fe=H[Q];fe[17]===fe[3]&&z_(fe[1],fe,L,a)}if(null!==H[9]){const Q=H[9];for(let fe=0;fe<Q.length;fe++){const Me=Q[fe];z_(Me[1],Me,L,a)}}}}}return a}function I0(t){const n=it(),s=hn(),a=ar();gs(a+1);const c=A0(s,a);if(t.dirty&&dn(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const h=c.crossesNgTemplate?z_(s,n,a,[]):E0(s,n,c,a);t.reset(h,cE),t.notifyOnChanges()}return!0}return!1}function b0(t,n,s,a){const c=hn();if(c.firstCreatePass){const h=N();(function C0(t,n,s){null===t.queries&&(t.queries=new H_),t.queries.track(new G_(n,s))})(c,new w0(n,s,a),h.index),function YE(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}!function T0(t,n,s){const a=new B_(4==(4&s));qf(t,n,a,a.destroy),null===n[19]&&(n[19]=new $_),n[19].queries.push(new j_(a))}(c,it(),s)}function D0(){return function KE(t,n){return t[19].queries[n].queryList}(it(),ar())}function A0(t,n){return t.queries.getByIndex(n)}function fy(...t){}const Q_=new wr("Application Initializer");let wf=(()=>{class t{constructor(s){this.appInits=s,this.resolve=fy,this.reject=fy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Uu(h))s.push(h);else if(Wl(h)){const g=new Promise((w,b)=>{h.subscribe({complete:w,error:b})});s.push(g)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(De(Q_,8))},t.\u0275prov=yt({token:t,factory:t.\u0275fac}),t})();const G0=new wr("AppId"),gI={provide:G0,useFactory:function pI(){return`${J_()}${J_()}${J_()}`},deps:[]};function J_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const z0=new wr("Platform Initializer"),q0=new wr("Platform ID"),W0=new wr("appBootstrapListener");let Z0=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=yt({token:t,factory:t.\u0275fac}),t})();const py=new wr("LocaleId"),K0=new wr("DefaultCurrencyCode");class mI{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let X_=(()=>{class t{compileModuleSync(s){return new F_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=li(_r(s).declarations).reduce((g,w)=>{const b=Wn(w);return b&&g.push(new L_(b)),g},[]);return new mI(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=yt({token:t,factory:t.\u0275fac}),t})();const _I=(()=>Promise.resolve(0))();function ev(t){"undefined"==typeof Zone?_I.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ra{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mc(!1),this.onMicrotaskEmpty=new mc(!1),this.onStable=new mc(!1),this.onError=new mc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function vI(){let t=Mt.requestAnimationFrame,n=Mt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function II(t){const n=()=>{!function EI(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Mt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,nv(t),t.isCheckStableRunning=!0,tv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),nv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,h,g,w)=>{try{return Y0(t),s.invokeTask(c,h,g,w)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),Q0(t)}},onInvoke:(s,a,c,h,g,w,b)=>{try{return Y0(t),s.invoke(c,h,g,w,b)}finally{t.shouldCoalesceRunChangeDetection&&n(),Q0(t)}},onHasTask:(s,a,c,h)=>{s.hasTask(c,h),a===c&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,nv(t),tv(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,c,h)=>(s.handleError(c,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ra.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ra.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,s,a){return this._inner.run(n,s,a)}runTask(n,s,a,c){const h=this._inner,g=h.scheduleEventTask("NgZoneEvent: "+c,n,wI,fy,fy);try{return h.runTask(g,s,a)}finally{h.cancelTask(g)}}runGuarded(n,s,a){return this._inner.runGuarded(n,s,a)}runOutsideAngular(n){return this._outer.run(n)}}const wI={};function tv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Y0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Q0(t){t._nesting--,tv(t)}class bI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mc,this.onMicrotaskEmpty=new mc,this.onStable=new mc,this.onError=new mc}run(n,s,a){return n.apply(s,a)}runGuarded(n,s,a){return n.apply(s,a)}runOutsideAngular(n){return n()}runTask(n,s,a,c){return n.apply(s,a)}}let J0=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ra.assertNotInAngularZone(),ev(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ev(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,c){return[]}}return t.\u0275fac=function(s){return new(s||t)(De(Ra))},t.\u0275prov=yt({token:t,factory:t.\u0275fac}),t})(),X0=(()=>{class t{constructor(){this._applications=new Map,rv.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return rv.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=yt({token:t,factory:t.\u0275fac}),t})();class DI{addToWindow(n){}findTestabilityInTree(n,s,a){return null}}function TI(t){rv=t}let Bu,rv=new DI;const ew=new wr("AllowMultipleToken");class SI{constructor(n,s){this.name=n,this.token=s}}function tw(t,n,s=[]){const a=`Platform: ${n}`,c=new wr(a);return(h=[])=>{let g=nw();if(!g||g.injector.get(ew,!1))if(t)t(s.concat(h).concat({provide:c,useValue:!0}));else{const w=s.concat(h).concat({provide:c,useValue:!0},{provide:pp,useValue:"platform"});!function RI(t){if(Bu&&!Bu.destroyed&&!Bu.injector.get(ew,!1))throw new Je(400,"");Bu=t.get(rw);const n=t.get(z0,null);n&&n.forEach(s=>s())}(Do.create({providers:w,name:a}))}return function xI(t){const n=nw();if(!n)throw new Je(401,"");return n}()}}function nw(){return Bu&&!Bu.destroyed?Bu:null}let rw=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const w=function MI(t,n){let s;return s="noop"===t?new bI:("zone.js"===t?void 0:t)||new Ra({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),b=[{provide:Ra,useValue:w}];return w.run(()=>{const L=Do.create({providers:b,parent:this.injector,name:s.moduleType.name}),H=s.create(L),Q=H.injector.get(kc,null);if(!Q)throw new Je(402,"");return w.runOutsideAngular(()=>{const fe=w.onError.subscribe({next:Me=>{Q.handleError(Me)}});H.onDestroy(()=>{iv(this._modules,H),fe.unsubscribe()})}),function PI(t,n,s){try{const a=s();return Uu(a)?a.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(Q,w,()=>{const fe=H.injector.get(wf);return fe.runInitializers(),fe.donePromise.then(()=>(function S_(t){zt(t,"Expected localeId to be defined"),"string"==typeof t&&(iy=t.toLowerCase().replace(/_/g,"-"))}(H.injector.get(py,Gd)||Gd),this._moduleDoBootstrap(H),H))})})}bootstrapModule(s,a=[]){const c=iw({},a);return function CI(t,n,s){const a=new F_(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const a=s.injector.get(Ag);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Je(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Je(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(De(Do))},t.\u0275prov=yt({token:t,factory:t.\u0275fac}),t})();function iw(t,n){return Array.isArray(n)?n.reduce(iw,t):Object.assign(Object.assign({},t),n)}let Ag=(()=>{class t{constructor(s,a,c,h,g){this._zone=s,this._injector=a,this._exceptionHandler=c,this._componentFactoryResolver=h,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new W.y(L=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{L.next(this._stable),L.complete()})}),b=new W.y(L=>{let H;this._zone.runOutsideAngular(()=>{H=this._zone.onStable.subscribe(()=>{Ra.assertNotInAngularZone(),ev(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,L.next(!0))})})});const Q=this._zone.onUnstable.subscribe(()=>{Ra.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{L.next(!1)}))});return()=>{H.unsubscribe(),Q.unsubscribe()}});this.isStable=(0,be.T)(w,b.pipe((0,ve.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new Je(405,"");let c;c=s instanceof Yv?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(c.componentType);const h=function AI(t){return t.isBoundToModule}(c)?void 0:this._injector.get(yf),w=c.create(Do.NULL,[],a||c.selector,h),b=w.location.nativeElement,L=w.injector.get(J0,null),H=L&&w.injector.get(X0);return L&&H&&H.registerApplication(b,L),w.onDestroy(()=>{this.detachView(w.hostView),iv(this.components,w),H&&H.unregisterApplication(b)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Je(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;iv(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(W0,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(De(Ra),De(Do),De(kc),De(wg),De(wf))},t.\u0275prov=yt({token:t,factory:t.\u0275fac}),t})();function iv(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}let ow=!0,aw=!1;function kI(){return aw=!0,ow}function NI(){if(aw)throw new Error("Cannot enable prod mode after platform setup.");ow=!1}let LI=(()=>{class t{}return t.__NG_ELEMENT_ID__=FI,t})();function FI(t){return function UI(t,n,s){if(Tn(t)&&!s){const a=wt(t.index,n);return new Ig(a,a)}return 47&t.type?new Ig(n[16],n):null}(N(),it(),16==(16&t))}class fw{constructor(){}supports(n){return Fl(n)}create(n){return new GI(n)}}const HI=(t,n)=>n;class GI{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||HI}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,a=this._removalsHead,c=0,h=null;for(;s||a;){const g=!a||s&&s.currentIndex<gw(a,c,h)?s:a,w=gw(g,c,h),b=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{h||(h=[]);const L=w-c,H=b-c;if(L!=H){for(let fe=0;fe<L;fe++){const Me=fe<h.length?h[fe]:h[fe]=0,Qe=Me+fe;H<=Qe&&Qe<L&&(h[fe]=Me+1)}h[g.previousIndex]=H-L}}w!==b&&n(g,w,b)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!Fl(n))throw new Je(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,h,g,s=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let w=0;w<this.length;w++)h=n[w],g=this._trackByFn(w,h),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,h,g,w)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,g,w),a=!0),s=s._next}else c=0,function Ul(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Zc()]();let a;for(;!(a=s.next()).done;)n(a.value)}}(n,w=>{g=this._trackByFn(c,w),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,w,g,c)),Object.is(s.item,w)||this._addIdentityChange(s,w)):(s=this._mismatch(s,w,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,a,c){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,h,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,h,c)):n=this._addAfter(new zI(s,a),h,c),n}_verifyReinsertion(n,s,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?n=this._reinsertAfter(h,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,h=n._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(n,s,a),this._addToMoves(n,a),n}_moveAfter(n,s,a){return this._unlink(n),this._insertAfter(n,s,a),this._addToMoves(n,a),n}_addAfter(n,s,a){return this._insertAfter(n,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,a){const c=null===s?this._itHead:s._next;return n._next=c,n._prev=s,null===c?this._itTail=n:c._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new pw),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,a=n._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pw),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class zI{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const s=n._prevDup,a=n._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class pw{constructor(){this.map=new Map}put(n){const s=n.trackById;let a=this.map.get(s);a||(a=new qI,this.map.set(s,a)),a.add(n)}get(n,s){const c=this.map.get(n);return c?c.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gw(t,n,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+n+c}class mw{constructor(){}supports(n){return n instanceof Map||kd(n)}create(){return new WI}}class WI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||kd(n)))throw new Je(900,"")}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const a=n._prev;return s._next=n,s._prev=a,n._prev=s,a&&(a._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,s);const h=c._prev,g=c._next;return h&&(h._next=g),g&&(g._prev=h),c._next=null,c._prev=null,c}const a=new ZI(n);return this._records.set(n,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(a=>s(n[a],a))}}class ZI{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yw(){return new my([new fw])}let my=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||yw()),deps:[[t,new co,new Mr]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Je(901,"")}}return t.\u0275prov=yt({token:t,providedIn:"root",factory:yw}),t})();function _w(){return new yy([new mw])}let yy=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||_w()),deps:[[t,new co,new Mr]]}}find(s){const a=this.factories.find(h=>h.supports(s));if(a)return a;throw new Je(901,"")}}return t.\u0275prov=yt({token:t,providedIn:"root",factory:_w}),t})();const KI=[new mw],QI=new my([new fw]),JI=new yy(KI),XI=tw(null,"core",[{provide:q0,useValue:"unknown"},{provide:rw,deps:[Do]},{provide:X0,deps:[]},{provide:Z0,deps:[]}]),ib=[{provide:Ag,useClass:Ag,deps:[Ra,Do,kc,wg,wf]},{provide:mE,deps:[Ra],useFactory:function sb(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(s){n.push(s)}}},{provide:wf,useClass:wf,deps:[[new Mr,Q_]]},{provide:X_,useClass:X_,deps:[]},gI,{provide:my,useFactory:function eb(){return QI},deps:[]},{provide:yy,useFactory:function tb(){return JI},deps:[]},{provide:py,useFactory:function nb(t){return t||function rb(){return"undefined"!=typeof $localize&&$localize.locale||Gd}()},deps:[[new Ti(py),new Mr,new co]]},{provide:K0,useValue:"USD"}];let ob=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(De(Ag))},t.\u0275mod=qr({type:t}),t.\u0275inj=En({providers:ib}),t})()},5335:(Ct,Ve,U)=>{"use strict";U.d(Ve,{rH:()=>Tr,Od:()=>yo,yS:()=>qo,Bz:()=>la,lC:()=>ot});var E=U(5e3),x=U(7579);class W extends x.x{constructor(m){super(),this._value=m}get value(){return this.getValue()}_subscribe(m){const _=super._subscribe(m);return!_.closed&&m.next(this._value),_}getValue(){const{hasError:m,thrownError:_,_value:T}=this;if(m)throw _;return this._throwIfClosed(),T}next(m){super.next(this._value=m)}}var be=U(8306),ve=U(4742),Ie=U(8996),Re=U(4671),Ae=U(3268),xe=U(7669),oe=U(1810),X=U(5403),Ce=U(9672);function Je(I,m,_){I?(0,Ce.f)(_,I,m):m()}var rt=U(8421);function we(I){return new be.y(m=>{(0,rt.Xf)(I()).subscribe(m)})}var Pe=U(727),ze=U(4482);function Xe(){return(0,ze.e)((I,m)=>{let _=null;I._refCount++;const T=new X.Q(m,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(_=null);const k=I._connection,B=_;_=null,k&&(!B||k===B)&&k.unsubscribe(),m.unsubscribe()});I.subscribe(T),T.closed||(_=I.connect())})}class te extends be.y{constructor(m,_){super(),this.source=m,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,ze.A)(m)&&(this.lift=m.lift)}_subscribe(m){return this.getSubject().subscribe(m)}getSubject(){const m=this._subject;return(!m||m.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:m}=this;this._subject=this._connection=null,null==m||m.unsubscribe()}connect(){let m=this._connection;if(!m){m=this._connection=new Pe.w0;const _=this.getSubject();m.add(this.source.subscribe(new X.Q(_,void 0,()=>{this._teardown(),_.complete()},T=>{this._teardown(),_.error(T)},()=>this._teardown()))),m.closed&&(this._connection=null,m=Pe.w0.EMPTY)}return m}refCount(){return Xe()(this)}}var Fe=U(9646),Ye=U(6805),Et=U(7272),et=U(515);function Ut(I){return(0,ze.e)((m,_)=>{let B,T=null,k=!1;T=m.subscribe(new X.Q(_,void 0,void 0,Y=>{B=(0,rt.Xf)(I(Y,Ut(I)(m))),T?(T.unsubscribe(),T=null,B.subscribe(_)):k=!0})),k&&(T.unsubscribe(),T=null,B.subscribe(_))})}var Te=U(9300);function ye(I){return I<=0?()=>et.E:(0,ze.e)((m,_)=>{let T=[];m.subscribe(new X.Q(_,k=>{T.push(k),I<T.length&&T.shift()},()=>{for(const k of T)_.next(k);_.complete()},void 0,()=>{T=null}))})}var Ue=U(8068),Se=U(6590),Tt=U(4004),fn=U(3900),gr=U(5698),zt=U(8675),Bt=U(5026),nr=U(4351),Yt=U(590),Rn=U(5577),yt=U(8505),Vn=U(8189),En=U(9808);class Un{constructor(m,_){this.id=m,this.url=_}}class Hr extends Un{constructor(m,_,T="imperative",k=null){super(m,_),this.navigationTrigger=T,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class un extends Un{constructor(m,_,T){super(m,_),this.urlAfterRedirects=T}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kn extends Un{constructor(m,_,T){super(m,_),this.reason=T}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Si extends Un{constructor(m,_,T){super(m,_),this.error=T}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gr extends Un{constructor(m,_,T,k){super(m,_),this.urlAfterRedirects=T,this.state=k}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zr extends Un{constructor(m,_,T,k){super(m,_),this.urlAfterRedirects=T,this.state=k}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tt extends Un{constructor(m,_,T,k,B){super(m,_),this.urlAfterRedirects=T,this.state=k,this.shouldActivate=B}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xn extends Un{constructor(m,_,T,k){super(m,_),this.urlAfterRedirects=T,this.state=k}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class At extends Un{constructor(m,_,T,k){super(m,_),this.urlAfterRedirects=T,this.state=k}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mn{constructor(m){this.route=m}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Dn{constructor(m){this.route=m}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ln{constructor(m){this.snapshot=m}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ri{constructor(m){this.snapshot=m}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qt{constructor(m){this.snapshot=m}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vt{constructor(m){this.snapshot=m}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cn{constructor(m,_,T){this.routerEvent=m,this.position=_,this.anchor=T}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const St="primary";class mr{constructor(m){this.params=m||{}}has(m){return Object.prototype.hasOwnProperty.call(this.params,m)}get(m){if(this.has(m)){const _=this.params[m];return Array.isArray(_)?_[0]:_}return null}getAll(m){if(this.has(m)){const _=this.params[m];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function en(I){return new mr(I)}const Dt="ngNavigationCancelingError";function Ot(I){const m=Error("NavigationCancelingError: "+I);return m[Dt]=!0,m}function wi(I,m,_){const T=_.path.split("/");if(T.length>I.length||"full"===_.pathMatch&&(m.hasChildren()||T.length<I.length))return null;const k={};for(let B=0;B<T.length;B++){const Y=T[B],le=I[B];if(Y.startsWith(":"))k[Y.substring(1)]=le;else if(Y!==le.path)return null}return{consumed:I.slice(0,T.length),posParams:k}}function vn(I,m){const _=I?Object.keys(I):void 0,T=m?Object.keys(m):void 0;if(!_||!T||_.length!=T.length)return!1;let k;for(let B=0;B<_.length;B++)if(k=_[B],!yr(I[k],m[k]))return!1;return!0}function yr(I,m){if(Array.isArray(I)&&Array.isArray(m)){if(I.length!==m.length)return!1;const _=[...I].sort(),T=[...m].sort();return _.every((k,B)=>T[B]===k)}return I===m}function di(I){return Array.prototype.concat.apply([],I)}function ie(I){return I.length>0?I[I.length-1]:null}function ce(I,m){for(const _ in I)I.hasOwnProperty(_)&&m(I[_],_)}function We(I){return(0,E.CqO)(I)?I:(0,E.QGY)(I)?(0,Ie.D)(Promise.resolve(I)):(0,Fe.of)(I)}const vt={exact:function qn(I,m,_){if(!Wn(I.segments,m.segments)||!qr(I.segments,m.segments,_)||I.numberOfChildren!==m.numberOfChildren)return!1;for(const T in m.children)if(!I.children[T]||!qn(I.children[T],m.children[T],_))return!1;return!0},subset:ln},$t={exact:function In(I,m){return vn(I,m)},subset:function Ur(I,m){return Object.keys(m).length<=Object.keys(I).length&&Object.keys(m).every(_=>yr(I[_],m[_]))},ignored:()=>!0};function Pn(I,m,_){return vt[_.paths](I.root,m.root,_.matrixParams)&&$t[_.queryParams](I.queryParams,m.queryParams)&&!("exact"===_.fragment&&I.fragment!==m.fragment)}function ln(I,m,_){return On(I,m,m.segments,_)}function On(I,m,_,T){if(I.segments.length>_.length){const k=I.segments.slice(0,_.length);return!(!Wn(k,_)||m.hasChildren()||!qr(k,_,T))}if(I.segments.length===_.length){if(!Wn(I.segments,_)||!qr(I.segments,_,T))return!1;for(const k in m.children)if(!I.children[k]||!ln(I.children[k],m.children[k],T))return!1;return!0}{const k=_.slice(0,I.segments.length),B=_.slice(I.segments.length);return!!(Wn(I.segments,k)&&qr(I.segments,k,T)&&I.children[St])&&On(I.children[St],m,B,T)}}function qr(I,m,_){return m.every((T,k)=>$t[_](I[k].parameters,T.parameters))}class ti{constructor(m,_,T){this.root=m,this.queryParams=_,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}toString(){return Or.serialize(this)}}class Qt{constructor(m,_){this.segments=m,this.children=_,this.parent=null,ce(_,(T,k)=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xi(this)}}class xi{constructor(m,_){this.path=m,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=en(this.parameters)),this._parameterMap}toString(){return Pt(this)}}function Wn(I,m){return I.length===m.length&&I.every((_,T)=>_.path===m[T].path)}class Wr{}class _r{parse(m){const _=new sn(m);return new ti(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(m){const _=`/${Br(m.root,!0)}`,T=function Qn(I){const m=Object.keys(I).map(_=>{const T=I[_];return Array.isArray(T)?T.map(k=>`${vr(_)}=${vr(k)}`).join("&"):`${vr(_)}=${vr(T)}`}).filter(_=>!!_);return m.length?`?${m.join("&")}`:""}(m.queryParams);return`${_}${T}${"string"==typeof m.fragment?`#${function ir(I){return encodeURI(I)}(m.fragment)}`:""}`}}const Or=new _r;function Xi(I){return I.segments.map(m=>Pt(m)).join("/")}function Br(I,m){if(!I.hasChildren())return Xi(I);if(m){const _=I.children[St]?Br(I.children[St],!1):"",T=[];return ce(I.children,(k,B)=>{B!==St&&T.push(`${B}:${Br(k,!1)}`)}),T.length>0?`${_}(${T.join("//")})`:_}{const _=function rr(I,m){let _=[];return ce(I.children,(T,k)=>{k===St&&(_=_.concat(m(T,k)))}),ce(I.children,(T,k)=>{k!==St&&(_=_.concat(m(T,k)))}),_}(I,(T,k)=>k===St?[Br(I.children[St],!1)]:[`${k}:${Br(T,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[St]?`${Xi(I)}/${_[0]}`:`${Xi(I)}/(${_.join("//")})`}}function cr(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vr(I){return cr(I).replace(/%3B/gi,";")}function hi(I){return cr(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yn(I){return decodeURIComponent(I)}function gt(I){return Yn(I.replace(/\+/g,"%20"))}function Pt(I){return`${hi(I.path)}${function Jt(I){return Object.keys(I).map(m=>`;${hi(m)}=${hi(I[m])}`).join("")}(I.parameters)}`}const Ir=/^[^\/()?;=#]+/;function sr(I){const m=I.match(Ir);return m?m[0]:""}const Zr=/^[^=?&#]+/,kn=/^[^&#]+/;class sn{constructor(m){this.url=m,this.remaining=m}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){const m={};if(this.consumeOptional("?"))do{this.parseQueryParam(m)}while(this.consumeOptional("&"));return m}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const m=[];for(this.peekStartsWith("(")||m.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),m.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(m.length>0||Object.keys(_).length>0)&&(T[St]=new Qt(m,_)),T}parseSegment(){const m=sr(this.remaining);if(""===m&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(m),new xi(Yn(m),this.parseMatrixParams())}parseMatrixParams(){const m={};for(;this.consumeOptional(";");)this.parseParam(m);return m}parseParam(m){const _=sr(this.remaining);if(!_)return;this.capture(_);let T="";if(this.consumeOptional("=")){const k=sr(this.remaining);k&&(T=k,this.capture(T))}m[Yn(_)]=Yn(T)}parseQueryParam(m){const _=function wn(I){const m=I.match(Zr);return m?m[0]:""}(this.remaining);if(!_)return;this.capture(_);let T="";if(this.consumeOptional("=")){const Y=function lr(I){const m=I.match(kn);return m?m[0]:""}(this.remaining);Y&&(T=Y,this.capture(T))}const k=gt(_),B=gt(T);if(m.hasOwnProperty(k)){let Y=m[k];Array.isArray(Y)||(Y=[Y],m[k]=Y),Y.push(B)}else m[k]=B}parseParens(m){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=sr(this.remaining),k=this.remaining[T.length];if("/"!==k&&")"!==k&&";"!==k)throw new Error(`Cannot parse url '${this.url}'`);let B;T.indexOf(":")>-1?(B=T.substr(0,T.indexOf(":")),this.capture(B),this.capture(":")):m&&(B=St);const Y=this.parseChildren();_[B]=1===Object.keys(Y).length?Y[St]:new Qt([],Y),this.consumeOptional("//")}return _}peekStartsWith(m){return this.remaining.startsWith(m)}consumeOptional(m){return!!this.peekStartsWith(m)&&(this.remaining=this.remaining.substring(m.length),!0)}capture(m){if(!this.consumeOptional(m))throw new Error(`Expected "${m}".`)}}class kr{constructor(m){this._root=m}get root(){return this._root.value}parent(m){const _=this.pathFromRoot(m);return _.length>1?_[_.length-2]:null}children(m){const _=fi(m,this._root);return _?_.children.map(T=>T.value):[]}firstChild(m){const _=fi(m,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(m){const _=Ei(m,this._root);return _.length<2?[]:_[_.length-2].children.map(k=>k.value).filter(k=>k!==m)}pathFromRoot(m){return Ei(m,this._root).map(_=>_.value)}}function fi(I,m){if(I===m.value)return m;for(const _ of m.children){const T=fi(I,_);if(T)return T}return null}function Ei(I,m){if(I===m.value)return[m];for(const _ of m.children){const T=Ei(I,_);if(T.length)return T.unshift(m),T}return[]}class br{constructor(m,_){this.value=m,this.children=_}toString(){return`TreeNode(${this.value})`}}function Jn(I){const m={};return I&&I.children.forEach(_=>m[_.value.outlet]=_),m}class pi extends kr{constructor(m,_){super(m),this.snapshot=_,Os(this,m)}toString(){return this.snapshot.toString()}}function Kr(I,m){const _=function Nn(I,m){const Y=new Yr([],{},{},"",{},St,m,null,I.root,-1,{});return new Ii("",new br(Y,[]))}(I,m),T=new W([new xi("",{})]),k=new W({}),B=new W({}),Y=new W({}),le=new W(""),ge=new Cn(T,k,Y,le,B,St,m,_.root);return ge.snapshot=_.root,new pi(new br(ge,[]),_)}class Cn{constructor(m,_,T,k,B,Y,le,ge){this.url=m,this.params=_,this.queryParams=T,this.fragment=k,this.data=B,this.outlet=Y,this.component=le,this._futureSnapshot=ge}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Tt.U)(m=>en(m)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Tt.U)(m=>en(m)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ps(I,m="emptyOnly"){const _=I.pathFromRoot;let T=0;if("always"!==m)for(T=_.length-1;T>=1;){const k=_[T],B=_[T-1];if(k.routeConfig&&""===k.routeConfig.path)T--;else{if(B.component)break;T--}}return function si(I){return I.reduce((m,_)=>({params:Object.assign(Object.assign({},m.params),_.params),data:Object.assign(Object.assign({},m.data),_.data),resolve:Object.assign(Object.assign({},m.resolve),_._resolvedData)}),{params:{},data:{},resolve:{}})}(_.slice(T))}class Yr{constructor(m,_,T,k,B,Y,le,ge,de,$e,Rt){this.url=m,this.params=_,this.queryParams=T,this.fragment=k,this.data=B,this.outlet=Y,this.component=le,this.routeConfig=ge,this._urlSegment=de,this._lastPathIndex=$e,this._resolve=Rt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=en(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ii extends kr{constructor(m,_){super(_),this.url=m,Os(this,_)}toString(){return Tn(this._root)}}function Os(I,m){m.value._routerState=I,m.children.forEach(_=>Os(I,_))}function Tn(I){const m=I.children.length>0?` { ${I.children.map(Tn).join(", ")} } `:"";return`${I.value}${m}`}function Mi(I){if(I.snapshot){const m=I.snapshot,_=I._futureSnapshot;I.snapshot=_,vn(m.queryParams,_.queryParams)||I.queryParams.next(_.queryParams),m.fragment!==_.fragment&&I.fragment.next(_.fragment),vn(m.params,_.params)||I.params.next(_.params),function Mt(I,m){if(I.length!==m.length)return!1;for(let _=0;_<I.length;++_)if(!vn(I[_],m[_]))return!1;return!0}(m.url,_.url)||I.url.next(_.url),vn(m.data,_.data)||I.data.next(_.data)}else I.snapshot=I._futureSnapshot,I.data.next(I._futureSnapshot.data)}function gi(I,m){const _=vn(I.params,m.params)&&function Ui(I,m){return Wn(I,m)&&I.every((_,T)=>vn(_.parameters,m[T].parameters))}(I.url,m.url);return _&&!(!I.parent!=!m.parent)&&(!I.parent||gi(I.parent,m.parent))}function Is(I,m,_){if(_&&I.shouldReuseRoute(m.value,_.value.snapshot)){const T=_.value;T._futureSnapshot=m.value;const k=function Ys(I,m,_){return m.children.map(T=>{for(const k of _.children)if(I.shouldReuseRoute(T.value,k.value.snapshot))return Is(I,T,k);return Is(I,T)})}(I,m,_);return new br(T,k)}{if(I.shouldAttach(m.value)){const B=I.retrieve(m.value);if(null!==B){const Y=B.route;return Y.value._futureSnapshot=m.value,Y.children=m.children.map(le=>Is(I,le)),Y}}const T=function dr(I){return new Cn(new W(I.url),new W(I.params),new W(I.queryParams),new W(I.fragment),new W(I.data),I.outlet,I.component,I)}(m.value),k=m.children.map(B=>Is(I,B));return new br(T,k)}}function ls(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function _e(I){return"object"==typeof I&&null!=I&&I.outlets}function pe(I,m,_,T,k){let B={};return T&&ce(T,(Y,le)=>{B[le]=Array.isArray(Y)?Y.map(ge=>`${ge}`):`${Y}`}),new ti(_.root===I?m:ke(_.root,I,m),B,k)}function ke(I,m,_){const T={};return ce(I.children,(k,B)=>{T[B]=k===m?_:ke(k,m,_)}),new Qt(I.segments,T)}class Ke{constructor(m,_,T){if(this.isAbsolute=m,this.numberOfDoubleDots=_,this.commands=T,m&&T.length>0&&ls(T[0]))throw new Error("Root segment cannot have matrix parameters");const k=T.find(_e);if(k&&k!==ie(T))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bt{constructor(m,_,T){this.segmentGroup=m,this.processChildren=_,this.index=T}}function ts(I,m,_){if(I||(I=new Qt([],{})),0===I.segments.length&&I.hasChildren())return ds(I,m,_);const T=function ns(I,m,_){let T=0,k=m;const B={match:!1,pathIndex:0,commandIndex:0};for(;k<I.segments.length;){if(T>=_.length)return B;const Y=I.segments[k],le=_[T];if(_e(le))break;const ge=`${le}`,de=T<_.length-1?_[T+1]:null;if(k>0&&void 0===ge)break;if(ge&&de&&"object"==typeof de&&void 0===de.outlets){if(!Ts(ge,de,Y))return B;T+=2}else{if(!Ts(ge,{},Y))return B;T++}k++}return{match:!0,pathIndex:k,commandIndex:T}}(I,m,_),k=_.slice(T.commandIndex);if(T.match&&T.pathIndex<I.segments.length){const B=new Qt(I.segments.slice(0,T.pathIndex),{});return B.children[St]=new Qt(I.segments.slice(T.pathIndex),I.children),ds(B,0,k)}return T.match&&0===k.length?new Qt(I.segments,{}):T.match&&!I.hasChildren()?bs(I,m,_):T.match?ds(I,0,k):bs(I,m,_)}function ds(I,m,_){if(0===_.length)return new Qt(I.segments,{});{const T=function An(I){return _e(I[0])?I[0].outlets:{[St]:I}}(_),k={};return ce(T,(B,Y)=>{"string"==typeof B&&(B=[B]),null!==B&&(k[Y]=ts(I.children[Y],m,B))}),ce(I.children,(B,Y)=>{void 0===T[Y]&&(k[Y]=B)}),new Qt(I.segments,k)}}function bs(I,m,_){const T=I.segments.slice(0,m);let k=0;for(;k<_.length;){const B=_[k];if(_e(B)){const ge=Ds(B.outlets);return new Qt(T,ge)}if(0===k&&ls(_[0])){T.push(new xi(I.segments[m].path,ks(_[0]))),k++;continue}const Y=_e(B)?B.outlets[St]:`${B}`,le=k<_.length-1?_[k+1]:null;Y&&le&&ls(le)?(T.push(new xi(Y,ks(le))),k+=2):(T.push(new xi(Y,{})),k++)}return new Qt(T,{})}function Ds(I){const m={};return ce(I,(_,T)=>{"string"==typeof _&&(_=[_]),null!==_&&(m[T]=bs(new Qt([],{}),0,_))}),m}function ks(I){const m={};return ce(I,(_,T)=>m[T]=`${_}`),m}function Ts(I,m,_){return I==_.path&&vn(m,_.parameters)}class hs{constructor(m,_,T,k){this.routeReuseStrategy=m,this.futureState=_,this.currState=T,this.forwardEvent=k}activate(m){const _=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,T,m),Mi(this.futureState.root),this.activateChildRoutes(_,T,m)}deactivateChildRoutes(m,_,T){const k=Jn(_);m.children.forEach(B=>{const Y=B.value.outlet;this.deactivateRoutes(B,k[Y],T),delete k[Y]}),ce(k,(B,Y)=>{this.deactivateRouteAndItsChildren(B,T)})}deactivateRoutes(m,_,T){const k=m.value,B=_?_.value:null;if(k===B)if(k.component){const Y=T.getContext(k.outlet);Y&&this.deactivateChildRoutes(m,_,Y.children)}else this.deactivateChildRoutes(m,_,T);else B&&this.deactivateRouteAndItsChildren(_,T)}deactivateRouteAndItsChildren(m,_){m.value.component&&this.routeReuseStrategy.shouldDetach(m.value.snapshot)?this.detachAndStoreRouteSubtree(m,_):this.deactivateRouteAndOutlet(m,_)}detachAndStoreRouteSubtree(m,_){const T=_.getContext(m.value.outlet),k=T&&m.value.component?T.children:_,B=Jn(m);for(const Y of Object.keys(B))this.deactivateRouteAndItsChildren(B[Y],k);if(T&&T.outlet){const Y=T.outlet.detach(),le=T.children.onOutletDeactivated();this.routeReuseStrategy.store(m.value.snapshot,{componentRef:Y,route:m,contexts:le})}}deactivateRouteAndOutlet(m,_){const T=_.getContext(m.value.outlet),k=T&&m.value.component?T.children:_,B=Jn(m);for(const Y of Object.keys(B))this.deactivateRouteAndItsChildren(B[Y],k);T&&T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated(),T.attachRef=null,T.resolver=null,T.route=null)}activateChildRoutes(m,_,T){const k=Jn(_);m.children.forEach(B=>{this.activateRoutes(B,k[B.value.outlet],T),this.forwardEvent(new Vt(B.value.snapshot))}),m.children.length&&this.forwardEvent(new Ri(m.value.snapshot))}activateRoutes(m,_,T){const k=m.value,B=_?_.value:null;if(Mi(k),k===B)if(k.component){const Y=T.getOrCreateContext(k.outlet);this.activateChildRoutes(m,_,Y.children)}else this.activateChildRoutes(m,_,T);else if(k.component){const Y=T.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const le=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),Y.children.onOutletReAttached(le.contexts),Y.attachRef=le.componentRef,Y.route=le.route.value,Y.outlet&&Y.outlet.attach(le.componentRef,le.route.value),Mi(le.route.value),this.activateChildRoutes(m,null,Y.children)}else{const le=function Ns(I){for(let m=I.parent;m;m=m.parent){const _=m.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig;if(_&&_.component)return null}return null}(k.snapshot),ge=le?le.module.componentFactoryResolver:null;Y.attachRef=null,Y.route=k,Y.resolver=ge,Y.outlet&&Y.outlet.activateWith(k,ge),this.activateChildRoutes(m,null,Y.children)}}else this.activateChildRoutes(m,null,T)}}class Wi{constructor(m,_){this.routes=m,this.module=_}}function Nr(I){return"function"==typeof I}function mi(I){return I instanceof ti}const F=Symbol("INITIAL_VALUE");function O(){return(0,fn.w)(I=>function ht(...I){const m=(0,xe.yG)(I),_=(0,xe.jO)(I),{args:T,keys:k}=(0,ve.D)(I);if(0===T.length)return(0,Ie.D)([],m);const B=new be.y(function Ge(I,m,_=Re.y){return T=>{Je(m,()=>{const{length:k}=I,B=new Array(k);let Y=k,le=k;for(let ge=0;ge<k;ge++)Je(m,()=>{const de=(0,Ie.D)(I[ge],m);let $e=!1;de.subscribe(new X.Q(T,Rt=>{B[ge]=Rt,$e||($e=!0,le--),le||T.next(_(B.slice()))},()=>{--Y||T.complete()}))},T)},T)}}(T,m,k?Y=>(0,oe.n)(k,Y):Re.y));return _?B.pipe((0,Ae.Z)(_)):B}(I.map(m=>m.pipe((0,gr.q)(1),(0,zt.O)(F)))).pipe((0,Bt.R)((m,_)=>{let T=!1;return _.reduce((k,B,Y)=>k!==F?k:(B===F&&(T=!0),T||!1!==B&&Y!==_.length-1&&!mi(B)?k:B),m)},F),(0,Te.h)(m=>m!==F),(0,Tt.U)(m=>mi(m)?m:!0===m),(0,gr.q)(1)))}class ne{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new he,this.attachRef=null}}class he{constructor(){this.contexts=new Map}onChildOutletCreated(m,_){const T=this.getOrCreateContext(m);T.outlet=_,this.contexts.set(m,T)}onChildOutletDestroyed(m){const _=this.getContext(m);_&&(_.outlet=null,_.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let _=this.getContext(m);return _||(_=new ne,this.contexts.set(m,_)),_}getContext(m){return this.contexts.get(m)||null}}let ot=(()=>{class I{constructor(_,T,k,B,Y){this.parentContexts=_,this.location=T,this.resolver=k,this.changeDetector=Y,this.activated=null,this._activatedRoute=null,this.activateEvents=new E.vpe,this.deactivateEvents=new E.vpe,this.attachEvents=new E.vpe,this.detachEvents=new E.vpe,this.name=B||St,_.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const _=this.parentContexts.getContext(this.name);_&&_.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,T){this.activated=_,this._activatedRoute=T,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,T){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=_;const Y=(T=T||this.resolver).resolveComponentFactory(_._futureSnapshot.routeConfig.component),le=this.parentContexts.getOrCreateContext(this.name).children,ge=new jt(_,le,this.location.injector);this.activated=this.location.createComponent(Y,this.location.length,ge),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return I.\u0275fac=function(_){return new(_||I)(E.Y36(he),E.Y36(E.s_b),E.Y36(E._Vd),E.$8M("name"),E.Y36(E.sBO))},I.\u0275dir=E.lG2({type:I,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),I})();class jt{constructor(m,_,T){this.route=m,this.childContexts=_,this.parent=T}get(m,_){return m===Cn?this.route:m===he?this.childContexts:this.parent.get(m,_)}}let yn=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275cmp=E.Xpm({type:I,selectors:[["ng-component"]],decls:1,vars:0,template:function(_,T){1&_&&E._UZ(0,"router-outlet")},directives:[ot],encapsulation:2}),I})();function Xt(I,m=""){for(let _=0;_<I.length;_++){const T=I[_];tn(T,Lr(m,T))}}function tn(I,m){I.children&&Xt(I.children,m)}function Lr(I,m){return m?I||m.path?I&&!m.path?`${I}/`:!I&&m.path?m.path:`${I}/${m.path}`:"":I}function ps(I){const m=I.children&&I.children.map(ps),_=m?Object.assign(Object.assign({},I),{children:m}):Object.assign({},I);return!_.component&&(m||_.loadChildren)&&_.outlet&&_.outlet!==St&&(_.component=yn),_}function an(I){return I.outlet||St}function C(I,m){const _=I.filter(T=>an(T)===m);return _.push(...I.filter(T=>an(T)!==m)),_}const $={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function S(I,m,_){var T;if(""===m.path)return"full"===m.pathMatch&&(I.hasChildren()||_.length>0)?Object.assign({},$):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const B=(m.matcher||wi)(_,I,m);if(!B)return Object.assign({},$);const Y={};ce(B.posParams,(ge,de)=>{Y[de]=ge.path});const le=B.consumed.length>0?Object.assign(Object.assign({},Y),B.consumed[B.consumed.length-1].parameters):Y;return{matched:!0,consumedSegments:B.consumed,lastChild:B.consumed.length,parameters:le,positionalParamSegments:null!==(T=B.posParams)&&void 0!==T?T:{}}}function z(I,m,_,T,k="corrected"){if(_.length>0&&function qe(I,m,_){return _.some(T=>dn(I,m,T)&&an(T)!==St)}(I,_,T)){const Y=new Qt(m,function je(I,m,_,T){const k={};k[St]=T,T._sourceSegment=I,T._segmentIndexShift=m.length;for(const B of _)if(""===B.path&&an(B)!==St){const Y=new Qt([],{});Y._sourceSegment=I,Y._segmentIndexShift=m.length,k[an(B)]=Y}return k}(I,m,T,new Qt(_,I.children)));return Y._sourceSegment=I,Y._segmentIndexShift=m.length,{segmentGroup:Y,slicedSegments:[]}}if(0===_.length&&function wt(I,m,_){return _.some(T=>dn(I,m,T))}(I,_,T)){const Y=new Qt(I.segments,function se(I,m,_,T,k,B){const Y={};for(const le of T)if(dn(I,_,le)&&!k[an(le)]){const ge=new Qt([],{});ge._sourceSegment=I,ge._segmentIndexShift="legacy"===B?I.segments.length:m.length,Y[an(le)]=ge}return Object.assign(Object.assign({},k),Y)}(I,m,_,T,I.children,k));return Y._sourceSegment=I,Y._segmentIndexShift=m.length,{segmentGroup:Y,slicedSegments:_}}const B=new Qt(I.segments,I.children);return B._sourceSegment=I,B._segmentIndexShift=m.length,{segmentGroup:B,slicedSegments:_}}function dn(I,m,_){return(!(I.hasChildren()||m.length>0)||"full"!==_.pathMatch)&&""===_.path}function Bn(I,m,_,T){return!!(an(I)===T||T!==St&&dn(m,_,I))&&("**"===I.path||S(m,I,_).matched)}function jn(I,m,_){return 0===m.length&&!I.children[_]}class nn{constructor(m){this.segmentGroup=m||null}}class Fr{constructor(m){this.urlTree=m}}function $n(I){return new be.y(m=>m.error(new nn(I)))}function kt(I){return new be.y(m=>m.error(new Fr(I)))}function ni(I){return new be.y(m=>m.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${I}'`)))}class ji{constructor(m,_,T,k,B){this.configLoader=_,this.urlSerializer=T,this.urlTree=k,this.config=B,this.allowRedirects=!0,this.ngModule=m.get(E.h0i)}apply(){const m=z(this.urlTree.root,[],[],this.config).segmentGroup,_=new Qt(m.segments,m.children);return this.expandSegmentGroup(this.ngModule,this.config,_,St).pipe((0,Tt.U)(B=>this.createUrlTree(Hs(B),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ut(B=>{if(B instanceof Fr)return this.allowRedirects=!1,this.match(B.urlTree);throw B instanceof nn?this.noMatchError(B):B}))}match(m){return this.expandSegmentGroup(this.ngModule,this.config,m.root,St).pipe((0,Tt.U)(k=>this.createUrlTree(Hs(k),m.queryParams,m.fragment))).pipe(Ut(k=>{throw k instanceof nn?this.noMatchError(k):k}))}noMatchError(m){return new Error(`Cannot match any routes. URL Segment: '${m.segmentGroup}'`)}createUrlTree(m,_,T){const k=m.segments.length>0?new Qt([],{[St]:m}):m;return new ti(k,_,T)}expandSegmentGroup(m,_,T,k){return 0===T.segments.length&&T.hasChildren()?this.expandChildren(m,_,T).pipe((0,Tt.U)(B=>new Qt([],B))):this.expandSegment(m,T,_,T.segments,k,!0)}expandChildren(m,_,T){const k=[];for(const B of Object.keys(T.children))"primary"===B?k.unshift(B):k.push(B);return(0,Ie.D)(k).pipe((0,nr.b)(B=>{const Y=T.children[B],le=C(_,B);return this.expandSegmentGroup(m,le,Y,B).pipe((0,Tt.U)(ge=>({segment:ge,outlet:B})))}),(0,Bt.R)((B,Y)=>(B[Y.outlet]=Y.segment,B),{}),function st(I,m){const _=arguments.length>=2;return T=>T.pipe(I?(0,Te.h)((k,B)=>I(k,B,T)):Re.y,ye(1),_?(0,Se.d)(m):(0,Ue.T)(()=>new Ye.K))}())}expandSegment(m,_,T,k,B,Y){return(0,Ie.D)(T).pipe((0,nr.b)(le=>this.expandSegmentAgainstRoute(m,_,T,le,k,B,Y).pipe(Ut(de=>{if(de instanceof nn)return(0,Fe.of)(null);throw de}))),(0,Yt.P)(le=>!!le),Ut((le,ge)=>{if(le instanceof Ye.K||"EmptyError"===le.name){if(jn(_,k,B))return(0,Fe.of)(new Qt([],{}));throw new nn(_)}throw le}))}expandSegmentAgainstRoute(m,_,T,k,B,Y,le){return Bn(k,_,B,Y)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(m,_,k,B,Y):le&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(m,_,T,k,B,Y):$n(_):$n(_)}expandSegmentAgainstRouteUsingRedirect(m,_,T,k,B,Y){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(m,T,k,Y):this.expandRegularSegmentAgainstRouteUsingRedirect(m,_,T,k,B,Y)}expandWildCardWithParamsAgainstRouteUsingRedirect(m,_,T,k){const B=this.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?kt(B):this.lineralizeSegments(T,B).pipe((0,Rn.z)(Y=>{const le=new Qt(Y,{});return this.expandSegment(m,le,_,Y,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(m,_,T,k,B,Y){const{matched:le,consumedSegments:ge,lastChild:de,positionalParamSegments:$e}=S(_,k,B);if(!le)return $n(_);const Rt=this.applyRedirectCommands(ge,k.redirectTo,$e);return k.redirectTo.startsWith("/")?kt(Rt):this.lineralizeSegments(k,Rt).pipe((0,Rn.z)(Gn=>this.expandSegment(m,_,T,Gn.concat(B.slice(de)),Y,!1)))}matchSegmentAgainstRoute(m,_,T,k,B){if("**"===T.path)return T.loadChildren?(T._loadedConfig?(0,Fe.of)(T._loadedConfig):this.configLoader.load(m.injector,T)).pipe((0,Tt.U)(Gn=>(T._loadedConfig=Gn,new Qt(k,{})))):(0,Fe.of)(new Qt(k,{}));const{matched:Y,consumedSegments:le,lastChild:ge}=S(_,T,k);if(!Y)return $n(_);const de=k.slice(ge);return this.getChildConfig(m,T,k).pipe((0,Rn.z)(Rt=>{const Gn=Rt.module,er=Rt.routes,{segmentGroup:Jr,slicedSegments:As}=z(_,le,de,er),Ss=new Qt(Jr.segments,Jr.children);if(0===As.length&&Ss.hasChildren())return this.expandChildren(Gn,er,Ss).pipe((0,Tt.U)(Yo=>new Qt(le,Yo)));if(0===er.length&&0===As.length)return(0,Fe.of)(new Qt(le,{}));const ss=an(T)===B;return this.expandSegment(Gn,Ss,er,As,ss?St:B,!0).pipe((0,Tt.U)(Zi=>new Qt(le.concat(Zi.segments),Zi.children)))}))}getChildConfig(m,_,T){return _.children?(0,Fe.of)(new Wi(_.children,m)):_.loadChildren?void 0!==_._loadedConfig?(0,Fe.of)(_._loadedConfig):this.runCanLoadGuards(m.injector,_,T).pipe((0,Rn.z)(k=>k?this.configLoader.load(m.injector,_).pipe((0,Tt.U)(B=>(_._loadedConfig=B,B))):function Vi(I){return new be.y(m=>m.error(Ot(`Cannot load children because the guard of the route "path: '${I.path}'" returned false`)))}(_))):(0,Fe.of)(new Wi([],m))}runCanLoadGuards(m,_,T){const k=_.canLoad;if(!k||0===k.length)return(0,Fe.of)(!0);const B=k.map(Y=>{const le=m.get(Y);let ge;if(function Qs(I){return I&&Nr(I.canLoad)}(le))ge=le.canLoad(_,T);else{if(!Nr(le))throw new Error("Invalid CanLoad guard");ge=le(_,T)}return We(ge)});return(0,Fe.of)(B).pipe(O(),(0,yt.b)(Y=>{if(!mi(Y))return;const le=Ot(`Redirecting to "${this.urlSerializer.serialize(Y)}"`);throw le.url=Y,le}),(0,Tt.U)(Y=>!0===Y))}lineralizeSegments(m,_){let T=[],k=_.root;for(;;){if(T=T.concat(k.segments),0===k.numberOfChildren)return(0,Fe.of)(T);if(k.numberOfChildren>1||!k.children[St])return ni(m.redirectTo);k=k.children[St]}}applyRedirectCommands(m,_,T){return this.applyRedirectCreatreUrlTree(_,this.urlSerializer.parse(_),m,T)}applyRedirectCreatreUrlTree(m,_,T,k){const B=this.createSegmentGroup(m,_.root,T,k);return new ti(B,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(m,_){const T={};return ce(m,(k,B)=>{if("string"==typeof k&&k.startsWith(":")){const le=k.substring(1);T[B]=_[le]}else T[B]=k}),T}createSegmentGroup(m,_,T,k){const B=this.createSegments(m,_.segments,T,k);let Y={};return ce(_.children,(le,ge)=>{Y[ge]=this.createSegmentGroup(m,le,T,k)}),new Qt(B,Y)}createSegments(m,_,T,k){return _.map(B=>B.path.startsWith(":")?this.findPosParam(m,B,k):this.findOrReturn(B,T))}findPosParam(m,_,T){const k=T[_.path.substring(1)];if(!k)throw new Error(`Cannot redirect to '${m}'. Cannot find '${_.path}'.`);return k}findOrReturn(m,_){let T=0;for(const k of _){if(k.path===m.path)return _.splice(T),k;T++}return m}}function Hs(I){const m={};for(const T of Object.keys(I.children)){const B=Hs(I.children[T]);(B.segments.length>0||B.hasChildren())&&(m[T]=B)}return function $i(I){if(1===I.numberOfChildren&&I.children[St]){const m=I.children[St];return new Qt(I.segments.concat(m.segments),m.children)}return I}(new Qt(I.segments,m))}class it{constructor(m){this.path=m,this.route=this.path[this.path.length-1]}}class hn{constructor(m,_){this.component=m,this.route=_}}function jo(I,m,_){const T=I._root;return J(T,m?m._root:null,_,[T.value])}function P(I,m,_){const T=function Z(I){if(!I)return null;for(let m=I.parent;m;m=m.parent){const _=m.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig}return null}(m);return(T?T.module.injector:_).get(I)}function J(I,m,_,T,k={canDeactivateChecks:[],canActivateChecks:[]}){const B=Jn(m);return I.children.forEach(Y=>{(function me(I,m,_,T,k={canDeactivateChecks:[],canActivateChecks:[]}){const B=I.value,Y=m?m.value:null,le=_?_.getContext(I.value.outlet):null;if(Y&&B.routeConfig===Y.routeConfig){const ge=function Ne(I,m,_){if("function"==typeof _)return _(I,m);switch(_){case"pathParamsChange":return!Wn(I.url,m.url);case"pathParamsOrQueryParamsChange":return!Wn(I.url,m.url)||!vn(I.queryParams,m.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gi(I,m)||!vn(I.queryParams,m.queryParams);default:return!gi(I,m)}}(Y,B,B.routeConfig.runGuardsAndResolvers);ge?k.canActivateChecks.push(new it(T)):(B.data=Y.data,B._resolvedData=Y._resolvedData),J(I,m,B.component?le?le.children:null:_,T,k),ge&&le&&le.outlet&&le.outlet.isActivated&&k.canDeactivateChecks.push(new hn(le.outlet.component,Y))}else Y&&nt(m,le,k),k.canActivateChecks.push(new it(T)),J(I,null,B.component?le?le.children:null:_,T,k)})(Y,B[Y.value.outlet],_,T.concat([Y.value]),k),delete B[Y.value.outlet]}),ce(B,(Y,le)=>nt(Y,_.getContext(le),k)),k}function nt(I,m,_){const T=Jn(I),k=I.value;ce(T,(B,Y)=>{nt(B,k.component?m?m.children.getContext(Y):null:m,_)}),_.canDeactivateChecks.push(new hn(k.component&&m&&m.outlet&&m.outlet.isActivated?m.outlet.component:null,k))}class Pi{}function hr(I){return new be.y(m=>m.error(I))}class bi{constructor(m,_,T,k,B,Y){this.rootComponentType=m,this.config=_,this.urlTree=T,this.url=k,this.paramsInheritanceStrategy=B,this.relativeLinkResolution=Y}recognize(){const m=z(this.urlTree.root,[],[],this.config.filter(Y=>void 0===Y.redirectTo),this.relativeLinkResolution).segmentGroup,_=this.processSegmentGroup(this.config,m,St);if(null===_)return null;const T=new Yr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},St,this.rootComponentType,null,this.urlTree.root,-1,{}),k=new br(T,_),B=new Ii(this.url,k);return this.inheritParamsAndData(B._root),B}inheritParamsAndData(m){const _=m.value,T=Ps(_,this.paramsInheritanceStrategy);_.params=Object.freeze(T.params),_.data=Object.freeze(T.data),m.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(m,_,T){return 0===_.segments.length&&_.hasChildren()?this.processChildren(m,_):this.processSegment(m,_,_.segments,T)}processChildren(m,_){const T=[];for(const B of Object.keys(_.children)){const Y=_.children[B],le=C(m,B),ge=this.processSegmentGroup(le,Y,B);if(null===ge)return null;T.push(...ge)}const k=gs(T);return function Sr(I){I.sort((m,_)=>m.value.outlet===St?-1:_.value.outlet===St?1:m.value.outlet.localeCompare(_.value.outlet))}(k),k}processSegment(m,_,T,k){for(const B of m){const Y=this.processSegmentAgainstRoute(B,_,T,k);if(null!==Y)return Y}return jn(_,T,k)?[]:null}processSegmentAgainstRoute(m,_,T,k){if(m.redirectTo||!Bn(m,_,T,k))return null;let B,Y=[],le=[];if("**"===m.path){const er=T.length>0?ie(T).parameters:{};B=new Yr(T,er,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ma(m),an(m),m.component,m,zs(_),qs(_)+T.length,mo(m))}else{const er=S(_,m,T);if(!er.matched)return null;Y=er.consumedSegments,le=T.slice(er.lastChild),B=new Yr(Y,er.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ma(m),an(m),m.component,m,zs(_),qs(_)+Y.length,mo(m))}const ge=function Qr(I){return I.children?I.children:I.loadChildren?I._loadedConfig.routes:[]}(m),{segmentGroup:de,slicedSegments:$e}=z(_,Y,le,ge.filter(er=>void 0===er.redirectTo),this.relativeLinkResolution);if(0===$e.length&&de.hasChildren()){const er=this.processChildren(ge,de);return null===er?null:[new br(B,er)]}if(0===ge.length&&0===$e.length)return[new br(B,[])];const Rt=an(m)===k,Gn=this.processSegment(ge,de,$e,Rt?St:k);return null===Gn?null:[new br(B,Gn)]}}function ar(I){const m=I.value.routeConfig;return m&&""===m.path&&void 0===m.redirectTo}function gs(I){const m=[],_=new Set;for(const T of I){if(!ar(T)){m.push(T);continue}const k=m.find(B=>T.value.routeConfig===B.value.routeConfig);void 0!==k?(k.children.push(...T.children),_.add(k)):m.push(T)}for(const T of _){const k=gs(T.children);m.push(new br(T.value,k))}return m.filter(T=>!_.has(T))}function zs(I){let m=I;for(;m._sourceSegment;)m=m._sourceSegment;return m}function qs(I){let m=I,_=m._segmentIndexShift?m._segmentIndexShift:0;for(;m._sourceSegment;)m=m._sourceSegment,_+=m._segmentIndexShift?m._segmentIndexShift:0;return _-1}function Ma(I){return I.data||{}}function mo(I){return I.resolve||{}}function Di(I){return(0,fn.w)(m=>{const _=I(m);return _?(0,Ie.D)(_).pipe((0,Tt.U)(()=>m)):(0,Fe.of)(m)})}class Ao extends class Vr{shouldDetach(m){return!1}store(m,_){}shouldAttach(m){return!1}retrieve(m){return null}shouldReuseRoute(m,_){return m.routeConfig===_.routeConfig}}{}const Go=new E.OlP("ROUTES");class au{constructor(m,_,T,k){this.injector=m,this.compiler=_,this.onLoadStartListener=T,this.onLoadEndListener=k}load(m,_){if(_._loader$)return _._loader$;this.onLoadStartListener&&this.onLoadStartListener(_);const k=this.loadModuleFactory(_.loadChildren).pipe((0,Tt.U)(B=>{this.onLoadEndListener&&this.onLoadEndListener(_);const Y=B.create(m);return new Wi(di(Y.injector.get(Go,void 0,E.XFs.Self|E.XFs.Optional)).map(ps),Y)}),Ut(B=>{throw _._loader$=void 0,B}));return _._loader$=new te(k,()=>new x.x).pipe(Xe()),_._loader$}loadModuleFactory(m){return We(m()).pipe((0,Rn.z)(_=>_ instanceof E.YKP?(0,Fe.of)(_):(0,Ie.D)(this.compiler.compileModuleAsync(_))))}}class ka{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,_){return m}}function Na(I){throw I}function zo(I,m,_){return m.parse("/")}function Xs(I,m){return(0,Fe.of)(null)}const ua={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},so={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let is=(()=>{class I{constructor(_,T,k,B,Y,le,ge){this.rootComponentType=_,this.urlSerializer=T,this.rootContexts=k,this.location=B,this.config=ge,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new x.x,this.errorHandler=Na,this.malformedUriErrorHandler=zo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xs,afterPreactivation:Xs},this.urlHandlingStrategy=new ka,this.routeReuseStrategy=new Ao,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Y.get(E.h0i),this.console=Y.get(E.c2e);const Rt=Y.get(E.R0b);this.isNgZoneEnabled=Rt instanceof E.R0b&&E.R0b.isInAngularZone(),this.resetConfig(ge),this.currentUrlTree=function Oe(){return new ti(new Qt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new au(Y,le,Gn=>this.triggerEvent(new mn(Gn)),Gn=>this.triggerEvent(new Dn(Gn))),this.routerState=Kr(this.currentUrlTree,this.rootComponentType),this.transitions=new W({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var _;return null===(_=this.location.getState())||void 0===_?void 0:_.\u0275routerPageId}setupNavigations(_){const T=this.events;return _.pipe((0,Te.h)(k=>0!==k.id),(0,Tt.U)(k=>Object.assign(Object.assign({},k),{extractedUrl:this.urlHandlingStrategy.extract(k.rawUrl)})),(0,fn.w)(k=>{let B=!1,Y=!1;return(0,Fe.of)(k).pipe((0,yt.b)(le=>{this.currentNavigation={id:le.id,initialUrl:le.currentRawUrl,extractedUrl:le.extractedUrl,trigger:le.source,extras:le.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,fn.w)(le=>{const ge=this.browserUrlTree.toString(),de=!this.navigated||le.extractedUrl.toString()!==ge||ge!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||de)&&this.urlHandlingStrategy.shouldProcessUrl(le.rawUrl))return ms(le.source)&&(this.browserUrlTree=le.extractedUrl),(0,Fe.of)(le).pipe((0,fn.w)(Rt=>{const Gn=this.transitions.getValue();return T.next(new Hr(Rt.id,this.serializeUrl(Rt.extractedUrl),Rt.source,Rt.restoredState)),Gn!==this.transitions.getValue()?et.E:Promise.resolve(Rt)}),function Gs(I,m,_,T){return(0,fn.w)(k=>function Js(I,m,_,T,k){return new ji(I,m,_,T,k).apply()}(I,m,_,k.extractedUrl,T).pipe((0,Tt.U)(B=>Object.assign(Object.assign({},k),{urlAfterRedirects:B}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,yt.b)(Rt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Rt.urlAfterRedirects})}),function Pa(I,m,_,T,k){return(0,Rn.z)(B=>function rs(I,m,_,T,k="emptyOnly",B="legacy"){try{const Y=new bi(I,m,_,T,k,B).recognize();return null===Y?hr(new Pi):(0,Fe.of)(Y)}catch(Y){return hr(Y)}}(I,m,B.urlAfterRedirects,_(B.urlAfterRedirects),T,k).pipe((0,Tt.U)(Y=>Object.assign(Object.assign({},B),{targetSnapshot:Y}))))}(this.rootComponentType,this.config,Rt=>this.serializeUrl(Rt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,yt.b)(Rt=>{if("eager"===this.urlUpdateStrategy){if(!Rt.extras.skipLocationChange){const er=this.urlHandlingStrategy.merge(Rt.urlAfterRedirects,Rt.rawUrl);this.setBrowserUrl(er,Rt)}this.browserUrlTree=Rt.urlAfterRedirects}const Gn=new Gr(Rt.id,this.serializeUrl(Rt.extractedUrl),this.serializeUrl(Rt.urlAfterRedirects),Rt.targetSnapshot);T.next(Gn)}));if(de&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Gn,extractedUrl:er,source:Jr,restoredState:As,extras:Ss}=le,ss=new Hr(Gn,this.serializeUrl(er),Jr,As);T.next(ss);const Us=Kr(er,this.rootComponentType).snapshot;return(0,Fe.of)(Object.assign(Object.assign({},le),{targetSnapshot:Us,urlAfterRedirects:er,extras:Object.assign(Object.assign({},Ss),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=le.rawUrl,le.resolve(null),et.E}),Di(le=>{const{targetSnapshot:ge,id:de,extractedUrl:$e,rawUrl:Rt,extras:{skipLocationChange:Gn,replaceUrl:er}}=le;return this.hooks.beforePreactivation(ge,{navigationId:de,appliedUrlTree:$e,rawUrlTree:Rt,skipLocationChange:!!Gn,replaceUrl:!!er})}),(0,yt.b)(le=>{const ge=new zr(le.id,this.serializeUrl(le.extractedUrl),this.serializeUrl(le.urlAfterRedirects),le.targetSnapshot);this.triggerEvent(ge)}),(0,Tt.U)(le=>Object.assign(Object.assign({},le),{guards:jo(le.targetSnapshot,le.currentSnapshot,this.rootContexts)})),function Nt(I,m){return(0,Rn.z)(_=>{const{targetSnapshot:T,currentSnapshot:k,guards:{canActivateChecks:B,canDeactivateChecks:Y}}=_;return 0===Y.length&&0===B.length?(0,Fe.of)(Object.assign(Object.assign({},_),{guardsResult:!0})):function It(I,m,_,T){return(0,Ie.D)(I).pipe((0,Rn.z)(k=>function Hn(I,m,_,T,k){const B=m&&m.routeConfig?m.routeConfig.canDeactivate:null;if(!B||0===B.length)return(0,Fe.of)(!0);const Y=B.map(le=>{const ge=P(le,m,k);let de;if(function q(I){return I&&Nr(I.canDeactivate)}(ge))de=We(ge.canDeactivate(I,m,_,T));else{if(!Nr(ge))throw new Error("Invalid CanDeactivate guard");de=We(ge(I,m,_,T))}return de.pipe((0,Yt.P)())});return(0,Fe.of)(Y).pipe(O())}(k.component,k.route,_,m,T)),(0,Yt.P)(k=>!0!==k,!0))}(Y,T,k,I).pipe((0,Rn.z)(le=>le&&function fs(I){return"boolean"==typeof I}(le)?function on(I,m,_,T){return(0,Ie.D)(m).pipe((0,nr.b)(k=>(0,Et.z)(function Xn(I,m){return null!==I&&m&&m(new Ln(I)),(0,Fe.of)(!0)}(k.route.parent,T),function rn(I,m){return null!==I&&m&&m(new qt(I)),(0,Fe.of)(!0)}(k.route,T),function or(I,m,_){const T=m[m.length-1],B=m.slice(0,m.length-1).reverse().map(Y=>function N(I){const m=I.routeConfig?I.routeConfig.canActivateChild:null;return m&&0!==m.length?{node:I,guards:m}:null}(Y)).filter(Y=>null!==Y).map(Y=>we(()=>{const le=Y.guards.map(ge=>{const de=P(ge,Y.node,_);let $e;if(function oi(I){return I&&Nr(I.canActivateChild)}(de))$e=We(de.canActivateChild(T,I));else{if(!Nr(de))throw new Error("Invalid CanActivateChild guard");$e=We(de(T,I))}return $e.pipe((0,Yt.P)())});return(0,Fe.of)(le).pipe(O())}));return(0,Fe.of)(B).pipe(O())}(I,k.path,_),function Dr(I,m,_){const T=m.routeConfig?m.routeConfig.canActivate:null;if(!T||0===T.length)return(0,Fe.of)(!0);const k=T.map(B=>we(()=>{const Y=P(B,m,_);let le;if(function go(I){return I&&Nr(I.canActivate)}(Y))le=We(Y.canActivate(m,I));else{if(!Nr(Y))throw new Error("Invalid CanActivate guard");le=We(Y(m,I))}return le.pipe((0,Yt.P)())}));return(0,Fe.of)(k).pipe(O())}(I,k.route,_))),(0,Yt.P)(k=>!0!==k,!0))}(T,B,I,m):(0,Fe.of)(le)),(0,Tt.U)(le=>Object.assign(Object.assign({},_),{guardsResult:le})))})}(this.ngModule.injector,le=>this.triggerEvent(le)),(0,yt.b)(le=>{if(mi(le.guardsResult)){const de=Ot(`Redirecting to "${this.serializeUrl(le.guardsResult)}"`);throw de.url=le.guardsResult,de}const ge=new tt(le.id,this.serializeUrl(le.extractedUrl),this.serializeUrl(le.urlAfterRedirects),le.targetSnapshot,!!le.guardsResult);this.triggerEvent(ge)}),(0,Te.h)(le=>!!le.guardsResult||(this.restoreHistory(le),this.cancelNavigationTransition(le,""),!1)),Di(le=>{if(le.guards.canActivateChecks.length)return(0,Fe.of)(le).pipe((0,yt.b)(ge=>{const de=new xn(ge.id,this.serializeUrl(ge.extractedUrl),this.serializeUrl(ge.urlAfterRedirects),ge.targetSnapshot);this.triggerEvent(de)}),(0,fn.w)(ge=>{let de=!1;return(0,Fe.of)(ge).pipe(function Ho(I,m){return(0,Rn.z)(_=>{const{targetSnapshot:T,guards:{canActivateChecks:k}}=_;if(!k.length)return(0,Fe.of)(_);let B=0;return(0,Ie.D)(k).pipe((0,nr.b)(Y=>function Co(I,m,_,T){return function Oa(I,m,_,T){const k=Object.keys(I);if(0===k.length)return(0,Fe.of)({});const B={};return(0,Ie.D)(k).pipe((0,Rn.z)(Y=>function io(I,m,_,T){const k=P(I,m,T);return We(k.resolve?k.resolve(m,_):k(m,_))}(I[Y],m,_,T).pipe((0,yt.b)(le=>{B[Y]=le}))),ye(1),(0,Rn.z)(()=>Object.keys(B).length===k.length?(0,Fe.of)(B):et.E))}(I._resolve,I,m,T).pipe((0,Tt.U)(B=>(I._resolvedData=B,I.data=Object.assign(Object.assign({},I.data),Ps(I,_).resolve),null)))}(Y.route,T,I,m)),(0,yt.b)(()=>B++),ye(1),(0,Rn.z)(Y=>B===k.length?(0,Fe.of)(_):et.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,yt.b)({next:()=>de=!0,complete:()=>{de||(this.restoreHistory(ge),this.cancelNavigationTransition(ge,"At least one route resolver didn't emit any value."))}}))}),(0,yt.b)(ge=>{const de=new At(ge.id,this.serializeUrl(ge.extractedUrl),this.serializeUrl(ge.urlAfterRedirects),ge.targetSnapshot);this.triggerEvent(de)}))}),Di(le=>{const{targetSnapshot:ge,id:de,extractedUrl:$e,rawUrl:Rt,extras:{skipLocationChange:Gn,replaceUrl:er}}=le;return this.hooks.afterPreactivation(ge,{navigationId:de,appliedUrlTree:$e,rawUrlTree:Rt,skipLocationChange:!!Gn,replaceUrl:!!er})}),(0,Tt.U)(le=>{const ge=function Bi(I,m,_){const T=Is(I,m._root,_?_._root:void 0);return new pi(T,m)}(this.routeReuseStrategy,le.targetSnapshot,le.currentRouterState);return Object.assign(Object.assign({},le),{targetRouterState:ge})}),(0,yt.b)(le=>{this.currentUrlTree=le.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(le.urlAfterRedirects,le.rawUrl),this.routerState=le.targetRouterState,"deferred"===this.urlUpdateStrategy&&(le.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,le),this.browserUrlTree=le.urlAfterRedirects)}),((I,m,_)=>(0,Tt.U)(T=>(new hs(m,T.targetRouterState,T.currentRouterState,_).activate(I),T)))(this.rootContexts,this.routeReuseStrategy,le=>this.triggerEvent(le)),(0,yt.b)({next(){B=!0},complete(){B=!0}}),function Be(I){return(0,ze.e)((m,_)=>{try{m.subscribe(_)}finally{_.add(I)}})}(()=>{var le;B||Y||this.cancelNavigationTransition(k,`Navigation ID ${k.id} is not equal to the current navigation id ${this.navigationId}`),(null===(le=this.currentNavigation)||void 0===le?void 0:le.id)===k.id&&(this.currentNavigation=null)}),Ut(le=>{if(Y=!0,function Ji(I){return I&&I[Dt]}(le)){const ge=mi(le.url);ge||(this.navigated=!0,this.restoreHistory(k,!0));const de=new Kn(k.id,this.serializeUrl(k.extractedUrl),le.message);T.next(de),ge?setTimeout(()=>{const $e=this.urlHandlingStrategy.merge(le.url,this.rawUrlTree),Rt={skipLocationChange:k.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ms(k.source)};this.scheduleNavigation($e,"imperative",null,Rt,{resolve:k.resolve,reject:k.reject,promise:k.promise})},0):k.resolve(!1)}else{this.restoreHistory(k,!0);const ge=new Si(k.id,this.serializeUrl(k.extractedUrl),le);T.next(ge);try{k.resolve(this.errorHandler(le))}catch(de){k.reject(de)}}return et.E}))}))}resetRootComponentType(_){this.rootComponentType=_,this.routerState.root.component=this.rootComponentType}setTransition(_){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),_))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const T="popstate"===_.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{var k;const B={replaceUrl:!0},Y=(null===(k=_.state)||void 0===k?void 0:k.navigationId)?_.state:null;if(Y){const ge=Object.assign({},Y);delete ge.navigationId,delete ge.\u0275routerPageId,0!==Object.keys(ge).length&&(B.state=ge)}const le=this.parseUrl(_.url);this.scheduleNavigation(le,T,Y,B)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(_){this.events.next(_)}resetConfig(_){Xt(_),this.config=_.map(ps),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,T={}){const{relativeTo:k,queryParams:B,fragment:Y,queryParamsHandling:le,preserveFragment:ge}=T,de=k||this.routerState.root,$e=ge?this.currentUrlTree.fragment:Y;let Rt=null;switch(le){case"merge":Rt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),B);break;case"preserve":Rt=this.currentUrlTree.queryParams;break;default:Rt=B||null}return null!==Rt&&(Rt=this.removeEmptyProps(Rt)),function es(I,m,_,T,k){if(0===_.length)return pe(m.root,m.root,m,T,k);const B=function ft(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new Ke(!0,0,I);let m=0,_=!1;const T=I.reduce((k,B,Y)=>{if("object"==typeof B&&null!=B){if(B.outlets){const le={};return ce(B.outlets,(ge,de)=>{le[de]="string"==typeof ge?ge.split("/"):ge}),[...k,{outlets:le}]}if(B.segmentPath)return[...k,B.segmentPath]}return"string"!=typeof B?[...k,B]:0===Y?(B.split("/").forEach((le,ge)=>{0==ge&&"."===le||(0==ge&&""===le?_=!0:".."===le?m++:""!=le&&k.push(le))}),k):[...k,B]},[]);return new Ke(_,m,T)}(_);if(B.toRoot())return pe(m.root,new Qt([],{}),m,T,k);const Y=function _n(I,m,_){if(I.isAbsolute)return new bt(m.root,!0,0);if(-1===_.snapshot._lastPathIndex){const B=_.snapshot._urlSegment;return new bt(B,B===m.root,0)}const T=ls(I.commands[0])?0:1;return function Ar(I,m,_){let T=I,k=m,B=_;for(;B>k;){if(B-=k,T=T.parent,!T)throw new Error("Invalid number of '../'");k=T.segments.length}return new bt(T,!1,k-B)}(_.snapshot._urlSegment,_.snapshot._lastPathIndex+T,I.numberOfDoubleDots)}(B,m,I),le=Y.processChildren?ds(Y.segmentGroup,Y.index,B.commands):ts(Y.segmentGroup,Y.index,B.commands);return pe(Y.segmentGroup,le,m,T,k)}(de,this.currentUrlTree,_,Rt,null!=$e?$e:null)}navigateByUrl(_,T={skipLocationChange:!1}){const k=mi(_)?_:this.parseUrl(_),B=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation(B,"imperative",null,T)}navigate(_,T={skipLocationChange:!1}){return function La(I){for(let m=0;m<I.length;m++){const _=I[m];if(null==_)throw new Error(`The requested path contains ${_} segment at index ${m}`)}}(_),this.navigateByUrl(this.createUrlTree(_,T),T)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let T;try{T=this.urlSerializer.parse(_)}catch(k){T=this.malformedUriErrorHandler(k,this.urlSerializer,_)}return T}isActive(_,T){let k;if(k=!0===T?Object.assign({},ua):!1===T?Object.assign({},so):T,mi(_))return Pn(this.currentUrlTree,_,k);const B=this.parseUrl(_);return Pn(this.currentUrlTree,B,k)}removeEmptyProps(_){return Object.keys(_).reduce((T,k)=>{const B=_[k];return null!=B&&(T[k]=B),T},{})}processNavigations(){this.navigations.subscribe(_=>{this.navigated=!0,this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId,this.events.next(new un(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,_.resolve(!0)},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}scheduleNavigation(_,T,k,B,Y){var le,ge,de;if(this.disposed)return Promise.resolve(!1);const $e=this.transitions.value,Rt=ms(T)&&$e&&!ms($e.source),Gn=$e.rawUrl.toString()===_.toString(),er=$e.id===(null===(le=this.currentNavigation)||void 0===le?void 0:le.id);if(Rt&&Gn&&er)return Promise.resolve(!0);let As,Ss,ss;Y?(As=Y.resolve,Ss=Y.reject,ss=Y.promise):ss=new Promise((Yo,ki)=>{As=Yo,Ss=ki});const Us=++this.navigationId;let Zi;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(k=this.location.getState()),Zi=k&&k.\u0275routerPageId?k.\u0275routerPageId:B.replaceUrl||B.skipLocationChange?null!==(ge=this.browserPageId)&&void 0!==ge?ge:0:(null!==(de=this.browserPageId)&&void 0!==de?de:0)+1):Zi=0,this.setTransition({id:Us,targetPageId:Zi,source:T,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:_,extras:B,resolve:As,reject:Ss,promise:ss,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ss.catch(Yo=>Promise.reject(Yo))}setBrowserUrl(_,T){const k=this.urlSerializer.serialize(_),B=Object.assign(Object.assign({},T.extras.state),this.generateNgRouterState(T.id,T.targetPageId));this.location.isCurrentPathEqualTo(k)||T.extras.replaceUrl?this.location.replaceState(k,"",B):this.location.go(k,"",B)}restoreHistory(_,T=!1){var k,B;if("computed"===this.canceledNavigationResolution){const Y=this.currentPageId-_.targetPageId;"popstate"!==_.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(k=this.currentNavigation)||void 0===k?void 0:k.finalUrl)||0===Y?this.currentUrlTree===(null===(B=this.currentNavigation)||void 0===B?void 0:B.finalUrl)&&0===Y&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Y)}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(_,T){const k=new Kn(_.id,this.serializeUrl(_.extractedUrl),T);this.triggerEvent(k),_.resolve(!1)}generateNgRouterState(_,T){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:T}:{navigationId:_}}}return I.\u0275fac=function(_){E.$Z()},I.\u0275prov=E.Yz7({token:I,factory:I.\u0275fac}),I})();function ms(I){return"imperative"!==I}let Tr=(()=>{class I{constructor(_,T,k,B,Y){this.router=_,this.route=T,this.tabIndexAttribute=k,this.renderer=B,this.el=Y,this.commands=null,this.onChanges=new x.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){if(null!=this.tabIndexAttribute)return;const T=this.renderer,k=this.el.nativeElement;null!==_?T.setAttribute(k,"tabindex",_):T.removeAttribute(k,"tabindex")}ngOnChanges(_){this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const _={skipLocationChange:oo(this.skipLocationChange),replaceUrl:oo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:oo(this.preserveFragment)})}}return I.\u0275fac=function(_){return new(_||I)(E.Y36(is),E.Y36(Cn),E.$8M("tabindex"),E.Y36(E.Qsj),E.Y36(E.SBq))},I.\u0275dir=E.lG2({type:I,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(_,T){1&_&&E.NdJ("click",function(){return T.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[E.TTD]}),I})(),qo=(()=>{class I{constructor(_,T,k){this.router=_,this.route=T,this.locationStrategy=k,this.commands=null,this.href=null,this.onChanges=new x.x,this.subscription=_.events.subscribe(B=>{B instanceof un&&this.updateTargetUrlAndHref()})}set routerLink(_){this.commands=null!=_?Array.isArray(_)?_:[_]:null}ngOnChanges(_){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(_,T,k,B,Y){if(0!==_||T||k||B||Y||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const le={skipLocationChange:oo(this.skipLocationChange),replaceUrl:oo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,le),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:oo(this.preserveFragment)})}}return I.\u0275fac=function(_){return new(_||I)(E.Y36(is),E.Y36(Cn),E.Y36(En.S$))},I.\u0275dir=E.lG2({type:I,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(_,T){1&_&&E.NdJ("click",function(B){return T.onClick(B.button,B.ctrlKey,B.shiftKey,B.altKey,B.metaKey)}),2&_&&E.uIk("target",T.target)("href",T.href,E.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[E.TTD]}),I})();function oo(I){return""===I||!!I}let yo=(()=>{class I{constructor(_,T,k,B,Y,le){this.router=_,this.element=T,this.renderer=k,this.cdr=B,this.link=Y,this.linkWithHref=le,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new E.vpe,this.routerEventsSubscription=_.events.subscribe(ge=>{ge instanceof un&&this.update()})}ngAfterContentInit(){(0,Fe.of)(this.links.changes,this.linksWithHrefs.changes,(0,Fe.of)(null)).pipe((0,Vn.J)()).subscribe(_=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var _;null===(_=this.linkInputChangesSubscription)||void 0===_||_.unsubscribe();const T=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(k=>!!k).map(k=>k.onChanges);this.linkInputChangesSubscription=(0,Ie.D)(T).pipe((0,Vn.J)()).subscribe(k=>{this.isActive!==this.isLinkActive(this.router)(k)&&this.update()})}set routerLinkActive(_){const T=Array.isArray(_)?_:_.split(" ");this.classes=T.filter(k=>!!k)}ngOnChanges(_){this.update()}ngOnDestroy(){var _;this.routerEventsSubscription.unsubscribe(),null===(_=this.linkInputChangesSubscription)||void 0===_||_.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const _=this.hasActiveLinks();this.isActive!==_&&(this.isActive=_,this.cdr.markForCheck(),this.classes.forEach(T=>{_?this.renderer.addClass(this.element.nativeElement,T):this.renderer.removeClass(this.element.nativeElement,T)}),this.isActiveChange.emit(_))})}isLinkActive(_){const T=function Wo(I){return!!I.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return k=>!!k.urlTree&&_.isActive(k.urlTree,T)}hasActiveLinks(){const _=this.isLinkActive(this.router);return this.link&&_(this.link)||this.linkWithHref&&_(this.linkWithHref)||this.links.some(_)||this.linksWithHrefs.some(_)}}return I.\u0275fac=function(_){return new(_||I)(E.Y36(is),E.Y36(E.SBq),E.Y36(E.Qsj),E.Y36(E.sBO),E.Y36(Tr,8),E.Y36(qo,8))},I.\u0275dir=E.lG2({type:I,selectors:[["","routerLinkActive",""]],contentQueries:function(_,T,k){if(1&_&&(E.Suo(k,Tr,5),E.Suo(k,qo,5)),2&_){let B;E.iGM(B=E.CRH())&&(T.links=B),E.iGM(B=E.CRH())&&(T.linksWithHrefs=B)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[E.TTD]}),I})();class eo{}class ca{preload(m,_){return(0,Fe.of)(null)}}let Vu=(()=>{class I{constructor(_,T,k,B){this.router=_,this.injector=k,this.preloadingStrategy=B,this.loader=new au(k,T,ge=>_.triggerEvent(new mn(ge)),ge=>_.triggerEvent(new Dn(ge)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Te.h)(_=>_ instanceof un),(0,nr.b)(()=>this.preload())).subscribe(()=>{})}preload(){const _=this.injector.get(E.h0i);return this.processRoutes(_,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,T){const k=[];for(const B of T)if(B.loadChildren&&!B.canLoad&&B._loadedConfig){const Y=B._loadedConfig;k.push(this.processRoutes(Y.module,Y.routes))}else B.loadChildren&&!B.canLoad?k.push(this.preloadConfig(_,B)):B.children&&k.push(this.processRoutes(_,B.children));return(0,Ie.D)(k).pipe((0,Vn.J)(),(0,Tt.U)(B=>{}))}preloadConfig(_,T){return this.preloadingStrategy.preload(T,()=>(T._loadedConfig?(0,Fe.of)(T._loadedConfig):this.loader.load(_.injector,T)).pipe((0,Rn.z)(B=>(T._loadedConfig=B,this.processRoutes(B.module,B.routes)))))}}return I.\u0275fac=function(_){return new(_||I)(E.LFG(is),E.LFG(E.Sil),E.LFG(E.zs3),E.LFG(eo))},I.\u0275prov=E.Yz7({token:I,factory:I.\u0275fac}),I})(),Ro=(()=>{class I{constructor(_,T,k={}){this.router=_,this.viewportScroller=T,this.options=k,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},k.scrollPositionRestoration=k.scrollPositionRestoration||"disabled",k.anchorScrolling=k.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof Hr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof un&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.router.parseUrl(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof cn&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,T){this.router.triggerEvent(new cn(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return I.\u0275fac=function(_){E.$Z()},I.\u0275prov=E.Yz7({token:I,factory:I.\u0275fac}),I})();const ai=new E.OlP("ROUTER_CONFIGURATION"),Oi=new E.OlP("ROUTER_FORROOT_GUARD"),ju=[En.Ye,{provide:Wr,useClass:_r},{provide:is,useFactory:function uu(I,m,_,T,k,B,Y={},le,ge){const de=new is(null,I,m,_,T,k,di(B));return le&&(de.urlHandlingStrategy=le),ge&&(de.routeReuseStrategy=ge),function to(I,m){I.errorHandler&&(m.errorHandler=I.errorHandler),I.malformedUriErrorHandler&&(m.malformedUriErrorHandler=I.malformedUriErrorHandler),I.onSameUrlNavigation&&(m.onSameUrlNavigation=I.onSameUrlNavigation),I.paramsInheritanceStrategy&&(m.paramsInheritanceStrategy=I.paramsInheritanceStrategy),I.relativeLinkResolution&&(m.relativeLinkResolution=I.relativeLinkResolution),I.urlUpdateStrategy&&(m.urlUpdateStrategy=I.urlUpdateStrategy),I.canceledNavigationResolution&&(m.canceledNavigationResolution=I.canceledNavigationResolution)}(Y,de),Y.enableTracing&&de.events.subscribe($e=>{var Rt,Gn;null===(Rt=console.group)||void 0===Rt||Rt.call(console,`Router Event: ${$e.constructor.name}`),console.log($e.toString()),console.log($e),null===(Gn=console.groupEnd)||void 0===Gn||Gn.call(console)}),de},deps:[Wr,he,En.Ye,E.zs3,E.Sil,Go,ai,[class aa{},new E.FiY],[class Ls{},new E.FiY]]},he,{provide:Cn,useFactory:function _o(I){return I.routerState.root},deps:[is]},Vu,ca,class So{preload(m,_){return _().pipe(Ut(()=>(0,Fe.of)(null)))}},{provide:ai,useValue:{enableTracing:!1}}];function Zo(){return new E.PXZ("Router",is)}let la=(()=>{class I{constructor(_,T){}static forRoot(_,T){return{ngModule:I,providers:[ju,Ko(_),{provide:Oi,useFactory:$u,deps:[[is,new E.FiY,new E.tp0]]},{provide:ai,useValue:T||{}},{provide:En.S$,useFactory:xo,deps:[En.lw,[new E.tBr(En.mr),new E.FiY],ai]},{provide:Ro,useFactory:yc,deps:[is,En.EM,ai]},{provide:eo,useExisting:T&&T.preloadingStrategy?T.preloadingStrategy:ca},{provide:E.PXZ,multi:!0,useFactory:Zo},[da,{provide:E.ip1,multi:!0,useFactory:Hu,deps:[da]},{provide:ao,useFactory:ui,deps:[da]},{provide:E.tb,multi:!0,useExisting:ao}]]}}static forChild(_){return{ngModule:I,providers:[Ko(_)]}}}return I.\u0275fac=function(_){return new(_||I)(E.LFG(Oi,8),E.LFG(is,8))},I.\u0275mod=E.oAB({type:I}),I.\u0275inj=E.cJS({}),I})();function yc(I,m,_){return _.scrollOffset&&m.setOffset(_.scrollOffset),new Ro(I,m,_)}function xo(I,m,_={}){return _.useHash?new En.Do(I,m):new En.b0(I,m)}function $u(I){return"guarded"}function Ko(I){return[{provide:E.deG,multi:!0,useValue:I},{provide:Go,multi:!0,useValue:I}]}let da=(()=>{class I{constructor(_){this.injector=_,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new x.x}appInitializer(){return this.injector.get(En.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let T=null;const k=new Promise(le=>T=le),B=this.injector.get(is),Y=this.injector.get(ai);return"disabled"===Y.initialNavigation?(B.setUpLocationChangeListener(),T(!0)):"enabled"===Y.initialNavigation||"enabledBlocking"===Y.initialNavigation?(B.hooks.afterPreactivation=()=>this.initNavigation?(0,Fe.of)(null):(this.initNavigation=!0,T(!0),this.resultOfPreactivationDone),B.initialNavigation()):T(!0),k})}bootstrapListener(_){const T=this.injector.get(ai),k=this.injector.get(Vu),B=this.injector.get(Ro),Y=this.injector.get(is),le=this.injector.get(E.z2F);_===le.components[0]&&(("enabledNonBlocking"===T.initialNavigation||void 0===T.initialNavigation)&&Y.initialNavigation(),k.setUpPreloading(),B.init(),Y.resetRootComponentType(le.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return I.\u0275fac=function(_){return new(_||I)(E.LFG(E.zs3))},I.\u0275prov=E.Yz7({token:I,factory:I.\u0275fac}),I})();function Hu(I){return I.appInitializer.bind(I)}function ui(I){return I.bootstrapListener.bind(I)}const ao=new E.OlP("Router Initializer")},3942:(Ct,Ve,U)=>{"use strict";U.d(Ve,{Z:()=>Je});var E=U(2090),x=U(4859),W=U(9681),be=U(1877);class ve{constructor(we,Pe){this._delegate=we,this.firebase=Pe,(0,W._addComponent)(we,new x.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(we,Pe=W._DEFAULT_ENTRY_NAME){var ze;this._delegate.checkDestroyed();const Xe=this._delegate.container.getProvider(we);return!Xe.isInitialized()&&"EXPLICIT"===(null===(ze=Xe.getComponent())||void 0===ze?void 0:ze.instantiationMode)&&Xe.initialize(),Xe.getImmediate({identifier:Pe})}_removeServiceInstance(we,Pe=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(Pe)}_addComponent(we){(0,W._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,W._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new E.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),oe=function xe(){const rt=function Ae(rt){const we={},Pe={__esModule:!0,initializeApp:function te(et,Ut={}){const Te=W.initializeApp(et,Ut);if((0,E.r3)(we,Te.name))return we[Te.name];const ye=new rt(Te,Pe);return we[Te.name]=ye,ye},app:Xe,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function Ye(et){const Ut=et.name,Te=Ut.replace("-compat","");if(W._registerComponent(et)&&"PUBLIC"===et.type){const ye=(Ue=Xe())=>{if("function"!=typeof Ue[Te])throw Re.create("invalid-app-argument",{appName:Ut});return Ue[Te]()};void 0!==et.serviceProps&&(0,E.ZB)(ye,et.serviceProps),Pe[Te]=ye,rt.prototype[Te]=function(...Ue){return this._getService.bind(this,Ut).apply(this,et.multipleInstances?Ue:[])}}return"PUBLIC"===et.type?Pe[Te]:null},removeApp:function ze(et){delete we[et]},useAsService:function Et(et,Ut){return"serverAuth"===Ut?null:Ut},modularAPIs:W}};function Xe(et){if(!(0,E.r3)(we,et=et||W._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:et});return we[et]}return Pe.default=Pe,Object.defineProperty(Pe,"apps",{get:function Fe(){return Object.keys(we).map(et=>we[et])}}),Xe.App=rt,Pe}(ve);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function we(Pe){(0,E.ZB)(rt,Pe)},createSubscribe:E.ne,ErrorFactory:E.LL,deepExtend:E.ZB}),rt}(),X=new be.Yd("@firebase/app-compat");if((0,E.jU)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=oe;!function Ge(rt){(0,W.registerVersion)("@firebase/app-compat","0.1.16",rt)}()},9681:(Ct,Ve,U)=>{"use strict";U.r(Ve),U.d(Ve,{FirebaseError:()=>be.ZR,SDK_VERSION:()=>Si,_DEFAULT_ENTRY_NAME:()=>gr,_addComponent:()=>Yt,_addOrOverwriteComponent:()=>Rn,_apps:()=>Bt,_clearComponents:()=>Un,_components:()=>nr,_getProvider:()=>Vn,_registerComponent:()=>yt,_removeServiceInstance:()=>En,deleteApp:()=>xn,getApp:()=>zr,getApps:()=>tt,initializeApp:()=>Gr,onLog:()=>Dn,registerVersion:()=>mn,setLogLevel:()=>Ln});var E=U(5861),x=U(4859),W=U(1877),be=U(2090);class ve{constructor(Vt){this.container=Vt}getPlatformInfoString(){return this.container.getProviders().map(cn=>{if(function Ie(qt){const Vt=qt.getComponent();return"VERSION"===(null==Vt?void 0:Vt.type)}(cn)){const St=cn.getImmediate();return`${St.library}/${St.version}`}return null}).filter(cn=>cn).join(" ")}}const Re="@firebase/app",xe=new W.Yd("@firebase/app"),gr="[DEFAULT]",zt={[Re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Bt=new Map,nr=new Map;function Yt(qt,Vt){try{qt.container.addComponent(Vt)}catch(cn){xe.debug(`Component ${Vt.name} failed to register with FirebaseApp ${qt.name}`,cn)}}function Rn(qt,Vt){qt.container.addOrOverwriteComponent(Vt)}function yt(qt){const Vt=qt.name;if(nr.has(Vt))return xe.debug(`There were multiple attempts to register component ${Vt}.`),!1;nr.set(Vt,qt);for(const cn of Bt.values())Yt(cn,qt);return!0}function Vn(qt,Vt){return qt.container.getProvider(Vt)}function En(qt,Vt,cn=gr){Vn(qt,Vt).clearInstance(cn)}function Un(){nr.clear()}const un=new be.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Kn{constructor(Vt,cn,St){this._isDeleted=!1,this._options=Object.assign({},Vt),this._config=Object.assign({},cn),this._name=cn.name,this._automaticDataCollectionEnabled=cn.automaticDataCollectionEnabled,this._container=St,this.container.addComponent(new x.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Vt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Vt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Vt){this._isDeleted=Vt}checkDestroyed(){if(this.isDeleted)throw un.create("app-deleted",{appName:this._name})}}const Si="9.6.5";function Gr(qt,Vt={}){"object"!=typeof Vt&&(Vt={name:Vt});const cn=Object.assign({name:gr,automaticDataCollectionEnabled:!1},Vt),St=cn.name;if("string"!=typeof St||!St)throw un.create("bad-app-name",{appName:String(St)});const mr=Bt.get(St);if(mr){if((0,be.vZ)(qt,mr.options)&&(0,be.vZ)(cn,mr.config))return mr;throw un.create("duplicate-app",{appName:St})}const en=new x.H0(St);for(const Ot of nr.values())en.addComponent(Ot);const Dt=new Kn(qt,cn,en);return Bt.set(St,Dt),Dt}function zr(qt=gr){const Vt=Bt.get(qt);if(!Vt)throw un.create("no-app",{appName:qt});return Vt}function tt(){return Array.from(Bt.values())}function xn(qt){return At.apply(this,arguments)}function At(){return(At=(0,E.Z)(function*(qt){const Vt=qt.name;Bt.has(Vt)&&(Bt.delete(Vt),yield Promise.all(qt.container.getProviders().map(cn=>cn.delete())),qt.isDeleted=!0)})).apply(this,arguments)}function mn(qt,Vt,cn){var St;let mr=null!==(St=zt[qt])&&void 0!==St?St:qt;cn&&(mr+=`-${cn}`);const en=mr.match(/\s|\//),Dt=Vt.match(/\s|\//);if(en||Dt){const Ot=[`Unable to register library "${mr}" with version "${Vt}":`];return en&&Ot.push(`library name "${mr}" contains illegal characters (whitespace or "/")`),en&&Dt&&Ot.push("and"),Dt&&Ot.push(`version name "${Vt}" contains illegal characters (whitespace or "/")`),void xe.warn(Ot.join(" "))}yt(new x.wA(`${mr}-version`,()=>({library:mr,version:Vt}),"VERSION"))}function Dn(qt,Vt){if(null!==qt&&"function"!=typeof qt)throw un.create("invalid-log-argument");(0,W.Am)(qt,Vt)}function Ln(qt){(0,W.Ub)(qt)}!function Ri(qt){yt(new x.wA("platform-logger",Vt=>new ve(Vt),"PRIVATE")),mn(Re,"0.7.15",qt),mn(Re,"0.7.15","esm2017"),mn("fire-js","")}("")},4859:(Ct,Ve,U)=>{"use strict";U.d(Ve,{wA:()=>W,H0:()=>Ae});var E=U(5861),x=U(2090);class W{constructor(oe,X,Ce){this.name=oe,this.instanceFactory=X,this.type=Ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(oe){return this.instantiationMode=oe,this}setMultipleInstances(oe){return this.multipleInstances=oe,this}setServiceProps(oe){return this.serviceProps=oe,this}setInstanceCreatedCallback(oe){return this.onInstanceCreated=oe,this}}const be="[DEFAULT]";class ve{constructor(oe,X){this.name=oe,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(oe){const X=this.normalizeInstanceIdentifier(oe);if(!this.instancesDeferred.has(X)){const Ce=new x.BH;if(this.instancesDeferred.set(X,Ce),this.isInitialized(X)||this.shouldAutoInitialize())try{const ht=this.getOrInitializeService({instanceIdentifier:X});ht&&Ce.resolve(ht)}catch(ht){}}return this.instancesDeferred.get(X).promise}getImmediate(oe){var X;const Ce=this.normalizeInstanceIdentifier(null==oe?void 0:oe.identifier),ht=null!==(X=null==oe?void 0:oe.optional)&&void 0!==X&&X;if(!this.isInitialized(Ce)&&!this.shouldAutoInitialize()){if(ht)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ce})}catch(Ge){if(ht)return null;throw Ge}}getComponent(){return this.component}setComponent(oe){if(oe.name!==this.name)throw Error(`Mismatching Component ${oe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=oe,this.shouldAutoInitialize()){if(function Re(xe){return"EAGER"===xe.instantiationMode}(oe))try{this.getOrInitializeService({instanceIdentifier:be})}catch(X){}for(const[X,Ce]of this.instancesDeferred.entries()){const ht=this.normalizeInstanceIdentifier(X);try{const Ge=this.getOrInitializeService({instanceIdentifier:ht});Ce.resolve(Ge)}catch(Ge){}}}}clearInstance(oe=be){this.instancesDeferred.delete(oe),this.instancesOptions.delete(oe),this.instances.delete(oe)}delete(){var oe=this;return(0,E.Z)(function*(){const X=Array.from(oe.instances.values());yield Promise.all([...X.filter(Ce=>"INTERNAL"in Ce).map(Ce=>Ce.INTERNAL.delete()),...X.filter(Ce=>"_delete"in Ce).map(Ce=>Ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(oe=be){return this.instances.has(oe)}getOptions(oe=be){return this.instancesOptions.get(oe)||{}}initialize(oe={}){const{options:X={}}=oe,Ce=this.normalizeInstanceIdentifier(oe.instanceIdentifier);if(this.isInitialized(Ce))throw Error(`${this.name}(${Ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ht=this.getOrInitializeService({instanceIdentifier:Ce,options:X});for(const[Ge,Je]of this.instancesDeferred.entries())Ce===this.normalizeInstanceIdentifier(Ge)&&Je.resolve(ht);return ht}onInit(oe,X){var Ce;const ht=this.normalizeInstanceIdentifier(X),Ge=null!==(Ce=this.onInitCallbacks.get(ht))&&void 0!==Ce?Ce:new Set;Ge.add(oe),this.onInitCallbacks.set(ht,Ge);const Je=this.instances.get(ht);return Je&&oe(Je,ht),()=>{Ge.delete(oe)}}invokeOnInitCallbacks(oe,X){const Ce=this.onInitCallbacks.get(X);if(Ce)for(const ht of Ce)try{ht(oe,X)}catch(Ge){}}getOrInitializeService({instanceIdentifier:oe,options:X={}}){let Ce=this.instances.get(oe);if(!Ce&&this.component&&(Ce=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=oe,xe===be?void 0:xe),options:X}),this.instances.set(oe,Ce),this.instancesOptions.set(oe,X),this.invokeOnInitCallbacks(Ce,oe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,oe,Ce)}catch(ht){}var xe;return Ce||null}normalizeInstanceIdentifier(oe=be){return this.component?this.component.multipleInstances?oe:be:oe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(oe){this.name=oe,this.providers=new Map}addComponent(oe){const X=this.getProvider(oe.name);if(X.isComponentSet())throw new Error(`Component ${oe.name} has already been registered with ${this.name}`);X.setComponent(oe)}addOrOverwriteComponent(oe){this.getProvider(oe.name).isComponentSet()&&this.providers.delete(oe.name),this.addComponent(oe)}getProvider(oe){if(this.providers.has(oe))return this.providers.get(oe);const X=new ve(oe,this);return this.providers.set(oe,X),X}getProviders(){return Array.from(this.providers.values())}}},1877:(Ct,Ve,U)=>{"use strict";U.d(Ve,{in:()=>x,Yd:()=>Re,Ub:()=>Ae,Am:()=>xe});const E=[];var x=(()=>{return(oe=x||(x={}))[oe.DEBUG=0]="DEBUG",oe[oe.VERBOSE=1]="VERBOSE",oe[oe.INFO=2]="INFO",oe[oe.WARN=3]="WARN",oe[oe.ERROR=4]="ERROR",oe[oe.SILENT=5]="SILENT",x;var oe})();const W={debug:x.DEBUG,verbose:x.VERBOSE,info:x.INFO,warn:x.WARN,error:x.ERROR,silent:x.SILENT},be=x.INFO,ve={[x.DEBUG]:"log",[x.VERBOSE]:"log",[x.INFO]:"info",[x.WARN]:"warn",[x.ERROR]:"error"},Ie=(oe,X,...Ce)=>{if(X<oe.logLevel)return;const ht=(new Date).toISOString(),Ge=ve[X];if(!Ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);console[Ge](`[${ht}]  ${oe.name}:`,...Ce)};class Re{constructor(X){this.name=X,this._logLevel=be,this._logHandler=Ie,this._userLogHandler=null,E.push(this)}get logLevel(){return this._logLevel}set logLevel(X){if(!(X in x))throw new TypeError(`Invalid value "${X}" assigned to \`logLevel\``);this._logLevel=X}setLogLevel(X){this._logLevel="string"==typeof X?W[X]:X}get logHandler(){return this._logHandler}set logHandler(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X}get userLogHandler(){return this._userLogHandler}set userLogHandler(X){this._userLogHandler=X}debug(...X){this._userLogHandler&&this._userLogHandler(this,x.DEBUG,...X),this._logHandler(this,x.DEBUG,...X)}log(...X){this._userLogHandler&&this._userLogHandler(this,x.VERBOSE,...X),this._logHandler(this,x.VERBOSE,...X)}info(...X){this._userLogHandler&&this._userLogHandler(this,x.INFO,...X),this._logHandler(this,x.INFO,...X)}warn(...X){this._userLogHandler&&this._userLogHandler(this,x.WARN,...X),this._logHandler(this,x.WARN,...X)}error(...X){this._userLogHandler&&this._userLogHandler(this,x.ERROR,...X),this._logHandler(this,x.ERROR,...X)}}function Ae(oe){E.forEach(X=>{X.setLogLevel(oe)})}function xe(oe,X){for(const Ce of E){let ht=null;X&&X.level&&(ht=W[X.level]),Ce.userLogHandler=null===oe?null:(Ge,Je,...rt)=>{const we=rt.map(Pe=>{if(null==Pe)return null;if("string"==typeof Pe)return Pe;if("number"==typeof Pe||"boolean"==typeof Pe)return Pe.toString();if(Pe instanceof Error)return Pe.message;try{return JSON.stringify(Pe)}catch(ze){return null}}).filter(Pe=>Pe).join(" ");Je>=(null!=ht?ht:Ge.logLevel)&&oe({level:x[Je].toLowerCase(),message:we,args:rt,type:Ge.name})}}}},5861:(Ct,Ve,U)=>{"use strict";function E(W,be,ve,Ie,Re,Ae,xe){try{var oe=W[Ae](xe),X=oe.value}catch(Ce){return void ve(Ce)}oe.done?be(X):Promise.resolve(X).then(Ie,Re)}function x(W){return function(){var be=this,ve=arguments;return new Promise(function(Ie,Re){var Ae=W.apply(be,ve);function xe(X){E(Ae,Ie,Re,xe,oe,"next",X)}function oe(X){E(Ae,Ie,Re,xe,oe,"throw",X)}xe(void 0)})}}U.d(Ve,{Z:()=>x})}},Ct=>{Ct(Ct.s=7557)}]);