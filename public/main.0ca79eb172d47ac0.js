(self.webpackChunkCarsLTG=self.webpackChunkCarsLTG||[]).push([[179],{440:(Pt,$e,L)=>{"use strict";L.d($e,{nm:()=>Bt});var E=L(5813);L(5e3),L(5867);var Y=L(5861),st=L(9681),et=L(4859),Dt=L(2090),rt=L(1877);const Tt=new Map,Ce={activated:!1,tokenObservers:[]},ve={initialized:!1,enabled:!1};function Ve(Ee){return Tt.get(Ee)||Ce}function xe(Ee,ye){Tt.set(Ee,ye)}function ut(){return ve}class Yn{constructor(ye,Be,Je,vt,Ot){if(this.operation=ye,this.retryPolicy=Be,this.getWaitDuration=Je,this.lowerBound=vt,this.upperBound=Ot,this.pending=null,this.nextErrorWaitInterval=vt,vt>Ot)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ye){var Be=this;return(0,Y.Z)(function*(){Be.stop();try{Be.pending=new Dt.BH,yield function Xt(Ee){return new Promise(ye=>{setTimeout(ye,Ee)})}(Be.getNextRun(ye)),Be.pending.resolve(),yield Be.pending.promise,Be.pending=new Dt.BH,yield Be.operation(),Be.pending.resolve(),yield Be.pending.promise,Be.process(!0).catch(()=>{})}catch(Je){Be.retryPolicy(Je)?Be.process(!1).catch(()=>{}):Be.stop()}})()}getNextRun(ye){if(ye)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Be=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Be}}}const Ct=new Dt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function vn(Ee){if(!Ve(Ee).activated)throw Ct.create("use-before-activation",{appName:Ee.name})}function Nn(Ee,ye){return ni.apply(this,arguments)}function ni(){return(ni=(0,Y.Z)(function*({url:Ee,body:ye},Be){const Je={"Content-Type":"application/json"},vt=Be.getImmediate({optional:!0});vt&&(Je["X-Firebase-Client"]=vt.getPlatformInfoString());const Ot={method:"POST",body:JSON.stringify(ye),headers:Je};let Bn,Rr;try{Bn=yield fetch(Ee,Ot)}catch(ds){throw Ct.create("fetch-network-error",{originalErrorMessage:ds.message})}if(200!==Bn.status)throw Ct.create("fetch-status-error",{httpStatus:Bn.status});try{Rr=yield Bn.json()}catch(ds){throw Ct.create("fetch-parse-error",{originalErrorMessage:ds.message})}const Rn=Rr.ttl.match(/^([\d.]+)(s)$/);if(!Rn||!Rn[2]||isNaN(Number(Rn[1])))throw Ct.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Rr.ttl}`});const es=1e3*Number(Rn[1]),ls=Date.now();return{token:Rr.attestationToken,expireTimeMillis:ls+es,issuedAtTimeMillis:ls}})).apply(this,arguments)}function ot(Ee,ye){const{projectId:Be,appId:Je,apiKey:vt}=Ee.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${Be}/apps/${Je}:exchangeDebugToken?key=${vt}`,body:{debug_token:ye}}}const dn="firebase-app-check-store";let Pn=null;function di(){return Pn||(Pn=new Promise((Ee,ye)=>{try{const Be=indexedDB.open("firebase-app-check-database",1);Be.onsuccess=Je=>{Ee(Je.target.result)},Be.onerror=Je=>{var vt;ye(Ct.create("storage-open",{originalErrorMessage:null===(vt=Je.target.error)||void 0===vt?void 0:vt.message}))},Be.onupgradeneeded=Je=>{0===Je.oldVersion&&Je.target.result.createObjectStore(dn,{keyPath:"compositeKey"})}}catch(Be){ye(Ct.create("storage-open",{originalErrorMessage:Be.message}))}}),Pn)}function yt(){return(yt=(0,Y.Z)(function*(Ee,ye){const Je=(yield di()).transaction(dn,"readwrite"),Ot=Je.objectStore(dn).put({compositeKey:Ee,value:ye});return new Promise((Bn,Rr)=>{Ot.onsuccess=Rn=>{Bn()},Je.onerror=Rn=>{var es;Rr(Ct.create("storage-set",{originalErrorMessage:null===(es=Rn.target.error)||void 0===es?void 0:es.message}))}})})).apply(this,arguments)}const jn=new rt.Yd("@firebase/app-check");function Ln(Ee,ye){return(0,Dt.hl)()?function X(Ee,ye){return function tt(Ee,ye){return yt.apply(this,arguments)}(function hn(Ee){return`${Ee.options.appId}-${Ee.name}`}(Ee),ye)}(Ee,ye).catch(Be=>{jn.warn(`Failed to write token to IndexedDB. Error: ${Be}`)}):Promise.resolve()}function ae(){return ut().enabled}function ce(){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,Y.Z)(function*(){const Ee=ut();if(Ee.enabled&&Ee.token)return Ee.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const At={error:"UNKNOWN_ERROR"};function zt(Ee){return Dt.US.encodeString(JSON.stringify(Ee),!1)}function On(Ee){return En.apply(this,arguments)}function En(){return(En=(0,Y.Z)(function*(Ee,ye=!1){const Be=Ee.app;vn(Be);const Je=Ve(Be);let Ot,vt=Je.token;if(!vt){const Rn=yield Je.cachedTokenPromise;Rn&&Kr(Rn)&&(vt=Rn)}if(!ye&&vt&&Kr(vt))return{token:vt.token};let Rr,Bn=!1;if(ae()){Je.exchangeTokenPromise||(Je.exchangeTokenPromise=Nn(ot(Be,yield ce()),Ee.platformLoggerProvider).then(es=>(Je.exchangeTokenPromise=void 0,es)),Bn=!0);const Rn=yield Je.exchangeTokenPromise;return yield Ln(Be,Rn),xe(Be,Object.assign(Object.assign({},Je),{token:Rn})),{token:Rn.token}}try{Je.exchangeTokenPromise||(Je.exchangeTokenPromise=Je.provider.getToken().then(Rn=>(Je.exchangeTokenPromise=void 0,Rn)),Bn=!0),vt=yield Je.exchangeTokenPromise}catch(Rn){"appCheck/throttled"===Rn.code?jn.warn(Rn.message):jn.error(Rn),Ot=Rn}return vt?(Rr={token:vt.token},xe(Be,Object.assign(Object.assign({},Je),{token:vt})),yield Ln(Be,vt)):Rr=en(Ot),Bn&&jr(Be,Rr),Rr})).apply(this,arguments)}function Nr(Ee,ye){const Be=Ve(Ee),Je=Be.tokenObservers.filter(vt=>vt.next!==ye);0===Je.length&&Be.tokenRefresher&&Be.tokenRefresher.isRunning()&&Be.tokenRefresher.stop(),xe(Ee,Object.assign(Object.assign({},Be),{tokenObservers:Je}))}function fn(Ee){const{app:ye}=Ee,Be=Ve(ye);let Je=Be.tokenRefresher;Je||(Je=function kn(Ee){const{app:ye}=Ee;return new Yn((0,Y.Z)(function*(){let Je;if(Je=Ve(ye).token?yield On(Ee,!0):yield On(Ee),Je.error)throw Je.error}),()=>!0,()=>{const Be=Ve(ye);if(Be.token){let Je=Be.token.issuedAtTimeMillis+.5*(Be.token.expireTimeMillis-Be.token.issuedAtTimeMillis)+3e5;return Je=Math.min(Je,Be.token.expireTimeMillis-3e5),Math.max(0,Je-Date.now())}return 0},3e4,96e4)}(Ee),xe(ye,Object.assign(Object.assign({},Be),{tokenRefresher:Je}))),!Je.isRunning()&&Be.isTokenAutoRefreshEnabled&&Je.start()}function jr(Ee,ye){const Be=Ve(Ee).tokenObservers;for(const Je of Be)try{"EXTERNAL"===Je.type&&null!=ye.error?Je.error(ye.error):Je.next(ye)}catch(vt){}}function Kr(Ee){return Ee.expireTimeMillis-Date.now()>0}function en(Ee){return{token:zt(At),error:Ee}}class Ar{constructor(ye,Be){this.app=ye,this.platformLoggerProvider=Be}_delete(){const{tokenObservers:ye}=Ve(this.app);for(const Be of ye)Nr(this.app,Be.next);return Promise.resolve()}}const q="app-check-internal";!function be(){(0,st._registerComponent)(new et.wA("app-check",Ee=>function Bi(Ee,ye){return new Ar(Ee,ye)}(Ee.getProvider("app").getImmediate(),Ee.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ee,ye,Be)=>{Ee.getProvider(q).initialize()})),(0,st._registerComponent)(new et.wA(q,Ee=>function Qn(Ee){return{getToken:ye=>On(Ee,ye),addTokenListener:ye=>function Zn(Ee,ye,Be,Je){const{app:vt}=Ee,Ot=Ve(vt),Bn={next:Be,error:Je,type:ye};if(xe(vt,Object.assign(Object.assign({},Ot),{tokenObservers:[...Ot.tokenObservers,Bn]})),Ot.token&&Kr(Ot.token)){const Rr=Ot.token;Promise.resolve().then(()=>{Be({token:Rr.token}),fn(Ee)}).catch(()=>{})}Ot.cachedTokenPromise.then(()=>fn(Ee))}(Ee,"INTERNAL",ye),removeTokenListener:ye=>Nr(Ee.app,ye)}}(Ee.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,st.registerVersion)("@firebase/app-check","0.5.3")}();class Bt{constructor(){return(0,E.vb)("app-check")}}"undefined"!=typeof window&&window},9541:(Pt,$e,L)=>{"use strict";L.d($e,{ST:()=>_g,yb:()=>oy});var E=L(5e3),x=L(4986),G=L(8306),pe=L(8996),ge=L(9646),Te=L(5813),Re=L(4482),Ae=L(5403);function Me(){return(0,Re.e)((i,e)=>{let r,o=!1;i.subscribe(new Ae.Q(e,u=>{const f=r;r=u,o&&e.next([f,u]),o=!0}))})}var ne=L(4671);function Se(i,e){return i===e}var ve,pt=L(8675),We=L(4004),nt=L(5026),at=L(9300),_e=L(2011),Le=L(9808),Ue=(L(2209),L(3942)),Y=L(5861),st=L(9681),et=L(4859),Dt=L(1877),rt=L(2090),Tt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ce={},Ve=Ve||{},xe=Tt||self;function ut(){}function Pe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Yt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var sr="closure_uid_"+(1e9*Math.random()>>>0),Wt=0;function kt(i,e,r){return i.call.apply(i.bind,arguments)}function Yn(i,e,r){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Xt(i,e,r){return(Xt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kt:Yn).apply(null,arguments)}function Dn(i,e){var r=Array.prototype.slice.call(arguments,1);return function(){var o=r.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Ct(i,e){function r(){}r.prototype=e.prototype,i.Z=e.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(o,u,f){for(var v=Array(arguments.length-2),T=2;T<arguments.length;T++)v[T-2]=arguments[T];return e.prototype[u].apply(o,v)}}function Un(){this.s=this.s,this.o=this.o}var Mn={};Un.prototype.s=!1,Un.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function _n(i){return Object.prototype.hasOwnProperty.call(i,sr)&&i[sr]||(i[sr]=++Wt)}(this);delete Mn[i]}},Un.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Cr=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===e)return r;return-1},an=Array.prototype.forEach?function(i,e,r){Array.prototype.forEach.call(i,e,r)}:function(i,e,r){const o=i.length,u="string"==typeof i?i.split(""):i;for(let f=0;f<o;f++)f in u&&e.call(r,u[f],f,i)};function ni(i){return Array.prototype.concat.apply([],arguments)}function Or(i){const e=i.length;if(0<e){const r=Array(e);for(let o=0;o<e;o++)r[o]=i[o];return r}return[]}function Er(i){return/^[\s\xa0]*$/.test(i)}var dn,ot=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Tn(i,e){return-1!=i.indexOf(e)}function Nt(i,e){return i<e?-1:i>e?1:0}e:{var wn=xe.navigator;if(wn){var Pn=wn.userAgent;if(Pn){dn=Pn;break e}}dn=""}function di(i,e,r){for(const o in i)e.call(r,i[o],o,i)}function Oe(i){const e={};for(const r in i)e[r]=i[r];return e}var X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(i,e){let r,o;for(let u=1;u<arguments.length;u++){for(r in o=arguments[u],o)i[r]=o[r];for(let f=0;f<X.length;f++)r=X[f],Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}}function Fe(i){return Fe[" "](i),i}Fe[" "]=ut;var Ln,i,yt=Tn(dn,"Opera"),gt=Tn(dn,"Trident")||Tn(dn,"MSIE"),It=Tn(dn,"Edge"),hn=It||gt,jn=Tn(dn,"Gecko")&&!(Tn(dn.toLowerCase(),"webkit")&&!Tn(dn,"Edge"))&&!(Tn(dn,"Trident")||Tn(dn,"MSIE"))&&!Tn(dn,"Edge"),Mt=Tn(dn.toLowerCase(),"webkit")&&!Tn(dn,"Edge");function ln(){var i=xe.document;return i?i.documentMode:void 0}e:{var un="",Q=(i=dn,jn?/rv:([^\);]+)(\)|;)/.exec(i):It?/Edge\/([\d\.]+)/.exec(i):gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Mt?/WebKit\/(\S+)/.exec(i):yt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Q&&(un=Q?Q[1]:""),gt){var ae=ln();if(null!=ae&&ae>parseFloat(un)){Ln=String(ae);break e}}Ln=un}var ce={};var zt=xe.document&&gt&&(ln()||parseInt(Ln,10))||void 0,On=function(){if(!xe.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{xe.addEventListener("test",ut,e),xe.removeEventListener("test",ut,e)}catch(r){}return i}();function En(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function Zn(i,e){if(En.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(jn){e:{try{Fe(e.nodeName);var u=!0;break e}catch(f){}u=!1}u||(e=null)}}else"mouseover"==r?e=i.fromElement:"mouseout"==r&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Nr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Zn.Z.h.call(this)}}En.prototype.h=function(){this.defaultPrevented=!0},Ct(Zn,En);var Nr={2:"touch",3:"pen",4:"mouse"};Zn.prototype.h=function(){Zn.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var fn="closure_listenable_"+(1e6*Math.random()|0),kn=0;function jr(i,e,r,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=r,this.capture=!!o,this.ia=u,this.key=++kn,this.ca=this.fa=!1}function Kr(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function en(i){this.src=i,this.g={},this.h=0}function Ar(i,e){var r=e.type;if(r in i.g){var f,o=i.g[r],u=Cr(o,e);(f=0<=u)&&Array.prototype.splice.call(o,u,1),f&&(Kr(e),0==i.g[r].length&&(delete i.g[r],i.h--))}}function Bi(i,e,r,o){for(var u=0;u<i.length;++u){var f=i[u];if(!f.ca&&f.listener==e&&f.capture==!!r&&f.ia==o)return u}return-1}en.prototype.add=function(i,e,r,o,u){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var v=Bi(i,e,o,u);return-1<v?(e=i[v],r||(e.fa=!1)):((e=new jr(e,this.src,f,!!o,u)).fa=r,i.push(e)),e};var Qn="closure_lm_"+(1e6*Math.random()|0),Ir={};function ri(i,e,r,o,u){if(o&&o.once)return qi(i,e,r,o,u);if(Array.isArray(e)){for(var f=0;f<e.length;f++)ri(i,e[f],r,o,u);return null}return r=Et(r),i&&i[fn]?i.N(e,r,Yt(o)?!!o.capture:!!o,u):gr(i,e,r,!1,o,u)}function gr(i,e,r,o,u,f){if(!e)throw Error("Invalid event type");var v=Yt(u)?!!u.capture:!!u,T=hi(i);if(T||(i[Qn]=T=new en(i)),(r=T.add(e,r,o,v,f)).proxy)return r;if(o=function Ri(){var e=ar;return function i(r){return e.call(i.src,i.listener,r)}}(),r.proxy=o,o.src=i,o.listener=r,i.addEventListener)On||(u=v),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(hr(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return r}function qi(i,e,r,o,u){if(Array.isArray(e)){for(var f=0;f<e.length;f++)qi(i,e[f],r,o,u);return null}return r=Et(r),i&&i[fn]?i.O(e,r,Yt(o)?!!o.capture:!!o,u):gr(i,e,r,!0,o,u)}function Lr(i,e,r,o,u){if(Array.isArray(e))for(var f=0;f<e.length;f++)Lr(i,e[f],r,o,u);else o=Yt(o)?!!o.capture:!!o,r=Et(r),i&&i[fn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(r=Bi(f=i.g[e],r,o,u))&&(Kr(f[r]),Array.prototype.splice.call(f,r,1),0==f.length&&(delete i.g[e],i.h--))):i&&(i=hi(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Bi(e,r,o,u)),(r=-1<i?e[i]:null)&&or(r))}function or(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[fn])Ar(e.i,i);else{var r=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(r,o,i.capture):e.detachEvent?e.detachEvent(hr(r),o):e.addListener&&e.removeListener&&e.removeListener(o),(r=hi(e))?(Ar(r,i),0==r.h&&(r.src=null,e[Qn]=null)):Kr(i)}}}function hr(i){return i in Ir?Ir[i]:Ir[i]="on"+i}function ar(i,e){if(i.ca)i=!0;else{e=new Zn(e,this);var r=i.listener,o=i.ia||i.src;i.fa&&or(i),i=r.call(o,e)}return i}function hi(i){return(i=i[Qn])instanceof en?i:null}var Sr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(i){return"function"==typeof i?i:(i[Sr]||(i[Sr]=function(e){return i.handleEvent(e)}),i[Sr])}function Ut(){Un.call(this),this.i=new en(this),this.P=this,this.I=null}function tn(i,e){var r,o=i.I;if(o)for(r=[];o;o=o.I)r.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new En(e,i);else if(e instanceof En)e.target=e.target||i;else{var u=e;oe(e=new En(o,i),u)}if(u=!0,r)for(var f=r.length-1;0<=f;f--){var v=e.g=r[f];u=tr(v,o,!0,e)&&u}if(u=tr(v=e.g=i,o,!0,e)&&u,u=tr(v,o,!1,e)&&u,r)for(f=0;f<r.length;f++)u=tr(v=e.g=r[f],o,!1,e)&&u}function tr(i,e,r,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,f=0;f<e.length;++f){var v=e[f];if(v&&!v.ca&&v.capture==r){var T=v.listener,U=v.ia||v.src;v.fa&&Ar(i.i,v),u=!1!==T.call(U,o)&&u}}return u&&!o.defaultPrevented}Ct(Ut,Un),Ut.prototype[fn]=!0,Ut.prototype.removeEventListener=function(i,e,r,o){Lr(this,i,e,r,o)},Ut.prototype.M=function(){if(Ut.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var r=i.g[e],o=0;o<r.length;o++)Kr(r[o]);delete i.g[e],i.h--}}this.I=null},Ut.prototype.N=function(i,e,r,o){return this.i.add(String(i),e,!1,r,o)},Ut.prototype.O=function(i,e,r,o){return this.i.add(String(i),e,!0,r,o)};var br=xe.JSON.stringify;function ur(){var i=q;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Yr,An=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new fi,i=>i.reset());class fi{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function mr(i){xe.setTimeout(()=>{throw i},0)}function cn(i,e){Yr||function se(){var i=xe.Promise.resolve(void 0);Yr=function(){i.then(be)}}(),ie||(Yr(),ie=!0),q.add(i,e)}var ie=!1,q=new class Hr{constructor(){this.h=this.g=null}add(e,r){const o=An.get();o.set(e,r),this.h?this.h.next=o:this.g=o,this.h=o}};function be(){for(var i;i=ur();){try{i.h.call(i.g)}catch(r){mr(r)}var e=An;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ie=!1}function Xe(i,e){Ut.call(this),this.h=i||1,this.g=e||xe,this.j=Xt(this.kb,this),this.l=Date.now()}function $t(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Bt(i,e,r){if("function"==typeof i)r&&(i=Xt(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Xt(i.handleEvent,i)}return 2147483647<Number(e)?-1:xe.setTimeout(i,e||0)}function nn(i){i.g=Bt(()=>{i.g=null,i.i&&(i.i=!1,nn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ct(Xe,Ut),(ve=Xe.prototype).da=!1,ve.S=null,ve.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),tn(this,"tick"),this.da&&($t(this),this.start()))}},ve.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ve.M=function(){Xe.Z.M.call(this),$t(this),delete this.g};class $r extends Un{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nn(this)}M(){super.M(),this.g&&(xe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(i){Un.call(this),this.h=i,this.g={}}Ct(Gr,Un);var Qr=[];function Ei(i,e,r,o){Array.isArray(r)||(r&&(Qr[0]=r.toString()),r=Qr);for(var u=0;u<r.length;u++){var f=ri(e,r[u],o||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function xs(i){di(i.g,function(e,r){this.g.hasOwnProperty(r)&&or(e)},i),i.g={}}function Sn(){this.g=!0}function cs(i,e,r,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function bo(i,e){if(!i.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var o=r[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var f=u[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var v=1;v<u.length;v++)u[v]=""}}}return br(r)}catch(T){return e}}(i,r)+(o?" "+o:"")})}Gr.prototype.M=function(){Gr.Z.M.call(this),xs(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sn.prototype.Aa=function(){this.g=!1},Sn.prototype.info=function(){};var yr={},Ms=null;function ys(){return Ms=Ms||new Ut}function Ee(i){En.call(this,yr.Ma,i)}function ye(i){const e=ys();tn(e,new Ee(e,i))}function Be(i,e){En.call(this,yr.STAT_EVENT,i),this.stat=e}function Je(i){const e=ys();tn(e,new Be(e,i))}function vt(i,e){En.call(this,yr.Na,i),this.size=e}function Ot(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return xe.setTimeout(function(){i()},e)}yr.Ma="serverreachability",Ct(Ee,En),yr.STAT_EVENT="statevent",Ct(Be,En),yr.Na="timingevent",Ct(vt,En);var Bn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Rr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Rn(){}function ls(){}Rn.prototype.h=null;var Gs,ds={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ps(){En.call(this,"d")}function Os(){En.call(this,"c")}function ks(){}function Ns(i,e,r,o){this.l=i,this.j=e,this.m=r,this.X=o||1,this.V=new Gr(this),this.P=zs,this.W=new Xe(i=hn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new _s}function _s(){this.i=null,this.g="",this.h=!1}Ct(Ps,En),Ct(Os,En),Ct(ks,Rn),ks.prototype.g=function(){return new XMLHttpRequest},ks.prototype.i=function(){return{}},Gs=new ks;var zs=45e3,ts={},Jr={};function vs(i,e,r){i.K=1,i.v=Rt(j(e)),i.s=r,i.U=!0,Ii(i,null)}function Ii(i,e){i.F=Date.now(),gi(i),i.A=j(i.v);var r=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),lt(r.h,"t",o),i.C=0,r=i.l.H,i.h=new _s,i.g=Vu(i.l,r?e:null,!i.s),0<i.O&&(i.L=new $r(Xt(i.Ia,i,i.g),i.O)),Ei(i.V,i.g,"readystatechange",i.gb),e=i.H?Oe(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),ye(1),function Vi(i,e,r,o,u,f){i.info(function(){if(i.g)if(f)for(var v="",T=f.split("&"),U=0;U<T.length;U++){var W=T[U].split("=");if(1<W.length){var re=W[0];W=W[1];var Ie=re.split("_");v=2<=Ie.length&&"type"==Ie[1]?v+(re+"=")+W+"&":v+(re+"=redacted&")}}else v=null;else v=f;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+r+"\n"+v})}(i.j,i.u,i.A,i.m,i.X,i.s)}function lo(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Vo(i,e,r){let u,o=!0;for(;!i.I&&i.C<r.length;){if(u=pi(i,r),u==Jr){4==e&&(i.o=4,Je(14),o=!1),cs(i.j,i.m,null,"[Incomplete Response]");break}if(u==ts){i.o=4,Je(15),cs(i.j,i.m,r,"[Invalid Chunk]"),o=!1;break}cs(i.j,i.m,u,null),Is(i,u)}lo(i)&&u!=Jr&&u!=ts&&(i.h.g="",i.C=0),4!=e||0!=r.length||i.h.h||(i.o=1,Je(16),o=!1),i.i=i.i&&o,o?0<r.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),vr(e),e.L=!0,Je(11))):(cs(i.j,i.m,r,"[Invalid Chunked Response]"),ji(i),Es(i))}function pi(i,e){var r=i.C,o=e.indexOf("\n",r);return-1==o?Jr:(r=Number(e.substring(r,o)),isNaN(r)?ts:(o+=1)+r>e.length?Jr:(e=e.substr(o,r),i.C=o+r,e))}function gi(i){i.Y=Date.now()+i.P,ws(i,i.P)}function ws(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ot(Xt(i.eb,i),e)}function Fr(i){i.B&&(xe.clearTimeout(i.B),i.B=null)}function Es(i){0==i.l.G||i.I||po(i.l,i)}function ji(i){Fr(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,$t(i.W),xs(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Is(i,e){try{var r=i.l;if(0!=r.G&&(r.g==i||je(r.i,i)))if(r.I=i.N,!i.J&&je(r.i,i)&&3==r.G){try{var o=r.Ca.g.parse(e)}catch(W){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(r.u)r.ta=u[1],0<r.ta-r.U&&37500>u[2]&&r.N&&0==r.A&&!r.v&&(r.v=Ot(Xt(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;no(r),aa(r)}rs(r),Je(18)}if(1>=we(r.i)&&r.ka){try{r.ka()}catch(W){}r.ka=void 0}}else Ks(r,11)}else if((i.J||r.g==i)&&no(r),!Er(e))for(u=r.Ca.g.parse(e),e=0;e<u.length;e++){let W=u[e];if(r.U=W[0],W=W[1],2==r.G)if("c"==W[0]){r.J=W[1],r.la=W[2];const re=W[3];null!=re&&(r.ma=re,r.h.info("VER="+r.ma));const Ie=W[4];null!=Ie&&(r.za=Ie,r.h.info("SVER="+r.za));const Ze=W[5];null!=Ze&&"number"==typeof Ze&&0<Ze&&(r.K=o=1.5*Ze,r.h.info("backChannelRequestTimeoutMs_="+o)),o=r;const ft=i.g;if(ft){const wt=ft.g?ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wt){var f=o.i;!f.g&&(Tn(wt,"spdy")||Tn(wt,"quic")||Tn(wt,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(ct(f,f.h),f.h=null))}if(o.D){const Kt=ft.g?ft.g.getResponseHeader("X-HTTP-Session-Id"):null;Kt&&(o.sa=Kt,Ye(o.F,o.D,Kt))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var v=i;if((o=r).oa=ca(o,o.H?o.la:null,o.W),v.J){jt(o.i,v);var T=v,U=o.K;U&&T.setTimeout(U),T.B&&(Fr(T),gi(T)),o.g=v}else La(o);0<r.l.length&&zo(r)}else"stop"!=W[0]&&"close"!=W[0]||Ks(r,7);else 3==r.G&&("stop"==W[0]||"close"==W[0]?"stop"==W[0]?Ks(r,7):au(r):"noop"!=W[0]&&r.j&&r.j.wa(W),r.A=0)}ye(4)}catch(W){}}function Ws(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Pe(i)||"string"==typeof i)an(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(Pe(i)||"string"==typeof i){r=[];for(var o=i.length,u=0;u<o;u++)r.push(u)}else for(u in r=[],o=0,i)r[o++]=u;o=function Do(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Pe(i)){for(var e=[],r=i.length,o=0;o<r;o++)e.push(i[o]);return e}for(o in e=[],r=0,i)e[r++]=i[o];return e}(i),u=o.length;for(var f=0;f<u;f++)e.call(void 0,o[f],r&&r[f],i)}}function Ls(i,e){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var o=0;o<r;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof Ls)for(r=i.T(),o=0;o<r.length;o++)this.set(r[o],i.get(r[o]));else for(o in i)this.set(o,i[o])}function Hn(i){if(i.i!=i.g.length){for(var e=0,r=0;e<i.g.length;){var o=i.g[e];Mi(i.h,o)&&(i.g[r++]=o),e++}i.g.length=r}if(i.i!=i.g.length){var u={};for(r=e=0;e<i.g.length;)Mi(u,o=i.g[e])||(i.g[r++]=o,u[o]=1),e++;i.g.length=r}}function Mi(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(ve=Ns.prototype).setTimeout=function(i){this.P=i},ve.gb=function(i){i=i.target;const e=this.L;e&&3==eo(i)?e.l():this.Ia(i)},ve.Ia=function(i){try{if(i==this.g)e:{const re=eo(this.g);var e=this.g.Da();const Ie=this.g.ba();if(!(3>re)&&(3!=re||hn||this.g&&(this.h.h||this.g.ga()||yi(this.g)))){this.I||4!=re||7==e||ye(8==e||0>=Ie?3:2),Fr(this);var r=this.g.ba();this.N=r;t:if(lo(this)){var o=yi(this.g);i="";var u=o.length,f=4==eo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ji(this),Es(this);var v="";break t}this.h.i=new xe.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:f&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ga();if(this.i=200==r,function xi(i,e,r,o,u,f,v){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+r+"\n"+f+" "+v})}(this.j,this.u,this.A,this.m,this.X,re,r),this.i){if(this.$&&!this.J){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Er(T)){var W=T;break t}}W=null}if(!(r=W)){this.i=!1,this.o=3,Je(12),ji(this),Es(this);break e}cs(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Is(this,r)}this.U?(Vo(this,re,v),hn&&this.i&&3==re&&(Ei(this.V,this.W,"tick",this.fb),this.W.start())):(cs(this.j,this.m,v,null),Is(this,v)),4==re&&ji(this),this.i&&!this.I&&(4==re?po(this.l,this):(this.i=!1,gi(this)))}else 400==r&&0<v.indexOf("Unknown SID")?(this.o=3,Je(12)):(this.o=0,Je(13)),ji(this),Es(this)}}}catch(re){}},ve.fb=function(){if(this.g){var i=eo(this.g),e=this.g.ga();this.C<e.length&&(Fr(this),Vo(this,i,e),this.i&&4!=i&&gi(this))}},ve.cancel=function(){this.I=!0,ji(this)},ve.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Xs(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ye(3),Je(17)),ji(this),this.o=2,Es(this)):ws(this,this.Y-i)},(ve=Ls.prototype).R=function(){Hn(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},ve.T=function(){return Hn(this),this.g.concat()},ve.get=function(i,e){return Mi(this.h,i)?this.h[i]:e},ve.set=function(i,e){Mi(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},ve.forEach=function(i,e){for(var r=this.T(),o=0;o<r.length;o++){var u=r[o],f=this.get(u);i.call(e,f,u,this)}};var ho=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function R(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof R){this.g=void 0!==e?e:i.g,A(this,i.j),this.s=i.s,$(this,i.i),ue(this,i.m),this.l=i.l,e=i.h;var r=new Oi;r.i=e.i,e.g&&(r.g=new Ls(e.g),r.h=e.h),qe(this,r),this.o=i.o}else i&&(r=String(i).match(ho))?(this.g=!!e,A(this,r[1]||"",!0),this.s=$n(r[2]||""),$(this,r[3]||"",!0),ue(this,r[4]),this.l=$n(r[5]||"",!0),qe(this,r[6]||"",!0),this.o=$n(r[7]||"")):(this.g=!!e,this.h=new Oi(null,this.g))}function j(i){return new R(i)}function A(i,e,r){i.j=r?$n(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function $(i,e,r){i.i=r?$n(e,!0):e}function ue(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function qe(i,e,r){e instanceof Oi?(i.h=e,function jo(i,e){e&&!i.j&&(ki(i),i.i=null,i.g.forEach(function(r,o){var u=o.toLowerCase();o!=u&&(Fs(this,o),lt(this,u,r))},i)),i.j=e}(i.h,i.g)):(r||(e=rn(e,Pi)),i.h=new Oi(e,i.g))}function Ye(i,e,r){i.h.set(e,r)}function Rt(i){return Ye(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function $n(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function rn(i,e,r){return"string"==typeof i?(i=encodeURI(i).replace(e,kr),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function kr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}R.prototype.toString=function(){var i=[],e=this.j;e&&i.push(rn(e,Gn,!0),":");var r=this.i;return(r||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(rn(e,Gn,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(rn(r,"/"==r.charAt(0)?Xr:Vt,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",rn(r,qs)),i.join("")};var Gn=/[#\/\?@]/g,Vt=/[#\?:]/g,Xr=/[#\?]/g,Pi=/[#\?@]/g,qs=/#/g;function Oi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ki(i){i.g||(i.g=new Ls,i.h=0,i.i&&function bn(i,e){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var o=i[r].indexOf("="),u=null;if(0<=o){var f=i[r].substring(0,o);u=i[r].substring(o+1)}else f=i[r];e(f,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,r){i.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function Fs(i,e){ki(i),e=gn(i,e),Mi(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Mi((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Hn(i)))}function Us(i,e){return ki(i),e=gn(i,e),Mi(i.g.h,e)}function lt(i,e,r){Fs(i,e),0<r.length&&(i.i=null,i.g.set(gn(i,e),Or(r)),i.h+=r.length)}function gn(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function P(i){this.l=i||z,i=xe.PerformanceNavigationTiming?0<(i=xe.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(xe.g&&xe.g.Ea&&xe.g.Ea()&&xe.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ve=Oi.prototype).add=function(i,e){ki(this),this.i=null,i=gn(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(e),this.h+=1,this},ve.forEach=function(i,e){ki(this),this.g.forEach(function(r,o){an(r,function(u){i.call(e,u,o,this)},this)},this)},ve.T=function(){ki(this);for(var i=this.g.R(),e=this.g.T(),r=[],o=0;o<e.length;o++)for(var u=i[o],f=0;f<u.length;f++)r.push(e[o]);return r},ve.R=function(i){ki(this);var e=[];if("string"==typeof i)Us(this,i)&&(e=ni(e,this.g.get(gn(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)e=ni(e,i[r])}return e},ve.set=function(i,e){return ki(this),this.i=null,Us(this,i=gn(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ve.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),r=0;r<e.length;r++){var o=e[r],u=encodeURIComponent(String(o));o=this.R(o);for(var f=0;f<o.length;f++){var v=u;""!==o[f]&&(v+="="+encodeURIComponent(String(o[f]))),i.push(v)}}return this.i=i.join("&")};var z=10;function J(i){return!!i.h||!!i.g&&i.g.size>=i.j}function we(i){return i.h?1:i.g?i.g.size:0}function je(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ct(i,e){i.g?i.g.add(e):i.h=e}function jt(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function xt(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const r of i.g.values())e=e.concat(r.D);return e}return Or(i.i)}function on(){}function sn(){this.g=new on}function Jn(i,e,r){const o=r||"";try{Ws(i,function(u,f){let v=u;Yt(u)&&(v=br(u)),e.push(o+f+"="+encodeURIComponent(v))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function nr(i,e,r,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(f){}}function zn(i){this.l=i.$b||null,this.j=i.ib||!1}function bi(i,e){Ut.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=cr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}P.prototype.cancel=function(){if(this.i=xt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},on.prototype.stringify=function(i){return xe.JSON.stringify(i,void 0)},on.prototype.parse=function(i){return xe.JSON.parse(i,void 0)},Ct(zn,Rn),zn.prototype.g=function(){return new bi(this.l,this.j)},zn.prototype.i=function(i){return function(){return i}}({}),Ct(bi,Ut);var cr=0;function Zi(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function mi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Dr(i)}function Dr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ve=bi.prototype).open=function(i,e){if(this.readyState!=cr)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Dr(this)},ve.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||xe).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mi(this)),this.readyState=cr},ve.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Dr(this)),this.g&&(this.readyState=3,Dr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==xe.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zi(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},ve.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?mi(this):Dr(this),3==this.readyState&&Zi(this)}},ve.Ua=function(i){this.g&&(this.response=this.responseText=i,mi(this))},ve.Ta=function(i){this.g&&(this.response=i,mi(this))},ve.ha=function(){this.g&&mi(this)},ve.setRequestHeader=function(i,e){this.v.append(i,e)},ve.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ve.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var r=e.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=e.next();return i.join("\r\n")},Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var zr=xe.JSON.parse;function rr(i){Ut.call(this),this.headers=new Ls,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ns,this.K=this.L=!1}Ct(rr,Ut);var ns="",Ho=/^https?$/i,Bs=["POST","PUT"];function Ma(i){return"content-type"==i.toLowerCase()}function fo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Pa(i),To(i)}function Pa(i){i.D||(i.D=!0,tn(i,"complete"),tn(i,"error"))}function $o(i){if(i.h&&void 0!==Ve&&(!i.C[1]||4!=eo(i)||2!=i.ba()))if(i.v&&4==eo(i))Bt(i.Fa,0,i);else if(tn(i,"readystatechange"),4==eo(i)){i.h=!1;try{const T=i.ba();e:switch(T){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var o;if(o=0===T){var u=String(i.H).match(ho)[1]||null;if(!u&&xe.self&&xe.self.location){var f=xe.self.location.protocol;u=f.substr(0,f.length-1)}o=!Ho.test(u?u.toLowerCase():"")}r=o}if(r)tn(i,"complete"),tn(i,"success");else{i.m=6;try{var v=2<eo(i)?i.g.statusText:""}catch(U){v=""}i.j=v+" ["+i.ba()+"]",Pa(i)}}finally{To(i)}}}function To(i,e){if(i.g){Oa(i);const r=i.g,o=i.C[0]?ut:null;i.g=null,i.C=null,e||tn(i,"ready");try{r.onreadystatechange=o}catch(u){}}}function Oa(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(xe.clearTimeout(i.A),i.A=null)}function eo(i){return i.g?i.g.readyState:0}function yi(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case ns:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ur(i,e,r){e:{for(o in r){var o=!1;break e}o=!0}o||(r=function bs(i){let e="";return di(i,function(r,o){e+=o,e+=":",e+=r,e+="\r\n"}),e}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):Ye(i,e,r))}function Co(i,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||e}function Go(i){this.za=0,this.l=[],this.h=new Sn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Co("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Co("baseRetryDelayMs",5e3,i),this.$a=Co("retryDelaySeedMs",1e4,i),this.Ya=Co("forwardChannelMaxRetries",2,i),this.ra=Co("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new P(i&&i.concurrentRequestLimit),this.Ca=new sn,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function au(i){if(ka(i),3==i.G){var e=i.V++,r=j(i.F);Ye(r,"SID",i.J),Ye(r,"RID",e),Ye(r,"TYPE","terminate"),to(i,r),(e=new Ns(i,i.h,e,void 0)).K=2,e.v=Rt(j(r)),r=!1,xe.navigator&&xe.navigator.sendBeacon&&(r=xe.navigator.sendBeacon(e.v.toString(),"")),!r&&xe.Image&&((new Image).src=e.v,r=!0),r||(e.g=Vu(e.l,null),e.g.ea(e.v)),e.F=Date.now(),gi(e)}Ao(i)}function aa(i){i.g&&(vr(i),i.g.cancel(),i.g=null)}function ka(i){aa(i),i.u&&(xe.clearTimeout(i.u),i.u=null),no(i),i.i.cancel(),i.m&&("number"==typeof i.m&&xe.clearTimeout(i.m),i.m=null)}function Na(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&zo(i)}function zo(i){J(i.i)||i.m||(i.m=!0,cn(i.Ha,i),i.C=0)}function ua(i,e){var r;r=e?e.m:i.V++;const o=j(i.F);Ye(o,"SID",i.J),Ye(o,"RID",r),Ye(o,"AID",i.U),to(i,o),i.o&&i.s&&Ur(o,i.o,i.s),r=new Ns(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Hi(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),ct(i.i,r),vs(r,o,e)}function to(i,e){i.j&&Ws({},function(r,o){Ye(e,o,r)})}function Hi(i,e,r){r=Math.min(i.l.length,r);var o=i.j?Xt(i.j.Oa,i.j,i):null;e:{var u=i.l;let f=-1;for(;;){const v=["count="+r];-1==f?0<r?(f=u[0].h,v.push("ofs="+f)):f=0:v.push("ofs="+f);let T=!0;for(let U=0;U<r;U++){let W=u[U].h;const re=u[U].g;if(W-=f,0>W)f=Math.max(0,u[U].h-100),T=!1;else try{Jn(re,v,"req"+W+"_")}catch(Ie){o&&o(re)}}if(T){o=v.join("&");break e}}}return i=i.l.splice(0,r),e.D=i,o}function La(i){i.g||i.u||(i.Y=1,cn(i.Ga,i),i.A=0)}function rs(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Ot(Xt(i.Ga,i),qo(i,i.A)),i.A++,0))}function vr(i){null!=i.B&&(xe.clearTimeout(i.B),i.B=null)}function Wo(i){i.g=new Ns(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=j(i.oa);Ye(e,"RID","rpc"),Ye(e,"SID",i.J),Ye(e,"CI",i.N?"0":"1"),Ye(e,"AID",i.U),to(i,e),Ye(e,"TYPE","xmlhttp"),i.o&&i.s&&Ur(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=Rt(j(e)),r.s=null,r.U=!0,Ii(r,i)}function no(i){null!=i.v&&(xe.clearTimeout(i.v),i.v=null)}function po(i,e){var r=null;if(i.g==e){no(i),vr(i),i.g=null;var o=2}else{if(!je(i.i,e))return;r=e.D,jt(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){r=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;tn(o=ys(),new vt(o,r,e,u)),zo(i)}else La(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function Zs(i,e){return!(we(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Ot(Xt(i.Ha,i,e),qo(i,i.C)),i.C++,0)))}(i,e)||2==o&&rs(i)))switch(r&&0<r.length&&(e=i.i,e.i=e.i.concat(r)),u){case 1:Ks(i,5);break;case 4:Ks(i,10);break;case 3:Ks(i,6);break;default:Ks(i,2)}}function qo(i,e){let r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*e}function Ks(i,e){if(i.h.info("Error code "+e),2==e){var r=null;i.j&&(r=null);var o=Xt(i.jb,i);r||(r=new R("//www.google.com/images/cleardot.gif"),xe.location&&"http"==xe.location.protocol||A(r,"https"),Rt(r)),function _r(i,e){const r=new Sn;if(xe.Image){const o=new Image;o.onload=Dn(nr,r,o,"TestLoadImage: loaded",!0,e),o.onerror=Dn(nr,r,o,"TestLoadImage: error",!1,e),o.onabort=Dn(nr,r,o,"TestLoadImage: abort",!1,e),o.ontimeout=Dn(nr,r,o,"TestLoadImage: timeout",!1,e),xe.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(r.toString(),o)}else Je(2);i.G=0,i.j&&i.j.va(e),Ao(i),ka(i)}function Ao(i){i.G=0,i.I=-1,i.j&&((0!=xt(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Or(i.l),i.l.length=0),i.j.ua())}function ca(i,e,r){let o=function pn(i){return i instanceof R?j(i):new R(i,void 0)}(r);if(""!=o.i)e&&$(o,e+"."+o.i),ue(o,o.m);else{const u=xe.location;o=function Vn(i,e,r,o){var u=new R(null,void 0);return i&&A(u,i),e&&$(u,e),r&&ue(u,r),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,r)}return i.aa&&di(i.aa,function(u,f){Ye(o,f,u)}),r=i.sa,(e=i.D)&&r&&Ye(o,e,r),Ye(o,"VER",i.ma),to(i,o),o}function Vu(i,e,r){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new rr(r&&i.Ba&&!i.qa?new zn({ib:!0}):i.qa)).L=i.H,e}function So(){}function Fa(){if(gt&&!(10<=Number(zt)))throw Error("Environmental error: no available transport.")}function ii(i,e){Ut.call(this),this.g=new Go(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Er(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Er(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Zo(this)}function Di(i){Ps.call(this);var e=i.__sm__;if(e){e:{for(const r in e){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ju(){Os.call(this),this.status=1}function Zo(i){this.g=i}(ve=rr.prototype).ea=function(i,e,r,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Gs.g(),this.C=function es(i){return i.h||(i.h=i.i())}(this.u?this.u:Gs),this.g.onreadystatechange=Xt(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(f){return void fo(this,f)}i=r||"";const u=new Ls(this.headers);o&&Ws(o,function(f,v){u.set(v,f)}),o=function Nn(i){e:{var e=Ma;const r=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<r;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),r=xe.FormData&&i instanceof xe.FormData,!(0<=Cr(Bs,e))||o||r||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(f,v){this.g.setRequestHeader(v,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Oa(this),0<this.B&&((this.K=function Vs(i){return gt&&function Ge(){return function tt(i){var e=ce;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=ot(String(Ln)).split("."),r=ot("9").split("."),o=Math.max(e.length,r.length);for(let v=0;0==i&&v<o;v++){var u=e[v]||"",f=r[v]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==u[0].length&&0==f[0].length)break;i=Nt(0==u[1].length?0:parseInt(u[1],10),0==f[1].length?0:parseInt(f[1],10))||Nt(0==u[2].length,0==f[2].length)||Nt(u[2],f[2]),u=u[3],f=f[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xt(this.pa,this)):this.A=Bt(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){fo(this,f)}},ve.pa=function(){void 0!==Ve&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tn(this,"timeout"),this.abort(8))},ve.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,tn(this,"complete"),tn(this,"abort"),To(this))},ve.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),To(this,!0)),rr.Z.M.call(this)},ve.Fa=function(){this.s||(this.F||this.v||this.l?$o(this):this.cb())},ve.cb=function(){$o(this)},ve.ba=function(){try{return 2<eo(this)?this.g.status:-1}catch(i){return-1}},ve.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},ve.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),zr(e)}},ve.Da=function(){return this.m},ve.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ve=Go.prototype).ma=8,ve.G=1,ve.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},ve.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new Ns(this,this.h,i,void 0);let f=this.s;if(this.P&&(f?(f=Oe(f),oe(f,this.P)):f=this.P),null===this.o&&(u.H=f),this.ja)e:{for(var e=0,r=0;r<this.l.length;r++){var o=this.l[r];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break e}if(4096===e||r===this.l.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=Hi(this,u,e),Ye(r=j(this.F),"RID",i),Ye(r,"CVER",22),this.D&&Ye(r,"X-HTTP-Session-Id",this.D),to(this,r),this.o&&f&&Ur(r,this.o,f),ct(this.i,u),this.Ra&&Ye(r,"TYPE","init"),this.ja?(Ye(r,"$req",e),Ye(r,"SID","null"),u.$=!0,vs(u,r,null)):vs(u,r,e),this.G=2}}else 3==this.G&&(i?ua(this,i):0==this.l.length||J(this.i)||ua(this))},ve.Ga=function(){if(this.u=null,Wo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Ot(Xt(this.bb,this),i)}},ve.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Je(10),aa(this),Wo(this))},ve.ab=function(){null!=this.v&&(this.v=null,aa(this),rs(this),Je(19))},ve.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Je(2)):(this.h.info("Failed to ping google.com"),Je(1))},(ve=So.prototype).xa=function(){},ve.wa=function(){},ve.va=function(){},ve.ua=function(){},ve.Oa=function(){},Fa.prototype.g=function(i,e){return new ii(i,e)},Ct(ii,Ut),ii.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),cn(Xt(i.hb,i,e))),Je(0),i.W=e,i.aa=r||{},i.N=i.X,i.F=ca(i,null,i.W),zo(i)},ii.prototype.close=function(){au(this.g)},ii.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Na(this.g,e)}else this.v?((e={}).__data__=br(i),Na(this.g,e)):Na(this.g,i)},ii.prototype.M=function(){this.g.j=null,delete this.j,au(this.g),delete this.g,ii.Z.M.call(this)},Ct(Di,Ps),Ct(ju,Os),Ct(Zo,So),Zo.prototype.xa=function(){tn(this.g,"a")},Zo.prototype.wa=function(i){tn(this.g,new Di(i))},Zo.prototype.va=function(i){tn(this.g,new ju(i))},Zo.prototype.ua=function(){tn(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,ii.prototype.send=ii.prototype.u,ii.prototype.open=ii.prototype.m,ii.prototype.close=ii.prototype.close,Bn.NO_ERROR=0,Bn.TIMEOUT=8,Bn.HTTP_ERROR=6,Rr.COMPLETE="complete",ls.EventType=ds,ds.OPEN="a",ds.CLOSE="b",ds.ERROR="c",ds.MESSAGE="d",Ut.prototype.listen=Ut.prototype.N,rr.prototype.listenOnce=rr.prototype.O,rr.prototype.getLastError=rr.prototype.La,rr.prototype.getLastErrorCode=rr.prototype.Da,rr.prototype.getStatus=rr.prototype.ba,rr.prototype.getResponseJson=rr.prototype.Qa,rr.prototype.getResponseText=rr.prototype.ga,rr.prototype.send=rr.prototype.ea;var la=Ce.createWebChannelTransport=function(){return new Fa},yc=Ce.getStatEventTarget=function(){return ys()},Ro=Ce.ErrorCode=Bn,Hu=Ce.EventType=Rr,Ko=Ce.Event=yr,uu=Ce.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ys=Ce.FetchXmlHttpFactory=zn,go=Ce.WebChannel=ls,da=Ce.XhrIo=rr;const $u="@firebase/firestore";class si{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}si.UNAUTHENTICATED=new si(null),si.GOOGLE_CREDENTIALS=new si("google-credentials-uid"),si.FIRST_PARTY=new si("first-party-uid"),si.MOCK_USER=new si("mock-user");let ro="9.6.5";const Ds=new Dt.Yd("@firebase/firestore");function io(){return Ds.logLevel}function y(i,...e){if(Ds.logLevel<=Dt.in.DEBUG){const r=e.map(O);Ds.debug(`Firestore (${ro}): ${i}`,...r)}}function _(i,...e){if(Ds.logLevel<=Dt.in.ERROR){const r=e.map(O);Ds.error(`Firestore (${ro}): ${i}`,...r)}}function C(i,...e){if(Ds.logLevel<=Dt.in.WARN){const r=e.map(O);Ds.warn(`Firestore (${ro}): ${i}`,...r)}}function O(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function F(i="Unexpected state"){const e=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: `+i;throw _(e),new Error(e)}function Z(i,e){i||F()}function me(i,e){return i}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends rt.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lt{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Wn{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(si.UNAUTHENTICATED))}shutdown(){}}class Wr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class hs{constructor(e){this.t=e,this.currentUser=si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;let u=this.i;const f=W=>this.i!==u?(u=this.i,r(W)):Promise.resolve();let v=new Lt;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new Lt,e.enqueueRetryable(()=>f(this.currentUser))};const T=()=>{const W=v;e.enqueueRetryable((0,Y.Z)(function*(){yield W.promise,yield f(o.currentUser)}))},U=W=>{y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=W,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(W=>U(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?U(W):(y("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new Lt)}},0),T()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Z("string"==typeof o.accessToken),new Wn(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Z(null===e||"string"==typeof e),new si(e)}}class fs{constructor(e,r,o){this.type="FirstParty",this.user=si.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",r);const u=e.auth.getAuthHeaderValueForFirstParty([]);u&&this.headers.set("Authorization",u),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Ki{constructor(e,r,o){this.h=e,this.l=r,this.m=o}getToken(){return Promise.resolve(new fs(this.h,this.l,this.m))}start(e,r){e.enqueueRetryable(()=>r(si.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ts{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $i{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,r){this.o=u=>{e.enqueueRetryable(()=>{return null!=(f=u).error&&y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`),r(f.token);var f})};const o=u=>{y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?o(u):y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Z("string"==typeof r.token),new Ts(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ti{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.p(o),this.T=o=>r.writeSequenceNumber(o))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Ua(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<i;o++)r[o]=Math.floor(256*Math.random());return r}Ti.I=-1;class Ba{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Ua(40);for(let f=0;f<u.length;++f)o.length<20&&u[f]<r&&(o+=e.charAt(u[f]%e.length))}return o}}function Kn(i,e){return i<e?-1:i>e?1:0}function fr(i,e,r){return i.length===e.length&&i.every((o,u)=>r(o,e[u]))}function cu(i){return i+"\0"}class Ni{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ze(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ze(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ze(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ni.fromMillis(Date.now())}static fromDate(e){return Ni.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Ni(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kn(this.nanoseconds,e.nanoseconds):Kn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class In{constructor(e){this.timestamp=e}static fromTimestamp(e){return new In(e)}static min(){return new In(new Ni(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ed(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function ha(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function Kd(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Va{constructor(e,r,o){void 0===r?r=0:r>e.length&&F(),void 0===o?o=e.length-r:o>e.length-r&&F(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===Va.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Va?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let u=0;u<o;u++){const f=e.get(u),v=r.get(u);if(f<v)return-1;if(f>v)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class qn extends Va{construct(e,r,o){return new qn(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new ze(he.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(u=>u.length>0))}return new qn(r)}static emptyPath(){return new qn([])}}const td=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class er extends Va{construct(e,r,o){return new er(e,r,o)}static isValidIdentifier(e){return td.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),er.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new er(["__name__"])}static fromServerFormat(e){const r=[];let o="",u=0;const f=()=>{if(0===o.length)throw new ze(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let v=!1;for(;u<e.length;){const T=e[u];if("\\"===T){if(u+1===e.length)throw new ze(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const U=e[u+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new ze(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=U,u+=2}else"`"===T?(v=!v,u++):"."!==T||v?(o+=T,u++):(f(),u++)}if(f(),v)throw new ze(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new er(r)}static emptyPath(){return new er([])}}class fa{constructor(e){this.fields=e,e.sort(er.comparator)}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return fr(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class Gi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=atob(e);return new Gi(r)}static fromUint8Array(e){const r=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Gi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gi.EMPTY_BYTE_STRING=new Gi("");const nd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(i){if(Z(!!i),"string"==typeof i){let e=0;const r=nd.exec(i);if(Z(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:wr(i.seconds),nanos:wr(i.nanos)}}function wr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function pa(i){return"string"==typeof i?Gi.fromBase64String(i):Gi.fromUint8Array(i)}function ga(i){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Qo(i){const e=i.mapValue.fields.__previous_value__;return ga(e)?Qo(e):e}function ja(i){const e=Li(i.mapValue.fields.__local_write_time__.timestampValue);return new Ni(e.seconds,e.nanos)}function ma(i){return null==i}function Jo(i){return 0===i&&1/i==-1/0}function _c(i){return"number"==typeof i&&Number.isInteger(i)&&!Jo(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Qt{constructor(e){this.path=e}static fromPath(e){return new Qt(qn.fromString(e))}static fromName(e){return new Qt(qn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===qn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return qn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qt(new qn(e.slice()))}}function yo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ga(i)?4:10:F()}function qr(i,e){if(i===e)return!0;const r=yo(i);if(r!==yo(e))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ja(i).isEqual(ja(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Li(o.timestampValue),v=Li(u.timestampValue);return f.seconds===v.seconds&&f.nanos===v.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,pa(i.bytesValue).isEqual(pa(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return wr(o.geoPointValue.latitude)===wr(u.geoPointValue.latitude)&&wr(o.geoPointValue.longitude)===wr(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return wr(o.integerValue)===wr(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=wr(o.doubleValue),v=wr(u.doubleValue);return f===v?Jo(f)===Jo(v):isNaN(f)&&isNaN(v)}return!1}(i,e);case 9:return fr(i.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:return function(o,u){const f=o.mapValue.fields||{},v=u.mapValue.fields||{};if(ed(f)!==ed(v))return!1;for(const T in f)if(f.hasOwnProperty(T)&&(void 0===v[T]||!qr(f[T],v[T])))return!1;return!0}(i,e);default:return F()}var u}function xo(i,e){return void 0!==(i.values||[]).find(r=>qr(r,e))}function js(i,e){if(i===e)return 0;const r=yo(i),o=yo(e);if(r!==o)return Kn(r,o);switch(r){case 0:return 0;case 1:return Kn(i.booleanValue,e.booleanValue);case 2:return function(u,f){const v=wr(u.integerValue||u.doubleValue),T=wr(f.integerValue||f.doubleValue);return v<T?-1:v>T?1:v===T?0:isNaN(v)?isNaN(T)?0:-1:1}(i,e);case 3:return Yd(i.timestampValue,e.timestampValue);case 4:return Yd(ja(i),ja(e));case 5:return Kn(i.stringValue,e.stringValue);case 6:return function(u,f){const v=pa(u),T=pa(f);return v.compareTo(T)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const v=u.split("/"),T=f.split("/");for(let U=0;U<v.length&&U<T.length;U++){const W=Kn(v[U],T[U]);if(0!==W)return W}return Kn(v.length,T.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const v=Kn(wr(u.latitude),wr(f.latitude));return 0!==v?v:Kn(wr(u.longitude),wr(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,f){const v=u.values||[],T=f.values||[];for(let U=0;U<v.length&&U<T.length;++U){const W=js(v[U],T[U]);if(W)return W}return Kn(v.length,T.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,f){const v=u.fields||{},T=Object.keys(v),U=f.fields||{},W=Object.keys(U);T.sort(),W.sort();for(let re=0;re<T.length&&re<W.length;++re){const Ie=Kn(T[re],W[re]);if(0!==Ie)return Ie;const Ze=js(v[T[re]],U[W[re]]);if(0!==Ze)return Ze}return Kn(T.length,W.length)}(i.mapValue,e.mapValue);default:throw F()}}function Yd(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Kn(i,e);const r=Li(i),o=Li(e),u=Kn(r.seconds,o.seconds);return 0!==u?u:Kn(r.nanos,o.nanos)}function vc(i){return rl(i)}function rl(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Li(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?pa(i.bytesValue).toBase64():"referenceValue"in i?Qt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",f=!0;for(const v of o.values||[])f?f=!1:u+=",",u+=rl(v);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let f="{",v=!0;for(const T of u)v?v=!1:f+=",",f+=`${T}:${rl(o.fields[T])}`;return f+"}"}(i.mapValue):F();var e}function lu(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function wc(i){return!!i&&"integerValue"in i}function Xo(i){return!!i&&"arrayValue"in i}function Ec(i){return!!i&&"nullValue"in i}function du(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ha(i){return!!i&&"mapValue"in i}function is(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ha(i.mapValue.fields,(r,o)=>e.mapValue.fields[r]=is(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=is(i.arrayValue.values[r]);return e}return Object.assign({},i)}class ps{constructor(e){this.value=e}static empty(){return new ps({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!Ha(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=is(r)}setAll(e){let r=er.emptyPath(),o={},u=[];e.forEach((v,T)=>{if(!r.isImmediateParentOf(T)){const U=this.getFieldsMap(r);this.applyChanges(U,o,u),o={},u=[],r=T.popLast()}v?o[T.lastSegment()]=is(v):u.push(T.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,o,u)}delete(e){const r=this.field(e.popLast());Ha(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=r.mapValue.fields[e.get(o)];Ha(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,o){ha(r,(u,f)=>e[u]=f);for(const u of o)delete e[u]}clone(){return new ps(is(this.value))}}function Cs(i){const e=[];return ha(i.fields,(r,o)=>{const u=new er([r]);if(Ha(o)){const f=Cs(o.mapValue).fields;if(0===f.length)e.push(u);else for(const v of f)e.push(u.child(v))}else e.push(u)}),new fa(e)}class Br{constructor(e,r,o,u,f){this.key=e,this.documentType=r,this.version=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Br(e,0,In.min(),ps.empty(),0)}static newFoundDocument(e,r,o){return new Br(e,1,r,o,0)}static newNoDocument(e,r){return new Br(e,2,r,ps.empty(),0)}static newUnknownDocument(e,r){return new Br(e,3,r,ps.empty(),2)}convertToFoundDocument(e,r){return this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ps.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ps.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Br&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Br(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hu{constructor(e,r=null,o=[],u=[],f=null,v=null,T=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=u,this.limit=f,this.startAt=v,this.endAt=T,this.R=null}}function $a(i,e=null,r=[],o=[],u=null,f=null,v=null){return new hu(i,e,r,o,u,f,v)}function ya(i){const e=me(i);if(null===e.R){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>function H(i){return i.field.canonicalString()+i.op.toString()+vc(i.value)}(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),ma(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=_i(e.startAt)),e.endAt&&(r+="|ub:",r+=_i(e.endAt)),e.R=r}return e.R}function Ga(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!_a(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((r=i.filters[u]).op!==(o=e.filters[u]).op||!r.field.isEqual(o.field)||!qr(r.value,o.value))return!1;var r,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!za(i.startAt,e.startAt)&&za(i.endAt,e.endAt)}function D(i){return Qt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class S extends class{}{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.P(e,r,o):new te(e,r,o):"array-contains"===r?new qt(e,o):"in"===r?new Gt(e,o):"not-in"===r?new lr(e,o):"array-contains-any"===r?new xr(e,o):new S(e,r,o)}static P(e,r,o){return"in"===r?new De(e,o):new Qe(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.v(js(r,this.value)):null!==r&&yo(this.value)===yo(r)&&this.v(js(r,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class te extends S{constructor(e,r,o){super(e,r,o),this.key=Qt.fromName(o.referenceValue)}matches(e){const r=Qt.comparator(e.key,this.key);return this.v(r)}}class De extends S{constructor(e,r){super(e,"in",r),this.keys=_t(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Qe extends S{constructor(e,r){super(e,"not-in",r),this.keys=_t(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function _t(i,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>Qt.fromName(o.referenceValue))}class qt extends S{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Xo(r)&&xo(r.arrayValue,this.value)}}class Gt extends S{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&xo(this.value.arrayValue,r)}}class lr extends S{constructor(e,r){super(e,"not-in",r)}matches(e){if(xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!xo(this.value.arrayValue,r)}}class xr extends S{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Xo(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>xo(this.value.arrayValue,o))}}class Yi{constructor(e,r){this.position=e,this.before=r}}function _i(i){return`${i.before?"b":"a"}:${i.position.map(e=>vc(e)).join(",")}`}class Mr{constructor(e,r="asc"){this.field=e,this.dir=r}}function _a(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function so(i,e,r){let o=0;for(let u=0;u<i.position.length;u++){const f=e[u],v=i.position[u];if(o=f.field.isKeyField()?Qt.comparator(Qt.fromName(v.referenceValue),r.key):js(v,r.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return i.before?o<=0:o<0}function za(i,e){if(null===i)return null===e;if(null===e||i.before!==e.before||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!qr(i.position[r],e.position[r]))return!1;return!0}class Fi{constructor(e,r=null,o=[],u=[],f=null,v="F",T=null,U=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=u,this.limit=f,this.limitType=v,this.startAt=T,this.endAt=U,this.S=null,this.D=null}}function Mo(i,e,r,o,u,f,v,T){return new Fi(i,e,r,o,u,f,v,T)}function _o(i){return new Fi(i)}function fu(i){return!ma(i.limit)&&"F"===i.limitType}function Gu(i){return!ma(i.limit)&&"L"===i.limitType}function Ic(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Wa(i){for(const e of i.filters)if(e.V())return e.field;return null}function qa(i){return null!==i.collectionGroup}function pu(i){const e=me(i);if(null===e.S){e.S=[];const r=Wa(e),o=Ic(e);if(null!==r&&null===o)r.isKeyField()||e.S.push(new Mr(r)),e.S.push(new Mr(er.keyField(),"asc"));else{let u=!1;for(const f of e.explicitOrderBy)e.S.push(f),f.field.isKeyField()&&(u=!0);if(!u){const f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Mr(er.keyField(),f))}}}return e.S}function Po(i){const e=me(i);if(!e.D)if("F"===e.limitType)e.D=$a(e.path,e.collectionGroup,pu(e),e.filters,e.limit,e.startAt,e.endAt);else{const r=[];for(const f of pu(e))r.push(new Mr(f.field,"desc"===f.dir?"asc":"desc"));const o=e.endAt?new Yi(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Yi(e.startAt.position,!e.startAt.before):null;e.D=$a(e.path,e.collectionGroup,r,e.filters,e.limit,o,u)}return e.D}function id(i,e,r){return new Fi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function gu(i,e){return Ga(Po(i),Po(e))&&i.limitType===e.limitType}function Ef(i){return`${ya(Po(i))}|lt:${i.limitType}`}function sd(i){return`Query(target=${function rd(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(r=>{return`${(o=r).field.canonicalString()} ${o.op} ${vc(o.value)}`;var o}).join(", ")}]`),ma(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: "+_i(i.startAt)),i.endAt&&(e+=", endAt: "+_i(i.endAt)),`Target(${e})`}(Po(i))}; limitType=${i.limitType})`}function mu(i,e){return e.isFoundDocument()&&function(r,o){const u=o.key.path;return null!==r.collectionGroup?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Qt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)}(i,e)&&function(r,o){for(const u of r.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((r=i).startAt&&!so(r.startAt,pu(r),o)||r.endAt&&so(r.endAt,pu(r),o)));var r,o}function Qd(i){return(e,r)=>{let o=!1;for(const u of pu(i)){const f=il(u,e,r);if(0!==f)return f;o=o||u.field.isKeyField()}return 0}}function il(i,e,r){const o=i.field.isKeyField()?Qt.comparator(e.key,r.key):function(u,f,v){const T=f.data.field(u),U=v.data.field(u);return null!==T&&null!==U?js(T,U):F()}(i.field,e,r);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return F()}}function zu(i,e){if(i.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jo(e)?"-0":e}}function yu(i){return{integerValue:""+i}}function sl(i,e){return _c(e)?yu(e):zu(i,e)}class _u{constructor(){this._=void 0}}function Jd(i,e,r){return i instanceof vu?function(o,u){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(f.fields.__previous_value__=u),{mapValue:f}}(r,e):i instanceof va?ol(i,e):i instanceof wa?Xd(i,e):function(o,u){const f=Wu(o,u),v=al(f)+al(o.N);return wc(f)&&wc(o.N)?yu(v):zu(o.k,v)}(i,e)}function bc(i,e,r){return i instanceof va?ol(i,e):i instanceof wa?Xd(i,e):r}function Wu(i,e){return i instanceof wu?wc(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var o,r}class vu extends _u{}class va extends _u{constructor(e){super(),this.elements=e}}function ol(i,e){const r=eh(e);for(const o of i.elements)r.some(u=>qr(u,o))||r.push(o);return{arrayValue:{values:r}}}class wa extends _u{constructor(e){super(),this.elements=e}}function Xd(i,e){let r=eh(e);for(const o of i.elements)r=r.filter(u=>!qr(u,o));return{arrayValue:{values:r}}}class wu extends _u{constructor(e,r){super(),this.k=e,this.N=r}}function al(i){return wr(i.integerValue||i.doubleValue)}function eh(i){return Xo(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Dc{constructor(e,r){this.field=e,this.transform=r}}class Eu{constructor(e,r){this.version=e,this.transformResults=r}}class zi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new zi}static exists(e){return new zi(void 0,e)}static updateTime(e){return new zi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function od(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class ul{}function Sg(i,e,r){i instanceof Cc?function(o,u,f){const v=o.value.clone(),T=If(o.fieldTransforms,u,f.transformResults);v.setAll(T),u.convertToFoundDocument(f.version,v).setHasCommittedMutations()}(i,e,r):i instanceof Ka?function(o,u,f){if(!od(o.precondition,u))return void u.convertToUnknownDocument(f.version);const v=If(o.fieldTransforms,u,f.transformResults),T=u.data;T.setAll(nh(o)),T.setAll(v),u.convertToFoundDocument(f.version,T).setHasCommittedMutations()}(i,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Tc(i,e,r){var u;i instanceof Cc?function(o,u,f){if(!od(o.precondition,u))return;const v=o.value.clone(),T=rh(o.fieldTransforms,f,u);v.setAll(T),u.convertToFoundDocument(th(u),v).setHasLocalMutations()}(i,e,r):i instanceof Ka?function(o,u,f){if(!od(o.precondition,u))return;const v=rh(o.fieldTransforms,f,u),T=u.data;T.setAll(nh(o)),T.setAll(v),u.convertToFoundDocument(th(u),T).setHasLocalMutations()}(i,e,r):od(i.precondition,u=e)&&u.convertToNoDocument(In.min())}function Rg(i,e){let r=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),f=Wu(o.transform,u||null);null!=f&&(null==r&&(r=ps.empty()),r.set(o.field,f))}return r||null}function ad(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===o||r&&o&&fr(r,o,(u,f)=>function Za(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(r=i.transform)instanceof va&&o instanceof va||r instanceof wa&&o instanceof wa?fr(r.elements,o.elements,qr):r instanceof wu&&o instanceof wu?qr(r.N,o.N):r instanceof vu&&o instanceof vu);var r,o}(u,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var r,o}function th(i){return i.isFoundDocument()?i.version:In.min()}class Cc extends ul{constructor(e,r,o,u=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=u,this.type=0}}class Ka extends ul{constructor(e,r,o,u,f=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=u,this.fieldTransforms=f,this.type=1}}function nh(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=i.data.field(r);e.set(r,o)}}),e}function If(i,e,r){const o=new Map;Z(i.length===r.length);for(let u=0;u<r.length;u++){const f=i[u],v=f.transform,T=e.data.field(f.field);o.set(f.field,bc(v,T,r[u]))}return o}function rh(i,e,r){const o=new Map;for(const u of i){const f=u.transform,v=r.data.field(u.field);o.set(u.field,Jd(f,v,e))}return o}class ea extends ul{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class cl extends ul{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class ta{constructor(e){this.count=e}}var ui,ir;function ud(i){switch(i){default:return F();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function ll(i){if(void 0===i)return _("GRPC error has no .code"),he.UNKNOWN;switch(i){case ui.OK:return he.OK;case ui.CANCELLED:return he.CANCELLED;case ui.UNKNOWN:return he.UNKNOWN;case ui.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case ui.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case ui.INTERNAL:return he.INTERNAL;case ui.UNAVAILABLE:return he.UNAVAILABLE;case ui.UNAUTHENTICATED:return he.UNAUTHENTICATED;case ui.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case ui.NOT_FOUND:return he.NOT_FOUND;case ui.ALREADY_EXISTS:return he.ALREADY_EXISTS;case ui.PERMISSION_DENIED:return he.PERMISSION_DENIED;case ui.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case ui.ABORTED:return he.ABORTED;case ui.OUT_OF_RANGE:return he.OUT_OF_RANGE;case ui.UNIMPLEMENTED:return he.UNIMPLEMENTED;case ui.DATA_LOSS:return he.DATA_LOSS;default:return F()}}(ir=ui||(ui={}))[ir.OK=0]="OK",ir[ir.CANCELLED=1]="CANCELLED",ir[ir.UNKNOWN=2]="UNKNOWN",ir[ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ir[ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ir[ir.NOT_FOUND=5]="NOT_FOUND",ir[ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",ir[ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",ir[ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",ir[ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ir[ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ir[ir.ABORTED=10]="ABORTED",ir[ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",ir[ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",ir[ir.INTERNAL=13]="INTERNAL",ir[ir.UNAVAILABLE=14]="UNAVAILABLE",ir[ir.DATA_LOSS=15]="DATA_LOSS";class ss{constructor(e,r){this.comparator=e,this.root=r||As.EMPTY}insert(e,r){return new ss(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,As.BLACK,null,null))}remove(e){return new ss(this.comparator,this.root.remove(e,this.comparator).copy(null,null,As.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return r+o.left.size;u<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cd(this.root,e,this.comparator,!0)}}class cd{constructor(e,r,o,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=r?o(e.key,r):1,u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class As{constructor(e,r,o,u,f){this.key=e,this.value=r,this.color=null!=o?o:As.RED,this.left=null!=u?u:As.EMPTY,this.right=null!=f?f:As.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,u,f){return new As(null!=e?e:this.key,null!=r?r:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let u=this;const f=o(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,r,o),null):0===f?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return As.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return As.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,As.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,As.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}As.EMPTY=null,As.RED=!0,As.BLACK=!1,As.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(i,e,r,o,u){return this}insert(i,e,r){return new As(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ci{constructor(e){this.comparator=e,this.data=new ss(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new qu(this.data.getIterator())}getIteratorFrom(e){return new qu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof ci)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=o.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new ci(this.comparator);return r.data=e,r}}class qu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const ld=new ss(Qt.comparator);function oo(){return ld}const xg=new ss(Qt.comparator);function Ac(){return xg}const bf=new ss(Qt.comparator);function dl(){return bf}const Df=new ci(Qt.comparator);function Pr(...i){let e=Df;for(const r of i)e=e.add(r);return e}const dd=new ci(Kn);function Iu(){return dd}class Sc{constructor(e,r,o,u,f){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,r){const o=new Map;return o.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,r)),new Sc(In.min(),o,Iu(),oo(),Pr())}}class bu{constructor(e,r,o,u,f){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,r){return new bu(Gi.EMPTY_BYTE_STRING,r,Pr(),Pr(),Pr())}}class hd{constructor(e,r,o,u){this.$=e,this.removedTargetIds=r,this.key=o,this.O=u}}class Zr{constructor(e,r){this.targetId=e,this.M=r}}class ih{constructor(e,r,o=Gi.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=u}}class sh{constructor(){this.F=0,this.L=hl(),this.B=Gi.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=Pr(),r=Pr(),o=Pr();return this.L.forEach((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:o=o.add(u);break;default:F()}}),new bu(this.B,this.U,e,r,o)}H(){this.q=!1,this.L=hl()}J(e,r){this.q=!0,this.L=this.L.insert(e,r)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class Rc{constructor(e){this.et=e,this.nt=new Map,this.st=oo(),this.it=fd(),this.rt=new ci(Kn)}ot(e){for(const r of e.$)e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O);for(const r of e.removedTargetIds)this.at(r,e.key,e.O)}ut(e){this.forEachTarget(e,r=>{const o=this.ht(r);switch(e.state){case 0:this.lt(r)&&o.W(e.resumeToken);break;case 1:o.Z(),o.K||o.H(),o.W(e.resumeToken);break;case 2:o.Z(),o.K||this.removeTarget(r);break;case 3:this.lt(r)&&(o.tt(),o.W(e.resumeToken));break;case 4:this.lt(r)&&(this.ft(r),o.W(e.resumeToken));break;default:F()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.nt.forEach((o,u)=>{this.lt(u)&&r(u)})}dt(e){const r=e.targetId,o=e.M.count,u=this.wt(r);if(u){const f=u.target;if(D(f))if(0===o){const v=new Qt(f.path);this.at(r,v,Br.newNoDocument(v,In.min()))}else Z(1===o);else this._t(r)!==o&&(this.ft(r),this.rt=this.rt.add(r))}}gt(e){const r=new Map;this.nt.forEach((f,v)=>{const T=this.wt(v);if(T){if(f.current&&D(T.target)){const U=new Qt(T.target.path);null!==this.st.get(U)||this.yt(v,U)||this.at(v,U,Br.newNoDocument(U,e))}f.j&&(r.set(v,f.G()),f.H())}});let o=Pr();this.it.forEach((f,v)=>{let T=!0;v.forEachWhile(U=>{const W=this.wt(U);return!W||2===W.purpose||(T=!1,!1)}),T&&(o=o.add(f))});const u=new Sc(e,r,this.rt,this.st,o);return this.st=oo(),this.it=fd(),this.rt=new ci(Kn),u}ct(e,r){if(!this.lt(e))return;const o=this.yt(e,r.key)?2:0;this.ht(e).J(r.key,o),this.st=this.st.insert(r.key,r),this.it=this.it.insert(r.key,this.Tt(r.key).add(e))}at(e,r,o){if(!this.lt(e))return;const u=this.ht(e);this.yt(e,r)?u.J(r,1):u.Y(r),this.it=this.it.insert(r,this.Tt(r).delete(e)),o&&(this.st=this.st.insert(r,o))}removeTarget(e){this.nt.delete(e)}_t(e){const r=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let r=this.nt.get(e);return r||(r=new sh,this.nt.set(e,r)),r}Tt(e){let r=this.it.get(e);return r||(r=new ci(Kn),this.it=this.it.insert(e,r)),r}lt(e){const r=null!==this.wt(e);return r||y("WatchChangeAggregator","Detected inactive target",e),r}wt(e){const r=this.nt.get(e);return r&&r.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new sh),this.et.getRemoteKeysForTarget(e).forEach(r=>{this.at(e,r,null)})}yt(e,r){return this.et.getRemoteKeysForTarget(e).has(r)}}function fd(){return new ss(Qt.comparator)}function hl(){return new ss(Qt.comparator)}const Tf={asc:"ASCENDING",desc:"DESCENDING"},Cf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class pd{constructor(e,r){this.databaseId=e,this.C=r}}function xc(i,e){return i.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Af(i,e){return i.C?e.toBase64():e.toUint8Array()}function oh(i,e){return xc(i,e.toTimestamp())}function Ci(i){return Z(!!i),In.fromTimestamp(function(e){const r=Li(e);return new Ni(r.seconds,r.nanos)}(i))}function gs(i,e){return(r=i,new qn(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function fl(i){const e=qn.fromString(i);return Z(ml(e)),e}function Zu(i,e){return gs(i.databaseId,e.path)}function Oo(i,e){const r=fl(e);if(r.get(1)!==i.databaseId.projectId)throw new ze(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new ze(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new Qt(ah(r))}function Qi(i,e){return gs(i.databaseId,e)}function Ya(i){const e=fl(i);return 4===e.length?qn.emptyPath():ah(e)}function Du(i){return new qn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ah(i){return Z(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function pl(i,e,r){return{name:Zu(i,e),fields:r.value.mapValue.fields}}function Mc(i,e,r){const o=Oo(i,e.name),u=Ci(e.updateTime),f=new ps({mapValue:{fields:e.fields}}),v=Br.newFoundDocument(o,u,f);return r&&v.setHasCommittedMutations(),r?v.setHasCommittedMutations():v}function Tu(i,e){let r;if(e instanceof Cc)r={update:pl(i,e.key,e.value)};else if(e instanceof ea)r={delete:Zu(i,e.key)};else if(e instanceof Ka)r={update:pl(i,e.key,e.data),updateMask:md(e.fieldMask)};else{if(!(e instanceof cl))return F();r={verify:Zu(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(u,f){const v=f.transform;if(v instanceof vu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof va)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof wa)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof wu)return{fieldPath:f.field.canonicalString(),increment:v.N};throw F()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:oh(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:F()),r;var u}function gd(i,e){const r=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?zi.updateTime(Ci(u.updateTime)):void 0!==u.exists?zi.exists(u.exists):zi.none():zi.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(f,v){let T=null;"setToServerValue"in v?(Z("REQUEST_TIME"===v.setToServerValue),T=new vu):"appendMissingElements"in v?T=new va(v.appendMissingElements.values||[]):"removeAllFromArray"in v?T=new wa(v.removeAllFromArray.values||[]):"increment"in v?T=new wu(f,v.increment):F();const U=er.fromServerFormat(v.fieldPath);return new Dc(U,T)}(i,u)):[];var u;if(e.update){const u=Oo(i,e.update.name),f=new ps({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new fa((e.updateMask.fieldPaths||[]).map(W=>er.fromServerFormat(W)));return new Ka(u,f,v,r,o)}return new Cc(u,f,r,o)}if(e.delete){const u=Oo(i,e.delete);return new ea(u,r)}if(e.verify){const u=Oo(i,e.verify);return new cl(u,r)}return F()}function ch(i,e){return{documents:[Qi(i,e.path)]}}function Pc(i,e){const r={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(r.parent=Qi(i,o),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=Qi(i,o.popLast()),r.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(T){if(0===T.length)return;const U=T.map(W=>function(re){if("=="===re.op){if(du(re.value))return{unaryFilter:{field:Ku(re.field),op:"IS_NAN"}};if(Ec(re.value))return{unaryFilter:{field:Ku(re.field),op:"IS_NULL"}}}else if("!="===re.op){if(du(re.value))return{unaryFilter:{field:Ku(re.field),op:"IS_NOT_NAN"}};if(Ec(re.value))return{unaryFilter:{field:Ku(re.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ku(re.field),op:hh(re.op),value:re.value}}}(W));return 1===U.length?U[0]:{compositeFilter:{op:"AND",filters:U}}}(e.filters);u&&(r.structuredQuery.where=u);const f=function(T){if(0!==T.length)return T.map(U=>{return{field:Ku((W=U).field),direction:kc(W.dir)};var W})}(e.orderBy);f&&(r.structuredQuery.orderBy=f);const v=(U=e.limit,i.C||ma(U)?U:{value:U});var U;return null!==v&&(r.structuredQuery.limit=v),e.startAt&&(r.structuredQuery.startAt=dh(e.startAt)),e.endAt&&(r.structuredQuery.endAt=dh(e.endAt)),r}function lh(i){let e=Ya(i.parent);const r=i.structuredQuery,o=r.from?r.from.length:0;let u=null;if(o>0){Z(1===o);const re=r.from[0];re.allDescendants?u=re.collectionId:e=e.child(re.collectionId)}let f=[];r.where&&(f=gl(r.where));let v=[];r.orderBy&&(v=r.orderBy.map(re=>{return new Mr(Yu((Ie=re).field),function(Ze){switch(Ze){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ie.direction));var Ie}));let T=null;r.limit&&(T=function(re){let Ie;return Ie="object"==typeof re?re.value:re,ma(Ie)?null:Ie}(r.limit));let U=null;r.startAt&&(U=Oc(r.startAt));let W=null;return r.endAt&&(W=Oc(r.endAt)),Mo(e,u,v,f,T,"F",U,W)}function gl(i){return i?void 0!==i.unaryFilter?[Pf(i)]:void 0!==i.fieldFilter?[Mf(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>gl(e)).reduce((e,r)=>e.concat(r)):F():[]}function dh(i){return{before:i.before,values:i.position}}function Oc(i){return new Yi(i.values||[],!!i.before)}function kc(i){return Tf[i]}function hh(i){return Cf[i]}function Ku(i){return{fieldPath:i.canonicalString()}}function Yu(i){return er.fromServerFormat(i.fieldPath)}function Mf(i){return S.create(Yu(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(i.fieldFilter.op),i.fieldFilter.value)}function Pf(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Yu(i.unaryFilter.field);return S.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=Yu(i.unaryFilter.field);return S.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Yu(i.unaryFilter.field);return S.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Yu(i.unaryFilter.field);return S.create(u,"!=",{nullValue:"NULL_VALUE"});default:return F()}}function md(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function ml(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function ao(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=ph(e)),e=fh(i.get(r),e);return ph(e)}function fh(i,e){let r=e;const o=i.length;for(let u=0;u<o;u++){const f=i.charAt(u);switch(f){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=f}}return r}function ph(i){return i+"\x01\x01"}function vo(i){const e=i.length;if(Z(e>=2),2===e)return Z("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),qn.emptyPath();const r=e-2,o=[];let u="";for(let f=0;f<e;){const v=i.indexOf("\x01",f);switch((v<0||v>r)&&F(),i.charAt(v+1)){case"\x01":const T=i.substring(f,v);let U;0===u.length?U=T:(u+=T,U=u,u=""),o.push(U);break;case"\x10":u+=i.substring(f,v),u+="\0";break;case"\x11":u+=i.substring(f,v+1);break;default:F()}f=v+2}return new qn(o)}class Of{constructor(e,r){this.seconds=e,this.nanoseconds=r}}class oi{constructor(e,r,o){this.ownerId=e,this.allowTabSynchronization=r,this.leaseTimestampMs=o}}oi.store="owner",oi.key="owner";class wo{constructor(e,r,o){this.userId=e,this.lastAcknowledgedBatchId=r,this.lastStreamToken=o}}wo.store="mutationQueues",wo.keyPath="userId";class Tr{constructor(e,r,o,u,f){this.userId=e,this.batchId=r,this.localWriteTimeMs=o,this.baseMutations=u,this.mutations=f}}Tr.store="mutations",Tr.keyPath="batchId",Tr.userMutationsIndex="userMutationsIndex",Tr.userMutationsKeyPath=["userId","batchId"];class ai{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,r){return[e,ao(r)]}static key(e,r,o){return[e,ao(r),o]}}ai.store="documentMutations",ai.PLACEHOLDER=new ai;class gh{constructor(e,r){this.path=e,this.readTime=r}}class mh{constructor(e,r){this.path=e,this.version=r}}class vi{constructor(e,r,o,u,f,v){this.unknownDocument=e,this.noDocument=r,this.document=o,this.hasCommittedMutations=u,this.readTime=f,this.parentPath=v}}vi.store="remoteDocuments",vi.readTimeIndex="readTimeIndex",vi.readTimeIndexPath="readTime",vi.collectionReadTimeIndex="collectionReadTimeIndex",vi.collectionReadTimeIndexPath=["parentPath","readTime"];class na{constructor(e){this.byteSize=e}}na.store="remoteDocumentGlobal",na.key="remoteDocumentGlobalKey";class wi{constructor(e,r,o,u,f,v,T){this.targetId=e,this.canonicalId=r,this.readTime=o,this.resumeToken=u,this.lastListenSequenceNumber=f,this.lastLimboFreeSnapshotVersion=v,this.query=T}}wi.store="targets",wi.keyPath="targetId",wi.queryTargetsIndexName="queryTargetsIndex",wi.queryTargetsKeyPath=["canonicalId","targetId"];class ei{constructor(e,r,o){this.targetId=e,this.path=r,this.sequenceNumber=o}}ei.store="targetDocuments",ei.keyPath=["targetId","path"],ei.documentTargetsIndex="documentTargetsIndex",ei.documentTargetsKeyPath=["path","targetId"];class Ss{constructor(e,r,o,u){this.highestTargetId=e,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=o,this.targetCount=u}}Ss.key="targetGlobalKey",Ss.store="targetGlobal";class Cu{constructor(e,r){this.collectionId=e,this.parent=r}}Cu.store="collectionParents",Cu.keyPath=["collectionId","parent"];class ra{constructor(e,r,o,u){this.clientId=e,this.updateTimeMs=r,this.networkEnabled=o,this.inForeground=u}}ra.store="clientMetadata",ra.keyPath="clientId";class ia{constructor(e,r,o){this.bundleId=e,this.createTime=r,this.version=o}}ia.store="bundles",ia.keyPath="bundleId";class Qa{constructor(e,r,o){this.name=e,this.readTime=r,this.bundledQuery=o}}Qa.store="namedQueries",Qa.keyPath="name";const Hs=[wo.store,Tr.store,ai.store,vi.store,wi.store,oi.store,Ss.store,ei.store,ra.store,na.store,Cu.store,ia.store,Qa.store],Qu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ju{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ht{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ht((o,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(o,u)},this.catchCallback=f=>{this.wrapFailure(r,f).next(o,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ht?r:ht.resolve(r)}catch(r){return ht.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ht.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ht.reject(r)}static resolve(e){return new ht((r,o)=>{r(e)})}static reject(e){return new ht((r,o)=>{o(e)})}static waitFor(e){return new ht((r,o)=>{let u=0,f=0,v=!1;e.forEach(T=>{++u,T.next(()=>{++f,v&&f===u&&r()},U=>o(U))}),v=!0,f===u&&r()})}static or(e){let r=ht.resolve(!1);for(const o of e)r=r.next(u=>u?ht.resolve(u):o());return r}static forEach(e,r){const o=[];return e.forEach((u,f)=>{o.push(r.call(this,u,f))}),this.waitFor(o)}}class ko{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.It=new Lt,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{r.error?this.It.reject(new Au(e,r.error)):this.It.resolve()},this.transaction.onerror=o=>{const u=yd(o.target.error);this.It.reject(new Au(e,u))}}static open(e,r,o,u){try{return new ko(r,e.transaction(u,o))}catch(f){throw new Au(r,f)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(y("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const r=this.transaction.objectStore(e);return new Nc(r)}}class Wi{constructor(e,r,o){this.name=e,this.version=r,this.Rt=o,12.2===Wi.bt((0,rt.z$)())&&_("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return y("SimpleDb","Removing database:",e),Ru(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,rt.hl)())return!1;if(Wi.vt())return!0;const e=(0,rt.z$)(),r=Wi.bt(e),o=0<r&&r<10,u=Wi.Vt(e),f=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||f)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,r){return e.store(r)}static bt(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Vt(e){const r=e.match(/Android ([\d.]+)/i),o=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Ct(e){var r=this;return(0,Y.Z)(function*(){return r.db||(y("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,u)=>{const f=indexedDB.open(r.name,r.version);f.onsuccess=v=>{o(v.target.result)},f.onblocked=()=>{u(new Au(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=v=>{const T=v.target.error;u("VersionError"===T.name?new ze(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===T.name?new ze(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+T):new Au(e,T))},f.onupgradeneeded=v=>{y("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',v.oldVersion),r.Rt.Nt(v.target.result,f.transaction,v.oldVersion,r.version).next(()=>{y("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.kt&&(r.db.onversionchange=o=>r.kt(o)),r.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,u){var f=this;return(0,Y.Z)(function*(){const v="readonly"===r;let T=0;for(;;){++T;try{f.db=yield f.Ct(e);const U=ko.open(f.db,e,v?"readonly":"readwrite",o),W=u(U).catch(re=>(U.abort(re),ht.reject(re))).toPromise();return W.catch(()=>{}),yield U.At,W}catch(U){const W="FirebaseError"!==U.name&&T<3;if(y("SimpleDb","Transaction failed with error:",U.message,"Retrying:",W),f.close(),!W)return Promise.reject(U)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class yl{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return Ru(this.$t.delete())}}class Au extends ze{constructor(e,r){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Su(i){return"IndexedDbTransactionError"===i.name}class Nc{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(y("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(y("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Ru(o)}add(e){return y("SimpleDb","ADD",this.store.name,e,e),Ru(this.store.add(e))}get(e){return Ru(this.store.get(e)).next(r=>(void 0===r&&(r=null),y("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return y("SimpleDb","DELETE",this.store.name,e),Ru(this.store.delete(e))}count(){return y("SimpleDb","COUNT",this.store.name),Ru(this.store.count())}Bt(e,r){const o=this.cursor(this.options(e,r)),u=[];return this.Ut(o,(f,v)=>{u.push(v)}).next(()=>u)}qt(e,r){y("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.Kt=!1;const u=this.cursor(o);return this.Ut(u,(f,v,T)=>T.delete())}jt(e,r){let o;r?o=e:(o={},r=e);const u=this.cursor(o);return this.Ut(u,r)}Qt(e){const r=this.cursor({});return new ht((o,u)=>{r.onerror=f=>{const v=yd(f.target.error);u(v)},r.onsuccess=f=>{const v=f.target.result;v?e(v.primaryKey,v.value).next(T=>{T?v.continue():o()}):o()}})}Ut(e,r){const o=[];return new ht((u,f)=>{e.onerror=v=>{f(v.target.error)},e.onsuccess=v=>{const T=v.target.result;if(!T)return void u();const U=new yl(T),W=r(T.primaryKey,T.value,U);if(W instanceof ht){const re=W.catch(Ie=>(U.done(),ht.reject(Ie)));o.push(re)}U.isDone?u():null===U.Ft?T.continue():T.continue(U.Ft)}}).next(()=>ht.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.Kt?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Ru(i){return new ht((e,r)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=yd(o.target.error);r(u)}})}let yh=!1;function yd(i){const e=Wi.bt((0,rt.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const o=new ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yh||(yh=!0,setTimeout(()=>{throw o},0)),o}}return i}class _h extends Ju{constructor(e,r){super(),this.Wt=e,this.currentSequenceNumber=r}}function p(i,e){const r=me(i);return Wi.Dt(r.Wt,e)}class l{constructor(e,r,o,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&Sg(f,e,o[u])}}applyToLocalView(e){for(const r of this.baseMutations)r.key.isEqual(e.key)&&Tc(r,e,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(e.key)&&Tc(r,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(r=>{const o=e.get(r.key),u=o;this.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(In.min())})}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Pr())}isEqual(e){return this.batchId===e.batchId&&fr(this.mutations,e.mutations,(r,o)=>ad(r,o))&&fr(this.baseMutations,e.baseMutations,(r,o)=>ad(r,o))}}class d{constructor(e,r,o,u){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=u}static from(e,r,o){Z(e.mutations.length===o.length);let u=dl();const f=e.mutations;for(let v=0;v<f.length;v++)u=u.insert(f[v].key,o[v].version);return new d(e,r,o,u)}}class m{constructor(e,r,o,u,f=In.min(),v=In.min(),T=Gi.EMPTY_BYTE_STRING){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=T}withSequenceNumber(e){return new m(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,r){return new m(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new m(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class M{constructor(e){this.Gt=e}}function B(i,e){if(e.document)return Mc(i.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const r=Qt.fromSegments(e.noDocument.path),o=Ht(e.noDocument.readTime),u=Br.newNoDocument(r,o);return e.hasCommittedMutations?u.setHasCommittedMutations():u}if(e.unknownDocument){const r=Qt.fromSegments(e.unknownDocument.path),o=Ht(e.unknownDocument.version);return Br.newUnknownDocument(r,o)}return F()}function le(i,e,r){const o=He(r),u=e.key.path.popLast().toArray();if(e.isFoundDocument()){const f={name:Zu(T=i.Gt,(U=e).key),fields:U.data.value.mapValue.fields,updateTime:xc(T,U.version.toTimestamp())};return new vi(null,null,f,e.hasCommittedMutations,o,u)}var T,U;if(e.isNoDocument()){const f=e.key.path.toArray(),v=mt(e.version),T=e.hasCommittedMutations;return new vi(null,new gh(f,v),null,T,o,u)}if(e.isUnknownDocument()){const f=e.key.path.toArray(),v=mt(e.version);return new vi(new mh(f,v),null,null,!0,o,u)}return F()}function He(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function bt(i){const e=new Ni(i[0],i[1]);return In.fromTimestamp(e)}function mt(i){const e=i.toTimestamp();return new Of(e.seconds,e.nanoseconds)}function Ht(i){const e=new Ni(i.seconds,i.nanoseconds);return In.fromTimestamp(e)}function Zt(i,e){const r=(e.baseMutations||[]).map(f=>gd(i.Gt,f));for(let f=0;f<e.mutations.length-1;++f){const v=e.mutations[f];f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(v.updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f)}const o=e.mutations.map(f=>gd(i.Gt,f)),u=Ni.fromMillis(e.localWriteTimeMs);return new l(e.batchId,u,r,o)}function Fn(i){const e=Ht(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?Ht(i.lastLimboFreeSnapshotVersion):In.min();let o;var u;return void 0!==i.query.documents?(Z(1===(u=i.query).documents.length),o=Po(_o(Ya(u.documents[0])))):o=Po(lh(i.query)),new m(o,i.targetId,0,i.lastListenSequenceNumber,e,r,Gi.fromBase64String(i.resumeToken))}function Ji(i,e){const r=mt(e.snapshotVersion),o=mt(e.lastLimboFreeSnapshotVersion);let u;u=D(e.target)?ch(i.Gt,e.target):Pc(i.Gt,e.target);const f=e.resumeToken.toBase64();return new wi(e.targetId,ya(e.target),r,f,e.sequenceNumber,o,u)}function uo(i){const e=lh({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?id(e,e.limit,"L"):e}class _l{getBundleMetadata(e,r){return Lc(e).get(r).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Ht(u.createTime),version:u.version};var u})}saveBundleMetadata(e,r){return Lc(e).put({bundleId:(o=r).id,createTime:mt(Ci(o.createTime)),version:o.version});var o}getNamedQuery(e,r){return vl(e).get(r).next(o=>{if(o)return{name:(u=o).name,query:uo(u.bundledQuery),readTime:Ht(u.readTime)};var u})}saveNamedQuery(e,r){return vl(e).put({name:(o=r).name,readTime:mt(Ci(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Lc(i){return p(i,ia.store)}function vl(i){return p(i,Qa.store)}class _d{constructor(){this.zt=new xu}addToCollectionParentIndex(e,r){return this.zt.add(r),ht.resolve()}getCollectionParents(e,r){return ht.resolve(this.zt.getEntries(r))}}class xu{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r]||new ci(qn.comparator),f=!u.has(o);return this.index[r]=u.add(o),f}has(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r];return u&&u.has(o)}getEntries(e){return(this.index[e]||new ci(qn.comparator)).toArray()}}class vd{constructor(){this.Ht=new xu}addToCollectionParentIndex(e,r){if(!this.Ht.has(r)){const o=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this.Ht.add(r)});const f={collectionId:o,parent:ao(u)};return Xu(e).put(f)}return ht.resolve()}getCollectionParents(e,r){const o=[],u=IDBKeyRange.bound([r,""],[cu(r),""],!1,!0);return Xu(e).Bt(u).next(f=>{for(const v of f){if(v.collectionId!==r)break;o.push(vo(v.parent))}return o})}}function Xu(i){return p(i,Cu.store)}const Mu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Rs{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Rs(e,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wl(i,e,r){const o=i.store(Tr.store),u=i.store(ai.store),f=[],v=IDBKeyRange.only(r.batchId);let T=0;const U=o.jt({range:v},(re,Ie,Ze)=>(T++,Ze.delete()));f.push(U.next(()=>{Z(1===T)}));const W=[];for(const re of r.mutations){const Ie=ai.key(e,re.key.path,r.batchId);f.push(u.delete(Ie)),W.push(re.key)}return ht.waitFor(f).next(()=>W)}function Pu(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw F();e=i.noDocument}return JSON.stringify(e).length}Rs.DEFAULT_COLLECTION_PERCENTILE=10,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rs.DEFAULT=new Rs(41943040,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rs.DISABLED=new Rs(-1,0,0);class Fc{constructor(e,r,o,u){this.userId=e,this.k=r,this.Jt=o,this.referenceDelegate=u,this.Yt={}}static Xt(e,r,o,u){Z(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new Fc(f,r,o,u)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ec(e).jt({index:Tr.userMutationsIndex,range:o},(u,f,v)=>{r=!1,v.done()}).next(()=>r)}addMutationBatch(e,r,o,u){const f=Uc(e),v=ec(e);return v.add({}).next(T=>{Z("number"==typeof T);const U=new l(T,r,o,u),W=function(Ze,ft,wt){const Kt=wt.baseMutations.map(Si=>Tu(Ze.Gt,Si)),Cn=wt.mutations.map(Si=>Tu(Ze.Gt,Si));return new Tr(ft,wt.batchId,wt.localWriteTime.toMillis(),Kt,Cn)}(this.k,this.userId,U),re=[];let Ie=new ci((Ze,ft)=>Kn(Ze.canonicalString(),ft.canonicalString()));for(const Ze of u){const ft=ai.key(this.userId,Ze.key.path,T);Ie=Ie.add(Ze.key.path.popLast()),re.push(v.put(W)),re.push(f.put(ft,ai.PLACEHOLDER))}return Ie.forEach(Ze=>{re.push(this.Jt.addToCollectionParentIndex(e,Ze))}),e.addOnCommittedListener(()=>{this.Yt[T]=U.keys()}),ht.waitFor(re).next(()=>U)})}lookupMutationBatch(e,r){return ec(e).get(r).next(o=>o?(Z(o.userId===this.userId),Zt(this.k,o)):null)}Zt(e,r){return this.Yt[r]?ht.resolve(this.Yt[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const u=o.keys();return this.Yt[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,u=IDBKeyRange.lowerBound([this.userId,o]);let f=null;return ec(e).jt({index:Tr.userMutationsIndex,range:u},(v,T,U)=>{T.userId===this.userId&&(Z(T.batchId>=o),f=Zt(this.k,T)),U.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return ec(e).jt({index:Tr.userMutationsIndex,range:r,reverse:!0},(u,f,v)=>{o=f.batchId,v.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ec(e).Bt(Tr.userMutationsIndex,r).next(o=>o.map(u=>Zt(this.k,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=ai.prefixForPath(this.userId,r.path),u=IDBKeyRange.lowerBound(o),f=[];return Uc(e).jt({range:u},(v,T,U)=>{const[W,re,Ie]=v,Ze=vo(re);if(W===this.userId&&r.path.isEqual(Ze))return ec(e).get(Ie).next(ft=>{if(!ft)throw F();Z(ft.userId===this.userId),f.push(Zt(this.k,ft))});U.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new ci(Kn);const u=[];return r.forEach(f=>{const v=ai.prefixForPath(this.userId,f.path),T=IDBKeyRange.lowerBound(v),U=Uc(e).jt({range:T},(W,re,Ie)=>{const[Ze,ft,wt]=W,Kt=vo(ft);Ze===this.userId&&f.path.isEqual(Kt)?o=o.add(wt):Ie.done()});u.push(U)}),ht.waitFor(u).next(()=>this.te(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1,f=ai.prefixForPath(this.userId,o),v=IDBKeyRange.lowerBound(f);let T=new ci(Kn);return Uc(e).jt({range:v},(U,W,re)=>{const[Ie,Ze,ft]=U,wt=vo(Ze);Ie===this.userId&&o.isPrefixOf(wt)?wt.length===u&&(T=T.add(ft)):re.done()}).next(()=>this.te(e,T))}te(e,r){const o=[],u=[];return r.forEach(f=>{u.push(ec(e).get(f).next(v=>{if(null===v)throw F();Z(v.userId===this.userId),o.push(Zt(this.k,v))}))}),ht.waitFor(u).next(()=>o)}removeMutationBatch(e,r){return wl(e.Wt,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.ee(r.batchId)}),ht.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return ht.resolve();const o=IDBKeyRange.lowerBound(ai.prefixForUser(this.userId)),u=[];return Uc(e).jt({range:o},(f,v,T)=>{if(f[0]===this.userId){const U=vo(f[1]);u.push(U)}else T.done()}).next(()=>{Z(0===u.length)})})}containsKey(e,r){return El(e,this.userId,r)}ne(e){return Mg(e).get(this.userId).next(r=>r||new wo(this.userId,-1,""))}}function El(i,e,r){const o=ai.prefixForPath(e,r.path),u=o[1],f=IDBKeyRange.lowerBound(o);let v=!1;return Uc(i).jt({range:f,Kt:!0},(T,U,W)=>{const[re,Ie,Ze]=T;re===e&&Ie===u&&(v=!0),W.done()}).next(()=>v)}function ec(i){return p(i,Tr.store)}function Uc(i){return p(i,ai.store)}function Mg(i){return p(i,wo.store)}class Bc{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Bc(0)}static re(){return new Bc(-1)}}class Pg{constructor(e,r){this.referenceDelegate=e,this.k=r}allocateTargetId(e){return this.oe(e).next(r=>{const o=new Bc(r.highestTargetId);return r.highestTargetId=o.next(),this.ce(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(r=>In.fromTimestamp(new Ni(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.oe(e).next(u=>(u.highestListenSequenceNumber=r,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.ce(e,u)))}addTargetData(e,r){return this.ae(e,r).next(()=>this.oe(e).next(o=>(o.targetCount+=1,this.ue(r,o),this.ce(e,o))))}updateTargetData(e,r){return this.ae(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>tc(e).delete(r.targetId)).next(()=>this.oe(e)).next(o=>(Z(o.targetCount>0),o.targetCount-=1,this.ce(e,o)))}removeTargets(e,r,o){let u=0;const f=[];return tc(e).jt((v,T)=>{const U=Fn(T);U.sequenceNumber<=r&&null===o.get(U.targetId)&&(u++,f.push(this.removeTargetData(e,U)))}).next(()=>ht.waitFor(f)).next(()=>u)}forEachTarget(e,r){return tc(e).jt((o,u)=>{const f=Fn(u);r(f)})}oe(e){return kf(e).get(Ss.key).next(r=>(Z(null!==r),r))}ce(e,r){return kf(e).put(Ss.key,r)}ae(e,r){return tc(e).put(Ji(this.k,r))}ue(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.oe(e).next(r=>r.targetCount)}getTargetData(e,r){const o=ya(r),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let f=null;return tc(e).jt({range:u,index:wi.queryTargetsIndexName},(v,T,U)=>{const W=Fn(T);Ga(r,W.target)&&(f=W,U.done())}).next(()=>f)}addMatchingKeys(e,r,o){const u=[],f=Vc(e);return r.forEach(v=>{const T=ao(v.path);u.push(f.put(new ei(o,T))),u.push(this.referenceDelegate.addReference(e,o,v))}),ht.waitFor(u)}removeMatchingKeys(e,r,o){const u=Vc(e);return ht.forEach(r,f=>{const v=ao(f.path);return ht.waitFor([u.delete([o,v]),this.referenceDelegate.removeReference(e,o,f)])})}removeMatchingKeysForTargetId(e,r){const o=Vc(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),u=Vc(e);let f=Pr();return u.jt({range:o,Kt:!0},(v,T,U)=>{const W=vo(v[1]),re=new Qt(W);f=f.add(re)}).next(()=>f)}containsKey(e,r){const o=ao(r.path),u=IDBKeyRange.bound([o],[cu(o)],!1,!0);let f=0;return Vc(e).jt({index:ei.documentTargetsIndex,Kt:!0,range:u},([v,T],U,W)=>{0!==v&&(f++,W.done())}).next(()=>f>0)}Et(e,r){return tc(e).get(r).next(o=>o?Fn(o):null)}}function tc(i){return p(i,wi.store)}function kf(i){return p(i,Ss.store)}function Vc(i){return p(i,ei.store)}function nc(i){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,Y.Z)(function*(i){if(i.code!==he.FAILED_PRECONDITION||i.message!==Qu)throw i;y("LocalStore","Unexpectedly lost primary lease")}),Nf.apply(this,arguments)}function Lf([i,e],[r,o]){const u=Kn(i,r);return 0===u?Kn(e,o):u}class _y{constructor(e){this.he=e,this.buffer=new ci(Lf),this.le=0}fe(){return++this.le}de(e){const r=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();Lf(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class vy{constructor(e,r){this.garbageCollector=e,this.asyncQueue=r,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var r=this;const o=this.we?3e5:6e4;y("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,Y.Z)(function*(){r._e=null,r.we=!0;try{yield e.collectGarbage(r.garbageCollector)}catch(u){Su(u)?y("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u):yield nc(u)}yield r.me(e)}))}}class Ea{constructor(e,r){this.ge=e,this.params=r}calculateTargetCount(e,r){return this.ge.ye(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return ht.resolve(Ti.I);const o=new _y(r);return this.ge.forEachTarget(e,u=>o.de(u.sequenceNumber)).next(()=>this.ge.pe(e,u=>o.de(u))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.ge.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.ge.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(y("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(Mu)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(y("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mu):this.Te(e,r))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,r){let o,u,f,v,T,U,W;const re=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ie=>(Ie>this.params.maximumSequenceNumbersToCollect?(y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ie}`),u=this.params.maximumSequenceNumbersToCollect):u=Ie,v=Date.now(),this.nthSequenceNumber(e,u))).next(Ie=>(o=Ie,T=Date.now(),this.removeTargets(e,o,r))).next(Ie=>(f=Ie,U=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ie=>(W=Date.now(),io()<=Dt.in.DEBUG&&y("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-re}ms\n\tDetermined least recently used ${u} in `+(T-v)+`ms\n\tRemoved ${f} targets in `+(U-T)+`ms\n\tRemoved ${Ie} documents in `+(W-U)+`ms\nTotal Duration: ${W-re}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:Ie})))}}class wy{constructor(e,r){this.db=e,this.garbageCollector=new Ea(this,r)}ye(e){const r=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(u=>o+u))}Ee(e){let r=0;return this.pe(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}pe(e,r){return this.Ie(e,(o,u)=>r(u))}addReference(e,r,o){return wd(e,o)}removeReference(e,r,o){return wd(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return wd(e,r)}Ae(e,r){return function(o,u){let f=!1;return Mg(o).Qt(v=>El(o,v,u).next(T=>(T&&(f=!0),ht.resolve(!T)))).next(()=>f)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.Ie(e,(v,T)=>{if(T<=r){const U=this.Ae(e,v).next(W=>{if(!W)return f++,o.getEntry(e,v).next(()=>(o.removeEntry(v),Vc(e).delete([0,ao(v.path)])))});u.push(U)}}).next(()=>ht.waitFor(u)).next(()=>o.apply(e)).next(()=>f)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return wd(e,r)}Ie(e,r){const o=Vc(e);let u,f=Ti.I;return o.jt({index:ei.documentTargetsIndex},([v,T],{path:U,sequenceNumber:W})=>{0===v?(f!==Ti.I&&r(new Qt(vo(u)),f),f=W,u=U):f=Ti.I}).next(()=>{f!==Ti.I&&r(new Qt(vo(u)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function wd(i,e){return Vc(i).put((o=i.currentSequenceNumber,new ei(0,ao(e.path),o)));var o}class Il{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={}}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[u,f]of o)if(this.equalsFn(u,e))return f}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0!==u){for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,r]);u.push([e,r])}else this.inner[o]=[[e,r]]}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[r]:o.splice(u,1),!0;return!1}forEach(e){ha(this.inner,(r,o)=>{for(const[u,f]of o)e(u,f)})}isEmpty(){return Kd(this.inner)}}class Og{constructor(){this.changes=new Il(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}getReadTime(e){const r=this.changes.get(e);return r?r.readTime:In.min()}addEntry(e,r){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:r})}removeEntry(e,r=null){this.assertNotApplied(),this.changes.set(e,{document:Br.newInvalidDocument(e),readTime:r})}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?ht.resolve(o.document):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ey{constructor(e,r){this.k=e,this.Jt=r}addEntry(e,r,o){return rc(e).put(vh(r),o)}removeEntry(e,r){const o=rc(e),u=vh(r);return o.delete(u)}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.Re(e,o)))}getEntry(e,r){return rc(e).get(vh(r)).next(o=>this.be(r,o))}Pe(e,r){return rc(e).get(vh(r)).next(o=>({document:this.be(r,o),size:Pu(o)}))}getEntries(e,r){let o=oo();return this.ve(e,r,(u,f)=>{const v=this.be(u,f);o=o.insert(u,v)}).next(()=>o)}Ve(e,r){let o=oo(),u=new ss(Qt.comparator);return this.ve(e,r,(f,v)=>{const T=this.be(f,v);o=o.insert(f,T),u=u.insert(f,Pu(v))}).next(()=>({documents:o,Se:u}))}ve(e,r,o){if(r.isEmpty())return ht.resolve();const u=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),f=r.getIterator();let v=f.getNext();return rc(e).jt({range:u},(T,U,W)=>{const re=Qt.fromSegments(T);for(;v&&Qt.comparator(v,re)<0;)o(v,null),v=f.getNext();v&&v.isEqual(re)&&(o(v,U),v=f.hasNext()?f.getNext():null),v?W.Lt(v.path.toArray()):W.done()}).next(()=>{for(;v;)o(v,null),v=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,r,o){let u=oo();const f=r.path.length+1,v={};if(o.isEqual(In.min())){const T=r.path.toArray();v.range=IDBKeyRange.lowerBound(T)}else{const T=r.path.toArray(),U=He(o);v.range=IDBKeyRange.lowerBound([T,U],!0),v.index=vi.collectionReadTimeIndex}return rc(e).jt(v,(T,U,W)=>{if(T.length!==f)return;const re=B(this.k,U);r.path.isPrefixOf(re.key.path)?mu(r,re)&&(u=u.insert(re.key,re)):W.done()}).next(()=>u)}newChangeBuffer(e){return new Iy(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Ff(e).get(na.key).next(r=>(Z(!!r),r))}Re(e,r){return Ff(e).put(na.key,r)}be(e,r){if(r){const o=B(this.k,r);if(!o.isNoDocument()||!o.version.isEqual(In.min()))return o}return Br.newInvalidDocument(e)}}class Iy extends Og{constructor(e,r){super(),this.De=e,this.trackRemovals=r,this.Ce=new Il(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const r=[];let o=0,u=new ci((f,v)=>Kn(f.canonicalString(),v.canonicalString()));return this.changes.forEach((f,v)=>{const T=this.Ce.get(f);if(v.document.isValidDocument()){const U=le(this.De.k,v.document,this.getReadTime(f));u=u.add(f.path.popLast()),o+=Pu(U)-T,r.push(this.De.addEntry(e,f,U))}else if(o-=T,this.trackRemovals){const U=le(this.De.k,Br.newNoDocument(f,In.min()),this.getReadTime(f));r.push(this.De.addEntry(e,f,U))}else r.push(this.De.removeEntry(e,f))}),u.forEach(f=>{r.push(this.De.Jt.addToCollectionParentIndex(e,f))}),r.push(this.De.updateMetadata(e,o)),ht.waitFor(r)}getFromCache(e,r){return this.De.Pe(e,r).next(o=>(this.Ce.set(r,o.size),o.document))}getAllFromCache(e,r){return this.De.Ve(e,r).next(({documents:o,Se:u})=>(u.forEach((f,v)=>{this.Ce.set(f,v)}),o))}}function Ff(i){return p(i,na.store)}function rc(i){return p(i,vi.store)}function vh(i){return i.path.toArray()}class by{constructor(e){this.k=e}Nt(e,r,o,u){Z(o<u&&o>=0&&u<=11);const f=new ko("createOrUpgrade",r);var T;o<1&&u>=1&&(e.createObjectStore(oi.store),(T=e).createObjectStore(wo.store,{keyPath:wo.keyPath}),T.createObjectStore(Tr.store,{keyPath:Tr.keyPath,autoIncrement:!0}).createIndex(Tr.userMutationsIndex,Tr.userMutationsKeyPath,{unique:!0}),T.createObjectStore(ai.store),xn(e),function(T){T.createObjectStore(vi.store)}(e));let v=ht.resolve();return o<3&&u>=3&&(0!==o&&(function(T){T.deleteObjectStore(ei.store),T.deleteObjectStore(wi.store),T.deleteObjectStore(Ss.store)}(e),xn(e)),v=v.next(()=>function(T){const U=T.store(Ss.store),W=new Ss(0,0,In.min().toTimestamp(),0);return U.put(Ss.key,W)}(f))),o<4&&u>=4&&(0!==o&&(v=v.next(()=>function(T,U){return U.store(Tr.store).Bt().next(W=>{T.deleteObjectStore(Tr.store),T.createObjectStore(Tr.store,{keyPath:Tr.keyPath,autoIncrement:!0}).createIndex(Tr.userMutationsIndex,Tr.userMutationsKeyPath,{unique:!0});const re=U.store(Tr.store),Ie=W.map(Ze=>re.put(Ze));return ht.waitFor(Ie)})}(e,f))),v=v.next(()=>{!function(T){T.createObjectStore(ra.store,{keyPath:ra.keyPath})}(e)})),o<5&&u>=5&&(v=v.next(()=>this.Ne(f))),o<6&&u>=6&&(v=v.next(()=>(function(T){T.createObjectStore(na.store)}(e),this.ke(f)))),o<7&&u>=7&&(v=v.next(()=>this.xe(f))),o<8&&u>=8&&(v=v.next(()=>this.$e(e,f))),o<9&&u>=9&&(v=v.next(()=>{(function(T){T.objectStoreNames.contains("remoteDocumentChanges")&&T.deleteObjectStore("remoteDocumentChanges")})(e),function(T){const U=T.objectStore(vi.store);U.createIndex(vi.readTimeIndex,vi.readTimeIndexPath,{unique:!1}),U.createIndex(vi.collectionReadTimeIndex,vi.collectionReadTimeIndexPath,{unique:!1})}(r)})),o<10&&u>=10&&(v=v.next(()=>this.Oe(f))),o<11&&u>=11&&(v=v.next(()=>{(function(T){T.createObjectStore(ia.store,{keyPath:ia.keyPath})})(e),function(T){T.createObjectStore(Qa.store,{keyPath:Qa.keyPath})}(e)})),v}ke(e){let r=0;return e.store(vi.store).jt((o,u)=>{r+=Pu(u)}).next(()=>{const o=new na(r);return e.store(na.store).put(na.key,o)})}Ne(e){const r=e.store(wo.store),o=e.store(Tr.store);return r.Bt().next(u=>ht.forEach(u,f=>{const v=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return o.Bt(Tr.userMutationsIndex,v).next(T=>ht.forEach(T,U=>{Z(U.userId===f.userId);const W=Zt(this.k,U);return wl(e,f.userId,W).next(()=>{})}))}))}xe(e){const r=e.store(ei.store),o=e.store(vi.store);return e.store(Ss.store).get(Ss.key).next(u=>{const f=[];return o.jt((v,T)=>{const U=new qn(v),W=[0,ao(U)];f.push(r.get(W).next(re=>re?ht.resolve():r.put(new ei(0,ao(U),u.highestListenSequenceNumber))))}).next(()=>ht.waitFor(f))})}$e(e,r){e.createObjectStore(Cu.store,{keyPath:Cu.keyPath});const o=r.store(Cu.store),u=new xu,f=v=>{if(u.add(v)){const T=v.lastSegment(),U=v.popLast();return o.put({collectionId:T,parent:ao(U)})}};return r.store(vi.store).jt({Kt:!0},(v,T)=>{const U=new qn(v);return f(U.popLast())}).next(()=>r.store(ai.store).jt({Kt:!0},([v,T,U],W)=>{const re=vo(T);return f(re.popLast())}))}Oe(e){const r=e.store(wi.store);return r.jt((o,u)=>{const f=Fn(u),v=Ji(this.k,f);return r.put(v)})}}function xn(i){i.createObjectStore(ei.store,{keyPath:ei.keyPath}).createIndex(ei.documentTargetsIndex,ei.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(wi.store,{keyPath:wi.keyPath}).createIndex(wi.queryTargetsIndexName,wi.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(Ss.store)}const wh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Eh{constructor(e,r,o,u,f,v,T,U,W,re){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.Me=f,this.window=v,this.document=T,this.Fe=W,this.Le=re,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=Ie=>Promise.resolve(),!Eh.Pt())throw new ze(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wy(this,u),this.Ge=r+"main",this.k=new M(U),this.ze=new Wi(this.Ge,11,new by(this.k)),this.He=new Pg(this.referenceDelegate,this.k),this.Jt=new vd,this.Je=new Ey(this.k,this.Jt),this.Ye=new _l,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===re&&_("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ze(he.FAILED_PRECONDITION,wh);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new Ti(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var r=this;return this.We=function(){var o=(0,Y.Z)(function*(u){if(r.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var r=(0,Y.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,Y.Z)(function*(){r.started&&(yield r.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jc(e).put(new ra(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(r=>{r||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(r=>this.isPrimary&&!r?this.cn(e).next(()=>!1):!!r&&this.an(e).next(()=>!0))).catch(e=>{if(Su(e))return y("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return y("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return bl(e).get(oi.key).next(r=>ht.resolve(this.un(r)))}hn(e){return jc(e).delete(this.clientId)}ln(){var e=this;return(0,Y.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=p(o,ra.store);return u.Bt().next(f=>{const v=e.dn(f,18e5),T=f.filter(U=>-1===v.indexOf(U));return ht.forEach(T,U=>u.delete(U.clientId)).next(()=>T)})}).catch(()=>[]);if(e.Xe)for(const o of r)e.Xe.removeItem(e.wn(o.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?ht.resolve(!0):bl(e).get(oi.key).next(r=>{if(null!==r&&this.fn(r.leaseTimestampMs,5e3)&&!this._n(r.ownerId)){if(this.un(r)&&this.networkEnabled)return!0;if(!this.un(r)){if(!r.allowTabSynchronization)throw new ze(he.FAILED_PRECONDITION,wh);return!1}}return!(!this.networkEnabled||!this.inForeground)||jc(e).Bt().next(o=>void 0===this.dn(o,5e3).find(u=>{if(this.clientId!==u.clientId){const v=!this.inForeground&&u.inForeground,T=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||v&&T)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&y("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,Y.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[oi.store,ra.store],r=>{const o=new _h(r,Ti.I);return e.cn(o).next(()=>e.hn(o))}),e.ze.close(),e.pn()})()}dn(e,r){return e.filter(o=>this.fn(o.updateTimeMs,r)&&!this._n(o.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>jc(e).Bt().next(r=>this.dn(r,18e5).map(o=>o.clientId)))}get started(){return this.Ue}getMutationQueue(e){return Fc.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,r,o){let f;return y("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===r?"readonly":"readwrite",Hs,v=>(f=new _h(v,this.Be?this.Be.next():Ti.I),"readwrite-primary"===r?this.rn(f).next(T=>!!T||this.on(f)).next(T=>{if(!T)throw _(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new ze(he.FAILED_PRECONDITION,Qu);return o(f)}).next(T=>this.an(f).next(()=>T)):this.En(f).next(()=>o(f)))).then(v=>(f.raiseOnCommittedEvent(),v))}En(e){return bl(e).get(oi.key).next(r=>{if(null!==r&&this.fn(r.leaseTimestampMs,5e3)&&!this._n(r.ownerId)&&!this.un(r)&&!(this.Le||this.allowTabSynchronization&&r.allowTabSynchronization))throw new ze(he.FAILED_PRECONDITION,wh)})}an(e){const r=new oi(this.clientId,this.allowTabSynchronization,Date.now());return bl(e).put(oi.key,r)}static Pt(){return Wi.Pt()}cn(e){const r=bl(e);return r.get(oi.key).next(o=>this.un(o)?(y("IndexedDbPersistence","Releasing primary lease."),r.delete(oi.key)):ht.resolve())}fn(e,r){const o=Date.now();return!(e<o-r||e>o&&(_(`Detected an update time that is in the future: ${e} > ${o}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,rt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var r;try{const o=null!==(null===(r=this.Xe)||void 0===r?void 0:r.getItem(this.wn(e)));return y("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return _("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){_("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function bl(i){return p(i,oi.store)}function jc(i){return p(i,ra.store)}function No(i,e){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+e+"/"+r+"/"}class kg{constructor(e,r){this.progress=e,this.In=r}}class Ng{constructor(e,r,o){this.Je=e,this.An=r,this.Jt=o}Rn(e,r){return this.An.getAllMutationBatchesAffectingDocumentKey(e,r).next(o=>this.bn(e,r,o))}bn(e,r,o){return this.Je.getEntry(e,r).next(u=>{for(const f of o)f.applyToLocalView(u);return u})}Pn(e,r){e.forEach((o,u)=>{for(const f of r)f.applyToLocalView(u)})}vn(e,r){return this.Je.getEntries(e,r).next(o=>this.Vn(e,o).next(()=>o))}Vn(e,r){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>this.Pn(r,o))}getDocumentsMatchingQuery(e,r,o){return Qt.isDocumentKey((u=r).path)&&null===u.collectionGroup&&0===u.filters.length?this.Sn(e,r.path):qa(r)?this.Dn(e,r,o):this.Cn(e,r,o);var u}Sn(e,r){return this.Rn(e,new Qt(r)).next(o=>{let u=Ac();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}Dn(e,r,o){const u=r.collectionGroup;let f=Ac();return this.Jt.getCollectionParents(e,u).next(v=>ht.forEach(v,T=>{const U=(W=r,re=T.child(u),new Fi(re,null,W.explicitOrderBy.slice(),W.filters.slice(),W.limit,W.limitType,W.startAt,W.endAt));var W,re;return this.Cn(e,U,o).next(W=>{W.forEach((re,Ie)=>{f=f.insert(re,Ie)})})}).next(()=>f))}Cn(e,r,o){let u,f;return this.Je.getDocumentsMatchingQuery(e,r,o).next(v=>(u=v,this.An.getAllMutationBatchesAffectingQuery(e,r))).next(v=>(f=v,this.Nn(e,f,u).next(T=>{u=T;for(const U of f)for(const W of U.mutations){const re=W.key;let Ie=u.get(re);null==Ie&&(Ie=Br.newInvalidDocument(re),u=u.insert(re,Ie)),Tc(W,Ie,U.localWriteTime),Ie.isFoundDocument()||(u=u.remove(re))}}))).next(()=>(u.forEach((v,T)=>{mu(r,T)||(u=u.remove(v))}),u))}Nn(e,r,o){let u=Pr();for(const v of r)for(const T of v.mutations)T instanceof Ka&&null===o.get(T.key)&&(u=u.add(T.key));let f=o;return this.Je.getEntries(e,u).next(v=>(v.forEach((T,U)=>{U.isFoundDocument()&&(f=f.insert(T,U))}),f))}}class Ed{constructor(e,r,o,u){this.targetId=e,this.fromCache=r,this.kn=o,this.xn=u}static $n(e,r){let o=Pr(),u=Pr();for(const f of r.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new Ed(e,r.fromCache,o,u)}}class Ja{On(e){this.Mn=e}getDocumentsMatchingQuery(e,r,o,u){return 0===(f=r).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||o.isEqual(In.min())?this.Fn(e,r):this.Mn.vn(e,u).next(f=>{const v=this.Ln(r,f);return(fu(r)||Gu(r))&&this.Bn(r.limitType,v,u,o)?this.Fn(e,r):(io()<=Dt.in.DEBUG&&y("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),sd(r)),this.Mn.getDocumentsMatchingQuery(e,r,o).next(T=>(v.forEach(U=>{T=T.insert(U.key,U)}),T)))});var f}Ln(e,r){let o=new ci(Qd(e));return r.forEach((u,f)=>{mu(e,f)&&(o=o.add(f))}),o}Bn(e,r,o,u){if(o.size!==r.size)return!0;const f="F"===e?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Fn(e,r){return io()<=Dt.in.DEBUG&&y("QueryEngine","Using full collection scan to execute query:",sd(r)),this.Mn.getDocumentsMatchingQuery(e,r,In.min())}}class Uf{constructor(e,r,o,u){this.persistence=e,this.Un=r,this.k=u,this.qn=new ss(Kn),this.Kn=new Il(f=>ya(f),Ga),this.jn=In.min(),this.An=e.getMutationQueue(o),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Ng(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.qn))}}function Bf(i,e,r,o){return new Uf(i,e,r,o)}function Ih(i,e){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,Y.Z)(function*(i,e){const r=me(i);let o=r.An,u=r.Wn;const f=yield r.persistence.runTransaction("Handle user change","readonly",v=>{let T;return r.An.getAllMutationBatches(v).next(U=>(T=U,o=r.persistence.getMutationQueue(e),u=new Ng(r.Qn,o,r.persistence.getIndexManager()),o.getAllMutationBatches(v))).next(U=>{const W=[],re=[];let Ie=Pr();for(const Ze of T){W.push(Ze.batchId);for(const ft of Ze.mutations)Ie=Ie.add(ft.key)}for(const Ze of U){re.push(Ze.batchId);for(const ft of Ze.mutations)Ie=Ie.add(ft.key)}return u.vn(v,Ie).next(Ze=>({Gn:Ze,removedBatchIds:W,addedBatchIds:re}))})});return r.An=o,r.Wn=u,r.Un.On(r.Wn),f}),Lg.apply(this,arguments)}function Fg(i,e){const r=me(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),f=r.Qn.newChangeBuffer({trackRemovals:!0});return function(v,T,U,W){const re=U.batch,Ie=re.keys();let Ze=ht.resolve();return Ie.forEach(ft=>{Ze=Ze.next(()=>W.getEntry(T,ft)).next(wt=>{const Kt=U.docVersions.get(ft);Z(null!==Kt),wt.version.compareTo(Kt)<0&&(re.applyToRemoteDocument(wt,U),wt.isValidDocument()&&W.addEntry(wt,U.commitVersion))})}),Ze.next(()=>v.An.removeMutationBatch(T,re))}(r,o,e,f).next(()=>f.apply(o)).next(()=>r.An.performConsistencyCheck(o)).next(()=>r.Wn.vn(o,u))})}function Dy(i){const e=me(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.He.getLastRemoteSnapshotVersion(r))}function bh(i,e){const r=me(i),o=e.snapshotVersion;let u=r.qn;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const v=r.Qn.newChangeBuffer({trackRemovals:!0});u=r.qn;const T=[];e.targetChanges.forEach((W,re)=>{const Ie=u.get(re);if(!Ie)return;T.push(r.He.removeMatchingKeys(f,W.removedDocuments,re).next(()=>r.He.addMatchingKeys(f,W.addedDocuments,re)));let Ze=Ie.withSequenceNumber(f.currentSequenceNumber);var ft,wt,Kt;e.targetMismatches.has(re)?Ze=Ze.withResumeToken(Gi.EMPTY_BYTE_STRING,In.min()).withLastLimboFreeSnapshotVersion(In.min()):W.resumeToken.approximateByteSize()>0&&(Ze=Ze.withResumeToken(W.resumeToken,o)),u=u.insert(re,Ze),wt=Ze,Kt=W,(0===(ft=Ie).resumeToken.approximateByteSize()||wt.snapshotVersion.toMicroseconds()-ft.snapshotVersion.toMicroseconds()>=3e8||Kt.addedDocuments.size+Kt.modifiedDocuments.size+Kt.removedDocuments.size>0)&&T.push(r.He.updateTargetData(f,Ze))});let U=oo();if(e.documentUpdates.forEach((W,re)=>{e.resolvedLimboDocuments.has(W)&&T.push(r.persistence.referenceDelegate.updateLimboDocument(f,W))}),T.push(Id(f,v,e.documentUpdates,o,void 0).next(W=>{U=W})),!o.isEqual(In.min())){const W=r.He.getLastRemoteSnapshotVersion(f).next(re=>r.He.setTargetsMetadata(f,f.currentSequenceNumber,o));T.push(W)}return ht.waitFor(T).next(()=>v.apply(f)).next(()=>r.Wn.Vn(f,U)).next(()=>U)}).then(f=>(r.qn=u,f))}function Id(i,e,r,o,u){let f=Pr();return r.forEach(v=>f=f.add(v)),e.getEntries(i,f).next(v=>{let T=oo();return r.forEach((U,W)=>{const re=v.get(U),Ie=(null==u?void 0:u.get(U))||o;W.isNoDocument()&&W.version.isEqual(In.min())?(e.removeEntry(U,Ie),T=T.insert(U,W)):!re.isValidDocument()||W.version.compareTo(re.version)>0||0===W.version.compareTo(re.version)&&re.hasPendingWrites?(e.addEntry(W,Ie),T=T.insert(U,W)):y("LocalStore","Ignoring outdated watch update for ",U,". Current version:",re.version," Watch version:",W.version)}),T})}function Vf(i,e){const r=me(i);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.An.getNextMutationBatchAfterBatchId(o,e)))}function ic(i,e){const r=me(i);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return r.He.getTargetData(o,e).next(f=>f?(u=f,ht.resolve(u)):r.He.allocateTargetId(o).next(v=>(u=new m(e,v,0,o.currentSequenceNumber),r.He.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=r.qn.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.qn=r.qn.insert(o.targetId,o),r.Kn.set(e,o.targetId)),o})}function sc(i,e,r){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,Y.Z)(function*(i,e,r){const o=me(i),u=o.qn.get(e),f=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",f,v=>o.persistence.referenceDelegate.removeTarget(v,u)))}catch(v){if(!Su(v))throw v;y("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}o.qn=o.qn.remove(e),o.Kn.delete(u.target)}),Ug.apply(this,arguments)}function Dh(i,e,r){const o=me(i);let u=In.min(),f=Pr();return o.persistence.runTransaction("Execute query","readonly",v=>function(T,U,W){const re=me(T),Ie=re.Kn.get(W);return void 0!==Ie?ht.resolve(re.qn.get(Ie)):re.He.getTargetData(U,W)}(o,v,Po(e)).next(T=>{if(T)return u=T.lastLimboFreeSnapshotVersion,o.He.getMatchingKeysForTargetId(v,T.targetId).next(U=>{f=U})}).next(()=>o.Un.getDocumentsMatchingQuery(v,e,r?u:In.min(),r?f:Pr())).next(T=>({documents:T,zn:f})))}function Bg(i,e){const r=me(i),o=me(r.He),u=r.qn.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",f=>o.Et(f,e).next(v=>v?v.target:null))}function Vg(i){const e=me(i);return e.persistence.runTransaction("Get new document changes","readonly",r=>function(o,u,f){const v=me(o);let T=oo(),U=He(f);const W=rc(u),re=IDBKeyRange.lowerBound(U,!0);return W.jt({index:vi.readTimeIndex,range:re},(Ie,Ze)=>{const ft=B(v.k,Ze);T=T.insert(ft.key,ft),U=Ze.readTime}).next(()=>({In:T,readTime:bt(U)}))}(e.Qn,r,e.jn)).then(({In:r,readTime:o})=>(e.jn=o,r))}function Th(){return Th=(0,Y.Z)(function*(i){const e=me(i);return e.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(o){const u=rc(o);let f=In.min();return u.jt({index:vi.readTimeIndex,reverse:!0},(v,T,U)=>{T.readTime&&(f=bt(T.readTime)),U.done()}).next(()=>f)}(r)).then(r=>{e.jn=r})}),Th.apply(this,arguments)}function jf(){return jf=(0,Y.Z)(function*(i,e,r,o){const u=me(i);let f=Pr(),v=oo(),T=dl();for(const re of r){const Ie=e.Hn(re.metadata.name);re.document&&(f=f.add(Ie)),v=v.insert(Ie,e.Jn(re)),T=T.insert(Ie,e.Yn(re.metadata.readTime))}const U=u.Qn.newChangeBuffer({trackRemovals:!0}),W=yield ic(u,(re=o,Po(_o(qn.fromString(`__bundle__/docs/${re}`)))));var re;return u.persistence.runTransaction("Apply bundle documents","readwrite",re=>Id(re,U,v,In.min(),T).next(Ie=>(U.apply(re),Ie)).next(Ie=>u.He.removeMatchingKeysForTargetId(re,W.targetId).next(()=>u.He.addMatchingKeys(re,f,W.targetId)).next(()=>u.Wn.Vn(re,Ie)).next(()=>Ie)))}),jf.apply(this,arguments)}function vv(i,e){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,Y.Z)(function*(i,e,r=Pr()){const o=yield ic(i,Po(uo(e.bundledQuery))),u=me(i);return u.persistence.runTransaction("Save named query","readwrite",f=>{const v=Ci(e.readTime);if(o.snapshotVersion.compareTo(v)>=0)return u.Ye.saveNamedQuery(f,e);const T=o.withResumeToken(Gi.EMPTY_BYTE_STRING,v);return u.qn=u.qn.insert(T.targetId,T),u.He.updateTargetData(f,T).next(()=>u.He.removeMatchingKeysForTargetId(f,o.targetId)).next(()=>u.He.addMatchingKeys(f,r,o.targetId)).next(()=>u.Ye.saveNamedQuery(f,e))})}),Ch.apply(this,arguments)}class jg{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,r){return ht.resolve(this.Xn.get(r))}saveBundleMetadata(e,r){var o;return this.Xn.set(r.id,{id:(o=r).id,version:o.version,createTime:Ci(o.createTime)}),ht.resolve()}getNamedQuery(e,r){return ht.resolve(this.Zn.get(r))}saveNamedQuery(e,r){return this.Zn.set(r.name,{name:(o=r).name,query:uo(o.bundledQuery),readTime:Ci(o.readTime)}),ht.resolve();var o}}class Hf{constructor(){this.ts=new ci(os.es),this.ns=new ci(os.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,r){const o=new os(e,r);this.ts=this.ts.add(o),this.ns=this.ns.add(o)}rs(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.os(new os(e,r))}cs(e,r){e.forEach(o=>this.removeReference(o,r))}us(e){const r=new Qt(new qn([])),o=new os(r,e),u=new os(r,e+1),f=[];return this.ns.forEachInRange([o,u],v=>{this.os(v),f.push(v.key)}),f}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const r=new Qt(new qn([])),o=new os(r,e),u=new os(r,e+1);let f=Pr();return this.ns.forEachInRange([o,u],v=>{f=f.add(v.key)}),f}containsKey(e){const r=new os(e,0),o=this.ts.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class os{constructor(e,r){this.key=e,this.fs=r}static es(e,r){return Qt.comparator(e.key,r.key)||Kn(e.fs,r.fs)}static ss(e,r){return Kn(e.fs,r.fs)||Qt.comparator(e.key,r.key)}}class wv{constructor(e,r){this.Jt=e,this.referenceDelegate=r,this.An=[],this.ds=1,this.ws=new ci(os.es)}checkEmpty(e){return ht.resolve(0===this.An.length)}addMutationBatch(e,r,o,u){const f=this.ds;this.ds++;const v=new l(f,r,o,u);this.An.push(v);for(const T of u)this.ws=this.ws.add(new os(T.key,f)),this.Jt.addToCollectionParentIndex(e,T.key.path.popLast());return ht.resolve(v)}lookupMutationBatch(e,r){return ht.resolve(this._s(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.gs(r+1),f=u<0?0:u;return ht.resolve(this.An.length>f?this.An[f]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return ht.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new os(r,0),u=new os(r,Number.POSITIVE_INFINITY),f=[];return this.ws.forEachInRange([o,u],v=>{const T=this._s(v.fs);f.push(T)}),ht.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new ci(Kn);return r.forEach(u=>{const f=new os(u,0),v=new os(u,Number.POSITIVE_INFINITY);this.ws.forEachInRange([f,v],T=>{o=o.add(T.fs)})}),ht.resolve(this.ys(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1;let f=o;Qt.isDocumentKey(f)||(f=f.child(""));const v=new os(new Qt(f),0);let T=new ci(Kn);return this.ws.forEachWhile(U=>{const W=U.key.path;return!!o.isPrefixOf(W)&&(W.length===u&&(T=T.add(U.fs)),!0)},v),ht.resolve(this.ys(T))}ys(e){const r=[];return e.forEach(o=>{const u=this._s(o);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){Z(0===this.ps(r.batchId,"removed")),this.An.shift();let o=this.ws;return ht.forEach(r.mutations,u=>{const f=new os(u.key,r.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.ws=o})}ee(e){}containsKey(e,r){const o=new os(r,0),u=this.ws.firstAfterOrEqual(o);return ht.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return ht.resolve()}ps(e,r){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const r=this.gs(e);return r<0||r>=this.An.length?null:this.An[r]}}class Ev{constructor(e,r){this.Jt=e,this.Ts=r,this.docs=new ss(Qt.comparator),this.size=0}addEntry(e,r,o){const u=r.key,f=this.docs.get(u),v=f?f.size:0,T=this.Ts(r);return this.docs=this.docs.insert(u,{document:r.mutableCopy(),size:T,readTime:o}),this.size+=T-v,this.Jt.addToCollectionParentIndex(e,u.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return ht.resolve(o?o.document.mutableCopy():Br.newInvalidDocument(r))}getEntries(e,r){let o=oo();return r.forEach(u=>{const f=this.docs.get(u);o=o.insert(u,f?f.document.mutableCopy():Br.newInvalidDocument(u))}),ht.resolve(o)}getDocumentsMatchingQuery(e,r,o){let u=oo();const f=new Qt(r.path.child("")),v=this.docs.getIteratorFrom(f);for(;v.hasNext();){const{key:T,value:{document:U,readTime:W}}=v.getNext();if(!r.path.isPrefixOf(T.path))break;W.compareTo(o)<=0||mu(r,U)&&(u=u.insert(U.key,U.mutableCopy()))}return ht.resolve(u)}Es(e,r){return ht.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new Iv(this)}getSize(e){return ht.resolve(this.size)}}class Iv extends Og{constructor(e){super(),this.De=e}applyChanges(e){const r=[];return this.changes.forEach((o,u)=>{u.document.isValidDocument()?r.push(this.De.addEntry(e,u.document,this.getReadTime(o))):this.De.removeEntry(o)}),ht.waitFor(r)}getFromCache(e,r){return this.De.getEntry(e,r)}getAllFromCache(e,r){return this.De.getEntries(e,r)}}class bv{constructor(e){this.persistence=e,this.Is=new Il(r=>ya(r),Ga),this.lastRemoteSnapshotVersion=In.min(),this.highestTargetId=0,this.As=0,this.Rs=new Hf,this.targetCount=0,this.bs=Bc.ie()}forEachTarget(e,r){return this.Is.forEach((o,u)=>r(u)),ht.resolve()}getLastRemoteSnapshotVersion(e){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ht.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.As&&(this.As=r),ht.resolve()}ae(e){this.Is.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.bs=new Bc(r),this.highestTargetId=r),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,r){return this.ae(r),this.targetCount+=1,ht.resolve()}updateTargetData(e,r){return this.ae(r),ht.resolve()}removeTargetData(e,r){return this.Is.delete(r.target),this.Rs.us(r.targetId),this.targetCount-=1,ht.resolve()}removeTargets(e,r,o){let u=0;const f=[];return this.Is.forEach((v,T)=>{T.sequenceNumber<=r&&null===o.get(T.targetId)&&(this.Is.delete(v),f.push(this.removeMatchingKeysForTargetId(e,T.targetId)),u++)}),ht.waitFor(f).next(()=>u)}getTargetCount(e){return ht.resolve(this.targetCount)}getTargetData(e,r){const o=this.Is.get(r)||null;return ht.resolve(o)}addMatchingKeys(e,r,o){return this.Rs.rs(r,o),ht.resolve()}removeMatchingKeys(e,r,o){this.Rs.cs(r,o);const u=this.persistence.referenceDelegate,f=[];return u&&r.forEach(v=>{f.push(u.markPotentiallyOrphaned(e,v))}),ht.waitFor(f)}removeMatchingKeysForTargetId(e,r){return this.Rs.us(r),ht.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Rs.ls(r);return ht.resolve(o)}containsKey(e,r){return ht.resolve(this.Rs.containsKey(r))}}class Dv{constructor(e,r){this.Ps={},this.Be=new Ti(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new bv(this),this.Jt=new _d,this.Je=new Ev(this.Jt,o=>this.referenceDelegate.vs(o)),this.k=new M(r),this.Ye=new jg(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let r=this.Ps[e.toKey()];return r||(r=new wv(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,r,o){y("MemoryPersistence","Starting transaction:",e);const u=new Tv(this.Be.next());return this.referenceDelegate.Vs(),o(u).next(f=>this.referenceDelegate.Ss(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Ds(e,r){return ht.or(Object.values(this.Ps).map(o=>()=>o.containsKey(e,r)))}}class Tv extends Ju{constructor(e){super(),this.currentSequenceNumber=e}}class Hg{constructor(e){this.persistence=e,this.Cs=new Hf,this.Ns=null}static ks(e){return new Hg(e)}get xs(){if(this.Ns)return this.Ns;throw F()}addReference(e,r,o){return this.Cs.addReference(o,r),this.xs.delete(o.toString()),ht.resolve()}removeReference(e,r,o){return this.Cs.removeReference(o,r),this.xs.add(o.toString()),ht.resolve()}markPotentiallyOrphaned(e,r){return this.xs.add(r.toString()),ht.resolve()}removeTarget(e,r){this.Cs.us(r.targetId).forEach(u=>this.xs.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(f=>this.xs.add(f.toString()))}).next(()=>o.removeTargetData(e,r))}Vs(){this.Ns=new Set}Ss(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.xs,o=>{const u=Qt.fromPath(o);return this.$s(e,u).next(f=>{f||r.removeEntry(u)})}).next(()=>(this.Ns=null,r.apply(e)))}updateLimboDocument(e,r){return this.$s(e,r).next(o=>{o?this.xs.delete(r.toString()):this.xs.add(r.toString())})}vs(e){return 0}$s(e,r){return ht.or([()=>ht.resolve(this.Cs.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ds(e,r)])}}function Cy(i,e){return`firestore_clients_${i}_${e}`}function Ay(i,e,r){let o=`firestore_mutations_${i}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function $g(i,e){return`firestore_targets_${i}_${e}`}class Ia{constructor(e,r,o,u){this.user=e,this.batchId=r,this.state=o,this.error=u}static Os(e,r,o){const u=JSON.parse(o);let f,v="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return v&&u.error&&(v="string"==typeof u.error.message&&"string"==typeof u.error.code,v&&(f=new ze(u.error.code,u.error.message))),v?new Ia(e,r,u.state,f):(_("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hc{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Os(e,r){const o=JSON.parse(r);let u,f="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(u=new ze(o.error.code,o.error.message))),f?new Hc(e,o.state,u):(_("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ah{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Os(e,r){const o=JSON.parse(r);let u="object"==typeof o&&o.activeTargetIds instanceof Array,f=Iu();for(let v=0;u&&v<o.activeTargetIds.length;++v)u=_c(o.activeTargetIds[v]),f=f.add(o.activeTargetIds[v]);return u?new Ah(e,f):(_("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Sh{constructor(e,r){this.clientId=e,this.onlineState=r}static Os(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Sh(r.clientId,r.onlineState):(_("SharedClientState",`Failed to parse online state: ${e}`),null)}}class bd{constructor(){this.activeTargetIds=Iu()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rh{constructor(e,r,o,u,f){this.window=e,this.Me=r,this.persistenceKey=o,this.Bs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new ss(Kn),this.started=!1,this.js=[];const v=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Qs=Cy(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new bd),this.Gs=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(T){return`firestore_bundle_loaded_${T}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Y.Z)(function*(){const r=yield e.syncEngine.Tn();for(const u of r){if(u===e.Bs)continue;const f=e.getItem(Cy(e.persistenceKey,u));if(f){const v=Ah.Os(u,f);v&&(e.Ks=e.Ks.insert(v.clientId,v))}}e.Xs();const o=e.storage.getItem(e.Js);if(o){const u=e.Zs(o);u&&e.ti(u)}for(const u of e.js)e.qs(u);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let r=!1;return this.Ks.forEach((o,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,r,o){this.ni(e,r,o),this.si(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem($g(this.persistenceKey,e));if(o){const u=Hc.Os(e,o);u&&(r=u.state)}}return this.ii.Fs(e),this.Xs(),r}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem($g(this.persistenceKey,e))}updateQueryState(e,r,o){this.ri(e,r,o)}handleUserChange(e,r,o){r.forEach(u=>{this.si(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return y("SharedClientState","READ",e,r),r}setItem(e,r){y("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){y("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var r=this;const o=e;if(o.storageArea===this.storage){if(y("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Qs)return void _("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,Y.Z)(function*(){if(r.started){if(null!==o.key)if(r.Gs.test(o.key)){if(null==o.newValue){const u=r.ai(o.key);return r.ui(u,null)}{const u=r.hi(o.key,o.newValue);if(u)return r.ui(u.clientId,u)}}else if(r.zs.test(o.key)){if(null!==o.newValue){const u=r.li(o.key,o.newValue);if(u)return r.fi(u)}}else if(r.Hs.test(o.key)){if(null!==o.newValue){const u=r.di(o.key,o.newValue);if(u)return r.wi(u)}}else if(o.key===r.Js){if(null!==o.newValue){const u=r.Zs(o.newValue);if(u)return r.ti(u)}}else if(o.key===r.Ws){const u=function(f){let v=Ti.I;if(null!=f)try{const T=JSON.parse(f);Z("number"==typeof T),v=T}catch(T){_("SharedClientState","Failed to read sequence number from WebStorage",T)}return v}(o.newValue);u!==Ti.I&&r.sequenceNumberHandler(u)}else if(o.key===r.Ys)return r.syncEngine._i()}else r.js.push(o)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,r,o){const u=new Ia(this.currentUser,e,r,o),f=Ay(this.persistenceKey,this.currentUser,e);this.setItem(f,u.Ms())}si(e){const r=Ay(this.persistenceKey,this.currentUser,e);this.removeItem(r)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,r,o){const u=$g(this.persistenceKey,e),f=new Hc(e,r,o);this.setItem(u,f.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const r=this.Gs.exec(e);return r?r[1]:null}hi(e,r){const o=this.ai(e);return Ah.Os(o,r)}li(e,r){const o=this.zs.exec(e),u=Number(o[1]);return Ia.Os(new si(void 0!==o[2]?o[2]:null),u,r)}di(e,r){const o=this.Hs.exec(e),u=Number(o[1]);return Hc.Os(u,r)}Zs(e){return Sh.Os(e)}fi(e){var r=this;return(0,Y.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.mi(e.batchId,e.state,e.error);y("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,r){const o=r?this.Ks.insert(e,r):this.Ks.remove(e),u=this.ei(this.Ks),f=this.ei(o),v=[],T=[];return f.forEach(U=>{u.has(U)||v.push(U)}),u.forEach(U=>{f.has(U)||T.push(U)}),this.syncEngine.yi(v,T).then(()=>{this.Ks=o})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let r=Iu();return e.forEach((o,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class xh{constructor(){this.pi=new bd,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,r,o){this.Ti[e]=r}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new bd,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Sy{Ei(e){}shutdown(){}}class Ou{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Gg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Ry{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class $f extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,r,o,u,f){const v=this.Ui(e,r);y("RestConnection","Sending: ",v,o);const T={};return this.qi(T,u,f),this.Ki(e,v,T,o).then(U=>(y("RestConnection","Received: ",U),U),U=>{throw C("RestConnection",`${e} failed with error: `,U,"url: ",v,"request:",o),U})}ji(e,r,o,u,f){return this.Bi(e,r,o,u,f)}qi(e,r,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+ro,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((u,f)=>e[f]=u),o&&o.headers.forEach((u,f)=>e[f]=u)}Ui(e,r){return`${this.Fi}/v1/${r}:${Gg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,r,o,u){return new Promise((f,v)=>{const T=new da;T.listenOnce(Hu.COMPLETE,()=>{try{switch(T.getLastErrorCode()){case Ro.NO_ERROR:const W=T.getResponseJson();y("Connection","XHR received:",JSON.stringify(W)),f(W);break;case Ro.TIMEOUT:y("Connection",'RPC "'+e+'" timed out'),v(new ze(he.DEADLINE_EXCEEDED,"Request time out"));break;case Ro.HTTP_ERROR:const re=T.getStatus();if(y("Connection",'RPC "'+e+'" failed with status:',re,"response text:",T.getResponseText()),re>0){const Ie=T.getResponseJson().error;if(Ie&&Ie.status&&Ie.message){const Ze=function(ft){const wt=ft.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(wt)>=0?wt:he.UNKNOWN}(Ie.status);v(new ze(Ze,Ie.message))}else v(new ze(he.UNKNOWN,"Server responded with status "+T.getStatus()))}else v(new ze(he.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{y("Connection",'RPC "'+e+'" completed.')}});const U=JSON.stringify(u);T.send(r,"POST",U,o,15)})}Qi(e,r,o){const u=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=la(),v=yc(),T={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(T.xmlHttpFactory=new Ys({})),this.qi(T.initMessageHeaders,r,o),(0,rt.uI)()||(0,rt.b$)()||(0,rt.d)()||(0,rt.w1)()||(0,rt.Mn)()||(0,rt.ru)()||(T.httpHeadersOverwriteParam="$httpHeaders");const U=u.join("");y("Connection","Creating WebChannel: "+U,T);const W=f.createWebChannel(U,T);let re=!1,Ie=!1;const Ze=new Ry({Vi:wt=>{Ie?y("Connection","Not sending because WebChannel is closed:",wt):(re||(y("Connection","Opening WebChannel transport."),W.open(),re=!0),y("Connection","WebChannel sending:",wt),W.send(wt))},Si:()=>W.close()}),ft=(wt,Kt,Cn)=>{wt.listen(Kt,Si=>{try{Cn(Si)}catch(us){setTimeout(()=>{throw us},0)}})};return ft(W,go.EventType.OPEN,()=>{Ie||y("Connection","WebChannel transport opened.")}),ft(W,go.EventType.CLOSE,()=>{Ie||(Ie=!0,y("Connection","WebChannel transport closed"),Ze.Oi())}),ft(W,go.EventType.ERROR,wt=>{Ie||(Ie=!0,C("Connection","WebChannel transport errored:",wt),Ze.Oi(new ze(he.UNAVAILABLE,"The operation could not be completed")))}),ft(W,go.EventType.MESSAGE,wt=>{var Kt;if(!Ie){const Cn=wt.data[0];Z(!!Cn);const Si=Cn,us=Si.error||(null===(Kt=Si[0])||void 0===Kt?void 0:Kt.error);if(us){y("Connection","WebChannel received error:",us);const Io=us.status;let Vr=function(Sa){const Wd=ui[Sa];if(void 0!==Wd)return ll(Wd)}(Io),Xi=us.message;void 0===Vr&&(Vr=he.INTERNAL,Xi="Unknown error status: "+Io+" with message "+us.message),Ie=!0,Ze.Oi(new ze(Vr,Xi)),W.close()}else y("Connection","WebChannel received:",Cn),Ze.Mi(Cn)}}),ft(v,Ko.STAT_EVENT,wt=>{wt.stat===uu.PROXY?y("Connection","Detected buffering proxy"):wt.stat===uu.NOPROXY&&y("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ze.$i()},0),Ze}}function zg(){return"undefined"!=typeof window?window:null}function Dd(){return"undefined"!=typeof document?document:null}function Td(i){return new pd(i,!0)}class Gf{constructor(e,r,o=1e3,u=1.5,f=6e4){this.Me=e,this.timerId=r,this.Wi=o,this.Gi=u,this.zi=f,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const r=Math.floor(this.Hi+this.tr()),o=Math.max(0,Date.now()-this.Yi),u=Math.max(0,r-o);u>0&&y("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Hi} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,u,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class Dl{constructor(e,r,o,u,f,v,T,U){this.Me=e,this.nr=o,this.sr=u,this.ir=f,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=T,this.listener=U,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new Gf(e,r)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,Y.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,Y.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,r){var o=this;return(0,Y.Z)(function*(){o.yr(),o.pr(),o.ur.cancel(),o.rr++,4!==e?o.ur.reset():r&&r.code===he.RESOURCE_EXHAUSTED?(_(r.toString()),_("Using maximum backoff delay to prevent overloading the backend."),o.ur.Xi()):r&&r.code===he.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Tr(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Ni(r)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),r=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.rr===r&&this.Ir(o,u)},o=>{e(()=>{const u=new ze(he.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Ar(u)})})}Ir(e,r){const o=this.Er(this.rr);this.stream=this.Rr(e,r),this.stream.Di(()=>{o(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(u=>{o(()=>this.Ar(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}dr(){var e=this;this.state=5,this.ur.Zi((0,Y.Z)(function*(){e.state=0,e.start()}))}Ar(e){return y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return r=>{this.Me.enqueueAndForget(()=>this.rr===e?r():(y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tl extends Dl{constructor(e,r,o,u,f,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,u,v),this.k=f}Rr(e,r){return this.ir.Qi("Listen",e,r)}onMessage(e){this.ur.reset();const r=function uh(i,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(U=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:F(),u=e.targetChange.targetIds||[],f=function(U,W){return U.C?(Z(void 0===W||"string"==typeof W),Gi.fromBase64String(W||"")):(Z(void 0===W||W instanceof Uint8Array),Gi.fromUint8Array(W||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,T=v&&function(U){const W=void 0===U.code?he.UNKNOWN:ll(U.code);return new ze(W,U.message||"")}(v);r=new ih(o,u,f,T||null)}else if("documentChange"in e){const o=e.documentChange,u=Oo(i,o.document.name),f=Ci(o.document.updateTime),v=new ps({mapValue:{fields:o.document.fields}}),T=Br.newFoundDocument(u,f,v);r=new hd(o.targetIds||[],o.removedTargetIds||[],T.key,T)}else if("documentDelete"in e){const o=e.documentDelete,u=Oo(i,o.document),f=o.readTime?Ci(o.readTime):In.min(),v=Br.newNoDocument(u,f);r=new hd([],o.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const o=e.documentRemove,u=Oo(i,o.document);r=new hd([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return F();{const o=e.filter,f=new ta(o.count||0);r=new Zr(o.targetId,f)}}var U;return r}(this.k,e),o=function(u){if(!("targetChange"in u))return In.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?In.min():f.readTime?Ci(f.readTime):In.min()}(e);return this.listener.br(r,o)}Pr(e){const r={};r.database=Du(this.k),r.addTarget=function(u,f){let v;const T=f.target;return v=D(T)?{documents:ch(u,T)}:{query:Pc(u,T)},v.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?v.resumeToken=Af(u,f.resumeToken):f.snapshotVersion.compareTo(In.min())>0&&(v.readTime=xc(u,f.snapshotVersion.toTimestamp())),v}(this.k,e);const o=function xf(i,e){const r=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return F()}}(0,e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.gr(r)}vr(e){const r={};r.database=Du(this.k),r.removeTarget=e,this.gr(r)}}class zf extends Dl{constructor(e,r,o,u,f,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,u,v),this.k=f,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,r){return this.ir.Qi("Write",e,r)}onMessage(e){if(Z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const r=function Rf(i,e){return i&&i.length>0?(Z(void 0!==e),i.map(r=>function(o,u){let f=Ci(o.updateTime?o.updateTime:u);return f.isEqual(In.min())&&(f=Ci(u)),new Eu(f,o.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=Ci(e.commitTime);return this.listener.Cr(o,r)}return Z(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Du(this.k),this.gr(e)}Dr(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>Tu(this.k,o))};this.gr(r)}}class Cl extends class{}{constructor(e,r,o,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.ir=o,this.k=u,this.$r=!1}Or(){if(this.$r)throw new ze(he.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,r,o){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.ir.Bi(e,r,o,u,f)).catch(u=>{throw"FirebaseError"===u.name?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ze(he.UNKNOWN,u.toString())})}ji(e,r,o){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.ir.ji(e,r,o,u,f)).catch(u=>{throw"FirebaseError"===u.name?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ze(he.UNKNOWN,u.toString())})}terminate(){this.$r=!0}}class Cd{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(_(r),this.Lr=!1):y("OnlineStateTracker",r)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class Al{constructor(e,r,o,u,f){var v=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=f,this.Hr.Ei(T=>{o.enqueueAndForget((0,Y.Z)(function*(){var U;ku(v)&&(y("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,Y.Z)(function*(W){const re=me(W);re.Gr.add(4),yield $c(re),re.Jr.set("Unknown"),re.Gr.delete(4),yield Ad(re)}),function(W){return U.apply(this,arguments)})(v))}))}),this.Jr=new Cd(o,u)}}function Ad(i){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,Y.Z)(function*(i){if(ku(i))for(const e of i.zr)yield e(!0)}),Mh.apply(this,arguments)}function $c(i){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,Y.Z)(function*(i){for(const e of i.zr)yield e(!1)}),Sd.apply(this,arguments)}function Sl(i,e){const r=me(i);r.Wr.has(e.targetId)||(r.Wr.set(e.targetId,e),qg(r)?Ph(r):Ml(r).lr()&&xl(r,e))}function Rl(i,e){const r=me(i),o=Ml(r);r.Wr.delete(e),o.lr()&&Wg(r,e),0===r.Wr.size&&(o.lr()?o._r():ku(r)&&r.Jr.set("Unknown"))}function xl(i,e){i.Yr.X(e.targetId),Ml(i).Pr(e)}function Wg(i,e){i.Yr.X(e),Ml(i).vr(e)}function Ph(i){i.Yr=new Rc({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Wr.get(e)||null}),Ml(i).start(),i.Jr.Br()}function qg(i){return ku(i)&&!Ml(i).hr()&&i.Wr.size>0}function ku(i){return 0===me(i).Gr.size}function Wf(i){i.Yr=void 0}function xy(i){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,Y.Z)(function*(i){i.Wr.forEach((e,r)=>{xl(i,e)})}),Oh.apply(this,arguments)}function My(i,e){return qf.apply(this,arguments)}function qf(){return qf=(0,Y.Z)(function*(i,e){Wf(i),qg(i)?(i.Jr.Kr(e),Ph(i)):i.Jr.set("Unknown")}),qf.apply(this,arguments)}function Lo(i,e,r){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,Y.Z)(function*(i,e,r){if(i.Jr.set("Online"),e instanceof ih&&2===e.state&&e.cause)try{yield(o=(0,Y.Z)(function*(u,f){const v=f.cause;for(const T of f.targetIds)u.Wr.has(T)&&(yield u.remoteSyncer.rejectListen(T,v),u.Wr.delete(T),u.Yr.removeTarget(T))}),function(u,f){return o.apply(this,arguments)})(i,e)}catch(o){y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield kh(i,o)}else if(e instanceof hd?i.Yr.ot(e):e instanceof Zr?i.Yr.dt(e):i.Yr.ut(e),!r.isEqual(In.min()))try{const o=yield Dy(i.localStore);r.compareTo(o)>=0&&(yield function(u,f){const v=u.Yr.gt(f);return v.targetChanges.forEach((T,U)=>{if(T.resumeToken.approximateByteSize()>0){const W=u.Wr.get(U);W&&u.Wr.set(U,W.withResumeToken(T.resumeToken,f))}}),v.targetMismatches.forEach(T=>{const U=u.Wr.get(T);if(!U)return;u.Wr.set(T,U.withResumeToken(Gi.EMPTY_BYTE_STRING,U.snapshotVersion)),Wg(u,T);const W=new m(U.target,T,1,U.sequenceNumber);xl(u,W)}),u.remoteSyncer.applyRemoteEvent(v)}(i,r))}catch(o){y("RemoteStore","Failed to raise snapshot:",o),yield kh(i,o)}var o}),Zf.apply(this,arguments)}function kh(i,e,r){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,Y.Z)(function*(i,e,r){if(!Su(e))throw e;i.Gr.add(1),yield $c(i),i.Jr.set("Offline"),r||(r=()=>Dy(i.localStore)),i.asyncQueue.enqueueRetryable((0,Y.Z)(function*(){y("RemoteStore","Retrying IndexedDB access"),yield r(),i.Gr.delete(1),yield Ad(i)}))}),Zg.apply(this,arguments)}function Py(i,e){return e().catch(r=>kh(i,r,e))}function Gc(i){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,Y.Z)(function*(i){const e=me(i),r=oc(e);let o=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;Oy(e);)try{const u=yield Vf(e.localStore,o);if(null===u){0===e.Qr.length&&r._r();break}o=u.batchId,Kf(e,u)}catch(u){yield kh(e,u)}Yf(e)&&Yg(e)}),Kg.apply(this,arguments)}function Oy(i){return ku(i)&&i.Qr.length<10}function Kf(i,e){i.Qr.push(e);const r=oc(i);r.lr()&&r.Sr&&r.Dr(e.mutations)}function Yf(i){return ku(i)&&!oc(i).hr()&&i.Qr.length>0}function Yg(i){oc(i).start()}function ky(i){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,Y.Z)(function*(i){oc(i).kr()}),Qf.apply(this,arguments)}function Qg(i){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,Y.Z)(function*(i){const e=oc(i);for(const r of i.Qr)e.Dr(r.mutations)}),Jf.apply(this,arguments)}function Jg(i,e,r){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,Y.Z)(function*(i,e,r){const o=i.Qr.shift(),u=d.from(o,e,r);yield Py(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Gc(i)}),Xf.apply(this,arguments)}function Ny(i,e){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,Y.Z)(function*(i,e){var r;e&&oc(i).Sr&&(yield(r=(0,Y.Z)(function*(o,u){if(ud(f=u.code)&&f!==he.ABORTED){const v=o.Qr.shift();oc(o).wr(),yield Py(o,()=>o.remoteSyncer.rejectFailedWrite(v.batchId,u)),yield Gc(o)}var f}),function(o,u){return r.apply(this,arguments)})(i,e)),Yf(i)&&Yg(i)}),Nh.apply(this,arguments)}function ep(i,e){return tp.apply(this,arguments)}function tp(){return tp=(0,Y.Z)(function*(i,e){const r=me(i);r.asyncQueue.verifyOperationInProgress(),y("RemoteStore","RemoteStore received new credentials");const o=ku(r);r.Gr.add(3),yield $c(r),o&&r.Jr.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.Gr.delete(3),yield Ad(r)}),tp.apply(this,arguments)}function sa(i,e){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,Y.Z)(function*(i,e){const r=me(i);e?(r.Gr.delete(2),yield Ad(r)):e||(r.Gr.add(2),yield $c(r),r.Jr.set("Unknown"))}),Rd.apply(this,arguments)}function Ml(i){return i.Xr||(i.Xr=function(e,r,o){const u=me(e);return u.Or(),new Tl(r,u.ir,u.authCredentials,u.appCheckCredentials,u.k,o)}(i.datastore,i.asyncQueue,{Di:xy.bind(null,i),Ni:My.bind(null,i),br:Lo.bind(null,i)}),i.zr.push(function(){var e=(0,Y.Z)(function*(r){r?(i.Xr.wr(),qg(i)?Ph(i):i.Jr.set("Unknown")):(yield i.Xr.stop(),Wf(i))});return function(r){return e.apply(this,arguments)}}())),i.Xr}function oc(i){return i.Zr||(i.Zr=function(e,r,o){const u=me(e);return u.Or(),new zf(r,u.ir,u.authCredentials,u.appCheckCredentials,u.k,o)}(i.datastore,i.asyncQueue,{Di:ky.bind(null,i),Ni:Ny.bind(null,i),Nr:Qg.bind(null,i),Cr:Jg.bind(null,i)}),i.zr.push(function(){var e=(0,Y.Z)(function*(r){r?(i.Zr.wr(),yield Gc(i)):(yield i.Zr.stop(),i.Qr.length>0&&(y("RemoteStore",`Stopping write stream with ${i.Qr.length} pending writes`),i.Qr=[]))});return function(r){return e.apply(this,arguments)}}())),i.Zr}class Xg{constructor(e,r,o,u,f){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=u,this.removalCallback=f,this.deferred=new Lt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,r,o,u,f){const v=Date.now()+o,T=new Xg(e,r,v,u,f);return T.start(o),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ze(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zc(i,e){if(_("AsyncQueue",`${e}: ${i}`),Su(i))return new ze(he.UNAVAILABLE,`${e}: ${i}`);throw i}class Pl{constructor(e){this.comparator=e?(r,o)=>e(r,o)||Qt.comparator(r.key,o.key):(r,o)=>Qt.comparator(r.key,o.key),this.keyedMap=Ac(),this.sortedSet=new ss(this.comparator)}static emptySet(e){return new Pl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=o.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new Pl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class em{constructor(){this.eo=new ss(Qt.comparator)}track(e){const r=e.doc.key,o=this.eo.get(r);o?0!==e.type&&3===o.type?this.eo=this.eo.insert(r,e):3===e.type&&1!==o.type?this.eo=this.eo.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.eo=this.eo.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.eo=this.eo.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.eo=this.eo.remove(r):1===e.type&&2===o.type?this.eo=this.eo.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.eo=this.eo.insert(r,{type:2,doc:e.doc}):F():this.eo=this.eo.insert(r,e)}no(){const e=[];return this.eo.inorderTraversal((r,o)=>{e.push(o)}),e}}class Ol{constructor(e,r,o,u,f,v,T,U){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=f,this.fromCache=v,this.syncStateChanged=T,this.excludesMetadataChanges=U}static fromInitialDocuments(e,r,o,u){const f=[];return r.forEach(v=>{f.push({type:0,doc:v})}),new Ol(e,r,Pl.emptySet(r),f,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==o[u].type||!r[u].doc.isEqual(o[u].doc))return!1;return!0}}class np{constructor(){this.so=void 0,this.listeners=[]}}class Ly{constructor(){this.queries=new Il(e=>Ef(e),gu),this.onlineState="Unknown",this.io=new Set}}function rp(i,e){return kl.apply(this,arguments)}function kl(){return kl=(0,Y.Z)(function*(i,e){const r=me(i),o=e.query;let u=!1,f=r.queries.get(o);if(f||(u=!0,f=new np),u)try{f.so=yield r.onListen(o)}catch(v){const T=zc(v,`Initialization of query '${sd(e.query)}' failed`);return void e.onError(T)}r.queries.set(o,f),f.listeners.push(e),e.ro(r.onlineState),f.so&&e.oo(f.so)&&Lh(r)}),kl.apply(this,arguments)}function xd(i,e){return ip.apply(this,arguments)}function ip(){return ip=(0,Y.Z)(function*(i,e){const r=me(i),o=e.query;let u=!1;const f=r.queries.get(o);if(f){const v=f.listeners.indexOf(e);v>=0&&(f.listeners.splice(v,1),u=0===f.listeners.length)}if(u)return r.queries.delete(o),r.onUnlisten(o)}),ip.apply(this,arguments)}function sp(i,e){const r=me(i);let o=!1;for(const u of e){const v=r.queries.get(u.query);if(v){for(const T of v.listeners)T.oo(u)&&(o=!0);v.so=u}}o&&Lh(r)}function op(i,e,r){const o=me(i),u=o.queries.get(e);if(u)for(const f of u.listeners)f.onError(r);o.queries.delete(e)}function Lh(i){i.io.forEach(e=>{e.next()})}class ap{constructor(e,r,o){this.query=e,this.co=r,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=o||{}}oo(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Ol(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let r=!1;return this.ao?this.ho(e)&&(this.co.next(e),r=!0):this.lo(e,this.onlineState)&&(this.fo(e),r=!0),this.uo=e,r}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let r=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),r=!0),r}lo(e,r){return!e.fromCache||!(this.options.wo&&"Offline"!==r||e.docs.isEmpty()&&"Offline"!==r)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=Ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class Fy{constructor(e,r){this.payload=e,this.byteLength=r}_o(){return"metadata"in this.payload}}class Fh{constructor(e){this.k=e}Hn(e){return Oo(this.k,e)}Jn(e){return e.metadata.exists?Mc(this.k,e.document,!1):Br.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return Ci(e)}}class Cv{constructor(e,r,o){this.mo=e,this.localStore=r,this.k=o,this.queries=[],this.documents=[],this.progress=tm(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++r):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}po(e){const r=new Map,o=new Fh(this.k);for(const u of e)if(u.metadata.queries){const f=o.Hn(u.metadata.name);for(const v of u.metadata.queries){const T=(r.get(v)||Pr()).add(f);r.set(v,T)}}return r}complete(){var e=this;return(0,Y.Z)(function*(){const r=yield function _v(i,e,r,o){return jf.apply(this,arguments)}(e.localStore,new Fh(e.k),e.documents,e.mo.id),o=e.po(e.documents);for(const u of e.queries)yield vv(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",new kg(Object.assign({},e.progress),r)})()}}function tm(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class up{constructor(e){this.key=e}}class cp{constructor(e){this.key=e}}class lp{constructor(e,r){this.query=e,this.To=r,this.Eo=null,this.current=!1,this.Io=Pr(),this.mutatedKeys=Pr(),this.Ao=Qd(e),this.Ro=new Pl(this.Ao)}get bo(){return this.To}Po(e,r){const o=r?r.vo:new em,u=r?r.Ro:this.Ro;let f=r?r.mutatedKeys:this.mutatedKeys,v=u,T=!1;const U=fu(this.query)&&u.size===this.query.limit?u.last():null,W=Gu(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((re,Ie)=>{const Ze=u.get(re),ft=mu(this.query,Ie)?Ie:null,wt=!!Ze&&this.mutatedKeys.has(Ze.key),Kt=!!ft&&(ft.hasLocalMutations||this.mutatedKeys.has(ft.key)&&ft.hasCommittedMutations);let Cn=!1;Ze&&ft?Ze.data.isEqual(ft.data)?wt!==Kt&&(o.track({type:3,doc:ft}),Cn=!0):this.Vo(Ze,ft)||(o.track({type:2,doc:ft}),Cn=!0,(U&&this.Ao(ft,U)>0||W&&this.Ao(ft,W)<0)&&(T=!0)):!Ze&&ft?(o.track({type:0,doc:ft}),Cn=!0):Ze&&!ft&&(o.track({type:1,doc:Ze}),Cn=!0,(U||W)&&(T=!0)),Cn&&(ft?(v=v.add(ft),f=Kt?f.add(re):f.delete(re)):(v=v.delete(re),f=f.delete(re)))}),fu(this.query)||Gu(this.query))for(;v.size>this.query.limit;){const re=fu(this.query)?v.last():v.first();v=v.delete(re.key),f=f.delete(re.key),o.track({type:1,doc:re})}return{Ro:v,vo:o,Bn:T,mutatedKeys:f}}Vo(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o){const u=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const f=e.vo.no();f.sort((W,re)=>function(Ie,Ze){const ft=wt=>{switch(wt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return ft(Ie)-ft(Ze)}(W.type,re.type)||this.Ao(W.doc,re.doc)),this.So(o);const v=r?this.Do():[],T=0===this.Io.size&&this.current?1:0,U=T!==this.Eo;return this.Eo=T,0!==f.length||U?{snapshot:new Ol(this.query,e.Ro,u,f,e.mutatedKeys,0===T,U,!1),Co:v}:{Co:v}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new em,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(r=>this.To=this.To.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.To=this.To.delete(r)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=Pr(),this.Ro.forEach(o=>{this.No(o.key)&&(this.Io=this.Io.add(o.key))});const r=[];return e.forEach(o=>{this.Io.has(o)||r.push(new cp(o))}),this.Io.forEach(o=>{e.has(o)||r.push(new up(o))}),r}ko(e){this.To=e.zn,this.Io=Pr();const r=this.Po(e.documents);return this.applyChanges(r,!0)}xo(){return Ol.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class nm{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class rm{constructor(e){this.key=e,this.$o=!1}}class Nu{constructor(e,r,o,u,f,v){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=v,this.Oo={},this.Mo=new Il(T=>Ef(T),gu),this.Fo=new Map,this.Lo=new Set,this.Bo=new ss(Qt.comparator),this.Uo=new Map,this.qo=new Hf,this.Ko={},this.jo=new Map,this.Qo=Bc.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function Uh(i,e){return dp.apply(this,arguments)}function dp(){return dp=(0,Y.Z)(function*(i,e){const r=zh(i);let o,u;const f=r.Mo.get(e);if(f)o=f.targetId,r.sharedClientState.addLocalQueryTarget(o),u=f.view.xo();else{const v=yield ic(r.localStore,Po(e)),T=r.sharedClientState.addLocalQueryTarget(v.targetId);o=v.targetId,u=yield hp(r,e,o,"current"===T),r.isPrimaryClient&&Sl(r.remoteStore,v)}return u}),dp.apply(this,arguments)}function hp(i,e,r,o){return im.apply(this,arguments)}function im(){return im=(0,Y.Z)(function*(i,e,r,o){i.Go=(re,Ie,Ze)=>{return(ft=(0,Y.Z)(function*(wt,Kt,Cn,Si){let us=Kt.view.Po(Cn);us.Bn&&(us=yield Dh(wt.localStore,Kt.query,!1).then(({documents:Xi})=>Kt.view.Po(Xi,us)));const Io=Si&&Si.targetChanges.get(Kt.targetId),Vr=Kt.view.applyChanges(us,wt.isPrimaryClient,Io);return _p(wt,Kt.targetId,Vr.Co),Vr.snapshot}),function(wt,Kt,Cn,Si){return ft.apply(this,arguments)})(i,re,Ie,Ze);var ft};const u=yield Dh(i.localStore,e,!0),f=new lp(e,u.zn),v=f.Po(u.documents),T=bu.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==i.onlineState),U=f.applyChanges(v,i.isPrimaryClient,T);_p(i,r,U.Co);const W=new nm(e,r,f);return i.Mo.set(e,W),i.Fo.has(r)?i.Fo.get(r).push(e):i.Fo.set(r,[e]),U.snapshot}),im.apply(this,arguments)}function fp(i,e){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,Y.Z)(function*(i,e){const r=me(i),o=r.Mo.get(e),u=r.Fo.get(o.targetId);if(u.length>1)return r.Fo.set(o.targetId,u.filter(f=>!gu(f,e))),void r.Mo.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||(yield sc(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),Rl(r.remoteStore,o.targetId),Nl(r,o.targetId)}).catch(nc))):(Nl(r,o.targetId),yield sc(r.localStore,o.targetId,!0))}),Bh.apply(this,arguments)}function Wc(){return Wc=(0,Y.Z)(function*(i,e,r){const o=fm(i);try{const u=yield function(f,v){const T=me(f),U=Ni.now(),W=v.reduce((Ie,Ze)=>Ie.add(Ze.key),Pr());let re;return T.persistence.runTransaction("Locally write mutations","readwrite",Ie=>T.Wn.vn(Ie,W).next(Ze=>{re=Ze;const ft=[];for(const wt of v){const Kt=Rg(wt,re.get(wt.key));null!=Kt&&ft.push(new Ka(wt.key,Kt,Cs(Kt.value.mapValue),zi.exists(!0)))}return T.An.addMutationBatch(Ie,U,ft,v)})).then(Ie=>(Ie.applyToLocalDocumentSet(re),{batchId:Ie.batchId,changes:re}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(f,v,T){let U=f.Ko[f.currentUser.toKey()];U||(U=new ss(Kn)),U=U.insert(v,T),f.Ko[f.currentUser.toKey()]=U}(o,u.batchId,r),yield Lu(o,u.changes),yield Gc(o.remoteStore)}catch(u){const f=zc(u,"Failed to persist write");r.reject(f)}}),Wc.apply(this,arguments)}function sm(i,e){return Md.apply(this,arguments)}function Md(){return Md=(0,Y.Z)(function*(i,e){const r=me(i);try{const o=yield bh(r.localStore,e);e.targetChanges.forEach((u,f)=>{const v=r.Uo.get(f);v&&(Z(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?v.$o=!0:u.modifiedDocuments.size>0?Z(v.$o):u.removedDocuments.size>0&&(Z(v.$o),v.$o=!1))}),yield Lu(r,o,e)}catch(o){yield nc(o)}}),Md.apply(this,arguments)}function gp(i,e,r){const o=me(i);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const u=[];o.Mo.forEach((f,v)=>{const T=v.view.ro(e);T.snapshot&&u.push(T.snapshot)}),function(f,v){const T=me(f);T.onlineState=v;let U=!1;T.queries.forEach((W,re)=>{for(const Ie of re.listeners)Ie.ro(v)&&(U=!0)}),U&&Lh(T)}(o.eventManager,e),u.length&&o.Oo.br(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function om(i,e,r){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,Y.Z)(function*(i,e,r){const o=me(i);o.sharedClientState.updateQueryState(e,"rejected",r);const u=o.Uo.get(e),f=u&&u.key;if(f){let v=new ss(Qt.comparator);v=v.insert(f,Br.newNoDocument(f,In.min()));const T=Pr().add(f),U=new Sc(In.min(),new Map,new ci(Kn),v,T);yield sm(o,U),o.Bo=o.Bo.remove(f),o.Uo.delete(e),vp(o)}else yield sc(o.localStore,e,!1).then(()=>Nl(o,e,r)).catch(nc)}),Vh.apply(this,arguments)}function Uy(i,e){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,Y.Z)(function*(i,e){const r=me(i),o=e.batch.batchId;try{const u=yield Fg(r.localStore,e);yp(r,o,null),jh(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield Lu(r,u)}catch(u){yield nc(u)}}),Pd.apply(this,arguments)}function By(i,e,r){return mp.apply(this,arguments)}function mp(){return mp=(0,Y.Z)(function*(i,e,r){const o=me(i);try{const u=yield function(f,v){const T=me(f);return T.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let W;return T.An.lookupMutationBatch(U,v).next(re=>(Z(null!==re),W=re.keys(),T.An.removeMutationBatch(U,re))).next(()=>T.An.performConsistencyCheck(U)).next(()=>T.Wn.vn(U,W))})}(o.localStore,e);yp(o,e,r),jh(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield Lu(o,u)}catch(u){yield nc(u)}}),mp.apply(this,arguments)}function ac(){return ac=(0,Y.Z)(function*(i,e){const r=me(i);ku(r.remoteStore)||y("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(f){const v=me(f);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",T=>v.An.getHighestUnacknowledgedBatchId(T))}(r.localStore);if(-1===o)return void e.resolve();const u=r.jo.get(o)||[];u.push(e),r.jo.set(o,u)}catch(o){const u=zc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),ac.apply(this,arguments)}function jh(i,e){(i.jo.get(e)||[]).forEach(r=>{r.resolve()}),i.jo.delete(e)}function yp(i,e,r){const o=me(i);let u=o.Ko[o.currentUser.toKey()];if(u){const f=u.get(e);f&&(r?f.reject(r):f.resolve(),u=u.remove(e)),o.Ko[o.currentUser.toKey()]=u}}function Nl(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.Fo.get(e))i.Mo.delete(o),r&&i.Oo.zo(o,r);i.Fo.delete(e),i.isPrimaryClient&&i.qo.us(e).forEach(o=>{i.qo.containsKey(o)||qc(i,o)})}function qc(i,e){i.Lo.delete(e.path.canonicalString());const r=i.Bo.get(e);null!==r&&(Rl(i.remoteStore,r),i.Bo=i.Bo.remove(e),i.Uo.delete(r),vp(i))}function _p(i,e,r){for(const o of r)o instanceof up?(i.qo.addReference(o.key,e),Vy(i,o)):o instanceof cp?(y("SyncEngine","Document no longer in limbo: "+o.key),i.qo.removeReference(o.key,e),i.qo.containsKey(o.key)||qc(i,o.key)):F()}function Vy(i,e){const r=e.key,o=r.path.canonicalString();i.Bo.get(r)||i.Lo.has(o)||(y("SyncEngine","New document in limbo: "+r),i.Lo.add(o),vp(i))}function vp(i){for(;i.Lo.size>0&&i.Bo.size<i.maxConcurrentLimboResolutions;){const e=i.Lo.values().next().value;i.Lo.delete(e);const r=new Qt(qn.fromString(e)),o=i.Qo.next();i.Uo.set(o,new rm(r)),i.Bo=i.Bo.insert(r,o),Sl(i.remoteStore,new m(Po(_o(r.path)),o,2,Ti.I))}}function Lu(i,e,r){return Eo.apply(this,arguments)}function Eo(){return Eo=(0,Y.Z)(function*(i,e,r){const o=me(i),u=[],f=[],v=[];var T;o.Mo.isEmpty()||(o.Mo.forEach((T,U)=>{v.push(o.Go(U,e,r).then(W=>{if(W){o.isPrimaryClient&&o.sharedClientState.updateQueryState(U.targetId,W.fromCache?"not-current":"current"),u.push(W);const re=Ed.$n(U.targetId,W);f.push(re)}}))}),yield Promise.all(v),o.Oo.br(u),yield(T=(0,Y.Z)(function*(U,W){const re=me(U);try{yield re.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ie=>ht.forEach(W,Ze=>ht.forEach(Ze.kn,ft=>re.persistence.referenceDelegate.addReference(Ie,Ze.targetId,ft)).next(()=>ht.forEach(Ze.xn,ft=>re.persistence.referenceDelegate.removeReference(Ie,Ze.targetId,ft)))))}catch(Ie){if(!Su(Ie))throw Ie;y("LocalStore","Failed to update sequence numbers: "+Ie)}for(const Ie of W){const Ze=Ie.targetId;if(!Ie.fromCache){const ft=re.qn.get(Ze),Kt=ft.withLastLimboFreeSnapshotVersion(ft.snapshotVersion);re.qn=re.qn.insert(Ze,Kt)}}}),function(U,W){return T.apply(this,arguments)})(o.localStore,f))}),Eo.apply(this,arguments)}function wp(i,e){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,Y.Z)(function*(i,e){const r=me(i);if(!r.currentUser.isEqual(e)){y("SyncEngine","User change. New user:",e.toKey());const o=yield Ih(r.localStore,e);r.currentUser=e,(u=r).jo.forEach(v=>{v.forEach(T=>{T.reject(new ze(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.jo.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Lu(r,o.Gn)}var u}),Hh.apply(this,arguments)}function um(i,e){const r=me(i),o=r.Uo.get(e);if(o&&o.$o)return Pr().add(o.key);{let u=Pr();const f=r.Fo.get(e);if(!f)return u;for(const v of f){const T=r.Mo.get(v);u=u.unionWith(T.view.bo)}return u}}function cm(i,e){return $h.apply(this,arguments)}function $h(){return $h=(0,Y.Z)(function*(i,e){const r=me(i),o=yield Dh(r.localStore,e.query,!0),u=e.view.ko(o);return r.isPrimaryClient&&_p(r,e.targetId,u.Co),u}),$h.apply(this,arguments)}function jy(i){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,Y.Z)(function*(i){const e=me(i);return Vg(e.localStore).then(r=>Lu(e,r))}),Ep.apply(this,arguments)}function Hy(i,e,r,o){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,Y.Z)(function*(i,e,r,o){const u=me(i),f=yield function(v,T){const U=me(v),W=me(U.An);return U.persistence.runTransaction("Lookup mutation documents","readonly",re=>W.Zt(re,T).next(Ie=>Ie?U.Wn.vn(re,Ie):ht.resolve(null)))}(u.localStore,e);var T;null!==f?("pending"===r?yield Gc(u.remoteStore):"acknowledged"===r||"rejected"===r?(yp(u,e,o||null),jh(u,e),T=e,me(me(u.localStore).An).ee(T)):F(),yield Lu(u,f)):y("SyncEngine","Cannot apply mutation batch with id: "+e)}),Ip.apply(this,arguments)}function dm(){return dm=(0,Y.Z)(function*(i,e){const r=me(i);if(zh(r),fm(r),!0===e&&!0!==r.Wo){const o=r.sharedClientState.getAllActiveQueryTargets(),u=yield bp(r,o.toArray());r.Wo=!0,yield sa(r.remoteStore,!0);for(const f of u)Sl(r.remoteStore,f)}else if(!1===e&&!1!==r.Wo){const o=[];let u=Promise.resolve();r.Fo.forEach((f,v)=>{r.sharedClientState.isLocalQueryTarget(v)?o.push(v):u=u.then(()=>(Nl(r,v),sc(r.localStore,v,!0))),Rl(r.remoteStore,v)}),yield u,yield bp(r,o),function(f){const v=me(f);v.Uo.forEach((T,U)=>{Rl(v.remoteStore,U)}),v.qo.hs(),v.Uo=new Map,v.Bo=new ss(Qt.comparator)}(r),r.Wo=!1,yield sa(r.remoteStore,!1)}}),dm.apply(this,arguments)}function bp(i,e,r){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,Y.Z)(function*(i,e,r){const o=me(i),u=[],f=[];for(const v of e){let T;const U=o.Fo.get(v);if(U&&0!==U.length){T=yield ic(o.localStore,Po(U[0]));for(const W of U){const re=o.Mo.get(W),Ie=yield cm(o,re);Ie.snapshot&&f.push(Ie.snapshot)}}else{const W=yield Bg(o.localStore,v);T=yield ic(o.localStore,W),yield hp(o,hm(W),v,!1)}u.push(T)}return o.Oo.br(f),u}),Dp.apply(this,arguments)}function hm(i){return Mo(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Av(i){const e=me(i);return me(me(e.localStore).persistence).Tn()}function Sv(i,e,r,o){return Od.apply(this,arguments)}function Od(){return Od=(0,Y.Z)(function*(i,e,r,o){const u=me(i);if(u.Wo)y("SyncEngine","Ignoring unexpected query state notification.");else if(u.Fo.has(e))switch(r){case"current":case"not-current":{const f=yield Vg(u.localStore),v=Sc.createSynthesizedRemoteEventForCurrentChange(e,"current"===r);yield Lu(u,f,v);break}case"rejected":yield sc(u.localStore,e,!0),Nl(u,e,o);break;default:F()}}),Od.apply(this,arguments)}function $y(i,e,r){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,Y.Z)(function*(i,e,r){const o=zh(i);if(o.Wo){for(const u of e){if(o.Fo.has(u)){y("SyncEngine","Adding an already active target "+u);continue}const f=yield Bg(o.localStore,u),v=yield ic(o.localStore,f);yield hp(o,hm(f),v.targetId,!1),Sl(o.remoteStore,v)}for(const u of r)o.Fo.has(u)&&(yield sc(o.localStore,u,!1).then(()=>{Rl(o.remoteStore,u),Nl(o,u)}).catch(nc))}}),Gh.apply(this,arguments)}function zh(i){const e=me(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=sm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=um.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=om.bind(null,e),e.Oo.br=sp.bind(null,e.eventManager),e.Oo.zo=op.bind(null,e.eventManager),e}function fm(i){const e=me(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Uy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=By.bind(null,e),e}class Gy{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,Y.Z)(function*(){r.k=Td(e.databaseInfo.databaseId),r.sharedClientState=r.Jo(e),r.persistence=r.Yo(e),yield r.persistence.start(),r.gcScheduler=r.Xo(e),r.localStore=r.Zo(e)})()}Xo(e){return null}Zo(e){return Bf(this.persistence,new Ja,e.initialUser,this.k)}Yo(e){return new Dv(Hg.ks,this.k)}Jo(e){return new xh}terminate(){var e=this;return(0,Y.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class zy extends Gy{constructor(e,r,o){super(),this.tc=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,Y.Z)(function*(){yield r().call(o,e),yield function Ty(i){return Th.apply(this,arguments)}(o.localStore),yield o.tc.initialize(o,e),yield fm(o.tc.syncEngine),yield Gc(o.tc.remoteStore),yield o.persistence.sn(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Zo(e){return Bf(this.persistence,new Ja,e.initialUser,this.k)}Xo(e){return new vy(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const r=No(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Rs.withCacheSize(this.cacheSizeBytes):Rs.DEFAULT;return new Eh(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,zg(),Dd(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new xh}}class pm extends zy{constructor(e,r){super(e,r,!1),this.tc=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,Y.Z)(function*(){yield r().call(o,e);const u=o.tc.syncEngine;o.sharedClientState instanceof Rh&&(o.sharedClientState.syncEngine={mi:Hy.bind(null,u),gi:Sv.bind(null,u),yi:$y.bind(null,u),Tn:Av.bind(null,u),_i:jy.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.sn(function(){var f=(0,Y.Z)(function*(v){yield function lm(i,e){return dm.apply(this,arguments)}(o.tc.syncEngine,v),o.gcScheduler&&(v&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):v||o.gcScheduler.stop())});return function(v){return f.apply(this,arguments)}}())})()}Jo(e){const r=zg();if(!Rh.Pt(r))throw new ze(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=No(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Rh(r,e.asyncQueue,o,e.clientId,e.initialUser)}}class Wh{initialize(e,r){var o=this;return(0,Y.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>gp(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=wp.bind(null,o.syncEngine),yield sa(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ly}createDatastore(e){const r=Td(e.databaseInfo.databaseId),o=new $f(e.databaseInfo);return new Cl(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return r=this.localStore,o=this.datastore,u=e.asyncQueue,f=T=>gp(this.syncEngine,T,0),v=Ou.Pt()?new Ou:new Sy,new Al(r,o,u,f,v);var r,o,u,f,v}createSyncEngine(e,r){return function(o,u,f,v,T,U,W){const re=new Nu(o,u,f,v,T,U);return W&&(re.Wo=!0),re}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return(e=(0,Y.Z)(function*(r){const o=me(r);y("RemoteStore","RemoteStore shutting down."),o.Gr.add(5),yield $c(o),o.Hr.shutdown(),o.Jr.set("Unknown")}),function(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function Tp(i,e=10240){let r=0;return{read:()=>(0,Y.Z)(function*(){if(r<i.byteLength){const o={value:i.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,Y.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class qh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class Rv{constructor(e,r){this.sc=e,this.k=r,this.metadata=new Lt,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(o=>{o&&o._o()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,Y.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,Y.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,Y.Z)(function*(){const r=yield e.oc();if(null===r)return null;const o=e.ic.decode(r),u=Number(o);isNaN(u)&&e.cc(`length string (${o}) is not valid number`);const f=yield e.ac(u);return new Fy(JSON.parse(f),r.length+u)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,Y.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const r=e.uc();r<0&&e.cc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}ac(e){var r=this;return(0,Y.Z)(function*(){for(;r.buffer.length<e;)(yield r.hc())&&r.cc("Reached the end of bundle when more is expected.");const o=r.ic.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,Y.Z)(function*(){const r=yield e.sc.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class gm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,Y.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new ze(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,Y.Z)(function*(f,v){const T=me(f),U=Du(T.k)+"/documents",W={documents:v.map(ft=>Zu(T.k,ft))},re=yield T.ji("BatchGetDocuments",U,W),Ie=new Map;re.forEach(ft=>{const wt=function Sf(i,e){return"found"in e?function(r,o){Z(!!o.found);const u=Oo(r,o.found.name),f=Ci(o.found.updateTime),v=new ps({mapValue:{fields:o.found.fields}});return Br.newFoundDocument(u,f,v)}(i,e):"missing"in e?function(r,o){Z(!!o.missing),Z(!!o.readTime);const u=Oo(r,o.missing),f=Ci(o.readTime);return Br.newNoDocument(u,f)}(i,e):F()}(T.k,ft);Ie.set(wt.key.toString(),wt)});const Ze=[];return v.forEach(ft=>{const wt=Ie.get(ft.toString());Z(!!wt),Ze.push(wt)}),Ze}),function(f,v){return u.apply(this,arguments)})(r.datastore,e);var u;return o.forEach(u=>r.recordVersion(u)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new ea(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Y.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,u)=>{const f=Qt.fromPath(u);e.mutations.push(new cl(f,e.precondition(f)))}),yield(o=(0,Y.Z)(function*(u,f){const v=me(u),T=Du(v.k)+"/documents",U={writes:f.map(W=>Tu(v.k,W))};yield v.Bi("Commit",T,U)}),function(u,f){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw F();r=In.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new ze(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?zi.updateTime(r):zi.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(In.min()))throw new ze(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zi.updateTime(r)}return zi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class mm{constructor(e,r,o,u){this.asyncQueue=e,this.datastore=r,this.updateFunction=o,this.deferred=u,this.lc=5,this.ur=new Gf(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,Y.Z)(function*(){const r=new gm(e.datastore),o=e.dc(r);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(f=>{e.wc(f)}))}).catch(u=>{e.wc(u)})}))}dc(e){try{const r=this.updateFunction(e);return!ma(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||!ud(r)}return!1}}class Wy{constructor(e,r,o,u){var f=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=u,this.user=si.UNAUTHENTICATED,this.clientId=Ba.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var v=(0,Y.Z)(function*(T){y("FirestoreClient","Received user=",T.uid),yield f.authCredentialListener(T),f.user=T});return function(T){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(o,v=>(y("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,Y.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ze(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Lt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Y.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const u=zc(o,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function Zh(i,e){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,Y.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),y("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield e.initialize(r);let o=r.initialUser;i.setCredentialChangeListener(function(){var u=(0,Y.Z)(function*(f){o.isEqual(f)||(yield Ih(e.localStore,f),o=f)});return function(f){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Cp.apply(this,arguments)}function ym(i,e){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,Y.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const r=yield Sp(i);y("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(r,o),i.setCredentialChangeListener(u=>ep(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,f)=>ep(e.remoteStore,f)),i.onlineComponents=e}),Ap.apply(this,arguments)}function Sp(i){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,Y.Z)(function*(i){return i.offlineComponents||(y("FirestoreClient","Using default OfflineComponentProvider"),yield Zh(i,new Gy)),i.offlineComponents}),Rp.apply(this,arguments)}function Kh(i){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,Y.Z)(function*(i){return i.onlineComponents||(y("FirestoreClient","Using default OnlineComponentProvider"),yield ym(i,new Wh)),i.onlineComponents}),Ll.apply(this,arguments)}function Zc(i){return Sp(i).then(e=>e.persistence)}function xp(i){return Sp(i).then(e=>e.localStore)}function Fl(i){return Kh(i).then(e=>e.remoteStore)}function Mp(i){return Kh(i).then(e=>e.syncEngine)}function Ul(i){return kd.apply(this,arguments)}function kd(){return kd=(0,Y.Z)(function*(i){const e=yield Kh(i),r=e.eventManager;return r.onListen=Uh.bind(null,e.syncEngine),r.onUnlisten=fp.bind(null,e.syncEngine),r}),kd.apply(this,arguments)}function uc(i,e,r={}){const o=new Lt;return i.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function(u,f,v,T,U){const W=new qh({next:Ie=>{f.enqueueAndForget(()=>xd(u,re));const Ze=Ie.docs.has(v);!Ze&&Ie.fromCache?U.reject(new ze(he.UNAVAILABLE,"Failed to get document because the client is offline.")):Ze&&Ie.fromCache&&T&&"server"===T.source?U.reject(new ze(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(Ie)},error:Ie=>U.reject(Ie)}),re=new ap(_o(v.path),W,{includeMetadataChanges:!0,wo:!0});return rp(u,re)}(yield Ul(i),i.asyncQueue,e,r,o)})),o.promise}function Fo(i,e,r={}){const o=new Lt;return i.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function(u,f,v,T,U){const W=new qh({next:Ie=>{f.enqueueAndForget(()=>xd(u,re)),Ie.fromCache&&"server"===T.source?U.reject(new ze(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(Ie)},error:Ie=>U.reject(Ie)}),re=new ap(v,W,{includeMetadataChanges:!0,wo:!0});return rp(u,re)}(yield Ul(i),i.asyncQueue,e,r,o)})),o.promise}class Hl{constructor(e,r,o,u,f,v,T,U){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=u,this.ssl=f,this.forceLongPolling=v,this.autoDetectLongPolling=T,this.useFetchStreams=U}}class Da{constructor(e,r){this.projectId=e,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Da&&e.projectId===this.projectId&&e.database===this.database}}const Kc=new Map;function cc(i,e,r){if(!r)throw new ze(he.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Yc(i,e,r,o){if(!0===e&&!0===o)throw new ze(he.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function Qc(i){if(!Qt.isDocumentKey(i))throw new ze(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Op(i){if(Qt.isDocumentKey(i))throw new ze(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ld(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(r=i).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof i?"a function":F()}function dr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ze(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ld(i);throw new ze(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function kp(i,e){if(e<=0)throw new ze(he.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Np{constructor(e){var r;if(void 0===e.host){if(void 0!==e.ssl)throw new ze(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ze(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Yc("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $l{constructor(e,r,o){this._authCredentials=r,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Np({}),this._settingsFrozen=!1,e instanceof Da?this._databaseId=e:(this._app=e,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ze(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Da(u.options.projectId)}(e))}get app(){if(!this._app)throw new ze(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ze(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Np(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Xn;switch(r.type){case"gapi":const o=r.client;return Z(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Ki(o,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new ze(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=Kc.get(e);r&&(y("ComponentProvider","Removing Datastore"),Kc.delete(e),r.terminate())}(this),Promise.resolve()}}class li{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new li(this.firestore,e,this._key)}}class $s{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new $s(this.firestore,e,this._query)}}class eu extends $s{constructor(e,r,o){super(e,r,_o(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new li(this.firestore,null,new Qt(e))}withConverter(e){return new eu(this.firestore,e,this._path)}}function Lp(i,e,...r){if(i=(0,rt.m9)(i),cc("collection","path",e),i instanceof $l){const o=qn.fromString(e,...r);return Op(o),new eu(i,null,o)}{if(!(i instanceof li||i instanceof eu))throw new ze(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(qn.fromString(e,...r));return Op(o),new eu(i.firestore,null,o)}}function Fd(i,e,...r){if(i=(0,rt.m9)(i),1===arguments.length&&(e=Ba.A()),cc("doc","path",e),i instanceof $l){const o=qn.fromString(e,...r);return Qc(o),new li(i,null,new Qt(o))}{if(!(i instanceof li||i instanceof eu))throw new ze(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(qn.fromString(e,...r));return Qc(o),new li(i.firestore,i instanceof eu?i.converter:null,new Qt(o))}}function Fp(i,e){return i=(0,rt.m9)(i),e=(0,rt.m9)(e),(i instanceof li||i instanceof eu)&&(e instanceof li||e instanceof eu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function vm(i,e){return i=(0,rt.m9)(i),e=(0,rt.m9)(e),i instanceof $s&&e instanceof $s&&i.firestore===e.firestore&&gu(i._query,e._query)&&i.converter===e.converter}class Zy{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new Gf(this,"async_queue_retry"),this.bc=()=>{const r=Dd();r&&y("AsyncQueue","Visibility state changed to "+r.visibilityState),this.ur.er()};const e=Dd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const r=Dd();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const r=new Lt;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,Y.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(r){if(!Su(r))throw r;y("AsyncQueue","Operation failed with retryable error: "+r)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const r=this.mc.then(()=>(this.Ic=!0,e().catch(o=>{throw this.Ec=o,this.Ic=!1,_("INTERNAL UNHANDLED ERROR: ",function(f){let v=f.message||"";return f.stack&&(v=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),v}(o)),o}).then(o=>(this.Ic=!1,o))));return this.mc=r,r}enqueueAfterDelay(e,r,o){this.Pc(),this.Rc.indexOf(e)>-1&&(r=0);const u=Xg.createAndSchedule(this,e,r,o,f=>this.Sc(f));return this.Tc.push(u),u}Pc(){this.Ec&&F()}verifyOperationInProgress(){}Dc(){var e=this;return(0,Y.Z)(function*(){let r;do{r=e.mc,yield r}while(r!==e.mc)})()}Cc(e){for(const r of this.Tc)if(r.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Tc)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const r=this.Tc.indexOf(e);this.Tc.splice(r,1)}}function Qh(i){return function(e,r){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Ky{constructor(){this._progressObserver={},this._taskCompletionResolver=new Lt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ai extends $l{constructor(e,r,o){super(e,r,o),this.type="firestore",this._queue=new Zy,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Jh(this),this._firestoreClient.terminate()}}function as(i){return i._firestoreClient||Jh(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Jh(i){var e;const r=i._freezeSettings(),o=(f=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Hl(i._databaseId,f,i._persistenceKey,(T=r).host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,T.useFetchStreams));var f,T;i._firestoreClient=new Wy(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Qy(i,e,r){const o=new Lt;return i.asyncQueue.enqueue((0,Y.Z)(function*(){try{yield Zh(i,r),yield ym(i,e),o.resolve()}catch(u){if(!("FirebaseError"===(f=u).name?f.code===he.FAILED_PRECONDITION||f.code===he.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&f instanceof DOMException)||22===f.code||20===f.code||11===f.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}var f})).then(()=>o.promise)}function Im(i){if(i._initialized||i._terminated)throw new ze(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class tu{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new ze(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ta(Gi.fromBase64String(e))}catch(r){throw new ze(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ta(Gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class nu{constructor(e){this._methodName=e}}class Xh{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ze(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ze(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kn(this._lat,e._lat)||Kn(this._long,e._long)}}const bm=/^__.*__$/;class e_{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new Ka(e,this.data,this.fieldMask,r,this.fieldTransforms):new Cc(e,this.data,r,this.fieldTransforms)}}class Dm{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new Ka(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Tm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class ef{constructor(e,r,o,u,f,v){this.settings=e,this.databaseId=r,this.k=o,this.ignoreUndefinedProperties=u,void 0===f&&this.xc(),this.fieldTransforms=f||[],this.fieldMask=v||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new ef(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Oc({path:o,Fc:!1});return u.Lc(e),u}Bc(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Oc({path:o,Fc:!1});return u.xc(),u}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return rf(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(Tm(this.$c)&&bm.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class t_{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.k=o||Td(e)}Qc(e,r,o,u=!1){return new ef({$c:e,methodName:r,jc:o,path:er.emptyPath(),Fc:!1,Kc:u},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function lc(i){const e=i._freezeSettings(),r=Td(i._databaseId);return new t_(i._databaseId,!!e.ignoreUndefinedProperties,r)}function tf(i,e,r,o,u,f={}){const v=i.Qc(f.merge||f.mergeFields?2:0,e,r,u);Bd("Data must be an object, but it was:",v,o);const T=nf(o,v);let U,W;if(f.merge)U=new fa(v.fieldMask),W=v.fieldTransforms;else if(f.mergeFields){const re=[];for(const Ie of f.mergeFields){const Ze=Vd(e,Ie,r);if(!v.contains(Ze))throw new ze(he.INVALID_ARGUMENT,`Field '${Ze}' is specified in your field mask but missing from your input data.`);$p(re,Ze)||re.push(Ze)}U=new fa(re),W=v.fieldTransforms.filter(Ie=>U.covers(Ie.field))}else U=null,W=v.fieldTransforms;return new e_(new ps(T),U,W)}class zl extends nu{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zl}}function Bp(i,e,r){return new ef({$c:3,jc:e.settings.jc,methodName:i._methodName,Fc:r},e.databaseId,e.k,e.ignoreUndefinedProperties)}class Ud extends nu{_toFieldTransform(e){return new Dc(e.path,new vu)}isEqual(e){return e instanceof Ud}}class kv extends nu{constructor(e,r){super(e),this.Wc=r}_toFieldTransform(e){const r=Bp(this,e,!0),o=this.Wc.map(f=>Fu(f,r)),u=new va(o);return new Dc(e.path,u)}isEqual(e){return this===e}}class Vp extends nu{constructor(e,r){super(e),this.Wc=r}_toFieldTransform(e){const r=Bp(this,e,!0),o=this.Wc.map(f=>Fu(f,r)),u=new wa(o);return new Dc(e.path,u)}isEqual(e){return this===e}}class n_ extends nu{constructor(e,r){super(e),this.Gc=r}_toFieldTransform(e){const r=new wu(e.k,sl(e.k,this.Gc));return new Dc(e.path,r)}isEqual(e){return this===e}}function Cm(i,e,r,o){const u=i.Qc(1,e,r);Bd("Data must be an object, but it was:",u,o);const f=[],v=ps.empty();ha(o,(U,W)=>{const re=Hp(e,U,r);W=(0,rt.m9)(W);const Ie=u.Bc(re);if(W instanceof zl)f.push(re);else{const Ze=Fu(W,Ie);null!=Ze&&(f.push(re),v.set(re,Ze))}});const T=new fa(f);return new Dm(v,T,u.fieldTransforms)}function Jc(i,e,r,o,u,f){const v=i.Qc(1,e,r),T=[Vd(e,o,r)],U=[u];if(f.length%2!=0)throw new ze(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ze=0;Ze<f.length;Ze+=2)T.push(Vd(e,f[Ze])),U.push(f[Ze+1]);const W=[],re=ps.empty();for(let Ze=T.length-1;Ze>=0;--Ze)if(!$p(W,T[Ze])){const ft=T[Ze];let wt=U[Ze];wt=(0,rt.m9)(wt);const Kt=v.Bc(ft);if(wt instanceof zl)W.push(ft);else{const Cn=Fu(wt,Kt);null!=Cn&&(W.push(ft),re.set(ft,Cn))}}const Ie=new fa(W);return new Dm(re,Ie,v.fieldTransforms)}function jp(i,e,r,o=!1){return Fu(r,i.Qc(o?4:3,e))}function Fu(i,e){if(Am(i=(0,rt.m9)(i)))return Bd("Unsupported field value:",e,i),nf(i,e);if(i instanceof nu)return function(r,o){if(!Tm(o.$c))throw o.qc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(r,o){const u=[];let f=0;for(const v of r){let T=Fu(v,o.Uc(f));null==T&&(T={nullValue:"NULL_VALUE"}),u.push(T),f++}return{arrayValue:{values:u}}}(i,e)}return function(r,o){if(null===(r=(0,rt.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return sl(o.k,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const u=Ni.fromDate(r);return{timestampValue:xc(o.k,u)}}if(r instanceof Ni){const u=new Ni(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xc(o.k,u)}}if(r instanceof Xh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ta)return{bytesValue:Af(o.k,r._byteString)};if(r instanceof li){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.qc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gs(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.qc(`Unsupported field value: ${Ld(r)}`)}(i,e)}function nf(i,e){const r={};return Kd(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(i,(o,u)=>{const f=Fu(u,e.Mc(o));null!=f&&(r[o]=f)}),{mapValue:{fields:r}}}function Am(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Ni||i instanceof Xh||i instanceof Ta||i instanceof li||i instanceof nu)}function Bd(i,e,r){if(!Am(r)||"object"!=typeof(o=r)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Ld(r);throw e.qc("an object"===o?i+" a custom object":i+" "+o)}var o}function Vd(i,e,r){if((e=(0,rt.m9)(e))instanceof tu)return e._internalPath;if("string"==typeof e)return Hp(i,e);throw rf("Field path arguments must be of type string or ",i,!1,void 0,r)}const Sm=new RegExp("[~\\*/\\[\\]]");function Hp(i,e,r){if(e.search(Sm)>=0)throw rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new tu(...e.split("."))._internalPath}catch(o){throw rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function rf(i,e,r,o,u){const f=o&&!o.isEmpty(),v=void 0!==u;let T=`Function ${e}() called with invalid data`;r&&(T+=" (via `toFirestore()`)"),T+=". ";let U="";return(f||v)&&(U+=" (found",f&&(U+=` in field ${o}`),v&&(U+=` in document ${u}`),U+=")"),new ze(he.INVALID_ARGUMENT,T+i+U)}function $p(i,e){return i.some(r=>r.isEqual(e))}class Wl{constructor(e,r,o,u,f){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new li(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new r_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(jd("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class r_ extends Wl{data(){return super.data()}}function jd(i,e){return"string"==typeof e?Hp(i,e):e instanceof tu?e._internalPath:e._delegate._internalPath}class Uu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ru extends Wl{constructor(e,r,o,u,f,v){super(e,r,o,u,v),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new ql(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(jd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class ql extends ru{data(e={}){return super.data(e)}}class iu{constructor(e,r,o,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new Uu(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new ql(this._firestore,this._userDataWriter,o.key,o,new Uu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ze(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(v=>({type:"added",doc:new ql(o._firestore,o._userDataWriter,v.doc.key,v.doc,new Uu(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:f++}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(v=>u||3!==v.type).map(v=>{const T=new ql(o._firestore,o._userDataWriter,v.doc.key,v.doc,new Uu(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter);let U=-1,W=-1;return 0!==v.type&&(U=f.indexOf(v.doc.key),f=f.delete(v.doc.key)),1!==v.type&&(f=f.add(v.doc),W=f.indexOf(v.doc.key)),{type:Rm(v.type),doc:T,oldIndex:U,newIndex:W}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Rm(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}function xm(i,e){return i instanceof ru&&e instanceof ru?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof iu&&e instanceof iu&&i._firestore===e._firestore&&vm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Gp(i){if(Gu(i)&&0===i.explicitOrderBy.length)throw new ze(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zl{}function su(i,...e){for(const r of e)i=r._apply(i);return i}class Mm extends Zl{constructor(e,r,o){super(),this.zc=e,this.Hc=r,this.Jc=o,this.type="where"}_apply(e){const r=lc(e.firestore),o=function(u,f,v,T,U,W,re){let Ie;if(U.isKeyField()){if("array-contains"===W||"array-contains-any"===W)throw new ze(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${W}' queries on documentId().`);if("in"===W||"not-in"===W){Fm(re,W);const ft=[];for(const wt of re)ft.push(a_(T,u,wt));Ie={arrayValue:{values:ft}}}else Ie=a_(T,u,re)}else"in"!==W&&"not-in"!==W&&"array-contains-any"!==W||Fm(re,W),Ie=jp(v,"where",re,"in"===W||"not-in"===W);const Ze=S.create(U,W,Ie);return function(ft,wt){if(wt.V()){const Cn=Wa(ft);if(null!==Cn&&!Cn.isEqual(wt.field))throw new ze(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Cn.toString()}' and '${wt.field.toString()}'`);const Si=Ic(ft);null!==Si&&Um(0,wt.field,Si)}const Kt=function(Cn,Si){for(const us of Cn.filters)if(Si.indexOf(us.op)>=0)return us.op;return null}(ft,function(Cn){switch(Cn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(wt.op));if(null!==Kt)throw new ze(he.INVALID_ARGUMENT,Kt===wt.op?`Invalid query. You cannot use more than one '${wt.op.toString()}' filter.`:`Invalid query. You cannot use '${wt.op.toString()}' filters with '${Kt.toString()}' filters.`)}(u,Ze),Ze}(e._query,0,r,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new $s(e.firestore,e.converter,function(u,f){const v=u.filters.concat([f]);return new Fi(u.path,u.collectionGroup,u.explicitOrderBy.slice(),v,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}class s_ extends Zl{constructor(e,r){super(),this.zc=e,this.Yc=r,this.type="orderBy"}_apply(e){const r=function(o,u,f){if(null!==o.startAt)throw new ze(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new ze(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new Mr(u,f);return function(T,U){if(null===Ic(T)){const W=Wa(T);null!==W&&Um(0,W,U.field)}}(o,v),v}(e._query,this.zc,this.Yc);return new $s(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Fi(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class zp extends Zl{constructor(e,r,o){super(),this.type=e,this.Xc=r,this.Zc=o}_apply(e){return new $s(e.firestore,e.converter,id(e._query,this.Xc,this.Zc))}}class qp extends Zl{constructor(e,r,o){super(),this.type=e,this.ta=r,this.ea=o}_apply(e){const r=Kp(e,this.type,this.ta,this.ea);return new $s(e.firestore,e.converter,(u=r,new Fi((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class Zp extends Zl{constructor(e,r,o){super(),this.type=e,this.ta=r,this.ea=o}_apply(e){const r=Kp(e,this.type,this.ta,this.ea);return new $s(e.firestore,e.converter,(u=r,new Fi((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function Kp(i,e,r,o){if(r[0]=(0,rt.m9)(r[0]),r[0]instanceof Wl)return function(u,f,v,T,U){if(!T)throw new ze(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const W=[];for(const re of pu(u))if(re.field.isKeyField())W.push(lu(f,T.key));else{const Ie=T.data.field(re.field);if(ga(Ie))throw new ze(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+re.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ie){const Ze=re.field.canonicalString();throw new ze(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ze}' (used as the orderBy) does not exist.`)}W.push(Ie)}return new Yi(W,U)}(i._query,i.firestore._databaseId,e,r[0]._document,o);{const u=lc(i.firestore);return function(f,v,T,U,W,re){const Ie=f.explicitOrderBy;if(W.length>Ie.length)throw new ze(he.INVALID_ARGUMENT,`Too many arguments provided to ${U}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ze=[];for(let ft=0;ft<W.length;ft++){const wt=W[ft];if(Ie[ft].field.isKeyField()){if("string"!=typeof wt)throw new ze(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${U}(), but got a ${typeof wt}`);if(!qa(f)&&-1!==wt.indexOf("/"))throw new ze(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${U}() must be a plain document ID, but '${wt}' contains a slash.`);const Kt=f.path.child(qn.fromString(wt));if(!Qt.isDocumentKey(Kt))throw new ze(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${U}() must result in a valid document path, but '${Kt}' is not because it contains an odd number of segments.`);const Cn=new Qt(Kt);Ze.push(lu(v,Cn))}else{const Kt=jp(T,U,wt);Ze.push(Kt)}}return new Yi(Ze,re)}(i._query,i.firestore._databaseId,u,e,r,o)}}function a_(i,e,r){if("string"==typeof(r=(0,rt.m9)(r))){if(""===r)throw new ze(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qa(e)&&-1!==r.indexOf("/"))throw new ze(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(qn.fromString(r));if(!Qt.isDocumentKey(o))throw new ze(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return lu(i,new Qt(o))}if(r instanceof li)return lu(i,r._key);throw new ze(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ld(r)}.`)}function Fm(i,e){if(!Array.isArray(i)||0===i.length)throw new ze(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new ze(he.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Um(i,e,r){if(!r.isEqual(e))throw new ze(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class sf{convertValue(e,r="none"){switch(yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw F()}}convertObject(e,r){const o={};return ha(e.fields,(u,f)=>{o[u]=this.convertValue(f,r)}),o}convertGeoPoint(e){return new Xh(wr(e.latitude),wr(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=Qo(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(ja(e));default:return null}}convertTimestamp(e){const r=Li(e);return new Ni(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=qn.fromString(e);Z(ml(o));const u=new Da(o.get(1),o.get(3)),f=new Qt(o.popFirst(5));return u.isEqual(r)||_(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}function af(i,e,r){let o;return o=i?r&&(r.merge||r.mergeFields)?i.toFirestore(e,r):i.toFirestore(e):e,o}class ms extends sf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ta(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new li(this.firestore,null,r)}}class Yp{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=lc(e)}set(e,r,o){this._verifyNotCommitted();const u=dc(e,this._firestore),f=af(u.converter,r,o),v=tf(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,o);return this._mutations.push(v.toMutation(u._key,zi.none())),this}update(e,r,o,...u){this._verifyNotCommitted();const f=dc(e,this._firestore);let v;return v="string"==typeof(r=(0,rt.m9)(r))||r instanceof tu?Jc(this._dataReader,"WriteBatch.update",f._key,r,o,u):Cm(this._dataReader,"WriteBatch.update",f._key,r),this._mutations.push(v.toMutation(f._key,zi.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=dc(e,this._firestore);return this._mutations=this._mutations.concat(new ea(r._key,zi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ze(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function dc(i,e){if((i=(0,rt.m9)(i)).firestore!==e)throw new ze(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class hc extends sf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ta(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new li(this.firestore,null,r)}}function jm(i,e,r){i=dr(i,li);const o=dr(i.firestore,Ai),u=af(i.converter,e,r);return Xc(o,[tf(lc(o),"setDoc",i._key,u,null!==i.converter,r).toMutation(i._key,zi.none())])}function Qp(i,e,r,...o){i=dr(i,li);const u=dr(i.firestore,Ai),f=lc(u);let v;return v="string"==typeof(e=(0,rt.m9)(e))||e instanceof tu?Jc(f,"updateDoc",i._key,e,r,o):Cm(f,"updateDoc",i._key,e),Xc(u,[v.toMutation(i._key,zi.exists(!0))])}function h_(i,...e){var r,o,u;i=(0,rt.m9)(i);let f={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||Qh(e[v])||(f=e[v],v++);const T={includeMetadataChanges:f.includeMetadataChanges};if(Qh(e[v])){const Ie=e[v];e[v]=null===(r=Ie.next)||void 0===r?void 0:r.bind(Ie),e[v+1]=null===(o=Ie.error)||void 0===o?void 0:o.bind(Ie),e[v+2]=null===(u=Ie.complete)||void 0===u?void 0:u.bind(Ie)}let U,W,re;if(i instanceof li)W=dr(i.firestore,Ai),re=_o(i._key.path),U={next:Ie=>{e[v]&&e[v](oa(W,i,Ie))},error:e[v+1],complete:e[v+2]};else{const Ie=dr(i,$s);W=dr(Ie.firestore,Ai),re=Ie._query;const Ze=new hc(W);U={next:ft=>{e[v]&&e[v](new iu(W,Ze,Ie,ft))},error:e[v+1],complete:e[v+2]},Gp(i._query)}return function(Ie,Ze,ft,wt){const Kt=new qh(wt),Cn=new ap(Ze,Kt,ft);return Ie.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return rp(yield Ul(Ie),Cn)})),()=>{Kt.nc(),Ie.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return xd(yield Ul(Ie),Cn)}))}}(as(W),re,T,U)}function Xc(i,e){return function(r,o){const u=new Lt;return r.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function pp(i,e,r){return Wc.apply(this,arguments)}(yield Mp(r),o,u)})),u.promise}(as(i),e)}function oa(i,e,r){const o=r.docs.get(e._key),u=new hc(i);return new ru(i,u,e._key,o,new Uu(r.hasPendingWrites,r.fromCache),e.converter)}class f_ extends class{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=lc(e)}get(e){const r=dc(e,this._firestore),o=new ms(this._firestore);return this._transaction.lookup([r._key]).then(u=>{if(!u||1!==u.length)return F();const f=u[0];if(f.isFoundDocument())return new Wl(this._firestore,o,f.key,f,r.converter);if(f.isNoDocument())return new Wl(this._firestore,o,r._key,null,r.converter);throw F()})}set(e,r,o){const u=dc(e,this._firestore),f=af(u.converter,r,o),v=tf(this._dataReader,"Transaction.set",u._key,f,null!==u.converter,o);return this._transaction.set(u._key,v),this}update(e,r,o,...u){const f=dc(e,this._firestore);let v;return v="string"==typeof(r=(0,rt.m9)(r))||r instanceof tu?Jc(this._dataReader,"Transaction.update",f._key,r,o,u):Cm(this._dataReader,"Transaction.update",f._key,r),this._transaction.update(f._key,v),this}delete(e){const r=dc(e,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=dc(e,this._firestore),o=new hc(this._firestore);return super.get(e).then(u=>new ru(this._firestore,o,r._key,u._document,new Uu(!1,!1),r.converter))}}function eg(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ze("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function tg(){if("undefined"==typeof Uint8Array)throw new ze("unimplemented","Uint8Arrays are not available in this environment.")}function qm(){if(!function mo(){return"undefined"!=typeof atob}())throw new ze("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){ro=st.SDK_VERSION,(0,st._registerComponent)(new et.wA("firestore",(r,{options:o})=>{const u=r.getProvider("app").getImmediate(),f=new Ai(u,new hs(r.getProvider("auth-internal")),new $i(r.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),f._setSettings(o),f},"PUBLIC")),(0,st.registerVersion)($u,"3.4.4",i),(0,st.registerVersion)($u,"3.4.4","esm2017")}();class Yl{constructor(e){this._delegate=e}static fromBase64String(e){return qm(),new Yl(Ta.fromBase64String(e))}static fromUint8Array(e){return tg(),new Yl(Ta.fromUint8Array(e))}toBase64(){return qm(),this._delegate.toBase64()}toUint8Array(){return tg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function uf(i){return function cf(i,e){if("object"!=typeof i||null===i)return!1;const r=i;for(const o of e)if(o in r&&"function"==typeof r[o])return!0;return!1}(i,["next","error","complete"])}class g_{enableIndexedDbPersistence(e,r){return function Up(i,e){Im(i=dr(i,Ai));const r=as(i),o=i._freezeSettings(),u=new Wh;return Qy(r,u,new zy(u,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function Yy(i){Im(i=dr(i,Ai));const e=as(i),r=i._freezeSettings(),o=new Wh;return Qy(e,o,new pm(o,r.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Mv(i){if(i._initialized&&!i._terminated)throw new ze(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Lt;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Y.Z)(function*(){try{yield(r=(0,Y.Z)(function*(o){if(!Wi.Pt())return Promise.resolve();const u=o+"main";yield Wi.delete(u)}),function(o){return r.apply(this,arguments)})(No(i._databaseId,i._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class ng{constructor(e,r,o){this._delegate=r,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Da||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&C("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,o={}){!function _m(i,e,r,o={}){var u;const f=(i=dr(i,$l))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==e&&C("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},f),{host:`${e}:${r}`,ssl:!1})),o.mockUserToken){let v,T;if("string"==typeof o.mockUserToken)v=o.mockUserToken,T=si.MOCK_USER;else{v=(0,rt.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const U=o.mockUserToken.sub||o.mockUserToken.user_id;if(!U)throw new ze(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new si(U)}i._authCredentials=new Wr(new Wn(v,T))}}(this._delegate,e,r,o)}enableNetwork(){return function Jy(i){return function Xa(i){return i.asyncQueue.enqueue((0,Y.Z)(function*(){const e=yield Zc(i),r=yield Fl(i);return e.setNetworkEnabled(!0),function(o){const u=me(o);return u.Gr.delete(0),Ad(u)}(r)}))}(as(i=dr(i,Ai)))}(this._delegate)}disableNetwork(){return function Em(i){return function Nd(i){return i.asyncQueue.enqueue((0,Y.Z)(function*(){const e=yield Zc(i),r=yield Fl(i);return e.setNetworkEnabled(!1),(o=(0,Y.Z)(function*(u){const f=me(u);f.Gr.add(0),yield $c(f),f.Jr.set("Offline")}),function(u){return o.apply(this,arguments)})(r);var o}))}(as(i=dr(i,Ai)))}(this._delegate)}enablePersistence(e){let r=!1,o=!1;return e&&(r=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Yc("synchronizeTabs",r,"experimentalForceOwningTab",o)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Pv(i){return function(e){const r=new Lt;return e.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function am(i,e){return ac.apply(this,arguments)}(yield Mp(e),r)})),r.promise}(as(i=dr(i,Ai)))}(this._delegate)}onSnapshotsInSync(e){return function $m(i,e){return function Pp(i,e){const r=new qh(e);return i.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return o=yield Ul(i),u=r,me(o).io.add(u),void u.next();var o,u})),()=>{r.nc(),i.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return o=yield Ul(i),u=r,void me(o).io.delete(u);var o,u}))}}(as(i=dr(i,Ai)),Qh(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ze("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Xl(this,Lp(this._delegate,e))}catch(r){throw Js(r,"collection()","Firestore.collection()")}}doc(e){try{return new Uo(this,Fd(this._delegate,e))}catch(r){throw Js(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new co(this,function qy(i,e){if(i=dr(i,$l),cc("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ze(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $s(i,null,(r=e,new Fi(qn.emptyPath(),r)));var r}(this._delegate,e))}catch(r){throw Js(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function p_(i,e){return function Bl(i,e){const r=new Lt;return i.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){const o=yield(u=i,Kh(u).then(f=>f.datastore));var u;new mm(i.asyncQueue,o,e,r).run()})),r.promise}(as(i=dr(i,Ai)),r=>e(new f_(i,r)))}(this._delegate,r=>e(new lf(this,r)))}batch(){return as(this._delegate),new ig(new Yp(this._delegate,e=>Xc(this._delegate,e)))}loadBundle(e){return function Xy(i,e){const r=as(i=dr(i,Ai)),o=new Ky;return function Vl(i,e,r,o){const u=function(f,v){let T;return T="string"==typeof f?(new TextEncoder).encode(f):f,U=function(U,W){if(U instanceof Uint8Array)return Tp(U,W);if(U instanceof ArrayBuffer)return Tp(new Uint8Array(U),W);if(U instanceof ReadableStream)return U.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(T),new Rv(U,v);var U}(r,Td(e));i.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){!function ba(i,e,r){const o=me(i);var u;(u=(0,Y.Z)(function*(f,v,T){try{const U=yield v.getMetadata();if(yield function(Ze,ft){const wt=me(Ze),Kt=Ci(ft.createTime);return wt.persistence.runTransaction("hasNewerBundle","readonly",Cn=>wt.Ye.getBundleMetadata(Cn,ft.id)).then(Cn=>!!Cn&&Cn.createTime.compareTo(Kt)>=0)}(f.localStore,U))return yield v.close(),void T._completeWith((Ze=U,{taskState:"Success",documentsLoaded:Ze.totalDocuments,bytesLoaded:Ze.totalBytes,totalDocuments:Ze.totalDocuments,totalBytes:Ze.totalBytes}));T._updateProgress(tm(U));const W=new Cv(U,f.localStore,v.k);let re=yield v.Ho();for(;re;){const Ze=yield W.yo(re);Ze&&T._updateProgress(Ze),re=yield v.Ho()}const Ie=yield W.complete();yield Lu(f,Ie.In,void 0),yield function(Ze,ft){const wt=me(Ze);return wt.persistence.runTransaction("Save bundle","readwrite",Kt=>wt.Ye.saveBundleMetadata(Kt,ft))}(f.localStore,U),T._completeWith(Ie.progress)}catch(U){C("SyncEngine",`Loading bundle failed with ${U}`),T._failWith(U)}var Ze}),function(f,v,T){return u.apply(this,arguments)})(o,e,r).then(()=>{o.sharedClientState.notifyBundleLoaded()})}(yield Mp(i),u,o)}))}(r,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Gl(i,e){return function jl(i,e){return i.asyncQueue.enqueue((0,Y.Z)(function*(){return function(r,o){const u=me(r);return u.persistence.runTransaction("Get named query","readonly",f=>u.Ye.getNamedQuery(f,o))}(yield xp(i),e)}))}(as(i=dr(i,Ai)),e).then(r=>r?new $s(i,null,r.query):null)}(this._delegate,e).then(r=>r?new co(this,r):null)}}class $d extends sf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yl(new Ta(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return Uo.forKey(r,this.firestore,null)}}class lf{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new $d(e)}get(e){const r=el(e);return this._delegate.get(r).then(o=>new Ql(this._firestore,new ru(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,r.converter)))}set(e,r,o){const u=el(e);return o?(eg("Transaction.set",o),this._delegate.set(u,r,o)):this._delegate.set(u,r),this}update(e,r,o,...u){const f=el(e);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,o,...u),this}delete(e){const r=el(e);return this._delegate.delete(r),this}}class ig{constructor(e){this._delegate=e}set(e,r,o){const u=el(e);return o?(eg("WriteBatch.set",o),this._delegate.set(u,r,o)):this._delegate.set(u,r),this}update(e,r,o,...u){const f=el(e);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,o,...u),this}delete(e){const r=el(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class fc{constructor(e,r,o){this._firestore=e,this._userDataWriter=r,this._delegate=o}fromFirestore(e,r){const o=new ql(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Jl(this._firestore,o),null!=r?r:{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const o=fc.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let f=u.get(r);return f||(f=new fc(e,new $d(e),r),u.set(r,f)),f}}fc.INSTANCES=new WeakMap;class Uo{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new $d(e)}static forPath(e,r,o){if(e.length%2!=0)throw new ze("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Uo(r,new li(r._delegate,o,new Qt(e)))}static forKey(e,r,o){return new Uo(r,new li(r._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Xl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Xl(this.firestore,Lp(this._delegate,e))}catch(r){throw Js(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,rt.m9)(e))instanceof li&&Fp(this._delegate,e)}set(e,r){r=eg("DocumentReference.set",r);try{return r?jm(this._delegate,e,r):jm(this._delegate,e)}catch(o){throw Js(o,"setDoc()","DocumentReference.set()")}}update(e,r,...o){try{return 1===arguments.length?Qp(this._delegate,e):Qp(this._delegate,e,r,...o)}catch(u){throw Js(u,"updateDoc()","DocumentReference.update()")}}delete(){return function d_(i){return Xc(dr(i.firestore,Ai),[new ea(i._key,zi.none())])}(this._delegate)}onSnapshot(...e){const r=sg(e),o=og(e,u=>new Ql(this.firestore,new ru(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return h_(this._delegate,r,o)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function c_(i){i=dr(i,li);const e=dr(i.firestore,Ai),r=as(e),o=new hc(e);return function Qs(i,e){const r=new Lt;return i.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return(o=(0,Y.Z)(function*(u,f,v){try{const T=yield function(U,W){const re=me(U);return re.persistence.runTransaction("read document","readonly",Ie=>re.Wn.Rn(Ie,W))}(u,f);T.isFoundDocument()?v.resolve(T):T.isNoDocument()?v.resolve(null):v.reject(new ze(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(T){const U=zc(T,`Failed to get document '${f} from cache`);v.reject(U)}}),function(u,f,v){return o.apply(this,arguments)})(yield xp(i),e,r);var o})),r.promise}(r,i._key).then(u=>new ru(e,o,i._key,u,new Uu(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Bm(i){i=dr(i,li);const e=dr(i.firestore,Ai);return uc(as(e),i._key,{source:"server"}).then(r=>oa(e,i,r))}(this._delegate):function u_(i){i=dr(i,li);const e=dr(i.firestore,Ai);return uc(as(e),i._key).then(r=>oa(e,i,r))}(this._delegate),r.then(o=>new Ql(this.firestore,new ru(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Uo(this.firestore,this._delegate.withConverter(e?fc.getInstance(this.firestore,e):null))}}function Js(i,e,r){return i.message=i.message.replace(e,r),i}function sg(i){for(const e of i)if("object"==typeof e&&!uf(e))return e;return{}}function og(i,e){var r,o;let u;return u=uf(i[0])?i[0]:uf(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:f=>{u.next&&u.next(e(f))},error:null===(r=u.error)||void 0===r?void 0:r.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class Ql{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new Uo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return xm(this._delegate,e._delegate)}}class Jl extends Ql{data(e){const r=this._delegate.data(e);return function de(i,e){i||F()}(void 0!==r),r}}class co{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new $d(e)}where(e,r,o){try{return new co(this.firestore,su(this._delegate,function i_(i,e,r){const o=e,u=jd("where",i);return new Mm(u,o,r)}(e,r,o)))}catch(u){throw Js(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new co(this.firestore,su(this._delegate,function o_(i,e="asc"){const r=e,o=jd("orderBy",i);return new s_(o,r)}(e,r)))}catch(o){throw Js(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new co(this.firestore,su(this._delegate,function Wp(i){return kp("limit",i),new zp("limit",i,"F")}(e)))}catch(r){throw Js(r,"limit()","Query.limit()")}}limitToLast(e){try{return new co(this.firestore,su(this._delegate,function Pm(i){return kp("limitToLast",i),new zp("limitToLast",i,"L")}(e)))}catch(r){throw Js(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new co(this.firestore,su(this._delegate,function Om(...i){return new qp("startAt",i,!0)}(...e)))}catch(r){throw Js(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new co(this.firestore,su(this._delegate,function km(...i){return new qp("startAfter",i,!1)}(...e)))}catch(r){throw Js(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new co(this.firestore,su(this._delegate,function Nm(...i){return new Zp("endBefore",i,!0)}(...e)))}catch(r){throw Js(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new co(this.firestore,su(this._delegate,function Lm(...i){return new Zp("endAt",i,!1)}(...e)))}catch(r){throw Js(r,"endAt()","Query.endAt()")}}isEqual(e){return vm(this._delegate,e._delegate)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function Kl(i){i=dr(i,$s);const e=dr(i.firestore,Ai),r=as(e),o=new hc(e);return function Yh(i,e){const r=new Lt;return i.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return(o=(0,Y.Z)(function*(u,f,v){try{const T=yield Dh(u,f,!0),U=new lp(f,T.zn),W=U.Po(T.documents),re=U.applyChanges(W,!1);v.resolve(re.snapshot)}catch(T){const U=zc(T,`Failed to execute query '${f} against cache`);v.reject(U)}}),function(u,f,v){return o.apply(this,arguments)})(yield xp(i),e,r);var o})),r.promise}(r,i._query).then(u=>new iu(e,o,i,u))}(this._delegate):"server"===(null==e?void 0:e.source)?function l_(i){i=dr(i,$s);const e=dr(i.firestore,Ai),r=as(e),o=new hc(e);return Fo(r,i._query,{source:"server"}).then(u=>new iu(e,o,i,u))}(this._delegate):function Vm(i){i=dr(i,$s);const e=dr(i.firestore,Ai),r=as(e),o=new hc(e);return Gp(i._query),Fo(r,i._query).then(u=>new iu(e,o,i,u))}(this._delegate),r.then(o=>new ag(this.firestore,new iu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const r=sg(e),o=og(e,u=>new ag(this.firestore,new iu(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return h_(this._delegate,r,o)}withConverter(e){return new co(this.firestore,this._delegate.withConverter(e?fc.getInstance(this.firestore,e):null))}}class m_{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Jl(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ag{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new co(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Jl(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new m_(this._firestore,r))}forEach(e,r){this._delegate.forEach(o=>{e.call(r,new Jl(this._firestore,o))})}isEqual(e){return xm(this._delegate,e._delegate)}}class Xl extends co{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Uo(this.firestore,e):null}doc(e){try{return new Uo(this.firestore,void 0===e?Fd(this._delegate):Fd(this._delegate,e))}catch(r){throw Js(r,"doc()","CollectionReference.doc()")}}add(e){return function Hm(i,e){const r=dr(i.firestore,Ai),o=Fd(i),u=af(i.converter,e);return Xc(r,[tf(lc(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,zi.exists(!1))]).then(()=>o)}(this._delegate,e).then(r=>new Uo(this.firestore,r))}isEqual(e){return Fp(this._delegate,e._delegate)}withConverter(e){return new Xl(this.firestore,this._delegate.withConverter(e?fc.getInstance(this.firestore,e):null))}}function el(i){return dr(i,li)}class ug{constructor(...e){this._delegate=new tu(...e)}static documentId(){return new ug(er.keyField().canonicalString())}isEqual(e){return(e=(0,rt.m9)(e))instanceof tu&&this._delegate._internalPath.isEqual(e._internalPath)}}class tl{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Ca(){return new Ud("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new tl(e)}static delete(){const e=function ou(){return new zl("deleteField")}();return e._methodName="FieldValue.delete",new tl(e)}static arrayUnion(...e){const r=function Aa(...i){return new kv("arrayUnion",i)}(...e);return r._methodName="FieldValue.arrayUnion",new tl(r)}static arrayRemove(...e){const r=function Gm(...i){return new Vp("arrayRemove",i)}(...e);return r._methodName="FieldValue.arrayRemove",new tl(r)}static increment(e){const r=function zm(i){return new n_("increment",i)}(e);return r._methodName="FieldValue.increment",new tl(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const y_={Firestore:ng,GeoPoint:Xh,Timestamp:Ni,Blob:Yl,Transaction:lf,WriteBatch:ig,DocumentReference:Uo,DocumentSnapshot:Ql,Query:co,QueryDocumentSnapshot:Jl,QuerySnapshot:ag,CollectionReference:Xl,FieldPath:ug,FieldValue:tl,setLogLevel:function rg(i){!function I(i){Ds.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function v_(i){(function __(i,e){i.INTERNAL.registerComponent(new et.wA("firestore-compat",r=>{const o=r.getProvider("app-compat").getImmediate(),u=r.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},y_)))})(i,(e,r)=>new ng(e,r,new g_)),i.registerVersion("@firebase/firestore-compat","0.1.13")}(Ue.Z);var Zm=L(7579),w_=L(6451),df=L(5363),pc=L(3900),E_=L(6063);class I_ extends Zm.x{constructor(e=1/0,r=1/0,o=E_.l){super(),this._bufferSize=e,this._windowTime=r,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,r)}next(e){const{isStopped:r,_buffer:o,_infiniteTimeWindow:u,_timestampProvider:f,_windowTime:v}=this;r||(o.push(e),!u&&o.push(f.now()+v)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(e),{_infiniteTimeWindow:o,_buffer:u}=this,f=u.slice();for(let v=0;v<f.length&&!e.closed;v+=o?1:2)e.next(f[v]);return this._checkFinalizedStatuses(e),r}_trimBuffer(){const{_bufferSize:e,_timestampProvider:r,_buffer:o,_infiniteTimeWindow:u}=this,f=(u?1:2)*e;if(e<1/0&&f<o.length&&o.splice(0,o.length-f),!u){const v=r.now();let T=0;for(let U=1;U<o.length&&o[U]<=v;U+=2)T=U;T&&o.splice(0,T+1)}}}var b_=L(3099);function Km(i,e,r){var o,u;let f,v=!1;return i&&"object"==typeof i?(f=null!==(o=i.bufferSize)&&void 0!==o?o:1/0,e=null!==(u=i.windowTime)&&void 0!==u?u:1/0,v=!!i.refCount,r=i.scheduler):f=null!=i?i:1/0,(0,b_.B)({connector:()=>new I_(f,e,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:v})}var Ym=L(590),Qm=L(576);function cg(i,e){return(0,Qm.m)(e)?(0,pc.w)(()=>i,e):(0,pc.w)(()=>i)}var hf=L(9468),lg=L(440),Jm=L(127);const dg=new E.OlP("angularfire2.auth.use-emulator"),hg=new E.OlP("angularfire2.auth.settings"),fg=new E.OlP("angularfire2.auth.tenant-id"),pg=new E.OlP("angularfire2.auth.langugage-code"),gc=new E.OlP("angularfire2.auth.use-device-language"),ey=new E.OlP("angularfire.auth.persistence"),ty=(i,e,r,o,u,f,v,T)=>(0,_e.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const U=e.runOutsideAngular(()=>i.auth());if(r&&U.useEmulator(...r),o&&(U.tenantId=o),U.languageCode=u,f&&U.useDeviceLanguage(),v)for(const[W,re]of Object.entries(v))U.settings[W]=re;return T&&U.setPersistence(T),U},[r,o,u,f,v,T]);let nl=(()=>{class i{constructor(r,o,u,f,v,T,U,W,re,Ie,Ze,ft){const wt=new Zm.x,Kt=(0,ge.of)(void 0).pipe((0,df.Q)(v.outsideAngular),(0,pc.w)(()=>f.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,2209)))),(0,We.U)(()=>(0,_e.on)(r,f,o)),(0,We.U)(Cn=>ty(Cn,f,T,W,re,Ie,U,Ze)),Km({bufferSize:1,refCount:!1}));if((0,Le.PM)(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ge.of)(null);else{Kt.pipe((0,Ym.P)()).subscribe();const Si=Kt.pipe((0,pc.w)(Vr=>Vr.getRedirectResult().then(Xi=>Xi,()=>null)),Te.iC,Km({bufferSize:1,refCount:!1})),us=Kt.pipe((0,pc.w)(Vr=>new G.y(Xi=>({unsubscribe:f.runOutsideAngular(()=>Vr.onAuthStateChanged(Sa=>Xi.next(Sa),Sa=>Xi.error(Sa),()=>Xi.complete()))})))),Io=Kt.pipe((0,pc.w)(Vr=>new G.y(Xi=>({unsubscribe:f.runOutsideAngular(()=>Vr.onIdTokenChanged(Sa=>Xi.next(Sa),Sa=>Xi.error(Sa),()=>Xi.complete()))}))));this.authState=Si.pipe(cg(us),(0,hf.R)(v.outsideAngular),(0,df.Q)(v.insideAngular)),this.user=Si.pipe(cg(Io),(0,hf.R)(v.outsideAngular),(0,df.Q)(v.insideAngular)),this.idToken=this.user.pipe((0,pc.w)(Vr=>Vr?(0,pe.D)(Vr.getIdToken()):(0,ge.of)(null))),this.idTokenResult=this.user.pipe((0,pc.w)(Vr=>Vr?(0,pe.D)(Vr.getIdTokenResult()):(0,ge.of)(null))),this.credential=(0,w_.T)(Si,wt,this.authState.pipe((0,at.h)(Vr=>!Vr))).pipe((0,We.U)(Vr=>(null==Vr?void 0:Vr.user)?Vr:null),(0,hf.R)(v.outsideAngular),(0,df.Q)(v.insideAngular))}return(0,_e.pX)(this,Kt,f,{spy:{apply:(Cn,Si,us)=>{(Cn.startsWith("signIn")||Cn.startsWith("createUser"))&&us.then(Io=>wt.next(Io))}}})}}return i.\u0275fac=function(r){return new(r||i)(E.LFG(_e.Dh),E.LFG(_e.xv,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(Te.HU),E.LFG(dg,8),E.LFG(hg,8),E.LFG(fg,8),E.LFG(pg,8),E.LFG(gc,8),E.LFG(ey,8),E.LFG(lg.nm,8))},i.\u0275prov=E.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function D_(i,e){return function gg(i,e=x.z){return new G.y(r=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},r)}):o=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=o&&o()}})}(i,e)}function ff(i,e){return D_(i,e).pipe((0,We.U)(r=>({payload:r,type:"query"})))}function mg(i,e){return ff(i,e).pipe((0,pt.O)(void 0),Me(),(0,We.U)(([r,o])=>{const u=o.payload.docChanges(),f=u.map(v=>({type:v.type,payload:v}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((v,T)=>{const U=u.find(re=>re.doc.ref.isEqual(v.ref)),W=null==r?void 0:r.payload.docs.find(re=>re.ref.isEqual(v.ref));U&&JSON.stringify(U.doc.metadata)===JSON.stringify(v.metadata)||!U&&W&&JSON.stringify(W.metadata)===JSON.stringify(v.metadata)||f.push({type:"modified",payload:{oldIndex:T,newIndex:T,type:"modified",doc:v}})}),f}))}function mn(i,e,r){return mg(i,r).pipe((0,nt.R)((o,u)=>function T_(i,e,r){return e.forEach(o=>{r.indexOf(o.type)>-1&&(i=function C_(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return yg(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=i.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return yg(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return yg(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(f=>f.payload),e),[]),function ee(i,e=ne.y){return i=null!=i?i:Se,(0,Re.e)((r,o)=>{let u,f=!0;r.subscribe(new Ae.Q(o,v=>{const T=e(v);(f||!i(u,T))&&(f=!1,u=T,o.next(v))}))})}(),(0,We.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function yg(i,e,r,...o){const u=i.slice();return u.splice(e,r,...o),u}function Gd(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class ry{constructor(e,r,o){this.ref=e,this.query=r,this.afs=o}stateChanges(e){let r=mg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,We.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),r.pipe((0,pt.O)(void 0),Me(),(0,at.h)(([o,u])=>u.length>0||!o),(0,We.U)(([o,u])=>u),Te.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,nt.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=Gd(e);return mn(this.query,r,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return ff(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),Te.iC)}get(e){return(0,pe.D)(this.query.get(e)).pipe(Te.iC)}add(e){return this.ref.add(e)}doc(e){return new zd(this.ref.doc(e),this.afs)}}class zd{constructor(e,r){this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const o=this.ref.collection(e),{ref:u,query:f}=sy(o,r);return new ry(u,f,this.afs)}snapshotChanges(){return function ny(i,e){return D_(i,e).pipe((0,pt.O)(void 0),Me(),(0,We.U)(([r,o])=>o.exists?(null==r?void 0:r.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,We.U)(({payload:r})=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data()))}get(e){return(0,pe.D)(this.ref.get(e)).pipe(Te.iC)}}class pf{constructor(e,r){this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?mg(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)),(0,at.h)(r=>r.length>0),Te.iC):mg(this.query,this.afs.schedulers.outsideAngular).pipe(Te.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,nt.R)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=Gd(e);return mn(this.query,r,this.afs.schedulers.outsideAngular).pipe(Te.iC)}valueChanges(e={}){return ff(this.query,this.afs.schedulers.outsideAngular).pipe((0,We.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),Te.iC)}get(e){return(0,pe.D)(this.query.get(e)).pipe(Te.iC)}}const Ui=new E.OlP("angularfire2.enableFirestorePersistence"),A_=new E.OlP("angularfire2.firestore.persistenceSettings"),iy=new E.OlP("angularfire2.firestore.settings"),S_=new E.OlP("angularfire2.firestore.use-emulator");function sy(i,e=(r=>r)){return{query:e(i),ref:i}}let _g=(()=>{class i{constructor(r,o,u,f,v,T,U,W,re,Ie,Ze,ft,wt,Kt,Cn,Si,us){this.schedulers=U;const Io=(0,_e.on)(r,T,o),Vr=re;Ie&&ty(Io,T,Ze,wt,Kt,Cn,ft,Si),[this.firestore,this.persistenceEnabled$]=(0,_e.cc)(`${Io.name}.firestore`,"AngularFirestore",Io.name,()=>{const Xi=T.runOutsideAngular(()=>Io.firestore());if(f&&Xi.settings(f),Vr&&Xi.useEmulator(...Vr),u&&!(0,Le.PM)(v)){const Sa=()=>{try{return(0,pe.D)(Xi.enablePersistence(W||void 0).then(()=>!0,()=>!1))}catch(Wd){return"undefined"!=typeof console&&console.warn(Wd),(0,ge.of)(!1)}};return[Xi,T.runOutsideAngular(Sa)]}return[Xi,(0,ge.of)(!1)]},[f,Vr,u])}collection(r,o){let u;u="string"==typeof r?this.firestore.collection(r):r;const{ref:f,query:v}=sy(u,o),T=this.schedulers.ngZone.run(()=>f);return new ry(T,v,this)}collectionGroup(r,o){const u=o||(v=>v),f=this.firestore.collectionGroup(r);return new pf(u(f),this)}doc(r){let o;o="string"==typeof r?this.firestore.doc(r):r;const u=this.schedulers.ngZone.run(()=>o);return new zd(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(r){return new(r||i)(E.LFG(_e.Dh),E.LFG(_e.xv,8),E.LFG(Ui,8),E.LFG(iy,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(Te.HU),E.LFG(A_,8),E.LFG(S_,8),E.LFG(nl,8),E.LFG(dg,8),E.LFG(hg,8),E.LFG(fg,8),E.LFG(pg,8),E.LFG(gc,8),E.LFG(ey,8),E.LFG(lg.nm,8))},i.\u0275prov=E.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),oy=(()=>{class i{constructor(){Jm.Z.registerVersion("angularfire",Te.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:i,providers:[{provide:Ui,useValue:!0},{provide:A_,useValue:r}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=E.oAB({type:i}),i.\u0275inj=E.cJS({providers:[_g]}),i})()},2084:(Pt,$e,L)=>{"use strict";L.d($e,{Q1:()=>Us,TE:()=>jo});var E=L(8306),x=L(9646),G=L(8996),pe=L(4986),ge=L(4482),Te=L(5403),Ae=L(4004),Me=L(3900),ne=L(5813),ee=L(5e3),Se=L(2011),pt=L(3942),We=L(5861),nt=L(9681),at=L(2090),_e=L(4859);const Le="firebasestorage.googleapis.com",Ke="storageBucket";class st extends at.ZR{constructor(P,z){super(et(P),`Firebase Storage: ${z} (${et(P)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,st.prototype)}_codeEquals(P){return et(P)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(P){this.customData.serverResponse=P,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function et(k){return"storage/"+k}function Dt(){return new st("unknown","An unknown error occurred, please check the error payload for server response.")}function ut(){return new st("canceled","User canceled the upload/download.")}function sr(){return new st("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Yn(k){return new st("invalid-argument",k)}function Xt(){return new st("app-deleted","The Firebase app was deleted.")}function Dn(k){return new st("invalid-root-operation","The operation '"+k+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ct(k,P){return new st("invalid-format","String does not match format '"+k+"': "+P)}function Un(k){throw new st("internal-error","Internal error: "+k)}class vn{constructor(P,z){this.bucket=P,this.path_=z}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const P=encodeURIComponent;return"/b/"+P(this.bucket)+"/o/"+P(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(P,z){let J;try{J=vn.makeFromUrl(P,z)}catch(we){return new vn(P,"")}if(""===J.path)return J;throw function Yt(k){return new st("invalid-default-bucket","Invalid default bucket '"+k+"'.")}(P)}static makeFromUrl(P,z){let J=null;const we="([A-Za-z0-9.\\-_]+)",jt=new RegExp("^gs://"+we+"(/(.*))?$","i");function on(zr){zr.path_=decodeURIComponent(zr.path)}const Jn=z.replace(/[.]/g,"\\."),Dr=[{regex:jt,indices:{bucket:1,path:3},postModify:function je(zr){"/"===zr.path.charAt(zr.path.length-1)&&(zr.path_=zr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Jn}/v[A-Za-z0-9_]+/b/${we}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:on},{regex:new RegExp(`^https?://${z===Le?"(?:storage.googleapis.com|storage.cloud.google.com)":z}/${we}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:on}];for(let zr=0;zr<Dr.length;zr++){const rr=Dr[zr],ns=rr.regex.exec(P);if(ns){let Bs=ns[rr.indices.path];Bs||(Bs=""),J=new vn(ns[rr.indices.bucket],Bs),rr.postModify(J);break}}if(null==J)throw function Pe(k){return new st("invalid-url","Invalid URL '"+k+"'.")}(P);return J}}class Mn{constructor(P){this.promise_=Promise.reject(P)}getPromise(){return this.promise_}cancel(P=!1){}}function Er(k){return"string"==typeof k||k instanceof String}function ot(k){return Tn()&&k instanceof Blob}function Tn(){return"undefined"!=typeof Blob}function Nt(k,P,z,J){if(J<P)throw Yn(`Invalid value for '${k}'. Expected ${P} or greater.`);if(J>z)throw Yn(`Invalid value for '${k}'. Expected ${z} or less.`)}function dn(k,P,z){let J=P;return null==z&&(J=`https://${P}`),`${z}://${J}/v0${k}`}function wn(k){const P=encodeURIComponent;let z="?";for(const J in k)k.hasOwnProperty(J)&&(z=z+(P(J)+"=")+P(k[J])+"&");return z=z.slice(0,-1),z}var Pn=(()=>{return(k=Pn||(Pn={}))[k.NO_ERROR=0]="NO_ERROR",k[k.NETWORK_ERROR=1]="NETWORK_ERROR",k[k.ABORT=2]="ABORT",Pn;var k})();class di{constructor(P,z,J,we,je,ct,jt,xt,on,sn,Jn){this.url_=P,this.method_=z,this.headers_=J,this.body_=we,this.successCodes_=je,this.additionalRetryCodes_=ct,this.callback_=jt,this.errorCallback_=xt,this.timeout_=on,this.progressCallback_=sn,this.connectionFactory_=Jn,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_r,nr)=>{this.resolve_=_r,this.reject_=nr,this.start_()})}start_(){const z=(J,we)=>{const je=this.resolve_,ct=this.reject_,jt=we.connection;if(we.wasSuccessCode)try{const xt=this.callback_(jt,jt.getResponse());!function Nn(k){return void 0!==k}(xt)?je():je(xt)}catch(xt){ct(xt)}else if(null!==jt){const xt=Dt();xt.serverResponse=jt.getErrorText(),ct(this.errorCallback_?this.errorCallback_(jt,xt):xt)}else ct(we.canceled?this.appDelete_?Xt():ut():function xe(){return new st("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?z(0,new Oe(!1,null,!0)):this.backoffId_=function Cr(k,P,z){let J=1,we=null,je=null,ct=!1,jt=0;function xt(){return 2===jt}let on=!1;function sn(...cr){on||(on=!0,P.apply(null,cr))}function Jn(cr){we=setTimeout(()=>{we=null,k(nr,xt())},cr)}function _r(){je&&clearTimeout(je)}function nr(cr,...Zi){if(on)return void _r();if(cr)return _r(),void sn.call(null,cr,...Zi);if(xt()||ct)return _r(),void sn.call(null,cr,...Zi);let Dr;J<64&&(J*=2),1===jt?(jt=2,Dr=0):Dr=1e3*(J+Math.random()),Jn(Dr)}let zn=!1;function bi(cr){zn||(zn=!0,_r(),!on&&(null!==we?(cr||(jt=2),clearTimeout(we),Jn(0)):cr||(jt=1)))}return Jn(0),je=setTimeout(()=>{ct=!0,bi(!0)},z),bi}((J,we)=>{if(we)return void J(!1,new Oe(!1,null,!0));const je=this.connectionFactory_();this.pendingConnection_=je;const ct=jt=>{null!==this.progressCallback_&&this.progressCallback_(jt.loaded,jt.lengthComputable?jt.total:-1)};null!==this.progressCallback_&&je.addUploadProgressListener(ct),je.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&je.removeUploadProgressListener(ct),this.pendingConnection_=null;const jt=je.getErrorCode()===Pn.NO_ERROR,xt=je.getStatus();if(!jt||this.isRetryStatusCode_(xt)){const sn=je.getErrorCode()===Pn.ABORT;return void J(!1,new Oe(!1,null,sn))}const on=-1!==this.successCodes_.indexOf(xt);J(!0,new Oe(on,je))})},z,this.timeout_)}getPromise(){return this.promise_}cancel(P){this.canceled_=!0,this.appDelete_=P||!1,null!==this.backoffId_&&function an(k){k(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(P){const z=P>=500&&P<600,we=-1!==[408,429].indexOf(P),je=-1!==this.additionalRetryCodes_.indexOf(P);return z||we||je}}class Oe{constructor(P,z,J){this.wasSuccessCode=P,this.connection=z,this.canceled=!!J}}function It(...k){const P=function gt(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==P){const z=new P;for(let J=0;J<k.length;J++)z.append(k[J]);return z.getBlob()}if(Tn())return new Blob(k);throw new st("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Mt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ln{constructor(P,z){this.data=P,this.contentType=z||null}}function Ln(k,P){switch(k){case Mt.RAW:return new ln(un(P));case Mt.BASE64:case Mt.BASE64URL:return new ln(ae(k,P));case Mt.DATA_URL:return new ln(function Ge(k){const P=new ce(k);return P.base64?ae(Mt.BASE64,P.rest):function Q(k){let P;try{P=decodeURIComponent(k)}catch(z){throw Ct(Mt.DATA_URL,"Malformed data URL.")}return un(P)}(P.rest)}(P),function Ne(k){return new ce(k).contentType}(P))}throw Dt()}function un(k){const P=[];for(let z=0;z<k.length;z++){let J=k.charCodeAt(z);J<=127?P.push(J):J<=2047?P.push(192|J>>6,128|63&J):55296==(64512&J)?z<k.length-1&&56320==(64512&k.charCodeAt(z+1))?(J=65536|(1023&J)<<10|1023&k.charCodeAt(++z),P.push(240|J>>18,128|J>>12&63,128|J>>6&63,128|63&J)):P.push(239,191,189):56320==(64512&J)?P.push(239,191,189):P.push(224|J>>12,128|J>>6&63,128|63&J)}return new Uint8Array(P)}function ae(k,P){switch(k){case Mt.BASE64:{const we=-1!==P.indexOf("-"),je=-1!==P.indexOf("_");if(we||je)throw Ct(k,"Invalid character '"+(we?"-":"_")+"' found: is it base64url encoded?");break}case Mt.BASE64URL:{const we=-1!==P.indexOf("+"),je=-1!==P.indexOf("/");if(we||je)throw Ct(k,"Invalid character '"+(we?"+":"/")+"' found: is it base64 encoded?");P=P.replace(/-/g,"+").replace(/_/g,"/");break}}let z;try{z=function jn(k){return atob(k)}(P)}catch(we){throw Ct(k,"Invalid character found")}const J=new Uint8Array(z.length);for(let we=0;we<z.length;we++)J[we]=z.charCodeAt(we);return J}class ce{constructor(P){this.base64=!1,this.contentType=null;const z=P.match(/^data:([^,]+)?,/);if(null===z)throw Ct(Mt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const J=z[1]||null;null!=J&&(this.base64=function At(k,P){return k.length>=P.length&&k.substring(k.length-P.length)===P}(J,";base64"),this.contentType=this.base64?J.substring(0,J.length-";base64".length):J),this.rest=P.substring(P.indexOf(",")+1)}}class zt{constructor(P,z){let J=0,we="";ot(P)?(this.data_=P,J=P.size,we=P.type):P instanceof ArrayBuffer?(z?this.data_=new Uint8Array(P):(this.data_=new Uint8Array(P.byteLength),this.data_.set(new Uint8Array(P))),J=this.data_.length):P instanceof Uint8Array&&(z?this.data_=P:(this.data_=new Uint8Array(P.length),this.data_.set(P)),J=P.length),this.size_=J,this.type_=we}size(){return this.size_}type(){return this.type_}slice(P,z){if(ot(this.data_)){const we=function hn(k,P,z){return k.webkitSlice?k.webkitSlice(P,z):k.mozSlice?k.mozSlice(P,z):k.slice?k.slice(P,z):null}(this.data_,P,z);return null===we?null:new zt(we)}{const J=new Uint8Array(this.data_.buffer,P,z-P);return new zt(J,!0)}}static getBlob(...P){if(Tn()){const z=P.map(J=>J instanceof zt?J.data_:J);return new zt(It.apply(null,z))}{const z=P.map(ct=>Er(ct)?Ln(Mt.RAW,ct).data:ct.data_);let J=0;z.forEach(ct=>{J+=ct.byteLength});const we=new Uint8Array(J);let je=0;return z.forEach(ct=>{for(let jt=0;jt<ct.length;jt++)we[je++]=ct[jt]}),new zt(we,!0)}}uploadData(){return this.data_}}function On(k){let P;try{P=JSON.parse(k)}catch(z){return null}return function Or(k){return"object"==typeof k&&!Array.isArray(k)}(P)?P:null}function Nr(k){const P=k.lastIndexOf("/",k.length-2);return-1===P?k:k.slice(P+1)}function fn(k,P){return P}class kn{constructor(P,z,J,we){this.server=P,this.local=z||P,this.writable=!!J,this.xform=we||fn}}let jr=null;function en(){if(jr)return jr;const k=[];k.push(new kn("bucket")),k.push(new kn("generation")),k.push(new kn("metageneration")),k.push(new kn("name","fullPath",!0));const z=new kn("name");z.xform=function P(je,ct){return function Kr(k){return!Er(k)||k.length<2?k:Nr(k)}(ct)},k.push(z);const we=new kn("size");return we.xform=function J(je,ct){return void 0!==ct?Number(ct):ct},k.push(we),k.push(new kn("timeCreated")),k.push(new kn("updated")),k.push(new kn("md5Hash",null,!0)),k.push(new kn("cacheControl",null,!0)),k.push(new kn("contentDisposition",null,!0)),k.push(new kn("contentEncoding",null,!0)),k.push(new kn("contentLanguage",null,!0)),k.push(new kn("contentType",null,!0)),k.push(new kn("metadata","customMetadata",!0)),jr=k,jr}function Qn(k,P,z){const J=On(P);return null===J?null:function Bi(k,P,z){const J={type:"file"},we=z.length;for(let je=0;je<we;je++){const ct=z[je];J[ct.local]=ct.xform(J,P[ct.server])}return function Ar(k,P){Object.defineProperty(k,"ref",{get:function z(){const je=new vn(k.bucket,k.fullPath);return P._makeStorageReference(je)}})}(J,k),J}(k,J,z)}function ri(k,P){const z={},J=P.length;for(let we=0;we<J;we++){const je=P[we];je.writable&&(z[je.server]=k[je.local])}return JSON.stringify(z)}const gr="prefixes";class or{constructor(P,z,J,we){this.url=P,this.method=z,this.handler=J,this.timeout=we,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function hr(k){if(!k)throw Dt()}function ar(k,P){return function z(J,we){const je=Qn(k,we,P);return hr(null!==je),je}}function Et(k){return function P(z,J){let we;return we=401===z.getStatus()?z.getErrorText().includes("Firebase App Check token is invalid")?function ve(){return new st("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Ce(){return new st("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===z.getStatus()?function Tt(k){return new st("quota-exceeded","Quota for bucket '"+k+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(k.bucket):403===z.getStatus()?function Ve(k){return new st("unauthorized","User does not have permission to access '"+k+"'.")}(k.path):J,we.serverResponse=J.serverResponse,we}}function Ut(k){const P=Et(k);return function z(J,we){let je=P(J,we);return 404===J.getStatus()&&(je=function rt(k){return new st("object-not-found","Object '"+k+"' does not exist.")}(k.path)),je.serverResponse=we.serverResponse,je}}function tn(k,P,z){const we=dn(P.fullServerUrl(),k.host,k._protocol),ct=k.maxOperationRetryTime,jt=new or(we,"GET",ar(k,z),ct);return jt.errorHandler=Ut(P),jt}function tr(k,P,z,J,we){const je={};je.prefix=P.isRoot?"":P.path+"/",z&&z.length>0&&(je.delimiter=z),J&&(je.pageToken=J),we&&(je.maxResults=we);const jt=dn(P.bucketOnlyServerUrl(),k.host,k._protocol),on=k.maxOperationRetryTime,sn=new or(jt,"GET",function hi(k,P){return function z(J,we){const je=function Lr(k,P,z){const J=On(z);return null===J?null:function qi(k,P,z){const J={prefixes:[],items:[],nextPageToken:z.nextPageToken};if(z[gr])for(const we of z[gr]){const je=we.replace(/\/$/,""),ct=k._makeStorageReference(new vn(P,je));J.prefixes.push(ct)}if(z.items)for(const we of z.items){const je=k._makeStorageReference(new vn(P,we.name));J.items.push(je)}return J}(k,P,J)}(k,P,we);return hr(null!==je),je}}(k,P.bucket),on);return sn.urlParams=je,sn.errorHandler=Et(P),sn}function mr(k,P,z){const J=Object.assign({},z);return J.fullPath=k.path,J.size=P.size(),J.contentType||(J.contentType=function fi(k,P){return k&&k.contentType||P&&P.type()||"application/octet-stream"}(null,P)),J}class Yr{constructor(P,z,J,we){this.current=P,this.total=z,this.finalized=!!J,this.metadata=we||null}}function se(k,P){let z=null;try{z=k.getResponseHeader("X-Goog-Upload-Status")}catch(we){hr(!1)}return hr(!!z&&-1!==(P||["active"]).indexOf(z)),z}const $t={STATE_CHANGED:"state_changed"},Bt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function nn(k){switch(k){case"running":case"pausing":case"canceling":return Bt.RUNNING;case"paused":return Bt.PAUSED;case"success":return Bt.SUCCESS;case"canceled":return Bt.CANCELED;default:return Bt.ERROR}}class $r{constructor(P,z,J){if(function ni(k){return"function"==typeof k}(P)||null!=z||null!=J)this.next=P,this.error=null!=z?z:void 0,this.complete=null!=J?J:void 0;else{const je=P;this.next=je.next,this.error=je.error,this.complete=je.complete}}}function Gr(k){return(...P)=>{Promise.resolve().then(()=>k(...P))}}class xs extends class Ei{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pn.NO_ERROR,this.sendPromise_=new Promise(P=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pn.ABORT,P()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pn.NETWORK_ERROR,P()}),this.xhr_.addEventListener("load",()=>{P()})})}send(P,z,J,we){if(this.sent_)throw Un("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(z,P,!0),void 0!==we)for(const je in we)we.hasOwnProperty(je)&&this.xhr_.setRequestHeader(je,we[je].toString());return void 0!==J?this.xhr_.send(J):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Un("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Un("cannot .getStatus() before sending");try{return this.xhr_.status}catch(P){return-1}}getResponse(){if(!this.sent_)throw Un("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Un("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(P){return this.xhr_.getResponseHeader(P)}addUploadProgressListener(P){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",P)}removeUploadProgressListener(P){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",P)}}{initXhr(){this.xhr_.responseType="text"}}function Sn(){return new xs}class bo{constructor(P,z,J=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=P,this._blob=z,this._metadata=J,this._mappings=en(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=we=>{this._request=void 0,this._chunkMultiplier=1,we._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=we,this._transition("error"))},this._metadataErrorHandler=we=>{this._request=void 0,we._codeEquals("canceled")?this.completeTransitions_():(this._error=we,this._transition("error"))},this._promise=new Promise((we,je)=>{this._resolve=we,this._reject=je,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const P=this._transferred;return z=>this._updateProgress(P+z)}_shouldDoResumable(P){return P.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(P){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([z,J])=>{switch(this._state){case"running":P(z,J);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((P,z)=>{const J=function ie(k,P,z,J,we){const je=P.bucketOnlyServerUrl(),ct=mr(P,J,we),jt={name:ct.fullPath},xt=dn(je,k.host,k._protocol),sn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${J.size()}`,"X-Goog-Upload-Header-Content-Type":ct.contentType,"Content-Type":"application/json; charset=utf-8"},Jn=ri(ct,z),zn=new or(xt,"POST",function nr(bi){let cr;se(bi);try{cr=bi.getResponseHeader("X-Goog-Upload-URL")}catch(Zi){hr(!1)}return hr(Er(cr)),cr},k.maxUploadRetryTime);return zn.urlParams=jt,zn.headers=sn,zn.body=Jn,zn.errorHandler=Et(P),zn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),we=this._ref.storage._makeRequest(J,Sn,P,z);this._request=we,we.getPromise().then(je=>{this._request=void 0,this._uploadUrl=je,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const P=this._uploadUrl;this._resolveToken((z,J)=>{const we=function q(k,P,z,J){const xt=new or(z,"POST",function je(on){const sn=se(on,["active","final"]);let Jn=null;try{Jn=on.getResponseHeader("X-Goog-Upload-Size-Received")}catch(nr){hr(!1)}Jn||hr(!1);const _r=Number(Jn);return hr(!isNaN(_r)),new Yr(_r,J.size(),"final"===sn)},k.maxUploadRetryTime);return xt.headers={"X-Goog-Upload-Command":"query"},xt.errorHandler=Et(P),xt}(this._ref.storage,this._ref._location,P,this._blob),je=this._ref.storage._makeRequest(we,Sn,z,J);this._request=je,je.getPromise().then(ct=>{ct=ct,this._request=void 0,this._updateProgress(ct.current),this._needToFetchStatus=!1,ct.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const P=262144*this._chunkMultiplier,z=new Yr(this._transferred,this._blob.size()),J=this._uploadUrl;this._resolveToken((we,je)=>{let ct;try{ct=function Xe(k,P,z,J,we,je,ct,jt){const xt=new Yr(0,0);if(ct?(xt.current=ct.current,xt.total=ct.total):(xt.current=0,xt.total=J.size()),J.size()!==xt.total)throw function Wt(){return new st("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const on=xt.total-xt.current;let sn=on;we>0&&(sn=Math.min(sn,we));const Jn=xt.current,zn={"X-Goog-Upload-Command":sn===on?"upload, finalize":"upload","X-Goog-Upload-Offset":`${xt.current}`},bi=J.slice(Jn,Jn+sn);if(null===bi)throw sr();const Dr=new or(z,"POST",function cr(zr,rr){const ns=se(zr,["active","final"]),Ho=xt.current+sn,Bs=J.size();let Vs;return Vs="final"===ns?ar(P,je)(zr,rr):null,new Yr(Ho,Bs,"final"===ns,Vs)},P.maxUploadRetryTime);return Dr.headers=zn,Dr.body=bi.uploadData(),Dr.progressCallback=jt||null,Dr.errorHandler=Et(k),Dr}(this._ref._location,this._ref.storage,J,this._blob,P,this._mappings,z,this._makeProgressCallback())}catch(xt){return this._error=xt,void this._transition("error")}const jt=this._ref.storage._makeRequest(ct,Sn,we,je);this._request=jt,jt.getPromise().then(xt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(xt.current),xt.finalized?(this._metadata=xt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((P,z)=>{const J=tn(this._ref.storage,this._ref._location,this._mappings),we=this._ref.storage._makeRequest(J,Sn,P,z);this._request=we,we.getPromise().then(je=>{this._request=void 0,this._metadata=je,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((P,z)=>{const J=function cn(k,P,z,J,we){const je=P.bucketOnlyServerUrl(),ct={"X-Goog-Upload-Protocol":"multipart"},xt=function jt(){let Dr="";for(let zr=0;zr<2;zr++)Dr+=Math.random().toString().slice(2);return Dr}();ct["Content-Type"]="multipart/related; boundary="+xt;const on=mr(P,J,we),sn=ri(on,z),nr=zt.getBlob("--"+xt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+sn+"\r\n--"+xt+"\r\nContent-Type: "+on.contentType+"\r\n\r\n",J,"\r\n--"+xt+"--");if(null===nr)throw sr();const zn={name:on.fullPath},bi=dn(je,k.host,k._protocol),Zi=k.maxUploadRetryTime,mi=new or(bi,"POST",ar(k,z),Zi);return mi.urlParams=zn,mi.headers=ct,mi.body=nr.uploadData(),mi.errorHandler=Et(P),mi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),we=this._ref.storage._makeRequest(J,Sn,P,z);this._request=we,we.getPromise().then(je=>{this._request=void 0,this._metadata=je,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(P){const z=this._transferred;this._transferred=P,this._transferred!==z&&this._notifyObservers()}_transition(P){if(this._state!==P)switch(P){case"canceling":case"pausing":this._state=P,void 0!==this._request&&this._request.cancel();break;case"running":const z="paused"===this._state;this._state=P,z&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=P,this._notifyObservers();break;case"canceled":this._error=ut(),this._state=P,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const P=nn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:P,metadata:this._metadata,task:this,ref:this._ref}}on(P,z,J,we){const je=new $r(z||void 0,J||void 0,we||void 0);return this._addObserver(je),()=>{this._removeObserver(je)}}then(P,z){return this._promise.then(P,z)}catch(P){return this.then(null,P)}_addObserver(P){this._observers.push(P),this._notifyObserver(P)}_removeObserver(P){const z=this._observers.indexOf(P);-1!==z&&this._observers.splice(z,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(z=>{this._notifyObserver(z)})}_finishPromise(){if(void 0!==this._resolve){let P=!0;switch(nn(this._state)){case Bt.SUCCESS:Gr(this._resolve.bind(null,this.snapshot))();break;case Bt.CANCELED:case Bt.ERROR:Gr(this._reject.bind(null,this._error))();break;default:P=!1}P&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(P){switch(nn(this._state)){case Bt.RUNNING:case Bt.PAUSED:P.next&&Gr(P.next.bind(P,this.snapshot))();break;case Bt.SUCCESS:P.complete&&Gr(P.complete.bind(P))();break;default:P.error&&Gr(P.error.bind(P,this._error))()}}resume(){const P="paused"===this._state||"pausing"===this._state;return P&&this._transition("running"),P}pause(){const P="running"===this._state;return P&&this._transition("pausing"),P}cancel(){const P="running"===this._state||"pausing"===this._state;return P&&this._transition("canceling"),P}}class yr{constructor(P,z){this._service=P,this._location=z instanceof vn?z:vn.makeFromUrl(z,P.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(P,z){return new yr(P,z)}get root(){const P=new vn(this._location.bucket,"");return this._newRef(this._service,P)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Nr(this._location.path)}get storage(){return this._service}get parent(){const P=function En(k){if(0===k.length)return null;const P=k.lastIndexOf("/");return-1===P?"":k.slice(0,P)}(this._location.path);if(null===P)return null;const z=new vn(this._location.bucket,P);return new yr(this._service,z)}_throwIfRoot(P){if(""===this._location.path)throw Dn(P)}}function vt(k,P,z){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,We.Z)(function*(k,P,z){const we=yield Bn(k,{pageToken:z});P.prefixes.push(...we.prefixes),P.items.push(...we.items),null!=we.nextPageToken&&(yield vt(k,P,we.nextPageToken))})).apply(this,arguments)}function Bn(k,P){null!=P&&"number"==typeof P.maxResults&&Nt("options.maxResults",1,1e3,P.maxResults);const z=P||{},J=tr(k.storage,k._location,"/",z.pageToken,z.maxResults);return k.storage.makeRequestWithTokens(J,Sn)}function es(k){k._throwIfRoot("getDownloadURL");const P=function ur(k,P,z){const we=dn(P.fullServerUrl(),k.host,k._protocol),ct=k.maxOperationRetryTime,jt=new or(we,"GET",function Sr(k,P){return function z(J,we){const je=Qn(k,we,P);return hr(null!==je),function Ir(k,P,z,J){const we=On(P);if(null===we||!Er(we.downloadTokens))return null;const je=we.downloadTokens;if(0===je.length)return null;const ct=encodeURIComponent;return je.split(",").map(on=>{const Jn=k.fullPath;return dn("/b/"+ct(k.bucket)+"/o/"+ct(Jn),z,J)+wn({alt:"media",token:on})})[0]}(je,we,k.host,k._protocol)}}(k,z),ct);return jt.errorHandler=Ut(P),jt}(k.storage,k._location,en());return k.storage.makeRequestWithTokens(P,Sn).then(z=>{if(null===z)throw function kt(){return new st("no-download-url","The given file does not have any download URLs.")}();return z})}function ds(k,P){const z=function Zn(k,P){const z=P.split("/").filter(J=>J.length>0).join("/");return 0===k.length?z:k+"/"+z}(k._location.path,P),J=new vn(k._location.bucket,z);return new yr(k.storage,J)}function Gs(k,P){if(k instanceof zs){const z=k;if(null==z._bucket)throw function _n(){return new st("no-default-bucket","No default bucket found. Did you set the '"+Ke+"' property when initializing the app?")}();const J=new yr(z,z._bucket);return null!=P?Gs(J,P):J}return void 0!==P?ds(k,P):k}function ks(k,P){if(P&&function Ps(k){return/^[A-Za-z]+:\/\//.test(k)}(P)){if(k instanceof zs)return function Os(k,P){return new yr(k,P)}(k,P);throw Yn("To use ref(service, url), the first argument must be a Storage instance.")}return Gs(k,P)}function Ns(k,P){const z=null==P?void 0:P[Ke];return null==z?null:vn.makeFromBucketSpec(z,k)}class zs{constructor(P,z,J,we,je){this.app=P,this._authProvider=z,this._appCheckProvider=J,this._url=we,this._firebaseVersion=je,this._bucket=null,this._host=Le,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=we?vn.makeFromBucketSpec(we,this._host):Ns(this._host,this.app.options)}get host(){return this._host}set host(P){this._host=P,this._bucket=null!=this._url?vn.makeFromBucketSpec(this._url,P):Ns(P,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(P){Nt("time",0,Number.POSITIVE_INFINITY,P),this._maxUploadRetryTime=P}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(P){Nt("time",0,Number.POSITIVE_INFINITY,P),this._maxOperationRetryTime=P}_getAuthToken(){var P=this;return(0,We.Z)(function*(){if(P._overrideAuthToken)return P._overrideAuthToken;const z=P._authProvider.getImmediate({optional:!0});if(z){const J=yield z.getToken();if(null!==J)return J.accessToken}return null})()}_getAppCheckToken(){var P=this;return(0,We.Z)(function*(){const z=P._appCheckProvider.getImmediate({optional:!0});return z?(yield z.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(P=>P.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(P){return new yr(this,P)}_makeRequest(P,z,J,we){if(this._deleted)return new Mn(Xt());{const je=function yt(k,P,z,J,we,je){const ct=wn(k.urlParams),jt=k.url+ct,xt=Object.assign({},k.headers);return function Fe(k,P){P&&(k["X-Firebase-GMPID"]=P)}(xt,P),function X(k,P){null!==P&&P.length>0&&(k.Authorization="Firebase "+P)}(xt,z),function oe(k,P){k["X-Firebase-Storage-Version"]="webjs/"+(null!=P?P:"AppManager")}(xt,je),function tt(k,P){null!==P&&(k["X-Firebase-AppCheck"]=P)}(xt,J),new di(jt,k.method,xt,k.body,k.successCodes,k.additionalRetryCodes,k.handler,k.errorHandler,k.timeout,k.progressCallback,we)}(P,this._appId,J,we,z,this._firebaseVersion);return this._requests.add(je),je.getPromise().then(()=>this._requests.delete(je),()=>this._requests.delete(je)),je}}makeRequestWithTokens(P,z){var J=this;return(0,We.Z)(function*(){const[we,je]=yield Promise.all([J._getAuthToken(),J._getAppCheckToken()]);return J._makeRequest(P,z,we,je).getPromise()})()}}const ts="@firebase/storage";function Do(k,P){return ks(k=(0,at.m9)(k),P)}function bn(k,{instanceIdentifier:P}){const z=k.getProvider("app").getImmediate(),J=k.getProvider("auth-internal"),we=k.getProvider("app-check-internal");return new zs(z,J,we,P,nt.SDK_VERSION)}!function R(){(0,nt._registerComponent)(new _e.wA("storage",bn,"PUBLIC").setMultipleInstances(!0)),(0,nt.registerVersion)(ts,"0.9.2",""),(0,nt.registerVersion)(ts,"0.9.2","esm2017")}();class j{constructor(P,z,J){this._delegate=P,this.task=z,this.ref=J}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class A{constructor(P,z){this._delegate=P,this._ref=z,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new j(this._delegate.snapshot,this,this._ref)}then(P,z){return this._delegate.then(J=>{if(P)return P(new j(J,this,this._ref))},z)}on(P,z,J,we){let je;return z&&(je="function"==typeof z?ct=>z(new j(ct,this,this._ref)):{next:z.next?ct=>z.next(new j(ct,this,this._ref)):void 0,complete:z.complete||void 0,error:z.error||void 0}),this._delegate.on(P,je,J||void 0,we||void 0)}}class ${constructor(P,z){this._delegate=P,this._service=z}get prefixes(){return this._delegate.prefixes.map(P=>new ue(P,this._service))}get items(){return this._delegate.items.map(P=>new ue(P,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ue{constructor(P,z){this._delegate=P,this.storage=z}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(P){const z=function Ws(k,P){return ds(k,P)}(this._delegate,P);return new ue(z,this.storage)}get root(){return new ue(this._delegate.root,this.storage)}get parent(){const P=this._delegate.parent;return null==P?null:new ue(P,this.storage)}put(P,z){return this._throwIfRoot("put"),new A(function pi(k,P,z){return function ye(k,P,z){return k._throwIfRoot("uploadBytesResumable"),new bo(k,new zt(P),z)}(k=(0,at.m9)(k),P,z)}(this._delegate,P,z),this)}putString(P,z=Mt.RAW,J){this._throwIfRoot("putString");const we=Ln(z,P),je=Object.assign({},J);return null==je.contentType&&null!=we.contentType&&(je.contentType=we.contentType),new A(new bo(this._delegate,new zt(we.data,!0),je),this)}listAll(){return function Es(k){return function Je(k){const P={prefixes:[],items:[]};return vt(k,P).then(()=>P)}(k=(0,at.m9)(k))}(this._delegate).then(P=>new $(P,this.storage))}list(P){return function Fr(k,P){return Bn(k=(0,at.m9)(k),P)}(this._delegate,P||void 0).then(z=>new $(z,this.storage))}getMetadata(){return function gi(k){return function Rr(k){k._throwIfRoot("getMetadata");const P=tn(k.storage,k._location,en());return k.storage.makeRequestWithTokens(P,Sn)}(k=(0,at.m9)(k))}(this._delegate)}updateMetadata(P){return function ws(k,P){return function Rn(k,P){k._throwIfRoot("updateMetadata");const z=function Hr(k,P,z,J){const je=dn(P.fullServerUrl(),k.host,k._protocol),jt=ri(z,J),on=k.maxOperationRetryTime,sn=new or(je,"PATCH",ar(k,J),on);return sn.headers={"Content-Type":"application/json; charset=utf-8"},sn.body=jt,sn.errorHandler=Ut(P),sn}(k.storage,k._location,P,en());return k.storage.makeRequestWithTokens(z,Sn)}(k=(0,at.m9)(k),P)}(this._delegate,P)}getDownloadURL(){return function ji(k){return es(k=(0,at.m9)(k))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Is(k){return function ls(k){k._throwIfRoot("deleteObject");const P=function An(k,P){const J=dn(P.fullServerUrl(),k.host,k._protocol),jt=new or(J,"DELETE",function ct(xt,on){},k.maxOperationRetryTime);return jt.successCodes=[200,204],jt.errorHandler=Ut(P),jt}(k.storage,k._location);return k.storage.makeRequestWithTokens(P,Sn)}(k=(0,at.m9)(k))}(this._delegate)}_throwIfRoot(P){if(""===this._delegate._location.path)throw Dn(P)}}class qe{constructor(P,z){this.app=P,this._delegate=z}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(P){if(Ye(P))throw Yn("ref() expected a child path but got a URL, use refFromURL instead.");return new ue(Do(this._delegate,P),this)}refFromURL(P){if(!Ye(P))throw Yn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{vn.makeFromUrl(P,this._delegate.host)}catch(z){throw Yn("refFromUrl() expected a valid full URL but got an invalid one.")}return new ue(Do(this._delegate,P),this)}setMaxUploadRetryTime(P){this._delegate.maxUploadRetryTime=P}setMaxOperationRetryTime(P){this._delegate.maxOperationRetryTime=P}useEmulator(P,z,J={}){!function Hn(k,P,z,J={}){!function _s(k,P,z,J={}){k.host=`${P}:${z}`,k._protocol="http";const{mockUserToken:we}=J;we&&(k._overrideAuthToken="string"==typeof we?we:(0,at.Sg)(we,k.app.options.projectId))}(k,P,z,J)}(this._delegate,P,z,J)}}function Ye(k){return/^[A-Za-z]+:\/\//.test(k)}function $n(k,{instanceIdentifier:P}){const z=k.getProvider("app-compat").getImmediate(),J=k.getProvider("storage").getImmediate({identifier:P});return new qe(z,J)}!function rn(k){const P={TaskState:Bt,TaskEvent:$t,StringFormat:Mt,Storage:qe,Reference:ue};k.INTERNAL.registerComponent(new _e.wA("storage-compat",$n,"PUBLIC").setServiceProps(P).setMultipleInstances(!0)),k.registerVersion("@firebase/storage-compat","0.1.10")}(pt.Z);var kr=L(440),Gn=L(127);function Xr(k){const P=function Vt(k){return new E.y(P=>{const z=ct=>P.next(ct);z(k.snapshot);const je=k.on("state_changed",z);return k.then(ct=>{z(ct),P.complete()},ct=>{z(k.snapshot),(ct=>{P.error(ct)})(ct)}),function(){je()}}).pipe(function Re(k,P=pe.z){return(0,ge.e)((z,J)=>{let we=null,je=null,ct=null;const jt=()=>{if(we){we.unsubscribe(),we=null;const on=je;je=null,J.next(on)}};function xt(){const on=ct+k,sn=P.now();if(sn<on)return we=this.schedule(void 0,on-sn),void J.add(we);jt()}z.subscribe(new Te.Q(J,on=>{je=on,ct=P.now(),we||(we=P.schedule(xt,k),J.add(we))},()=>{jt(),J.complete()},void 0,()=>{je=we=null}))})}(0))}(k);return{task:k,then:k.then.bind(k),catch:k.catch.bind(k),pause:k.pause.bind(k),cancel:k.cancel.bind(k),resume:k.resume.bind(k),snapshotChanges:()=>P,percentageChanges:()=>P.pipe((0,Ae.U)(z=>z.bytesTransferred/z.totalBytes*100))}}function Pi(k){return{getDownloadURL:()=>(0,x.of)(void 0).pipe(ne.fc,(0,Me.w)(()=>k.getDownloadURL()),ne.iC),getMetadata:()=>(0,x.of)(void 0).pipe(ne.fc,(0,Me.w)(()=>k.getMetadata()),ne.iC),delete:()=>(0,G.D)(k.delete()),child:P=>Pi(k.child(P)),updateMetadata:P=>(0,G.D)(k.updateMetadata(P)),put:(P,z)=>Xr(k.put(P,z)),putString:(P,z,J)=>Xr(k.putString(P,z,J)),list:P=>(0,G.D)(k.list(P)),listAll:()=>(0,G.D)(k.listAll())}}const qs=new ee.OlP("angularfire2.storageBucket"),Oi=new ee.OlP("angularfire2.storage.maxUploadRetryTime"),ki=new ee.OlP("angularfire2.storage.maxOperationRetryTime"),Fs=new ee.OlP("angularfire2.storage.use-emulator");let Us=(()=>{class k{constructor(z,J,we,je,ct,jt,xt,on,sn,Jn){const _r=(0,Se.on)(z,ct,J);this.storage=(0,Se.cc)(`${_r.name}.storage.${we}`,"AngularFireStorage",_r.name,()=>{const nr=ct.runOutsideAngular(()=>_r.storage(we||void 0)),zn=sn;return zn&&nr.useEmulator(...zn),xt&&nr.setMaxUploadRetryTime(xt),on&&nr.setMaxOperationRetryTime(on),nr},[xt,on])}ref(z){return Pi(this.storage.ref(z))}refFromURL(z){return Pi(this.storage.refFromURL(z))}upload(z,J,we){return Pi(this.storage.ref(z)).put(J,we)}}return k.\u0275fac=function(z){return new(z||k)(ee.LFG(Se.Dh),ee.LFG(Se.xv,8),ee.LFG(qs,8),ee.LFG(ee.Lbi),ee.LFG(ee.R0b),ee.LFG(ne.HU),ee.LFG(Oi,8),ee.LFG(ki,8),ee.LFG(Fs,8),ee.LFG(kr.nm,8))},k.\u0275prov=ee.Yz7({token:k,factory:k.\u0275fac,providedIn:"any"}),k})(),gn=(()=>{class k{}return k.\u0275fac=function(z){return new(z||k)},k.\u0275mod=ee.oAB({type:k}),k.\u0275inj=ee.cJS({}),k})(),jo=(()=>{class k{constructor(){Gn.Z.registerVersion("angularfire",ne.q4.full,"gcs-compat")}}return k.\u0275fac=function(z){return new(z||k)},k.\u0275mod=ee.oAB({type:k}),k.\u0275inj=ee.cJS({providers:[Us],imports:[gn]}),k})()},2011:(Pt,$e,L)=>{"use strict";L.d($e,{hO:()=>pt,xv:()=>Me,Dh:()=>Ae,GT:()=>Te,cc:()=>We,on:()=>ne,pX:()=>ge});var E=L(5e3),x=L(127),G=L(5813);Pt=L.hmd(Pt);const pe=["ngOnDestroy"],ge=(Le,Ke,Ue,Y={})=>new Proxy(Le,{get:(st,et)=>Ue.runOutsideAngular(()=>{var Dt;if(Le[et])return(null===(Dt=null==Y?void 0:Y.spy)||void 0===Dt?void 0:Dt.get)&&Y.spy.get(et,Le[et]),Le[et];if(pe.indexOf(et)>-1)return()=>{};const rt=Ke.toPromise().then(Tt=>{const Ce=Tt&&Tt[et];return"function"==typeof Ce?Ce.bind(Tt):Ce&&Ce.then?Ce.then(ve=>Ue.run(()=>ve)):Ue.run(()=>Ce)});return new Proxy(()=>{},{get:(Tt,Ce)=>rt[Ce],apply:(Tt,Ce,ve)=>rt.then(Ve=>{var xe;const ut=Ve&&Ve(...ve);return(null===(xe=null==Y?void 0:Y.spy)||void 0===xe?void 0:xe.apply)&&Y.spy.apply(et,ve,ut),ut})})})}),Te=(Le,Ke)=>{Ke.forEach(Ue=>{Object.getOwnPropertyNames(Ue.prototype||Ue).forEach(Y=>{Object.defineProperty(Le.prototype,Y,Object.getOwnPropertyDescriptor(Ue.prototype||Ue,Y))})})};class Re{constructor(Ke){return Ke}}const Ae=new E.OlP("angularfire2.app.options"),Me=new E.OlP("angularfire2.app.name");function ne(Le,Ke,Ue){const st="object"==typeof Ue&&Ue||{};st.name=st.name||"string"==typeof Ue&&Ue||"[DEFAULT]";const Dt=x.Z.apps.filter(rt=>rt&&rt.name===st.name)[0]||Ke.runOutsideAngular(()=>x.Z.initializeApp(Le,st));try{JSON.stringify(Le)!==JSON.stringify(Dt.options)&&ee("error",`${Dt.name} Firebase App already initialized with different options${Pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(rt){}return new Re(Dt)}const ee=(Le,...Ke)=>{(0,E.X6Q)()&&"undefined"!=typeof console&&console[Le](...Ke)},Se={provide:Re,useFactory:ne,deps:[Ae,E.R0b,[new E.FiY,Me]]};let pt=(()=>{class Le{constructor(Ue){x.Z.registerVersion("angularfire",G.q4.full,"core"),x.Z.registerVersion("angularfire",G.q4.full,"app-compat"),x.Z.registerVersion("angular",E.q4F.full,Ue.toString())}static initializeApp(Ue,Y){return{ngModule:Le,providers:[{provide:Ae,useValue:Ue},{provide:Me,useValue:Y}]}}}return Le.\u0275fac=function(Ue){return new(Ue||Le)(E.LFG(E.Lbi))},Le.\u0275mod=E.oAB({type:Le}),Le.\u0275inj=E.cJS({providers:[Se]}),Le})();function We(Le,Ke,Ue,Y,st){const[,et,Dt]=globalThis.\u0275AngularfireInstanceCache.find(rt=>rt[0]===Le)||[];if(et)return function nt(Le,Ke){try{return Le.toString()===Ke.toString()}catch(Ue){return Le===Ke}}(st,Dt)||(_e("error",`${Ke} was already initialized on the ${Ue} Firebase App with different settings.${at?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:st,was:Dt})),et;{const rt=Y();return globalThis.\u0275AngularfireInstanceCache.push([Le,rt,st]),rt}}const at=!!Pt.hot,_e=(Le,...Ke)=>{(0,E.X6Q)()&&"undefined"!=typeof console&&console[Le](...Ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Pt,$e,L)=>{"use strict";L.d($e,{q4:()=>ma,iC:()=>$a,fc:()=>Br,HU:()=>Ha,vb:()=>wc,JM:()=>lu});var E=L(5e3),x=L(5867),G=L(5861),pe=L(9681),ge=L(2090),Te=L(4859),Re=L(1877),Ae=L(2940);const Me="@firebase/installations",Se="w:0.5.5",pt="FIS_v2",Ke=new ge.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ue(D){return D instanceof ge.ZR&&D.code.includes("request-failed")}function Y({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function st(D){return{token:D.token,requestStatus:2,expiresIn:Ve(D.expiresIn),creationTime:Date.now()}}function et(D,S){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,G.Z)(function*(D,S){const te=(yield S.json()).error;return Ke.create("request-failed",{requestName:D,serverCode:te.code,serverMessage:te.message,serverStatus:te.status})})).apply(this,arguments)}function rt({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Tt(D,{refreshToken:S}){const H=rt(D);return H.append("Authorization",function xe(D){return`${pt} ${D}`}(S)),H}function Ce(D){return ve.apply(this,arguments)}function ve(){return(ve=(0,G.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function Ve(D){return Number(D.replace("s","000"))}function ut(D,S){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,G.Z)(function*(D,{fid:S}){const H=Y(D),Qe={method:"POST",headers:rt(D),body:JSON.stringify({fid:S,authVersion:pt,appId:D.appId,sdkVersion:Se})},_t=yield Ce(()=>fetch(H,Qe));if(_t.ok){const qt=yield _t.json();return{fid:qt.fid||S,registrationStatus:2,refreshToken:qt.refreshToken,authToken:st(qt.authToken)}}throw yield et("Create Installation",_t)})).apply(this,arguments)}function Yt(D){return new Promise(S=>{setTimeout(S,D)})}const sr=/^[cdef][\w-]{21}$/;function kt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const H=function Yn(D){return function _n(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return sr.test(H)?H:""}catch(D){return""}}function Xt(D){return`${D.appName}!${D.appId}`}const Dn=new Map;function Ct(D,S){const H=Xt(D);Mn(H,S),function Cr(D,S){const H=function Nn(){return!an&&"BroadcastChannel"in self&&(an=new BroadcastChannel("[Firebase] FID Change"),an.onmessage=D=>{Mn(D.data.key,D.data.fid)}),an}();H&&H.postMessage({key:D,fid:S}),function ni(){0===Dn.size&&an&&(an.close(),an=null)}()}(H,S)}function Mn(D,S){const H=Dn.get(D);if(H)for(const te of H)te(S)}let an=null;const ot="firebase-installations-store";let Tn=null;function Nt(){return Tn||(Tn=(0,Ae.openDb)("firebase-installations-database",1,D=>{0===D.oldVersion&&D.createObjectStore(ot)})),Tn}function dn(D,S){return wn.apply(this,arguments)}function wn(){return(wn=(0,G.Z)(function*(D,S){const H=Xt(D),De=(yield Nt()).transaction(ot,"readwrite"),Qe=De.objectStore(ot),_t=yield Qe.get(H);return yield Qe.put(S,H),yield De.complete,(!_t||_t.fid!==S.fid)&&Ct(D,S.fid),S})).apply(this,arguments)}function Pn(D){return di.apply(this,arguments)}function di(){return(di=(0,G.Z)(function*(D){const S=Xt(D),te=(yield Nt()).transaction(ot,"readwrite");yield te.objectStore(ot).delete(S),yield te.complete})).apply(this,arguments)}function Oe(D,S){return X.apply(this,arguments)}function X(){return(X=(0,G.Z)(function*(D,S){const H=Xt(D),De=(yield Nt()).transaction(ot,"readwrite"),Qe=De.objectStore(ot),_t=yield Qe.get(H),qt=S(_t);return void 0===qt?yield Qe.delete(H):yield Qe.put(qt,H),yield De.complete,qt&&(!_t||_t.fid!==qt.fid)&&Ct(D,qt.fid),qt})).apply(this,arguments)}function oe(D){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,G.Z)(function*(D){let S;const H=yield Oe(D,te=>{const De=tt(te),Qe=yt(D,De);return S=Qe.registrationPromise,Qe.installationEntry});return""===H.fid?{installationEntry:yield S}:{installationEntry:H,registrationPromise:S}})).apply(this,arguments)}function tt(D){return ln(D||{fid:kt(),registrationStatus:0})}function yt(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(Ke.create("app-offline"))};const H={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},te=function gt(D,S){return It.apply(this,arguments)}(D,H);return{installationEntry:H,registrationPromise:te}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:hn(D)}:{installationEntry:S}}function It(){return(It=(0,G.Z)(function*(D,S){try{return dn(D,yield ut(D,S))}catch(H){throw Ue(H)&&409===H.customData.serverCode?yield Pn(D):yield dn(D,{fid:S.fid,registrationStatus:0}),H}})).apply(this,arguments)}function hn(D){return jn.apply(this,arguments)}function jn(){return(jn=(0,G.Z)(function*(D){let S=yield Mt(D);for(;1===S.registrationStatus;)yield Yt(100),S=yield Mt(D);if(0===S.registrationStatus){const{installationEntry:H,registrationPromise:te}=yield oe(D);return te||H}return S})).apply(this,arguments)}function Mt(D){return Oe(D,S=>{if(!S)throw Ke.create("installation-not-found");return ln(S)})}function ln(D){return function Ln(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function un(D,S){return Q.apply(this,arguments)}function Q(){return(Q=(0,G.Z)(function*({appConfig:D,platformLoggerProvider:S},H){const te=ae(D,H),De=Tt(D,H),Qe=S.getImmediate({optional:!0});Qe&&De.append("x-firebase-client",Qe.getPlatformInfoString());const qt={method:"POST",headers:De,body:JSON.stringify({installation:{sdkVersion:Se}})},Gt=yield Ce(()=>fetch(te,qt));if(Gt.ok)return st(yield Gt.json());throw yield et("Generate Auth Token",Gt)})).apply(this,arguments)}function ae(D,{fid:S}){return`${Y(D)}/${S}/authTokens:generate`}function ce(D){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,G.Z)(function*(D,S=!1){let H;const te=yield Oe(D.appConfig,Qe=>{if(!Zn(Qe))throw Ke.create("not-registered");const _t=Qe.authToken;if(!S&&Nr(_t))return Qe;if(1===_t.requestStatus)return H=Ne(D,S),Qe;{if(!navigator.onLine)throw Ke.create("app-offline");const qt=kn(Qe);return H=On(D,qt),qt}});return H?yield H:te.authToken})).apply(this,arguments)}function Ne(D,S){return At.apply(this,arguments)}function At(){return(At=(0,G.Z)(function*(D,S){let H=yield zt(D.appConfig);for(;1===H.authToken.requestStatus;)yield Yt(100),H=yield zt(D.appConfig);const te=H.authToken;return 0===te.requestStatus?ce(D,S):te})).apply(this,arguments)}function zt(D){return Oe(D,S=>{if(!Zn(S))throw Ke.create("not-registered");return function jr(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function On(D,S){return En.apply(this,arguments)}function En(){return(En=(0,G.Z)(function*(D,S){try{const H=yield un(D,S),te=Object.assign(Object.assign({},S),{authToken:H});return yield dn(D.appConfig,te),H}catch(H){if(!Ue(H)||401!==H.customData.serverCode&&404!==H.customData.serverCode){const te=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield dn(D.appConfig,te)}else yield Pn(D.appConfig);throw H}})).apply(this,arguments)}function Zn(D){return void 0!==D&&2===D.registrationStatus}function Nr(D){return 2===D.requestStatus&&!function fn(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+36e5}(D)}function kn(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}function en(){return(en=(0,G.Z)(function*(D){const S=D,{installationEntry:H,registrationPromise:te}=yield oe(S.appConfig);return te?te.catch(console.error):ce(S).catch(console.error),H.fid})).apply(this,arguments)}function Bi(){return(Bi=(0,G.Z)(function*(D,S=!1){const H=D;return yield Qn(H.appConfig),(yield ce(H,S)).token})).apply(this,arguments)}function Qn(D){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,G.Z)(function*(D){const{registrationPromise:S}=yield oe(D);S&&(yield S)})).apply(this,arguments)}function hi(D){return Ke.create("missing-app-config-values",{valueName:D})}const Sr="installations",Ut=D=>{const S=D.getProvider("app").getImmediate(),H=function ar(D){if(!D||!D.options)throw hi("App Configuration");if(!D.name)throw hi("App Name");const S=["projectId","apiKey","appId"];for(const H of S)if(!D.options[H])throw hi(H);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S);return{app:S,appConfig:H,platformLoggerProvider:(0,pe._getProvider)(S,"platform-logger"),_delete:()=>Promise.resolve()}},tn=D=>{const S=D.getProvider("app").getImmediate(),H=(0,pe._getProvider)(S,Sr).getImmediate();return{getId:()=>function Kr(D){return en.apply(this,arguments)}(H),getToken:De=>function Ar(D){return Bi.apply(this,arguments)}(H,De)}};(function tr(){(0,pe._registerComponent)(new Te.wA(Sr,Ut,"PUBLIC")),(0,pe._registerComponent)(new Te.wA("installations-internal",tn,"PRIVATE"))})(),(0,pe.registerVersion)(Me,"0.5.5"),(0,pe.registerVersion)(Me,"0.5.5","esm2017");const br="@firebase/remote-config",mr=new ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Xs{constructor(S,H,te,De){this.client=S,this.storage=H,this.storageCache=te,this.logger=De}isCachedDataFresh(S,H){if(!H)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const te=Date.now()-H,De=te<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${te}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${De}.`),De}fetch(S){var H=this;return(0,G.Z)(function*(){const[te,De]=yield Promise.all([H.storage.getLastSuccessfulFetchTimestampMillis(),H.storage.getLastSuccessfulFetchResponse()]);if(De&&H.isCachedDataFresh(S.cacheMaxAgeMillis,te))return De;S.eTag=De&&De.eTag;const Qe=yield H.client.fetch(S),_t=[H.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Qe.status&&_t.push(H.storage.setLastSuccessfulFetchResponse(Qe)),yield Promise.all(_t),Qe})()}}function bo(D=navigator){return D.languages&&D.languages[0]||D.language}class yr{constructor(S,H,te,De,Qe,_t){this.firebaseInstallations=S,this.sdkVersion=H,this.namespace=te,this.projectId=De,this.apiKey=Qe,this.appId=_t}fetch(S){var H=this;return(0,G.Z)(function*(){const[te,De]=yield Promise.all([H.firebaseInstallations.getId(),H.firebaseInstallations.getToken()]),_t=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${H.projectId}/namespaces/${H.namespace}:fetch?key=${H.apiKey}`,qt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},Gt={sdk_version:H.sdkVersion,app_instance_id:te,app_instance_id_token:De,app_id:H.appId,language_code:bo()},lr={method:"POST",headers:qt,body:JSON.stringify(Gt)},xr=fetch(_t,lr),Yi=new Promise((Fi,Mo)=>{S.signal.addEventListener(()=>{const _o=new Error("The operation was aborted.");_o.name="AbortError",Mo(_o)})});let _i;try{yield Promise.race([xr,Yi]),_i=yield xr}catch(Fi){let Mo="fetch-client-network";throw"AbortError"===Fi.name&&(Mo="fetch-timeout"),mr.create(Mo,{originalErrorMessage:Fi.message})}let Mr=_i.status;const _a=_i.headers.get("ETag")||void 0;let so,za;if(200===_i.status){let Fi;try{Fi=yield _i.json()}catch(Mo){throw mr.create("fetch-client-parse",{originalErrorMessage:Mo.message})}so=Fi.entries,za=Fi.state}if("INSTANCE_STATE_UNSPECIFIED"===za?Mr=500:"NO_CHANGE"===za?Mr=304:("NO_TEMPLATE"===za||"EMPTY_CONFIG"===za)&&(so={}),304!==Mr&&200!==Mr)throw mr.create("fetch-status",{httpStatus:Mr});return{status:Mr,eTag:_a,config:so}})()}}class Ee{constructor(S,H){this.client=S,this.storage=H}fetch(S){var H=this;return(0,G.Z)(function*(){const te=(yield H.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return H.attemptFetch(S,te)})()}attemptFetch(S,{throttleEndTimeMillis:H,backoffCount:te}){var De=this;return(0,G.Z)(function*(){yield function Ms(D,S){return new Promise((H,te)=>{const De=Math.max(S-Date.now(),0),Qe=setTimeout(H,De);D.addEventListener(()=>{clearTimeout(Qe),te(mr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,H);try{const Qe=yield De.client.fetch(S);return yield De.storage.deleteThrottleMetadata(),Qe}catch(Qe){if(!function ys(D){if(!(D instanceof ge.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(Qe))throw Qe;const _t={throttleEndTimeMillis:Date.now()+(0,ge.$s)(te),backoffCount:te+1};return yield De.storage.setThrottleMetadata(_t),De.attemptFetch(S,_t)}})()}}class Je{constructor(S,H,te,De,Qe){this.app=S,this._client=H,this._storageCache=te,this._storage=De,this._logger=Qe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function vt(D,S){const H=D.target.error||void 0;return mr.create(S,{originalErrorMessage:H&&H.message})}const Ot="app_namespace_store";class es{constructor(S,H,te,De=function Rn(){return new Promise((D,S)=>{try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=te=>{S(vt(te,"storage-open"))},H.onsuccess=te=>{D(te.target.result)},H.onupgradeneeded=te=>{0===te.oldVersion&&te.target.result.createObjectStore(Ot,{keyPath:"compositeKey"})}}catch(H){S(mr.create("storage-open",{originalErrorMessage:H}))}})}()){this.appId=S,this.appName=H,this.namespace=te,this.openDbPromise=De}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var H=this;return(0,G.Z)(function*(){const te=yield H.openDbPromise;return new Promise((De,Qe)=>{const qt=te.transaction([Ot],"readonly").objectStore(Ot),Gt=H.createCompositeKey(S);try{const lr=qt.get(Gt);lr.onerror=xr=>{Qe(vt(xr,"storage-get"))},lr.onsuccess=xr=>{const Yi=xr.target.result;De(Yi?Yi.value:void 0)}}catch(lr){Qe(mr.create("storage-get",{originalErrorMessage:lr&&lr.message}))}})})()}set(S,H){var te=this;return(0,G.Z)(function*(){const De=yield te.openDbPromise;return new Promise((Qe,_t)=>{const Gt=De.transaction([Ot],"readwrite").objectStore(Ot),lr=te.createCompositeKey(S);try{const xr=Gt.put({compositeKey:lr,value:H});xr.onerror=Yi=>{_t(vt(Yi,"storage-set"))},xr.onsuccess=()=>{Qe()}}catch(xr){_t(mr.create("storage-set",{originalErrorMessage:xr&&xr.message}))}})})()}delete(S){var H=this;return(0,G.Z)(function*(){const te=yield H.openDbPromise;return new Promise((De,Qe)=>{const qt=te.transaction([Ot],"readwrite").objectStore(Ot),Gt=H.createCompositeKey(S);try{const lr=qt.delete(Gt);lr.onerror=xr=>{Qe(vt(xr,"storage-delete"))},lr.onsuccess=()=>{De()}}catch(lr){Qe(mr.create("storage-delete",{originalErrorMessage:lr&&lr.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class ls{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,G.Z)(function*(){const H=S.storage.getLastFetchStatus(),te=S.storage.getLastSuccessfulFetchTimestampMillis(),De=S.storage.getActiveConfig(),Qe=yield H;Qe&&(S.lastFetchStatus=Qe);const _t=yield te;_t&&(S.lastSuccessfulFetchTimestampMillis=_t);const qt=yield De;qt&&(S.activeConfig=qt)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Gs(){return ks.apply(this,arguments)}function ks(){return(ks=(0,G.Z)(function*(){if(!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch(D){return!1}})).apply(this,arguments)}!function ds(){(0,pe._registerComponent)(new Te.wA("remote-config",function D(S,{instanceIdentifier:H}){const te=S.getProvider("app").getImmediate(),De=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw mr.create("registration-window");if(!(0,ge.hl)())throw mr.create("indexed-db-unavailable");const{projectId:Qe,apiKey:_t,appId:qt}=te.options;if(!Qe)throw mr.create("registration-project-id");if(!_t)throw mr.create("registration-api-key");if(!qt)throw mr.create("registration-app-id");const Gt=new es(qt,te.name,H=H||"firebase"),lr=new ls(Gt),xr=new Re.Yd(br);xr.logLevel=Re.in.ERROR;const Yi=new yr(De,pe.SDK_VERSION,H,Qe,_t,qt),_i=new Ee(Yi,Gt),Mr=new Xs(_i,Gt,lr,xr),_a=new Je(te,Mr,lr,Gt,xr);return function nn(D){const S=(0,ge.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(_a),_a},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(br,"0.3.4"),(0,pe.registerVersion)(br,"0.3.4","esm2017")}();const Ns="/firebase-messaging-sw.js",_s="/firebase-cloud-messaging-push-scope",zs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Jr="google.c.a.c_id",vs="google.c.a.c_l",Ii="google.c.a.ts",lo="google.c.a.e";var pi=(()=>{return(D=pi||(pi={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",pi;var D})();function gi(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ws(D){const H=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),te=atob(H),De=new Uint8Array(te.length);for(let Qe=0;Qe<te.length;++Qe)De[Qe]=te.charCodeAt(Qe);return De}const Fr="fcm_token_details_db",ji="fcm_token_object_Store";function Is(D){return Do.apply(this,arguments)}function Do(){return Do=(0,G.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Qe=>Qe.name).includes(Fr))return null;let S=null;return(yield(0,Ae.openDb)(Fr,5,function(){var te=(0,G.Z)(function*(De){var Qe;if(De.oldVersion<2||!De.objectStoreNames.contains(ji))return;const _t=De.transaction.objectStore(ji),qt=yield _t.index("fcmSenderId").get(D);if(yield _t.clear(),qt)if(2===De.oldVersion){const Gt=qt;if(!Gt.auth||!Gt.p256dh||!Gt.endpoint)return;S={token:Gt.fcmToken,createTime:null!==(Qe=Gt.createTime)&&void 0!==Qe?Qe:Date.now(),subscriptionOptions:{auth:Gt.auth,p256dh:Gt.p256dh,endpoint:Gt.endpoint,swScope:Gt.swScope,vapidKey:"string"==typeof Gt.vapidKey?Gt.vapidKey:gi(Gt.vapidKey)}}}else if(3===De.oldVersion){const Gt=qt;S={token:Gt.fcmToken,createTime:Gt.createTime,subscriptionOptions:{auth:gi(Gt.auth),p256dh:gi(Gt.p256dh),endpoint:Gt.endpoint,swScope:Gt.swScope,vapidKey:gi(Gt.vapidKey)}}}else if(4===De.oldVersion){const Gt=qt;S={token:Gt.fcmToken,createTime:Gt.createTime,subscriptionOptions:{auth:gi(Gt.auth),p256dh:gi(Gt.p256dh),endpoint:Gt.endpoint,swScope:Gt.swScope,vapidKey:gi(Gt.vapidKey)}}}});return function(De){return te.apply(this,arguments)}}())).close(),yield(0,Ae.deleteDb)(Fr),yield(0,Ae.deleteDb)("fcm_vapid_details_db"),yield(0,Ae.deleteDb)("undefined"),Ws(S)?S:null}),Do.apply(this,arguments)}function Ws(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Mi="firebase-messaging-store";let ho=null;function bn(){return ho||(ho=(0,Ae.openDb)("firebase-messaging-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Mi)})),ho}function R(D){return j.apply(this,arguments)}function j(){return(j=(0,G.Z)(function*(D){const S=Ye(D),te=yield(yield bn()).transaction(Mi).objectStore(Mi).get(S);if(te)return te;{const De=yield Is(D.appConfig.senderId);if(De)return yield A(D,De),De}})).apply(this,arguments)}function A(D,S){return $.apply(this,arguments)}function $(){return($=(0,G.Z)(function*(D,S){const H=Ye(D),De=(yield bn()).transaction(Mi,"readwrite");return yield De.objectStore(Mi).put(S,H),yield De.complete,S})).apply(this,arguments)}function ue(D){return qe.apply(this,arguments)}function qe(){return(qe=(0,G.Z)(function*(D){const S=Ye(D),te=(yield bn()).transaction(Mi,"readwrite");yield te.objectStore(Mi).delete(S),yield te.complete})).apply(this,arguments)}function Ye({appConfig:D}){return D.appId}const pn=new ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Vn(D,S){return $n.apply(this,arguments)}function $n(){return($n=(0,G.Z)(function*(D,S){const H=yield Pi(D),te=Oi(S),De={method:"POST",headers:H,body:JSON.stringify(te)};let Qe;try{Qe=yield(yield fetch(Xr(D.appConfig),De)).json()}catch(_t){throw pn.create("token-subscribe-failed",{errorInfo:_t})}if(Qe.error)throw pn.create("token-subscribe-failed",{errorInfo:Qe.error.message});if(!Qe.token)throw pn.create("token-subscribe-no-token");return Qe.token})).apply(this,arguments)}function rn(D,S){return kr.apply(this,arguments)}function kr(){return(kr=(0,G.Z)(function*(D,S){const H=yield Pi(D),te=Oi(S.subscriptionOptions),De={method:"PATCH",headers:H,body:JSON.stringify(te)};let Qe;try{Qe=yield(yield fetch(`${Xr(D.appConfig)}/${S.token}`,De)).json()}catch(_t){throw pn.create("token-update-failed",{errorInfo:_t})}if(Qe.error)throw pn.create("token-update-failed",{errorInfo:Qe.error.message});if(!Qe.token)throw pn.create("token-update-no-token");return Qe.token})).apply(this,arguments)}function Gn(D,S){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,G.Z)(function*(D,S){const te={method:"DELETE",headers:yield Pi(D)};try{const Qe=yield(yield fetch(`${Xr(D.appConfig)}/${S}`,te)).json();if(Qe.error)throw pn.create("token-unsubscribe-failed",{errorInfo:Qe.error.message})}catch(De){throw pn.create("token-unsubscribe-failed",{errorInfo:De})}})).apply(this,arguments)}function Xr({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Pi(D){return qs.apply(this,arguments)}function qs(){return(qs=(0,G.Z)(function*({appConfig:D,installations:S}){const H=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${H}`})})).apply(this,arguments)}function Oi({p256dh:D,auth:S,endpoint:H,vapidKey:te}){const De={web:{endpoint:H,auth:S,p256dh:D}};return te!==zs&&(De.web.applicationPubKey=te),De}const ki=6048e5;function Fs(D){return Us.apply(this,arguments)}function Us(){return(Us=(0,G.Z)(function*(D){const S=yield J(D.swRegistration,D.vapidKey),H={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:gi(S.getKey("auth")),p256dh:gi(S.getKey("p256dh"))},te=yield R(D.firebaseDependencies);if(te){if(je(te.subscriptionOptions,H))return Date.now()>=te.createTime+ki?jo(D,{token:te.token,createTime:Date.now(),subscriptionOptions:H}):te.token;try{yield Gn(D.firebaseDependencies,te.token)}catch(De){console.warn(De)}return P(D.firebaseDependencies,H)}return P(D.firebaseDependencies,H)})).apply(this,arguments)}function lt(D){return gn.apply(this,arguments)}function gn(){return(gn=(0,G.Z)(function*(D){const S=yield R(D.firebaseDependencies);S&&(yield Gn(D.firebaseDependencies,S.token),yield ue(D.firebaseDependencies));const H=yield D.swRegistration.pushManager.getSubscription();return!H||H.unsubscribe()})).apply(this,arguments)}function jo(D,S){return k.apply(this,arguments)}function k(){return(k=(0,G.Z)(function*(D,S){try{const H=yield rn(D.firebaseDependencies,S),te=Object.assign(Object.assign({},S),{token:H,createTime:Date.now()});return yield A(D.firebaseDependencies,te),H}catch(H){throw yield lt(D),H}})).apply(this,arguments)}function P(D,S){return z.apply(this,arguments)}function z(){return(z=(0,G.Z)(function*(D,S){const te={token:yield Vn(D,S),createTime:Date.now(),subscriptionOptions:S};return yield A(D,te),te.token})).apply(this,arguments)}function J(D,S){return we.apply(this,arguments)}function we(){return(we=(0,G.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ws(S)})})).apply(this,arguments)}function je(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}function ct(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function jt(D,S){if(!S.notification)return;D.notification={};const H=S.notification.title;H&&(D.notification.title=H);const te=S.notification.body;te&&(D.notification.body=te);const De=S.notification.image;De&&(D.notification.image=De)}(S,D),function xt(D,S){!S.data||(D.data=S.data)}(S,D),function on(D,S){if(!S.fcmOptions)return;D.fcmOptions={};const H=S.fcmOptions.link;H&&(D.fcmOptions.link=H);const te=S.fcmOptions.analytics_label;te&&(D.fcmOptions.analyticsLabel=te)}(S,D),S}function sn(D){return"object"==typeof D&&!!D&&Jr in D}function Jn(D,S){const H=[];for(let te=0;te<D.length;te++)H.push(D.charAt(te)),te<S.length&&H.push(S.charAt(te));return H.join("")}function nr(D){return pn.create("missing-app-config-values",{valueName:D})}Jn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Jn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zn{constructor(S,H,te){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const De=function _r(D){if(!D||!D.options)throw nr("App Configuration Object");if(!D.name)throw nr("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:H}=D;for(const te of S)if(!H[te])throw nr(te);return{appName:D.name,projectId:H.projectId,apiKey:H.apiKey,appId:H.appId,senderId:H.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:De,installations:H,analyticsProvider:te}}_delete(){return Promise.resolve()}}function bi(D){return cr.apply(this,arguments)}function cr(){return(cr=(0,G.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Ns,{scope:_s}),D.swRegistration.update().catch(()=>{})}catch(S){throw pn.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function Zi(D,S){return mi.apply(this,arguments)}function mi(){return(mi=(0,G.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield bi(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw pn.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function Dr(D,S){return zr.apply(this,arguments)}function zr(){return(zr=(0,G.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=zs)})).apply(this,arguments)}function ns(){return(ns=(0,G.Z)(function*(D,S){if(!navigator)throw pn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw pn.create("permission-blocked");return yield Dr(D,null==S?void 0:S.vapidKey),yield Zi(D,null==S?void 0:S.serviceWorkerRegistration),Fs(D)})).apply(this,arguments)}function Ho(D,S,H){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,G.Z)(function*(D,S,H){const te=Vs(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(te,{message_id:H[Jr],message_name:H[vs],message_time:H[Ii],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Vs(D){switch(D){case pi.NOTIFICATION_CLICKED:return"notification_open";case pi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function fo(){return(fo=(0,G.Z)(function*(D,S){const H=S.data;if(!H.isFirebaseMessaging)return;D.onMessageHandler&&H.messageType===pi.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(ct(H)):D.onMessageHandler.next(ct(H)));const te=H.data;sn(te)&&"1"===te[lo]&&(yield Ho(D,H.messageType,te))})).apply(this,arguments)}const Pa="@firebase/messaging",To=D=>{const S=new zn(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",H=>function Ma(D,S){return fo.apply(this,arguments)}(S,H)),S},Oa=D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:te=>function rr(D,S){return ns.apply(this,arguments)}(S,te)}};function yi(){return bs.apply(this,arguments)}function bs(){return(bs=(0,G.Z)(function*(){return"undefined"!=typeof window&&(0,ge.hl)()&&(yield(0,ge.eu)())&&(0,ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function eo(){(0,pe._registerComponent)(new Te.wA("messaging",To,"PUBLIC")),(0,pe._registerComponent)(new Te.wA("messaging-internal",Oa,"PRIVATE")),(0,pe.registerVersion)(Pa,"0.9.7"),(0,pe.registerVersion)(Pa,"0.9.7","esm2017")}();const Zs="analytics",ua="firebase_id",La="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rs="https://www.googletagmanager.com/gtag/js",vr=new Re.Yd("@firebase/analytics");function Wo(D){return Promise.all(D.map(S=>S.catch(H=>H)))}function no(D,S){const H=document.createElement("script");H.src=`${rs}?l=${D}&id=${S}`,H.async=!0,document.head.appendChild(H)}function qo(D,S,H,te,De,Qe){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,G.Z)(function*(D,S,H,te,De,Qe){const _t=te[De];try{if(_t)yield S[_t];else{const Gt=(yield Wo(H)).find(lr=>lr.measurementId===De);Gt&&(yield S[Gt.appId])}}catch(qt){vr.error(qt)}D("config",De,Qe)})).apply(this,arguments)}function Ao(D,S,H,te,De){return ca.apply(this,arguments)}function ca(){return(ca=(0,G.Z)(function*(D,S,H,te,De){try{let Qe=[];if(De&&De.send_to){let _t=De.send_to;Array.isArray(_t)||(_t=[_t]);const qt=yield Wo(H);for(const Gt of _t){const lr=qt.find(Yi=>Yi.measurementId===Gt),xr=lr&&S[lr.appId];if(!xr){Qe=[];break}Qe.push(xr)}}0===Qe.length&&(Qe=Object.values(S)),yield Promise.all(Qe),D("event",te,De||{})}catch(Qe){vr.error(Qe)}})).apply(this,arguments)}function Fa(){const D=window.document.getElementsByTagName("script");for(const S of Object.values(D))if(S.src&&S.src.includes(rs))return S;return null}const Di=new ge.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),yc=new class la{constructor(S={},H=1e3){this.throttleMetadata=S,this.intervalMillis=H}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,H){this.throttleMetadata[S]=H}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Ro(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Hu(D){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,G.Z)(function*(D){var S;const{appId:H,apiKey:te}=D,De={method:"GET",headers:Ro(te)},Qe=La.replace("{app-id}",H),_t=yield fetch(Qe,De);if(200!==_t.status&&304!==_t.status){let qt="";try{const Gt=yield _t.json();(null===(S=Gt.error)||void 0===S?void 0:S.message)&&(qt=Gt.error.message)}catch(Gt){}throw Di.create("config-fetch-failed",{httpStatus:_t.status,responseMessage:qt})}return _t.json()})).apply(this,arguments)}function uu(D){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,G.Z)(function*(D,S=yc,H){const{appId:te,apiKey:De,measurementId:Qe}=D.options;if(!te)throw Di.create("no-app-id");if(!De){if(Qe)return{measurementId:Qe,appId:te};throw Di.create("no-api-key")}const _t=S.getThrottleMetadata(te)||{backoffCount:0,throttleEndTimeMillis:Date.now()},qt=new ro;return setTimeout((0,G.Z)(function*(){qt.abort()}),void 0!==H?H:6e4),go({appId:te,apiKey:De,measurementId:Qe},_t,qt,S)})).apply(this,arguments)}function go(D,S,H){return da.apply(this,arguments)}function da(){return(da=(0,G.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:H},te,De=yc){const{appId:Qe,measurementId:_t}=D;try{yield $u(te,S)}catch(qt){if(_t)return vr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${qt.message}]`),{appId:Qe,measurementId:_t};throw qt}try{const qt=yield Hu(D);return De.deleteThrottleMetadata(Qe),qt}catch(qt){if(!si(qt)){if(De.deleteThrottleMetadata(Qe),_t)return vr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${qt.message}]`),{appId:Qe,measurementId:_t};throw qt}const Gt=503===Number(qt.customData.httpStatus)?(0,ge.$s)(H,De.intervalMillis,30):(0,ge.$s)(H,De.intervalMillis),lr={throttleEndTimeMillis:Date.now()+Gt,backoffCount:H+1};return De.setThrottleMetadata(Qe,lr),vr.debug(`Calling attemptFetch again in ${Gt} millis`),go(D,lr,te,De)}})).apply(this,arguments)}function $u(D,S){return new Promise((H,te)=>{const De=Math.max(S-Date.now(),0),Qe=setTimeout(H,De);D.addEventListener(()=>{clearTimeout(Qe),te(Di.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function si(D){if(!(D instanceof ge.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}class ro{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function Ds(){return io.apply(this,arguments)}function io(){return(io=(0,G.Z)(function*(){if(!(0,ge.hl)())return vr.warn(Di.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ge.eu)()}catch(D){return vr.warn(Di.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function y(){return(y=(0,G.Z)(function*(D,S,H,te,De,Qe,_t){var qt;const Gt=uu(D);Gt.then(Mr=>{H[Mr.measurementId]=Mr.appId,D.options.measurementId&&Mr.measurementId!==D.options.measurementId&&vr.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Mr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mr=>vr.error(Mr)),S.push(Gt);const lr=Ds().then(Mr=>{if(Mr)return te.getId()}),[xr,Yi]=yield Promise.all([Gt,lr]);Fa()||no(Qe,xr.measurementId),De("js",new Date);const _i=null!==(qt=null==_t?void 0:_t.config)&&void 0!==qt?qt:{};return _i.origin="firebase",_i.update=!0,null!=Yi&&(_i[ua]=Yi),De("config",xr.measurementId,_i),xr.measurementId})).apply(this,arguments)}class _{constructor(S){this.app=S}_delete(){return delete C[this.app.options.appId],Promise.resolve()}}let C={},O=[];const F={};let me,he,Z="dataLayer",ze=!1;function Xn(D,S,H){!function Wn(){const D=[];if((0,ge.ru)()&&D.push("This is a browser extension environment."),(0,ge.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((te,De)=>`(${De+1}) ${te}`).join(" "),H=Di.create("invalid-analytics-context",{errorInfo:S});vr.warn(H.message)}}();const te=D.options.appId;if(!te)throw Di.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Di.create("no-api-key");vr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=C[te])throw Di.create("already-exists",{id:te});if(!ze){!function po(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(Z);const{wrappedGtag:Qe,gtagCore:_t}=function So(D,S,H,te,De){let Qe=function(..._t){window[te].push(arguments)};return window[De]&&"function"==typeof window[De]&&(Qe=window[De]),window[De]=function Vu(D,S,H,te){function Qe(){return(Qe=(0,G.Z)(function*(_t,qt,Gt){try{"event"===_t?yield Ao(D,S,H,qt,Gt):"config"===_t?yield qo(D,S,H,te,qt,Gt):D("set",qt)}catch(lr){vr.error(lr)}})).apply(this,arguments)}return function De(_t,qt,Gt){return Qe.apply(this,arguments)}}(Qe,D,S,H),{gtagCore:Qe,wrappedGtag:window[De]}}(C,O,F,Z,"gtag");he=Qe,me=_t,ze=!0}return C[te]=function I(D,S,H,te,De,Qe,_t){return y.apply(this,arguments)}(D,O,F,S,me,Z,H),new _(D)}function hs(){return(hs=(0,G.Z)(function*(D,S,H,te,De){if(De&&De.global)D("event",H,te);else{const Qe=yield S;D("event",H,Object.assign(Object.assign({},te),{send_to:Qe}))}})).apply(this,arguments)}function cu(){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,G.Z)(function*(){if((0,ge.ru)()||!(0,ge.zI)()||!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch(D){return!1}})).apply(this,arguments)}const qn="@firebase/analytics";!function er(){(0,pe._registerComponent)(new Te.wA(Zs,(S,{options:H})=>Xn(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),H),"PUBLIC")),(0,pe._registerComponent)(new Te.wA("analytics-internal",function D(S){try{const H=S.getProvider(Zs).getImmediate();return{logEvent:(te,De,Qe)=>function Va(D,S,H,te){D=(0,ge.m9)(D),function Wr(D,S,H,te,De){return hs.apply(this,arguments)}(he,C[D.app.options.appId],S,H,te).catch(De=>vr.error(De))}(H,te,De,Qe)}}catch(H){throw Di.create("interop-component-reg-failed",{reason:H})}},"PRIVATE")),(0,pe.registerVersion)(qn,"0.7.5"),(0,pe.registerVersion)(qn,"0.7.5","esm2017")}();var fa=L(4408),Gi=L(7565);const Li=new class nd extends Gi.v{}(class mo extends fa.o{constructor(S,H){super(S,H),this.scheduler=S,this.work=H}schedule(S,H=0){return H>0?super.schedule(S,H):(this.delay=H,this.state=S,this.scheduler.flush(this),this)}execute(S,H){return H>0||this.closed?super.execute(S,H):this._execute(S,H)}requestAsyncId(S,H,te=0){return null!=te&&te>0||null==te&&this.delay>0?super.requestAsyncId(S,H,te):S.flush(this)}});var pa=L(4986),ga=L(8505),Qo=L(5363),ja=L(9468);const ma=new E.GfV("7.2.0"),_c="__angularfire_symbol__analyticsIsSupported",yo="__angularfire_symbol__remoteConfigIsSupported",xo="__angularfire_symbol__messagingIsSupported";function lu(D,S,H){if(S){if(1===S.length)return S[0];const Qe=S.filter(_t=>_t.app===H);if(1===Qe.length)return Qe[0]}return H.container.getProvider(D).getImmediate({optional:!0})}globalThis[_c]||(globalThis[_c]=cu().then(D=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=D)),globalThis[xo]||(globalThis[xo]=yi().then(D=>globalThis.__angularfire_symbol__messagingIsSupportedValue=D)),globalThis[yo]||(globalThis[yo]=Gs().then(D=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=D));const wc=(D,S)=>{const H=S?[S]:(0,x.C6)(),te=[];return H.forEach(De=>{De.container.getProvider(D).instances.forEach(_t=>{te.includes(_t)||te.push(_t)})}),te};function Xo(){}class Ec{constructor(S,H=Li){this.zone=S,this.delegate=H}now(){return this.delegate.now()}schedule(S,H,te){const De=this.zone;return this.delegate.schedule(function(_t){De.runGuarded(()=>{S.apply(this,[_t])})},H,te)}}class du{constructor(S){this.zone=S,this.task=null}call(S,H){const te=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xo,{},Xo,Xo)),H.pipe((0,ga.b)({next:te,complete:te,error:te})).subscribe(S).add(te)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ha=(()=>{class D{constructor(H){this.ngZone=H,this.outsideAngular=H.runOutsideAngular(()=>new Ec(Zone.current)),this.insideAngular=H.run(()=>new Ec(Zone.current,pa.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(H){return new(H||D)(E.LFG(E.R0b))},D.\u0275prov=E.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function is(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Br(D){return D.pipe((0,Qo.Q)(is().outsideAngular))}function $a(D){return is(),function ya(D){return function(H){return(H=H.lift(new du(D.ngZone))).pipe((0,ja.R)(D.outsideAngular),(0,Qo.Q)(D.insideAngular))}}(is())(D)}},2090:(Pt,$e,L)=>{"use strict";L.d($e,{BH:()=>pt,LL:()=>Pe,ZR:()=>ut,zI:()=>ve,US:()=>Te,tV:()=>Me,$s:()=>Mt,r3:()=>Un,Sg:()=>We,ne:()=>Tn,vZ:()=>an,ZB:()=>ee,pd:()=>Er,m9:()=>un,z$:()=>nt,jU:()=>Le,ru:()=>Ke,d:()=>Y,xb:()=>Mn,w1:()=>st,hl:()=>Tt,uI:()=>at,UG:()=>_e,b$:()=>Ue,G6:()=>rt,Mn:()=>et,xO:()=>ni,zd:()=>Or,eu:()=>Ce});const pe=function(Q){const ae=[];let ce=0;for(let Ge=0;Ge<Q.length;Ge++){let Ne=Q.charCodeAt(Ge);Ne<128?ae[ce++]=Ne:Ne<2048?(ae[ce++]=Ne>>6|192,ae[ce++]=63&Ne|128):55296==(64512&Ne)&&Ge+1<Q.length&&56320==(64512&Q.charCodeAt(Ge+1))?(Ne=65536+((1023&Ne)<<10)+(1023&Q.charCodeAt(++Ge)),ae[ce++]=Ne>>18|240,ae[ce++]=Ne>>12&63|128,ae[ce++]=Ne>>6&63|128,ae[ce++]=63&Ne|128):(ae[ce++]=Ne>>12|224,ae[ce++]=Ne>>6&63|128,ae[ce++]=63&Ne|128)}return ae},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,ae){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ce=ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ge=[];for(let Ne=0;Ne<Q.length;Ne+=3){const At=Q[Ne],zt=Ne+1<Q.length,On=zt?Q[Ne+1]:0,En=Ne+2<Q.length,Zn=En?Q[Ne+2]:0;let kn=(15&On)<<2|Zn>>6,jr=63&Zn;En||(jr=64,zt||(kn=64)),Ge.push(ce[At>>2],ce[(3&At)<<4|On>>4],ce[kn],ce[jr])}return Ge.join("")},encodeString(Q,ae){return this.HAS_NATIVE_SUPPORT&&!ae?btoa(Q):this.encodeByteArray(pe(Q),ae)},decodeString(Q,ae){return this.HAS_NATIVE_SUPPORT&&!ae?atob(Q):function(Q){const ae=[];let ce=0,Ge=0;for(;ce<Q.length;){const Ne=Q[ce++];if(Ne<128)ae[Ge++]=String.fromCharCode(Ne);else if(Ne>191&&Ne<224){const At=Q[ce++];ae[Ge++]=String.fromCharCode((31&Ne)<<6|63&At)}else if(Ne>239&&Ne<365){const En=((7&Ne)<<18|(63&Q[ce++])<<12|(63&Q[ce++])<<6|63&Q[ce++])-65536;ae[Ge++]=String.fromCharCode(55296+(En>>10)),ae[Ge++]=String.fromCharCode(56320+(1023&En))}else{const At=Q[ce++],zt=Q[ce++];ae[Ge++]=String.fromCharCode((15&Ne)<<12|(63&At)<<6|63&zt)}}return ae.join("")}(this.decodeStringToByteArray(Q,ae))},decodeStringToByteArray(Q,ae){this.init_();const ce=ae?this.charToByteMapWebSafe_:this.charToByteMap_,Ge=[];for(let Ne=0;Ne<Q.length;){const At=ce[Q.charAt(Ne++)],On=Ne<Q.length?ce[Q.charAt(Ne)]:0;++Ne;const Zn=Ne<Q.length?ce[Q.charAt(Ne)]:64;++Ne;const fn=Ne<Q.length?ce[Q.charAt(Ne)]:64;if(++Ne,null==At||null==On||null==Zn||null==fn)throw Error();Ge.push(At<<2|On>>4),64!==Zn&&(Ge.push(On<<4&240|Zn>>2),64!==fn&&Ge.push(Zn<<6&192|fn))}return Ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}},Ae=function(Q){return function(Q){const ae=pe(Q);return Te.encodeByteArray(ae,!0)}(Q).replace(/\./g,"")},Me=function(Q){try{return Te.decodeString(Q,!0)}catch(ae){console.error("base64Decode failed: ",ae)}return null};function ee(Q,ae){if(!(ae instanceof Object))return ae;switch(ae.constructor){case Date:return new Date(ae.getTime());case Object:void 0===Q&&(Q={});break;case Array:Q=[];break;default:return ae}for(const ce in ae)!ae.hasOwnProperty(ce)||!Se(ce)||(Q[ce]=ee(Q[ce],ae[ce]));return Q}function Se(Q){return"__proto__"!==Q}class pt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ae,ce)=>{this.resolve=ae,this.reject=ce})}wrapCallback(ae){return(ce,Ge)=>{ce?this.reject(ce):this.resolve(Ge),"function"==typeof ae&&(this.promise.catch(()=>{}),1===ae.length?ae(ce):ae(ce,Ge))}}}function We(Q,ae){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ge=ae||"demo-project",Ne=Q.iat||0,At=Q.sub||Q.user_id;if(!At)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const zt=Object.assign({iss:`https://securetoken.google.com/${Ge}`,aud:Ge,iat:Ne,exp:Ne+3600,auth_time:Ne,sub:At,user_id:At,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[Ae(JSON.stringify({alg:"none",type:"JWT"})),Ae(JSON.stringify(zt)),""].join(".")}function nt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function at(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Q){return!1}}function Le(){return"object"==typeof self&&self.self===self}function Ke(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function Ue(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Y(){return nt().indexOf("Electron/")>=0}function st(){const Q=nt();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function et(){return nt().indexOf("MSAppHost/")>=0}function rt(){return!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tt(){return"object"==typeof indexedDB}function Ce(){return new Promise((Q,ae)=>{try{let ce=!0;const Ge="validate-browser-context-for-indexeddb-analytics-module",Ne=self.indexedDB.open(Ge);Ne.onsuccess=()=>{Ne.result.close(),ce||self.indexedDB.deleteDatabase(Ge),Q(!0)},Ne.onupgradeneeded=()=>{ce=!1},Ne.onerror=()=>{var At;ae((null===(At=Ne.error)||void 0===At?void 0:At.message)||"")}}catch(ce){ae(ce)}})}function ve(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ut extends Error{constructor(ae,ce,Ge){super(ce),this.code=ae,this.customData=Ge,this.name="FirebaseError",Object.setPrototypeOf(this,ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pe.prototype.create)}}class Pe{constructor(ae,ce,Ge){this.service=ae,this.serviceName=ce,this.errors=Ge}create(ae,...ce){const Ge=ce[0]||{},Ne=`${this.service}/${ae}`,At=this.errors[ae],zt=At?function Yt(Q,ae){return Q.replace(_n,(ce,Ge)=>{const Ne=ae[Ge];return null!=Ne?String(Ne):`<${Ge}?>`})}(At,Ge):"Error";return new ut(Ne,`${this.serviceName}: ${zt} (${Ne}).`,Ge)}}const _n=/\{\$([^}]+)}/g;function Un(Q,ae){return Object.prototype.hasOwnProperty.call(Q,ae)}function Mn(Q){for(const ae in Q)if(Object.prototype.hasOwnProperty.call(Q,ae))return!1;return!0}function an(Q,ae){if(Q===ae)return!0;const ce=Object.keys(Q),Ge=Object.keys(ae);for(const Ne of ce){if(!Ge.includes(Ne))return!1;const At=Q[Ne],zt=ae[Ne];if(Nn(At)&&Nn(zt)){if(!an(At,zt))return!1}else if(At!==zt)return!1}for(const Ne of Ge)if(!ce.includes(Ne))return!1;return!0}function Nn(Q){return null!==Q&&"object"==typeof Q}function ni(Q){const ae=[];for(const[ce,Ge]of Object.entries(Q))Array.isArray(Ge)?Ge.forEach(Ne=>{ae.push(encodeURIComponent(ce)+"="+encodeURIComponent(Ne))}):ae.push(encodeURIComponent(ce)+"="+encodeURIComponent(Ge));return ae.length?"&"+ae.join("&"):""}function Or(Q){const ae={};return Q.replace(/^\?/,"").split("&").forEach(Ge=>{if(Ge){const[Ne,At]=Ge.split("=");ae[decodeURIComponent(Ne)]=decodeURIComponent(At)}}),ae}function Er(Q){const ae=Q.indexOf("?");if(!ae)return"";const ce=Q.indexOf("#",ae);return Q.substring(ae,ce>0?ce:void 0)}function Tn(Q,ae){const ce=new Nt(Q,ae);return ce.subscribe.bind(ce)}class Nt{constructor(ae,ce){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ce,this.task.then(()=>{ae(this)}).catch(Ge=>{this.error(Ge)})}next(ae){this.forEachObserver(ce=>{ce.next(ae)})}error(ae){this.forEachObserver(ce=>{ce.error(ae)}),this.close(ae)}complete(){this.forEachObserver(ae=>{ae.complete()}),this.close()}subscribe(ae,ce,Ge){let Ne;if(void 0===ae&&void 0===ce&&void 0===Ge)throw new Error("Missing Observer.");Ne=function wn(Q,ae){if("object"!=typeof Q||null===Q)return!1;for(const ce of ae)if(ce in Q&&"function"==typeof Q[ce])return!0;return!1}(ae,["next","error","complete"])?ae:{next:ae,error:ce,complete:Ge},void 0===Ne.next&&(Ne.next=Pn),void 0===Ne.error&&(Ne.error=Pn),void 0===Ne.complete&&(Ne.complete=Pn);const At=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ne.error(this.finalError):Ne.complete()}catch(zt){}}),this.observers.push(Ne),At}unsubscribeOne(ae){void 0===this.observers||void 0===this.observers[ae]||(delete this.observers[ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ae){if(!this.finalized)for(let ce=0;ce<this.observers.length;ce++)this.sendOne(ce,ae)}sendOne(ae,ce){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ae])try{ce(this.observers[ae])}catch(Ge){"undefined"!=typeof console&&console.error&&console.error(Ge)}})}close(ae){this.finalized||(this.finalized=!0,void 0!==ae&&(this.finalError=ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pn(){}function Mt(Q,ae=1e3,ce=2){const Ge=ae*Math.pow(ce,Q),Ne=Math.round(.5*Ge*(Math.random()-.5)*2);return Math.min(144e5,Ge+Ne)}function un(Q){return Q&&Q._delegate?Q._delegate:Q}},9263:(Pt,$e,L)=>{"use strict";var E=L(9808),x=L(5e3);class G extends E.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pe extends G{static makeCurrent(){(0,E.HT)(new pe)}onAndCancel(ie,q,be){return ie.addEventListener(q,be,!1),()=>{ie.removeEventListener(q,be,!1)}}dispatchEvent(ie,q){ie.dispatchEvent(q)}remove(ie){ie.parentNode&&ie.parentNode.removeChild(ie)}createElement(ie,q){return(q=q||this.getDefaultDocument()).createElement(ie)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ie){return ie.nodeType===Node.ELEMENT_NODE}isShadowRoot(ie){return ie instanceof DocumentFragment}getGlobalEventTarget(ie,q){return"window"===q?window:"document"===q?ie:"body"===q?ie.body:null}getBaseHref(ie){const q=function Te(){return ge=ge||document.querySelector("base"),ge?ge.getAttribute("href"):null}();return null==q?null:function Ae(se){Re=Re||document.createElement("a"),Re.setAttribute("href",se);const ie=Re.pathname;return"/"===ie.charAt(0)?ie:`/${ie}`}(q)}resetBaseElement(){ge=null}getUserAgent(){return window.navigator.userAgent}getCookie(ie){return(0,E.Mx)(document.cookie,ie)}}let Re,ge=null;const Me=new x.OlP("TRANSITION_ID"),ee=[{provide:x.ip1,useFactory:function ne(se,ie,q){return()=>{q.get(x.CZH).donePromise.then(()=>{const be=(0,E.q)(),Xe=ie.querySelectorAll(`style[ng-transition="${se}"]`);for(let $t=0;$t<Xe.length;$t++)be.remove(Xe[$t])})}},deps:[Me,E.K0,x.zs3],multi:!0}];class Se{static init(){(0,x.VLi)(new Se)}addToWindow(ie){x.dqk.getAngularTestability=(be,Xe=!0)=>{const $t=ie.findTestabilityInTree(be,Xe);if(null==$t)throw new Error("Could not find testability for element.");return $t},x.dqk.getAllAngularTestabilities=()=>ie.getAllTestabilities(),x.dqk.getAllAngularRootElements=()=>ie.getAllRootElements(),x.dqk.frameworkStabilizers||(x.dqk.frameworkStabilizers=[]),x.dqk.frameworkStabilizers.push(be=>{const Xe=x.dqk.getAllAngularTestabilities();let $t=Xe.length,Bt=!1;const nn=function($r){Bt=Bt||$r,$t--,0==$t&&be(Bt)};Xe.forEach(function($r){$r.whenStable(nn)})})}findTestabilityInTree(ie,q,be){if(null==q)return null;const Xe=ie.getTestability(q);return null!=Xe?Xe:be?(0,E.q)().isShadowRoot(q)?this.findTestabilityInTree(ie,q.host,!0):this.findTestabilityInTree(ie,q.parentElement,!0):null}}let pt=(()=>{class se{build(){return new XMLHttpRequest}}return se.\u0275fac=function(q){return new(q||se)},se.\u0275prov=x.Yz7({token:se,factory:se.\u0275fac}),se})();const We=new x.OlP("EventManagerPlugins");let nt=(()=>{class se{constructor(q,be){this._zone=be,this._eventNameToPlugin=new Map,q.forEach(Xe=>Xe.manager=this),this._plugins=q.slice().reverse()}addEventListener(q,be,Xe){return this._findPluginFor(be).addEventListener(q,be,Xe)}addGlobalEventListener(q,be,Xe){return this._findPluginFor(be).addGlobalEventListener(q,be,Xe)}getZone(){return this._zone}_findPluginFor(q){const be=this._eventNameToPlugin.get(q);if(be)return be;const Xe=this._plugins;for(let $t=0;$t<Xe.length;$t++){const Bt=Xe[$t];if(Bt.supports(q))return this._eventNameToPlugin.set(q,Bt),Bt}throw new Error(`No event manager plugin found for event ${q}`)}}return se.\u0275fac=function(q){return new(q||se)(x.LFG(We),x.LFG(x.R0b))},se.\u0275prov=x.Yz7({token:se,factory:se.\u0275fac}),se})();class at{constructor(ie){this._doc=ie}addGlobalEventListener(ie,q,be){const Xe=(0,E.q)().getGlobalEventTarget(this._doc,ie);if(!Xe)throw new Error(`Unsupported event target ${Xe} for event ${q}`);return this.addEventListener(Xe,q,be)}}let _e=(()=>{class se{constructor(){this._stylesSet=new Set}addStyles(q){const be=new Set;q.forEach(Xe=>{this._stylesSet.has(Xe)||(this._stylesSet.add(Xe),be.add(Xe))}),this.onStylesAdded(be)}onStylesAdded(q){}getAllStyles(){return Array.from(this._stylesSet)}}return se.\u0275fac=function(q){return new(q||se)},se.\u0275prov=x.Yz7({token:se,factory:se.\u0275fac}),se})(),Le=(()=>{class se extends _e{constructor(q){super(),this._doc=q,this._hostNodes=new Map,this._hostNodes.set(q.head,[])}_addStylesToHost(q,be,Xe){q.forEach($t=>{const Bt=this._doc.createElement("style");Bt.textContent=$t,Xe.push(be.appendChild(Bt))})}addHost(q){const be=[];this._addStylesToHost(this._stylesSet,q,be),this._hostNodes.set(q,be)}removeHost(q){const be=this._hostNodes.get(q);be&&be.forEach(Ke),this._hostNodes.delete(q)}onStylesAdded(q){this._hostNodes.forEach((be,Xe)=>{this._addStylesToHost(q,Xe,be)})}ngOnDestroy(){this._hostNodes.forEach(q=>q.forEach(Ke))}}return se.\u0275fac=function(q){return new(q||se)(x.LFG(E.K0))},se.\u0275prov=x.Yz7({token:se,factory:se.\u0275fac}),se})();function Ke(se){(0,E.q)().remove(se)}const Ue={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Y=/%COMP%/g;function ve(se,ie,q){for(let be=0;be<ie.length;be++){let Xe=ie[be];Array.isArray(Xe)?ve(se,Xe,q):(Xe=Xe.replace(Y,se),q.push(Xe))}return q}function Ve(se){return ie=>{if("__ngUnwrap__"===ie)return se;!1===se(ie)&&(ie.preventDefault(),ie.returnValue=!1)}}let ut=(()=>{class se{constructor(q,be,Xe){this.eventManager=q,this.sharedStylesHost=be,this.appId=Xe,this.rendererByCompId=new Map,this.defaultRenderer=new Pe(q)}createRenderer(q,be){if(!q||!be)return this.defaultRenderer;switch(be.encapsulation){case x.ifc.Emulated:{let Xe=this.rendererByCompId.get(be.id);return Xe||(Xe=new sr(this.eventManager,this.sharedStylesHost,be,this.appId),this.rendererByCompId.set(be.id,Xe)),Xe.applyToHost(q),Xe}case 1:case x.ifc.ShadowDom:return new Wt(this.eventManager,this.sharedStylesHost,q,be);default:if(!this.rendererByCompId.has(be.id)){const Xe=ve(be.id,be.styles,[]);this.sharedStylesHost.addStyles(Xe),this.rendererByCompId.set(be.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return se.\u0275fac=function(q){return new(q||se)(x.LFG(nt),x.LFG(Le),x.LFG(x.AFp))},se.\u0275prov=x.Yz7({token:se,factory:se.\u0275fac}),se})();class Pe{constructor(ie){this.eventManager=ie,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ie,q){return q?document.createElementNS(Ue[q]||q,ie):document.createElement(ie)}createComment(ie){return document.createComment(ie)}createText(ie){return document.createTextNode(ie)}appendChild(ie,q){ie.appendChild(q)}insertBefore(ie,q,be){ie&&ie.insertBefore(q,be)}removeChild(ie,q){ie&&ie.removeChild(q)}selectRootElement(ie,q){let be="string"==typeof ie?document.querySelector(ie):ie;if(!be)throw new Error(`The selector "${ie}" did not match any elements`);return q||(be.textContent=""),be}parentNode(ie){return ie.parentNode}nextSibling(ie){return ie.nextSibling}setAttribute(ie,q,be,Xe){if(Xe){q=Xe+":"+q;const $t=Ue[Xe];$t?ie.setAttributeNS($t,q,be):ie.setAttribute(q,be)}else ie.setAttribute(q,be)}removeAttribute(ie,q,be){if(be){const Xe=Ue[be];Xe?ie.removeAttributeNS(Xe,q):ie.removeAttribute(`${be}:${q}`)}else ie.removeAttribute(q)}addClass(ie,q){ie.classList.add(q)}removeClass(ie,q){ie.classList.remove(q)}setStyle(ie,q,be,Xe){Xe&(x.JOm.DashCase|x.JOm.Important)?ie.style.setProperty(q,be,Xe&x.JOm.Important?"important":""):ie.style[q]=be}removeStyle(ie,q,be){be&x.JOm.DashCase?ie.style.removeProperty(q):ie.style[q]=""}setProperty(ie,q,be){ie[q]=be}setValue(ie,q){ie.nodeValue=q}listen(ie,q,be){return"string"==typeof ie?this.eventManager.addGlobalEventListener(ie,q,Ve(be)):this.eventManager.addEventListener(ie,q,Ve(be))}}class sr extends Pe{constructor(ie,q,be,Xe){super(ie),this.component=be;const $t=ve(Xe+"-"+be.id,be.styles,[]);q.addStyles($t),this.contentAttr=function Tt(se){return"_ngcontent-%COMP%".replace(Y,se)}(Xe+"-"+be.id),this.hostAttr=function Ce(se){return"_nghost-%COMP%".replace(Y,se)}(Xe+"-"+be.id)}applyToHost(ie){super.setAttribute(ie,this.hostAttr,"")}createElement(ie,q){const be=super.createElement(ie,q);return super.setAttribute(be,this.contentAttr,""),be}}class Wt extends Pe{constructor(ie,q,be,Xe){super(ie),this.sharedStylesHost=q,this.hostEl=be,this.shadowRoot=be.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const $t=ve(Xe.id,Xe.styles,[]);for(let Bt=0;Bt<$t.length;Bt++){const nn=document.createElement("style");nn.textContent=$t[Bt],this.shadowRoot.appendChild(nn)}}nodeOrShadowRoot(ie){return ie===this.hostEl?this.shadowRoot:ie}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ie,q){return super.appendChild(this.nodeOrShadowRoot(ie),q)}insertBefore(ie,q,be){return super.insertBefore(this.nodeOrShadowRoot(ie),q,be)}removeChild(ie,q){return super.removeChild(this.nodeOrShadowRoot(ie),q)}parentNode(ie){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ie)))}}let kt=(()=>{class se extends at{constructor(q){super(q)}supports(q){return!0}addEventListener(q,be,Xe){return q.addEventListener(be,Xe,!1),()=>this.removeEventListener(q,be,Xe)}removeEventListener(q,be,Xe){return q.removeEventListener(be,Xe)}}return se.\u0275fac=function(q){return new(q||se)(x.LFG(E.K0))},se.\u0275prov=x.Yz7({token:se,factory:se.\u0275fac}),se})();const Yn=["alt","control","meta","shift"],Dn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ct={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Un={alt:se=>se.altKey,control:se=>se.ctrlKey,meta:se=>se.metaKey,shift:se=>se.shiftKey};let vn=(()=>{class se extends at{constructor(q){super(q)}supports(q){return null!=se.parseEventName(q)}addEventListener(q,be,Xe){const $t=se.parseEventName(be),Bt=se.eventCallback($t.fullKey,Xe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.q)().onAndCancel(q,$t.domEventName,Bt))}static parseEventName(q){const be=q.toLowerCase().split("."),Xe=be.shift();if(0===be.length||"keydown"!==Xe&&"keyup"!==Xe)return null;const $t=se._normalizeKey(be.pop());let Bt="";if(Yn.forEach($r=>{const Gr=be.indexOf($r);Gr>-1&&(be.splice(Gr,1),Bt+=$r+".")}),Bt+=$t,0!=be.length||0===$t.length)return null;const nn={};return nn.domEventName=Xe,nn.fullKey=Bt,nn}static getEventFullKey(q){let be="",Xe=function Mn(se){let ie=se.key;if(null==ie){if(ie=se.keyIdentifier,null==ie)return"Unidentified";ie.startsWith("U+")&&(ie=String.fromCharCode(parseInt(ie.substring(2),16)),3===se.location&&Ct.hasOwnProperty(ie)&&(ie=Ct[ie]))}return Dn[ie]||ie}(q);return Xe=Xe.toLowerCase()," "===Xe?Xe="space":"."===Xe&&(Xe="dot"),Yn.forEach($t=>{$t!=Xe&&Un[$t](q)&&(be+=$t+".")}),be+=Xe,be}static eventCallback(q,be,Xe){return $t=>{se.getEventFullKey($t)===q&&Xe.runGuarded(()=>be($t))}}static _normalizeKey(q){return"esc"===q?"escape":q}}return se.\u0275fac=function(q){return new(q||se)(x.LFG(E.K0))},se.\u0275prov=x.Yz7({token:se,factory:se.\u0275fac}),se})();const Or=(0,x.eFA)(x._c5,"browser",[{provide:x.Lbi,useValue:E.bD},{provide:x.g9A,useValue:function Cr(){pe.makeCurrent(),Se.init()},multi:!0},{provide:E.K0,useFactory:function Nn(){return(0,x.RDi)(document),document},deps:[]}]),Er=[{provide:x.zSh,useValue:"root"},{provide:x.qLn,useFactory:function an(){return new x.qLn},deps:[]},{provide:We,useClass:kt,multi:!0,deps:[E.K0,x.R0b,x.Lbi]},{provide:We,useClass:vn,multi:!0,deps:[E.K0]},{provide:ut,useClass:ut,deps:[nt,Le,x.AFp]},{provide:x.FYo,useExisting:ut},{provide:_e,useExisting:Le},{provide:Le,useClass:Le,deps:[E.K0]},{provide:x.dDg,useClass:x.dDg,deps:[x.R0b]},{provide:nt,useClass:nt,deps:[We,x.R0b]},{provide:E.JF,useClass:pt,deps:[]}];let ot=(()=>{class se{constructor(q){if(q)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(q){return{ngModule:se,providers:[{provide:x.AFp,useValue:q.appId},{provide:Me,useExisting:x.AFp},ee]}}}return se.\u0275fac=function(q){return new(q||se)(x.LFG(se,12))},se.\u0275mod=x.oAB({type:se}),se.\u0275inj=x.cJS({providers:Er,imports:[E.ez,x.hGG]}),se})();"undefined"!=typeof window&&window;var en=L(520),Ar=L(6115);const gr=[{path:"home",loadChildren:()=>L.e(267).then(L.bind(L,1267)).then(se=>se.HomepageModule)},{path:"sell",component:(()=>{class se{constructor(){}ngOnInit(){}}return se.\u0275fac=function(q){return new(q||se)},se.\u0275cmp=x.Xpm({type:se,selectors:[["app-sell"]],decls:2,vars:0,template:function(q,be){1&q&&(x.TgZ(0,"p"),x._uU(1,"sell works!"),x.qZA())},styles:[""]}),se})()},{path:"buy",component:(()=>{class se{constructor(){}ngOnInit(){}}return se.\u0275fac=function(q){return new(q||se)},se.\u0275cmp=x.Xpm({type:se,selectors:[["app-buy"]],decls:2,vars:0,template:function(q,be){1&q&&(x.TgZ(0,"p"),x._uU(1,"buy works!"),x.qZA())},styles:[""]}),se})()},{path:"market",component:(()=>{class se{constructor(){}ngOnInit(){}}return se.\u0275fac=function(q){return new(q||se)},se.\u0275cmp=x.Xpm({type:se,selectors:[["app-market"]],decls:2,vars:0,template:function(q,be){1&q&&(x.TgZ(0,"p"),x._uU(1,"market works!"),x.qZA())},styles:[""]}),se})()},{path:"contact",component:(()=>{class se{constructor(){}ngOnInit(){}}return se.\u0275fac=function(q){return new(q||se)},se.\u0275cmp=x.Xpm({type:se,selectors:[["app-contact"]],decls:2,vars:0,template:function(q,be){1&q&&(x.TgZ(0,"p"),x._uU(1,"contact works!"),x.qZA())},styles:[""]}),se})()},{path:"**",redirectTo:"home"}];let Ri=(()=>{class se{}return se.\u0275fac=function(q){return new(q||se)},se.\u0275mod=x.oAB({type:se}),se.\u0275inj=x.cJS({imports:[[Ar.Bz.forRoot(gr)],Ar.Bz]}),se})(),qi=(()=>{class se{constructor(){}}return se.\u0275fac=function(q){return new(q||se)},se.\u0275cmp=x.Xpm({type:se,selectors:[["app-navbar"]],decls:16,vars:0,consts:[["routerLinkActive","active","routerLink","home"],["routerLinkActive","active","routerLink","sell"],["routerLinkActive","active","routerLink","buy"],["routerLinkActive","active","routerLink","market"],["routerLinkActive","active","routerLink","contact"]],template:function(q,be){1&q&&(x.TgZ(0,"ul"),x.TgZ(1,"li",0),x.TgZ(2,"a"),x._uU(3,"Home"),x.qZA(),x.qZA(),x.TgZ(4,"li",1),x.TgZ(5,"a"),x._uU(6,"Sell Car"),x.qZA(),x.qZA(),x.TgZ(7,"li",2),x.TgZ(8,"a"),x._uU(9,"Buy Car"),x.qZA(),x.qZA(),x.TgZ(10,"li",3),x.TgZ(11,"a"),x._uU(12,"Market"),x.qZA(),x.qZA(),x.TgZ(13,"li",4),x.TgZ(14,"a"),x._uU(15,"Contact Us"),x.qZA(),x.qZA(),x.qZA())},directives:[Ar.Od,Ar.rH],styles:['[_nghost-%COMP%]{display:block;margin:0 3rem}@media screen and (max-width: 991px){[_nghost-%COMP%]{margin:0 0 2rem;width:100%}}ul[_ngcontent-%COMP%]{display:flex;align-items:center}@media screen and (max-width: 991px){ul[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap}}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 1rem}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;text-decoration:none;padding:.75rem 0;position:relative;cursor:pointer!important}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;bottom:0;left:50%;right:50%;height:1px;background:#e05314;opacity:0;visibility:hidden;transition:.3s}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{visibility:visible;opacity:1;left:0;right:0}ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;color:#000}ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{visibility:visible;opacity:1;left:0;right:0}ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:gray}']}),se})();const Lr=function(){return["/account/sign-in"]},or=function(){return["/account/sign-up"]};let hr=(()=>{class se{constructor(){}ngOnInit(){}}return se.\u0275fac=function(q){return new(q||se)},se.\u0275cmp=x.Xpm({type:se,selectors:[["app-header"]],decls:19,vars:4,consts:[[1,"header"],[1,"container"],[1,"header-container"],["href","/",1,"logo"],[1,"header-toolbar"],["href","#"],[1,"material-icons"],[3,"routerLink"],[1,"btn-primary",3,"routerLink"]],template:function(q,be){1&q&&(x.TgZ(0,"header",0),x.TgZ(1,"div",1),x.TgZ(2,"div",2),x.TgZ(3,"a",3),x._uU(4,"auto.market"),x.qZA(),x._UZ(5,"app-navbar"),x.TgZ(6,"div",4),x.TgZ(7,"a",5),x.TgZ(8,"span",6),x._uU(9,"directions_car"),x.qZA(),x.qZA(),x.TgZ(10,"a",5),x.TgZ(11,"span",6),x._uU(12,"star_border"),x.qZA(),x.qZA(),x.TgZ(13,"a",7),x.TgZ(14,"span",6),x._uU(15,"person_outline"),x.qZA(),x._uU(16," Sign in "),x.qZA(),x.TgZ(17,"a",8),x._uU(18,"Sign up"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA()),2&q&&(x.xp6(13),x.Q6J("routerLink",x.DdM(2,Lr)),x.xp6(4),x.Q6J("routerLink",x.DdM(3,or)))},directives:[qi,Ar.yS],styles:["[_nghost-%COMP%]{display:block}.header[_ngcontent-%COMP%]{color:#000}.header-container[_ngcontent-%COMP%]{display:flex;padding:3rem 0;align-items:center}@media screen and (max-width: 991px){.header-container[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}}.header-toolbar[_ngcontent-%COMP%]{margin-left:auto;display:flex;align-items:center}@media screen and (max-width: 991px){.header-toolbar[_ngcontent-%COMP%]{margin:0 auto}}.header-toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:1rem;text-decoration:none;display:flex;align-items:center;color:#000}.header-toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:0 .5rem}.header-toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e05314}.header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{color:#000;font-weight:700}@media screen and (max-width: 991px){.header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:block;text-align:center;margin:0 0 2rem}}.header[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#e05314;color:#fff;border-radius:6px;padding:1.5rem 3rem;margin-left:2rem}.header[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none;background:#c94a12}"]}),se})(),ar=(()=>{class se{constructor(){this.currentDate=new Date}ngOnInit(){}}return se.\u0275fac=function(q){return new(q||se)},se.\u0275cmp=x.Xpm({type:se,selectors:[["app-footer"]],decls:74,vars:0,consts:[[1,"footer"],[1,"container"],[1,"footer-row"],[1,"col-3","col-logo"],["href","#",1,"logo"],[1,"social"],["href","#"],[1,"col-6","col-navi"],["href",""],[1,"col-3","col-links"],[1,"lang"],[1,"lang-select"],[1,"material-icons"],[1,"copyright"]],template:function(q,be){1&q&&(x.TgZ(0,"footer",0),x.TgZ(1,"div",1),x.TgZ(2,"div",2),x.TgZ(3,"div",3),x.TgZ(4,"a",4),x._uU(5,"auto.market"),x.qZA(),x.TgZ(6,"div",5),x.TgZ(7,"a",6),x._uU(8,"i"),x.qZA(),x.TgZ(9,"a",6),x._uU(10,"f"),x.qZA(),x.TgZ(11,"a",6),x._uU(12,"t"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(13,"div",7),x.TgZ(14,"ul"),x.TgZ(15,"li"),x.TgZ(16,"a",8),x._uU(17,"Home"),x.qZA(),x.qZA(),x.TgZ(18,"li"),x.TgZ(19,"a",8),x._uU(20,"Sell Car"),x.qZA(),x.qZA(),x.TgZ(21,"li"),x.TgZ(22,"a",8),x._uU(23,"Buy Car"),x.qZA(),x.qZA(),x.TgZ(24,"li"),x.TgZ(25,"a",8),x._uU(26,"Market"),x.qZA(),x.qZA(),x.TgZ(27,"li"),x.TgZ(28,"a",8),x._uU(29,"Contact Us"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(30,"ul"),x.TgZ(31,"li"),x.TgZ(32,"a",8),x._uU(33,"Home"),x.qZA(),x.qZA(),x.TgZ(34,"li"),x.TgZ(35,"a",8),x._uU(36,"Sell Car"),x.qZA(),x.qZA(),x.TgZ(37,"li"),x.TgZ(38,"a",8),x._uU(39,"Buy Car"),x.qZA(),x.qZA(),x.TgZ(40,"li"),x.TgZ(41,"a",8),x._uU(42,"Market"),x.qZA(),x.qZA(),x.TgZ(43,"li"),x.TgZ(44,"a",8),x._uU(45,"Contact Us"),x.qZA(),x.qZA(),x.qZA(),x.TgZ(46,"ul"),x.TgZ(47,"li"),x.TgZ(48,"a",8),x._uU(49,"Home"),x.qZA(),x.qZA(),x.TgZ(50,"li"),x.TgZ(51,"a",8),x._uU(52,"Sell Car"),x.qZA(),x.qZA(),x.TgZ(53,"li"),x.TgZ(54,"a",8),x._uU(55,"Buy Car"),x.qZA(),x.qZA(),x.TgZ(56,"li"),x.TgZ(57,"a",8),x._uU(58,"Market"),x.qZA(),x.qZA(),x.TgZ(59,"li"),x.TgZ(60,"a",8),x._uU(61,"Contact Us"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(62,"div",9),x.TgZ(63,"a",6),x._uU(64,"AppSote"),x.qZA(),x.TgZ(65,"a",6),x._uU(66,"GooglePlay"),x.qZA(),x.TgZ(67,"div",10),x.TgZ(68,"div",11),x._uU(69," English "),x.TgZ(70,"span",12),x._uU(71,"expand_more"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(72,"div",13),x._uU(73,"\xa9 auto.market / 2019 - 2022. All rights reserved. "),x.qZA(),x.qZA(),x.qZA())},styles:["[_nghost-%COMP%]{display:block;padding-bottom:2rem}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.footer-row[_ngcontent-%COMP%]{border-top:2px solid #d4d0d0;display:flex;justify-content:space-between;padding-top:2rem;margin-bottom:1rem}@media screen and (max-width: 991px){.footer-row[_ngcontent-%COMP%]{display:block;text-align:center}}.footer-row[_ngcontent-%COMP%]   .col-3[_ngcontent-%COMP%]{flex:0 0 25%}@media screen and (max-width: 991px){.footer-row[_ngcontent-%COMP%]   .col-3[_ngcontent-%COMP%]{margin-bottom:2rem}}.footer-row[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%]{flex:0 0 50%}@media screen and (max-width: 991px){.footer-row[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%]{margin-bottom:2rem}}.footer-row[_ngcontent-%COMP%]   .col-logo[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-weight:700;margin-bottom:1rem;display:block}.footer-row[_ngcontent-%COMP%]   .col-logo[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{font-size:2em}.footer-row[_ngcontent-%COMP%]   .col-logo[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:1rem}.footer-row[_ngcontent-%COMP%]   .col-navi[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media screen and (max-width: 991px){.footer-row[_ngcontent-%COMP%]   .col-navi[_ngcontent-%COMP%]{display:block;text-align:center}}.footer-row[_ngcontent-%COMP%]   .col-navi[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:1rem}.footer-row[_ngcontent-%COMP%]   .col-links[_ngcontent-%COMP%]{text-align:right}@media screen and (max-width: 991px){.footer-row[_ngcontent-%COMP%]   .col-links[_ngcontent-%COMP%]{text-align:center}}.footer-row[_ngcontent-%COMP%]   .col-links[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:inline-block;width:200px;text-align:center;padding:1rem 2rem;background:#000;border-radius:6px;color:#fff;font-size:1.5em;font-weight:700;margin-bottom:2rem}.footer-row[_ngcontent-%COMP%]   .col-links[_ngcontent-%COMP%]   .lang[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}@media screen and (max-width: 991px){.footer-row[_ngcontent-%COMP%]   .col-links[_ngcontent-%COMP%]   .lang[_ngcontent-%COMP%]{justify-content:center}}.footer-row[_ngcontent-%COMP%]   .col-links[_ngcontent-%COMP%]   .lang-select[_ngcontent-%COMP%]{cursor:pointer;width:200px;padding:1rem 2rem;background:#fff;border-radius:6px;box-shadow:0 0 12px 3px #0000001a;display:flex;align-items:center;justify-content:center}.footer-row[_ngcontent-%COMP%]   .col-links[_ngcontent-%COMP%]   .lang-select[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:1rem}.copyright[_ngcontent-%COMP%]{text-align:center;color:gray}"]}),se})(),hi=(()=>{class se{constructor(){}ngOnInit(){}onActivate(q,be){be.scrollTop=0}}return se.\u0275fac=function(q){return new(q||se)},se.\u0275cmp=x.Xpm({type:se,selectors:[["base-layout"]],decls:6,vars:0,consts:[[1,"container"],[3,"activate"],["scrollContainer",""]],template:function(q,be){if(1&q){const Xe=x.EpF();x._UZ(0,"app-header"),x.TgZ(1,"main"),x.TgZ(2,"div",0),x.TgZ(3,"router-outlet",1,2),x.NdJ("activate",function(Bt){x.CHM(Xe);const nn=x.MAs(4);return be.onActivate(Bt,nn)}),x.qZA(),x.qZA(),x.qZA(),x._UZ(5,"app-footer")}},directives:[hr,Ar.lC,ar],styles:["main[_ngcontent-%COMP%]{padding:5rem 0;min-height:50vh}"]}),se})(),Sr=(()=>{class se{}return se.\u0275fac=function(q){return new(q||se)},se.\u0275cmp=x.Xpm({type:se,selectors:[["app-root"]],decls:1,vars:0,template:function(q,be){1&q&&x._UZ(0,"base-layout")},directives:[hi],encapsulation:2}),se})();const Et_firebaseConfig={apiKey:"AIzaSyASqw9nxtaaBOXZhB0TxOi8IU-M7Y-j-Ds",authDomain:"carsltg.firebaseapp.com",databaseURL:"https://carsltg-default-rtdb.firebaseio.com",projectId:"carsltg",storageBucket:"carsltg.appspot.com",messagingSenderId:"976051698019",appId:"1:976051698019:web:ffa4112f4077e681b33b56"};var Ut=L(2011),tn=L(9541),tr=L(2084);let br=(()=>{class se{}return se.\u0275fac=function(q){return new(q||se)},se.\u0275mod=x.oAB({type:se}),se.\u0275inj=x.cJS({imports:[[Ar.Bz]]}),se})();var ur=L(1135),Hr=L(8306),An=L(576),mr=L(262);let cn=(()=>{class se{constructor(q,be){this.route=q,this.router=be,this.isRefreshingToken=!1,this.tokenSubject=new ur.X("")}intercept(q,be){return be.handle(this.addTokenToRequest(q,"eyJhbGciOiJIUzUxMiJ9.eyJ1c2VyX2lkIjo3LCJ1c2VyX25hbWUiOiJzYW1pLmxhc3NlZDEiLCJ1c2VyX2ZpcnN0X25hbWUiOiJGaXJzdCIsInVzZXJfbGFzdF9uYW1lIjoiQWNjb3VudCIsInVzZXJfc3RhdHVzIjoiaW5fcmV2aWV3IiwidXNlcl90eXBlIjoidXNlciIsImNyZWF0ZWRfb24iOjE2NDMzMTYyOTk1NDIsImxhc3RfdXBkYXRlZF9vbiI6MTY0MzMzMTIzOTYwMywidXNlcl9wbGFucyI6W10sImNvbnRhY3QiOlt7ImlkIjo3LCJlbnRpdHlfdHlwZSI6InVzZXIiLCJlbnRpdHlfaWQiOjcsImFkZHJlc3MiOlt7ImlkIjoxMiwic3RyZWV0IjoiMTIzIEhhcHBpbmVzcyBTdHJlZXQiLCJzdHJlZXQyIjoiIiwic3RyZWV0MSI6IiIsImNpdHlfaWQiOjMxMjQ2LCJjaXR5IjpudWxsLCJzdGF0ZV9pZCI6MTA5OCwic3RhdGUiOm51bGwsImNvdW50cnlfaWQiOjQsImNvdW50cnkiOm51bGwsInppcF9jb2RlIjoiMzEwMDAiLCJsYXQiOiIiLCJsbmciOiIifV0sImVtYWlsIjpbeyJpZCI6NywiZW1haWxfaWQiOiJzYW1pLmxhc3NlZDFAZ21haWwuY29tIn1dLCJwaG9uZSI6W3siaWQiOjksImNvdW50cnlfY29kZSI6IisyMTMiLCJhcmVhX2NvZGUiOm51bGwsIm51bWJlciI6IjUxNDkxOTExMjcifV19XSwibWVkaWEiOm51bGwsInVzZXJfcm9sZXMiOlt7ImlkIjozLCJuYW1lIjoiUk9MRV9VU0VSIiwicm9sZV9wZXJtaXNzaW9uIjpbeyJpZCI6MywibmFtZSI6IkJBU0lDIn1dfV0sImRhdGVfb2ZfYmlydGgiOiIyNy0xMC0xOTgzIiwiZ2VuZGVyIjoiTWFsZSIsImFnZSI6MzgsInVzZXJSb2xlIjoiUk9MRV9VU0VSIiwiaXNzIjoidXNlci1hY2NvdW50Iiwic3ViIjoic2FtaS5sYXNzZWQxIiwiaWF0IjoxNjQzMzg2MzEzLCJleHAiOjE2NDUxODYzMTN9.Z5dobtS6L0oXmJ7KQEjbjklQqug15LDMaRoXZfE-5UxOvHJGWody1tQDYshSzbi0iETijVKv6bKqXH-6k8y1Qg")).pipe((0,mr.K)(Xe=>(console.log(Xe),function fi(se,ie){const q=(0,An.m)(se)?se:()=>se,be=Xe=>Xe.error(q());return new Hr.y(ie?Xe=>ie.schedule(be,0,Xe):be)}(()=>Xe))))}addTokenToRequest(q,be){return q.clone({setHeaders:{Authorization:`Bearer ${be}`}})}}return se.\u0275fac=function(q){return new(q||se)(x.LFG(Ar.gz),x.LFG(Ar.F0))},se.\u0275prov=x.Yz7({token:se,factory:se.\u0275fac}),se})(),Yr=(()=>{class se{}return se.\u0275fac=function(q){return new(q||se)},se.\u0275mod=x.oAB({type:se,bootstrap:[Sr]}),se.\u0275inj=x.cJS({providers:[{provide:en.TP,useClass:cn,multi:!0}],imports:[[ot,Ri,en.JF,Ut.hO.initializeApp(Et_firebaseConfig),tn.yb,tr.TE,br]]}),se})();(0,x.G48)(),Or().bootstrapModule(Yr).catch(se=>console.error(se))},5867:(Pt,$e,L)=>{"use strict";L.d($e,{Mq:()=>E.getApp,C6:()=>E.getApps});var E=L(9681);(0,E.registerVersion)("firebase","9.6.5","app")},127:(Pt,$e,L)=>{"use strict";L.d($e,{Z:()=>E.Z});var E=L(3942);E.Z.registerVersion("firebase","9.6.5","app-compat")},2209:(Pt,$e,L)=>{"use strict";L.r($e);var E=L(5861),x=L(3942),G=L(2090),pe=L(9681);function Ae(p,l){var d={};for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&l.indexOf(m)<0&&(d[m]=p[m]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(m=Object.getOwnPropertySymbols(p);M<m.length;M++)l.indexOf(m[M])<0&&Object.prototype.propertyIsEnumerable.call(p,m[M])&&(d[m[M]]=p[m[M]])}return d}var ut=L(1877),Pe=L(4859);const Dn=function Yn(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ct=function Xt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Un=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Mn=new ut.Yd("@firebase/auth");function Cr(p,...l){Mn.logLevel<=ut.in.ERROR&&Mn.error(`Auth (${pe.SDK_VERSION}): ${p}`,...l)}function an(p,...l){throw Er(p,...l)}function Nn(p,...l){return Er(p,...l)}function ni(p,l,d){const m=Object.assign(Object.assign({},Ct()),{[l]:d});return new G.LL("auth","Firebase",m).create(l,{appName:p.name})}function Or(p,l,d){if(!(l instanceof d))throw d.name!==l.constructor.name&&an(p,"argument-error"),ni(p,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Er(p,...l){if("string"!=typeof p){const d=l[0],m=[...l.slice(1)];return m[0]&&(m[0].appName=p.name),p._errorFactory.create(d,...m)}return Un.create(p,...l)}function ot(p,l,...d){if(!p)throw Er(l,...d)}function Tn(p){const l="INTERNAL ASSERTION FAILED: "+p;throw Cr(l),new Error(l)}function Nt(p,l){p||Tn(l)}const dn=new Map;function wn(p){Nt(p instanceof Function,"Expected a class definition");let l=dn.get(p);return l?(Nt(l instanceof p,"Instance stored in cache mismatched with class"),l):(l=new p,dn.set(p,l),l)}function Oe(){var p;return"undefined"!=typeof self&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function X(){return"http:"===oe()||"https:"===oe()}function oe(){var p;return"undefined"!=typeof self&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class yt{constructor(l,d){this.shortDelay=l,this.longDelay=d,Nt(d>l,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function Fe(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(X()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gt(p,l){Nt(p.emulator,"Emulator should always be set here");const{url:d}=p.emulator;return l?`${d}${l.startsWith("/")?l.slice(1):l}`:d}class It{static initialize(l,d,m){this.fetchImpl=l,d&&(this.headersImpl=d),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Tn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Tn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Tn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},jn=new yt(3e4,6e4);function Mt(p,l){return p.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:p.tenantId}):l}function ln(p,l,d,m){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,E.Z)(function*(p,l,d,m,M={}){return un(p,M,(0,E.Z)(function*(){let B={},le={};m&&("GET"===l?le=m:B={body:JSON.stringify(m)});const He=(0,G.xO)(Object.assign({key:p.config.apiKey},le)).slice(1),bt=yield p._getAdditionalHeaders();return bt["Content-Type"]="application/json",p.languageCode&&(bt["X-Firebase-Locale"]=p.languageCode),It.fetch()(Ge(p,p.config.apiHost,d,He),Object.assign({method:l,headers:bt,referrerPolicy:"no-referrer"},B))}))})).apply(this,arguments)}function un(p,l,d){return Q.apply(this,arguments)}function Q(){return(Q=(0,E.Z)(function*(p,l,d){p._canInitEmulator=!1;const m=Object.assign(Object.assign({},hn),l);try{const M=new Ne(p),B=yield Promise.race([d(),M.promise]);M.clearNetworkTimeout();const le=yield B.json();if("needConfirmation"in le)throw At(p,"account-exists-with-different-credential",le);if(B.ok&&!("errorMessage"in le))return le;{const He=B.ok?le.errorMessage:le.error.message,[bt,mt]=He.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===bt)throw At(p,"credential-already-in-use",le);if("EMAIL_EXISTS"===bt)throw At(p,"email-already-in-use",le);const Ht=m[bt]||bt.toLowerCase().replace(/[_\s]+/g,"-");if(mt)throw ni(p,Ht,mt);an(p,Ht)}}catch(M){if(M instanceof G.ZR)throw M;an(p,"network-request-failed")}})).apply(this,arguments)}function ae(p,l,d,m){return ce.apply(this,arguments)}function ce(){return(ce=(0,E.Z)(function*(p,l,d,m,M={}){const B=yield ln(p,l,d,m,M);return"mfaPendingCredential"in B&&an(p,"multi-factor-auth-required",{_serverResponse:B}),B})).apply(this,arguments)}function Ge(p,l,d,m){const M=`${l}${d}?${m}`;return p.config.emulator?gt(p.config,M):`${p.config.apiScheme}://${M}`}class Ne{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((d,m)=>{this.timer=setTimeout(()=>m(Nn(this.auth,"network-request-failed")),jn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function At(p,l,d){const m={appName:p.name};d.email&&(m.email=d.email),d.phoneNumber&&(m.phoneNumber=d.phoneNumber);const M=Nn(p,l,m);return M.customData._tokenResponse=d,M}function On(){return(On=(0,E.Z)(function*(p,l){return ln(p,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function En(p,l){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,E.Z)(function*(p,l){return ln(p,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Nr(p,l){return fn.apply(this,arguments)}function fn(){return(fn=(0,E.Z)(function*(p,l){return ln(p,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function kn(p){if(p)try{const l=new Date(Number(p));if(!isNaN(l.getTime()))return l.toUTCString()}catch(l){}}function en(){return(en=(0,E.Z)(function*(p,l=!1){const d=(0,G.m9)(p),m=yield d.getIdToken(l),M=Bi(m);ot(M&&M.exp&&M.auth_time&&M.iat,d.auth,"internal-error");const B="object"==typeof M.firebase?M.firebase:void 0,le=null==B?void 0:B.sign_in_provider;return{claims:M,token:m,authTime:kn(Ar(M.auth_time)),issuedAtTime:kn(Ar(M.iat)),expirationTime:kn(Ar(M.exp)),signInProvider:le||null,signInSecondFactor:(null==B?void 0:B.sign_in_second_factor)||null}})).apply(this,arguments)}function Ar(p){return 1e3*Number(p)}function Bi(p){const[l,d,m]=p.split(".");if(void 0===l||void 0===d||void 0===m)return Cr("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,G.tV)(d);return M?JSON.parse(M):(Cr("Failed to decode base64 JWT payload"),null)}catch(M){return Cr("Caught error parsing JWT payload as JSON",M),null}}function Ir(p,l){return ri.apply(this,arguments)}function ri(){return(ri=(0,E.Z)(function*(p,l,d=!1){if(d)return l;try{return yield l}catch(m){throw m instanceof G.ZR&&gr(m)&&p.auth.currentUser===p&&(yield p.auth.signOut()),m}})).apply(this,arguments)}function gr({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}class Ri{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var d;if(l){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const M=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(l=!1){var d=this;if(!this.isRunning)return;const m=this.getInterval(l);this.timerId=setTimeout((0,E.Z)(function*(){yield d.iteration()}),m)}iteration(){var l=this;return(0,E.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d.code&&l.schedule(!0))}l.schedule()})()}}class qi{constructor(l,d){this.createdAt=l,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=kn(this.lastLoginAt),this.creationTime=kn(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Lr(p){return or.apply(this,arguments)}function or(){return(or=(0,E.Z)(function*(p){var l;const d=p.auth,m=yield p.getIdToken(),M=yield Ir(p,Nr(d,{idToken:m}));ot(null==M?void 0:M.users.length,d,"internal-error");const B=M.users[0];p._notifyReloadListener(B);const le=(null===(l=B.providerUserInfo)||void 0===l?void 0:l.length)?Sr(B.providerUserInfo):[],He=hi(p.providerData,le),Ht=!!p.isAnonymous&&!(p.email&&B.passwordHash||(null==He?void 0:He.length)),Zt={uid:B.localId,displayName:B.displayName||null,photoURL:B.photoUrl||null,email:B.email||null,emailVerified:B.emailVerified||!1,phoneNumber:B.phoneNumber||null,tenantId:B.tenantId||null,providerData:He,metadata:new qi(B.createdAt,B.lastLoginAt),isAnonymous:Ht};Object.assign(p,Zt)})).apply(this,arguments)}function ar(){return(ar=(0,E.Z)(function*(p){const l=(0,G.m9)(p);yield Lr(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function hi(p,l){return[...p.filter(m=>!l.some(M=>M.providerId===m.providerId)),...l]}function Sr(p){return p.map(l=>{var{providerId:d}=l,m=Ae(l,["providerId"]);return{providerId:d,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}function Ut(){return(Ut=(0,E.Z)(function*(p,l){const d=yield un(p,{},(0,E.Z)(function*(){const m=(0,G.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:M,apiKey:B}=p.config,le=Ge(p,M,"/v1/token",`key=${B}`),He=yield p._getAdditionalHeaders();return He["Content-Type"]="application/x-www-form-urlencoded",It.fetch()(le,{method:"POST",headers:He,body:m})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class tn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){ot(l.idToken,"internal-error"),ot(void 0!==l.idToken,"internal-error"),ot(void 0!==l.refreshToken,"internal-error");const d="expiresIn"in l&&void 0!==l.expiresIn?Number(l.expiresIn):function Qn(p){const l=Bi(p);return ot(l,"internal-error"),ot(void 0!==l.exp,"internal-error"),ot(void 0!==l.iat,"internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,d)}getToken(l,d=!1){var m=this;return(0,E.Z)(function*(){return ot(!m.accessToken||m.refreshToken,l,"user-token-expired"),d||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(l,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,d){var m=this;return(0,E.Z)(function*(){const{accessToken:M,refreshToken:B,expiresIn:le}=yield function Et(p,l){return Ut.apply(this,arguments)}(l,d);m.updateTokensAndExpiration(M,B,Number(le))})()}updateTokensAndExpiration(l,d,m){this.refreshToken=d||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(l,d){const{refreshToken:m,accessToken:M,expirationTime:B}=d,le=new tn;return m&&(ot("string"==typeof m,"internal-error",{appName:l}),le.refreshToken=m),M&&(ot("string"==typeof M,"internal-error",{appName:l}),le.accessToken=M),B&&(ot("number"==typeof B,"internal-error",{appName:l}),le.expirationTime=B),le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new tn,this.toJSON())}_performRefresh(){return Tn("not implemented")}}function tr(p,l){ot("string"==typeof p||void 0===p,"internal-error",{appName:l})}class br{constructor(l){var{uid:d,auth:m,stsTokenManager:M}=l,B=Ae(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Ri(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=m,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=B.displayName||null,this.email=B.email||null,this.emailVerified=B.emailVerified||!1,this.phoneNumber=B.phoneNumber||null,this.photoURL=B.photoURL||null,this.isAnonymous=B.isAnonymous||!1,this.tenantId=B.tenantId||null,this.metadata=new qi(B.createdAt||void 0,B.lastLoginAt||void 0)}getIdToken(l){var d=this;return(0,E.Z)(function*(){const m=yield Ir(d,d.stsTokenManager.getToken(d.auth,l));return ot(m,d.auth,"internal-error"),d.accessToken!==m&&(d.accessToken=m,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),m})()}getIdTokenResult(l){return function Kr(p){return en.apply(this,arguments)}(this,l)}reload(){return function hr(p){return ar.apply(this,arguments)}(this)}_assign(l){this!==l&&(ot(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(d=>Object.assign({},d)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){return new br(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(l){ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,d=!1){var m=this;return(0,E.Z)(function*(){let M=!1;l.idToken&&l.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(l),M=!0),d&&(yield Lr(m)),yield m.auth._persistUserIfCurrent(m),M&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var l=this;return(0,E.Z)(function*(){const d=yield l.getIdToken();return yield Ir(l,function zt(p,l){return On.apply(this,arguments)}(l.auth,{idToken:d})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,d){var m,M,B,le,He,bt,mt,Ht;const Zt=null!==(m=d.displayName)&&void 0!==m?m:void 0,Fn=null!==(M=d.email)&&void 0!==M?M:void 0,Ji=null!==(B=d.phoneNumber)&&void 0!==B?B:void 0,uo=null!==(le=d.photoURL)&&void 0!==le?le:void 0,_l=null!==(He=d.tenantId)&&void 0!==He?He:void 0,Lc=null!==(bt=d._redirectEventId)&&void 0!==bt?bt:void 0,vl=null!==(mt=d.createdAt)&&void 0!==mt?mt:void 0,_d=null!==(Ht=d.lastLoginAt)&&void 0!==Ht?Ht:void 0,{uid:xu,emailVerified:vd,isAnonymous:Xu,providerData:Mu,stsTokenManager:Rs}=d;ot(xu&&Rs,l,"internal-error");const wl=tn.fromJSON(this.name,Rs);ot("string"==typeof xu,l,"internal-error"),tr(Zt,l.name),tr(Fn,l.name),ot("boolean"==typeof vd,l,"internal-error"),ot("boolean"==typeof Xu,l,"internal-error"),tr(Ji,l.name),tr(uo,l.name),tr(_l,l.name),tr(Lc,l.name),tr(vl,l.name),tr(_d,l.name);const Pu=new br({uid:xu,auth:l,email:Fn,emailVerified:vd,displayName:Zt,isAnonymous:Xu,photoURL:uo,phoneNumber:Ji,tenantId:_l,stsTokenManager:wl,createdAt:vl,lastLoginAt:_d});return Mu&&Array.isArray(Mu)&&(Pu.providerData=Mu.map(Fc=>Object.assign({},Fc))),Lc&&(Pu._redirectEventId=Lc),Pu}static _fromIdTokenResponse(l,d,m=!1){return(0,E.Z)(function*(){const M=new tn;M.updateFromServerResponse(d);const B=new br({uid:d.localId,auth:l,stsTokenManager:M,isAnonymous:m});return yield Lr(B),B})()}}const Hr=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.Z)(function*(){return!0})()}_set(d,m){var M=this;return(0,E.Z)(function*(){M.storage[d]=m})()}_get(d){var m=this;return(0,E.Z)(function*(){const M=m.storage[d];return void 0===M?null:M})()}_remove(d){var m=this;return(0,E.Z)(function*(){delete m.storage[d]})()}_addListener(d,m){}_removeListener(d,m){}}return p.type="NONE",p})();function An(p,l,d){return`firebase:${p}:${l}:${d}`}class fi{constructor(l,d,m){this.persistence=l,this.auth=d,this.userKey=m;const{config:M,name:B}=this.auth;this.fullUserKey=An(this.userKey,M.apiKey,B),this.fullPersistenceKey=An("persistence",M.apiKey,B),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,E.Z)(function*(){const d=yield l.persistence._get(l.fullUserKey);return d?br._fromJSON(l.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var d=this;return(0,E.Z)(function*(){if(d.persistence===l)return;const m=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=l,m?d.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,d,m="authUser"){return(0,E.Z)(function*(){if(!d.length)return new fi(wn(Hr),l,m);const M=(yield Promise.all(d.map(function(){var mt=(0,E.Z)(function*(Ht){if(yield Ht._isAvailable())return Ht});return function(Ht){return mt.apply(this,arguments)}}()))).filter(mt=>mt);let B=M[0]||wn(Hr);const le=An(m,l.config.apiKey,l.name);let He=null;for(const mt of d)try{const Ht=yield mt._get(le);if(Ht){const Zt=br._fromJSON(l,Ht);mt!==B&&(He=Zt),B=mt;break}}catch(Ht){}const bt=M.filter(mt=>mt._shouldAllowMigration);return B._shouldAllowMigration&&bt.length?(B=bt[0],He&&(yield B._set(le,He.toJSON())),yield Promise.all(d.map(function(){var mt=(0,E.Z)(function*(Ht){if(Ht!==B)try{yield Ht._remove(le)}catch(Zt){}});return function(Ht){return mt.apply(this,arguments)}}())),new fi(B,l,m)):new fi(B,l,m)})()}}function mr(p){const l=p.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(ie(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(cn(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(be(l))return"Blackberry";if(Xe(l))return"Webos";if(Yr(l))return"Safari";if((l.includes("chrome/")||se(l))&&!l.includes("edge/"))return"Chrome";if(q(l))return"Android";{const m=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==m?void 0:m.length))return m[1]}return"Other"}function cn(p=(0,G.z$)()){return/firefox\//i.test(p)}function Yr(p=(0,G.z$)()){const l=p.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function se(p=(0,G.z$)()){return/crios\//i.test(p)}function ie(p=(0,G.z$)()){return/iemobile/i.test(p)}function q(p=(0,G.z$)()){return/android/i.test(p)}function be(p=(0,G.z$)()){return/blackberry/i.test(p)}function Xe(p=(0,G.z$)()){return/webos/i.test(p)}function $t(p=(0,G.z$)()){return/iphone|ipad|ipod/i.test(p)}function Gr(p=(0,G.z$)()){return $t(p)||q(p)||Xe(p)||be(p)||/windows phone/i.test(p)||ie(p)}function Ei(p,l=[]){let d;switch(p){case"Browser":d=mr((0,G.z$)());break;case"Worker":d=`${mr((0,G.z$)())}-${p}`;break;default:d=p}const m=l.length?l.join(","):"FirebaseCore-web";return`${d}/JsCore/${pe.SDK_VERSION}/${m}`}class xs{constructor(l,d){this.app=l,this.config=d,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vi(this),this.idTokenSubscription=new Vi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Un,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=d.sdkClientVersion}_initializeWithPersistence(l,d){var m=this;return d&&(this._popupRedirectResolver=wn(d)),this._initializationPromise=this.queue((0,E.Z)(function*(){var M,B;if(!m._deleted&&(m.persistenceManager=yield fi.create(m,l),!m._deleted)){if(null===(M=m._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch(le){}yield m.initializeCurrentUser(d),m.lastNotifiedUid=(null===(B=m.currentUser)||void 0===B?void 0:B.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,E.Z)(function*(){if(l._deleted)return;const d=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||d){if(l.currentUser&&d&&l.currentUser.uid===d.uid)return l._currentUser._assign(d),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(d)}})()}initializeCurrentUser(l){var d=this;return(0,E.Z)(function*(){var m;let M=yield d.assertedPersistence.getCurrentUser();if(l&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const B=null===(m=d.redirectUser)||void 0===m?void 0:m._redirectEventId,le=null==M?void 0:M._redirectEventId,He=yield d.tryRedirectSignIn(l);(!B||B===le)&&(null==He?void 0:He.user)&&(M=He.user)}return M?M._redirectEventId?(ot(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===M._redirectEventId?d.directlySetCurrentUser(M):d.reloadAndSetCurrentUserOrClear(M)):d.reloadAndSetCurrentUserOrClear(M):d.directlySetCurrentUser(null)})()}tryRedirectSignIn(l){var d=this;return(0,E.Z)(function*(){let m=null;try{m=yield d._popupRedirectResolver._completeRedirectFn(d,l,!0)}catch(M){yield d._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(l){var d=this;return(0,E.Z)(function*(){try{yield Lr(l)}catch(m){if("auth/network-request-failed"!==m.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function tt(){if("undefined"==typeof navigator)return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var l=this;return(0,E.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var d=this;return(0,E.Z)(function*(){const m=l?(0,G.m9)(l):null;return m&&ot(m.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(m&&m._clone(d))})()}_updateCurrentUser(l){var d=this;return(0,E.Z)(function*(){if(!d._deleted)return l&&ot(d.tenantId===l.tenantId,d,"tenant-id-mismatch"),d.queue((0,E.Z)(function*(){yield d.directlySetCurrentUser(l),d.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,E.Z)(function*(){return(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null)})()}setPersistence(l){var d=this;return this.queue((0,E.Z)(function*(){yield d.assertedPersistence.setPersistence(wn(l))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new G.LL("auth","Firebase",l())}onAuthStateChanged(l,d,m){return this.registerStateListener(this.authStateSubscription,l,d,m)}onIdTokenChanged(l,d,m){return this.registerStateListener(this.idTokenSubscription,l,d,m)}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,d){var m=this;return(0,E.Z)(function*(){const M=yield m.getOrInitRedirectPersistenceManager(d);return null===l?M.removeCurrentUser():M.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var d=this;return(0,E.Z)(function*(){if(!d.redirectPersistenceManager){const m=l&&wn(l)||d._popupRedirectResolver;ot(m,d,"argument-error"),d.redirectPersistenceManager=yield fi.create(d,[wn(m._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(l){var d=this;return(0,E.Z)(function*(){var m,M;return d._isInitialized&&(yield d.queue((0,E.Z)(function*(){}))),(null===(m=d._currentUser)||void 0===m?void 0:m._redirectEventId)===l?d._currentUser:(null===(M=d.redirectUser)||void 0===M?void 0:M._redirectEventId)===l?d.redirectUser:null})()}_persistUserIfCurrent(l){var d=this;return(0,E.Z)(function*(){if(l===d.currentUser)return d.queue((0,E.Z)(function*(){return d.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(d=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,d,m,M){if(this._deleted)return()=>{};const B="function"==typeof d?d:d.next.bind(d),le=this._isInitialized?Promise.resolve():this._initializationPromise;return ot(le,this,"internal-error"),le.then(()=>B(this.currentUser)),"function"==typeof d?l.addObserver(d,m,M):l.addObserver(d)}directlySetCurrentUser(l){var d=this;return(0,E.Z)(function*(){d.currentUser&&d.currentUser!==l&&(d._currentUser._stopProactiveRefresh(),l&&d.isProactiveRefreshEnabled&&l._startProactiveRefresh()),d.currentUser=l,l?yield d.assertedPersistence.setCurrentUser(l):yield d.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=Ei(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,E.Z)(function*(){const d={"X-Client-Version":l.clientVersion};return l.app.options.appId&&(d["X-Firebase-gmpid"]=l.app.options.appId),d})()}}function Sn(p){return(0,G.m9)(p)}class Vi{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,G.ne)(d=>this.observer=d)}get next(){return ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function cs(p){const l=p.indexOf(":");return l<0?"":p.substr(0,l+1)}function bo(p){if(!p)return null;const l=Number(p);return isNaN(l)?null:l}class Ms{constructor(l,d){this.providerId=l,this.signInMethod=d}toJSON(){return Tn("not implemented")}_getIdTokenResponse(l){return Tn("not implemented")}_linkToIdToken(l,d){return Tn("not implemented")}_getReauthenticationResolver(l){return Tn("not implemented")}}function ys(p,l){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,E.Z)(function*(p,l){return ln(p,"POST","/v1/accounts:resetPassword",Mt(p,l))})).apply(this,arguments)}function ye(p,l){return Be.apply(this,arguments)}function Be(){return(Be=(0,E.Z)(function*(p,l){return ln(p,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Je(p,l){return vt.apply(this,arguments)}function vt(){return(vt=(0,E.Z)(function*(p,l){return ln(p,"POST","/v1/accounts:update",Mt(p,l))})).apply(this,arguments)}function Bn(){return(Bn=(0,E.Z)(function*(p,l){return ae(p,"POST","/v1/accounts:signInWithPassword",Mt(p,l))})).apply(this,arguments)}function Rr(p,l){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,E.Z)(function*(p,l){return ln(p,"POST","/v1/accounts:sendOobCode",Mt(p,l))})).apply(this,arguments)}function es(p,l){return ls.apply(this,arguments)}function ls(){return(ls=(0,E.Z)(function*(p,l){return Rr(p,l)})).apply(this,arguments)}function ds(p,l){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,E.Z)(function*(p,l){return Rr(p,l)})).apply(this,arguments)}function Os(p,l){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,E.Z)(function*(p,l){return Rr(p,l)})).apply(this,arguments)}function ks(p,l){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,E.Z)(function*(p,l){return Rr(p,l)})).apply(this,arguments)}function zs(){return(zs=(0,E.Z)(function*(p,l){return ae(p,"POST","/v1/accounts:signInWithEmailLink",Mt(p,l))})).apply(this,arguments)}function Jr(){return(Jr=(0,E.Z)(function*(p,l){return ae(p,"POST","/v1/accounts:signInWithEmailLink",Mt(p,l))})).apply(this,arguments)}class vs extends Ms{constructor(l,d,m,M=null){super("password",m),this._email=l,this._password=d,this._tenantId=M}static _fromEmailAndPassword(l,d){return new vs(l,d,"password")}static _fromEmailAndCode(l,d,m=null){return new vs(l,d,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l;if((null==d?void 0:d.email)&&(null==d?void 0:d.password)){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(l){var d=this;return(0,E.Z)(function*(){switch(d.signInMethod){case"password":return function Ot(p,l){return Bn.apply(this,arguments)}(l,{returnSecureToken:!0,email:d._email,password:d._password});case"emailLink":return function _s(p,l){return zs.apply(this,arguments)}(l,{email:d._email,oobCode:d._password});default:an(l,"internal-error")}})()}_linkToIdToken(l,d){var m=this;return(0,E.Z)(function*(){switch(m.signInMethod){case"password":return ye(l,{idToken:d,returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function ts(p,l){return Jr.apply(this,arguments)}(l,{idToken:d,email:m._email,oobCode:m._password});default:an(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function Ii(p,l){return lo.apply(this,arguments)}function lo(){return(lo=(0,E.Z)(function*(p,l){return ae(p,"POST","/v1/accounts:signInWithIdp",Mt(p,l))})).apply(this,arguments)}class pi extends Ms{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const d=new pi(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(d.idToken=l.idToken),l.accessToken&&(d.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(d.nonce=l.nonce),l.pendingToken&&(d.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(d.accessToken=l.oauthToken,d.secret=l.oauthTokenSecret):an("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:m,signInMethod:M}=d,B=Ae(d,["providerId","signInMethod"]);if(!m||!M)return null;const le=new pi(m,M);return le.idToken=B.idToken||void 0,le.accessToken=B.accessToken||void 0,le.secret=B.secret,le.nonce=B.nonce,le.pendingToken=B.pendingToken||null,le}_getIdTokenResponse(l){return Ii(l,this.buildRequest())}_linkToIdToken(l,d){const m=this.buildRequest();return m.idToken=d,Ii(l,m)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,Ii(l,d)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),l.postBody=(0,G.xO)(d)}return l}}function gi(p,l){return ws.apply(this,arguments)}function ws(){return(ws=(0,E.Z)(function*(p,l){return ln(p,"POST","/v1/accounts:sendVerificationCode",Mt(p,l))})).apply(this,arguments)}function Es(){return(Es=(0,E.Z)(function*(p,l){return ae(p,"POST","/v1/accounts:signInWithPhoneNumber",Mt(p,l))})).apply(this,arguments)}function Is(){return(Is=(0,E.Z)(function*(p,l){const d=yield ae(p,"POST","/v1/accounts:signInWithPhoneNumber",Mt(p,l));if(d.temporaryProof)throw At(p,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const Do={USER_NOT_FOUND:"user-not-found"};function Ls(){return(Ls=(0,E.Z)(function*(p,l){return ae(p,"POST","/v1/accounts:signInWithPhoneNumber",Mt(p,Object.assign(Object.assign({},l),{operation:"REAUTH"})),Do)})).apply(this,arguments)}class Hn extends Ms{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,d){return new Hn({verificationId:l,verificationCode:d})}static _fromTokenResponse(l,d){return new Hn({phoneNumber:l,temporaryProof:d})}_getIdTokenResponse(l){return function Fr(p,l){return Es.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,d){return function ji(p,l){return Is.apply(this,arguments)}(l,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function Ws(p,l){return Ls.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:d,verificationId:m,verificationCode:M}=this.params;return l&&d?{temporaryProof:l,phoneNumber:d}:{sessionInfo:m,code:M}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:d,verificationCode:m,phoneNumber:M,temporaryProof:B}=l;return m||d||M||B?new Hn({verificationId:d,verificationCode:m,phoneNumber:M,temporaryProof:B}):null}}class bn{constructor(l){var d,m,M,B,le,He;const bt=(0,G.zd)((0,G.pd)(l)),mt=null!==(d=bt.apiKey)&&void 0!==d?d:null,Ht=null!==(m=bt.oobCode)&&void 0!==m?m:null,Zt=function Mi(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=bt.mode)&&void 0!==M?M:null);ot(mt&&Ht&&Zt,"argument-error"),this.apiKey=mt,this.operation=Zt,this.code=Ht,this.continueUrl=null!==(B=bt.continueUrl)&&void 0!==B?B:null,this.languageCode=null!==(le=bt.languageCode)&&void 0!==le?le:null,this.tenantId=null!==(He=bt.tenantId)&&void 0!==He?He:null}static parseLink(l){const d=function ho(p){const l=(0,G.zd)((0,G.pd)(p)).link,d=l?(0,G.zd)((0,G.pd)(l)).deep_link_id:null,m=(0,G.zd)((0,G.pd)(p)).deep_link_id;return(m?(0,G.zd)((0,G.pd)(m)).link:null)||m||d||l||p}(l);try{return new bn(d)}catch(m){return null}}}let j=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(d,m){return vs._fromEmailAndPassword(d,m)}static credentialWithLink(d,m){const M=bn.parseLink(m);return ot(M,"argument-error"),vs._fromEmailAndCode(d,M.code,M.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class A{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class $ extends A{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class ue extends ${static credentialFromJSON(l){const d="string"==typeof l?JSON.parse(l):l;return ot("providerId"in d&&"signInMethod"in d,"argument-error"),pi._fromParams(d)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return ot(l.idToken||l.accessToken,"argument-error"),pi._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return ue.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return ue.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:d,oauthAccessToken:m,oauthTokenSecret:M,pendingToken:B,nonce:le,providerId:He}=l;if(!m&&!M&&!d&&!B||!He)return null;try{return new ue(He)._credential({idToken:d,accessToken:m,nonce:le,pendingToken:B})}catch(bt){return null}}}let qe=(()=>{class p extends ${constructor(){super("facebook.com")}static credential(d){return pi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch(m){return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),Ye=(()=>{class p extends ${constructor(){super("google.com"),this.addScope("profile")}static credential(d,m){return pi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:m})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:m,oauthAccessToken:M}=d;if(!m&&!M)return null;try{return p.credential(m,M)}catch(B){return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),Rt=(()=>{class p extends ${constructor(){super("github.com")}static credential(d){return pi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch(m){return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class Vn extends Ms{constructor(l,d){super(l,l),this.pendingToken=d}_getIdTokenResponse(l){return Ii(l,this.buildRequest())}_linkToIdToken(l,d){const m=this.buildRequest();return m.idToken=d,Ii(l,m)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,Ii(l,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:m,signInMethod:M,pendingToken:B}=d;return m&&M&&B&&m===M?new Vn(m,B):null}static _create(l,d){return new Vn(l,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class rn extends A{constructor(l){ot(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return rn.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return rn.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const d=Vn.fromJSON(l);return ot(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:d,providerId:m}=l;if(!d||!m)return null;try{return Vn._create(m,d)}catch(M){return null}}}let kr=(()=>{class p extends ${constructor(){super("twitter.com")}static credential(d,m){return pi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:m})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:m,oauthTokenSecret:M}=d;if(!m||!M)return null;try{return p.credential(m,M)}catch(B){return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function Gn(p,l){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,E.Z)(function*(p,l){return ae(p,"POST","/v1/accounts:signUp",Mt(p,l))})).apply(this,arguments)}class Xr{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,d,m,M=!1){return(0,E.Z)(function*(){const B=yield br._fromIdTokenResponse(l,m,M),le=Pi(m);return new Xr({user:B,providerId:le,_tokenResponse:m,operationType:d})})()}static _forOperation(l,d,m){return(0,E.Z)(function*(){yield l._updateTokensIfNecessary(m,!0);const M=Pi(m);return new Xr({user:l,providerId:M,_tokenResponse:m,operationType:d})})()}}function Pi(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function Oi(){return(Oi=(0,E.Z)(function*(p){var l;const d=Sn(p);if(yield d._initializationPromise,null===(l=d.currentUser)||void 0===l?void 0:l.isAnonymous)return new Xr({user:d.currentUser,providerId:null,operationType:"signIn"});const m=yield Gn(d,{returnSecureToken:!0}),M=yield Xr._fromIdTokenResponse(d,"signIn",m,!0);return yield d._updateCurrentUser(M.user),M})).apply(this,arguments)}class ki extends G.ZR{constructor(l,d,m,M){var B;super(d.code,d.message),this.operationType=m,this.user=M,Object.setPrototypeOf(this,ki.prototype),this.customData={appName:l.name,tenantId:null!==(B=l.tenantId)&&void 0!==B?B:void 0,_serverResponse:d.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(l,d,m,M){return new ki(l,d,m,M)}}function Fs(p,l,d,m){return("reauthenticate"===l?d._getReauthenticationResolver(p):d._getIdTokenResponse(p)).catch(B=>{throw"auth/multi-factor-auth-required"===B.code?ki._fromErrorAndOperation(p,B,l,m):B})}function Us(p){return new Set(p.map(({providerId:l})=>l).filter(l=>!!l))}function gn(){return(gn=(0,E.Z)(function*(p,l){const d=(0,G.m9)(p);yield P(!0,d,l);const{providerUserInfo:m}=yield En(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[l]}),M=Us(m||[]);return d.providerData=d.providerData.filter(B=>M.has(B.providerId)),M.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d})).apply(this,arguments)}function jo(p,l){return k.apply(this,arguments)}function k(){return(k=(0,E.Z)(function*(p,l,d=!1){const m=yield Ir(p,l._linkToIdToken(p.auth,yield p.getIdToken()),d);return Xr._forOperation(p,"link",m)})).apply(this,arguments)}function P(p,l,d){return z.apply(this,arguments)}function z(){return(z=(0,E.Z)(function*(p,l,d){yield Lr(l);const M=!1===p?"provider-already-linked":"no-such-provider";ot(Us(l.providerData).has(d)===p,l.auth,M)})).apply(this,arguments)}function J(p,l){return we.apply(this,arguments)}function we(){return(we=(0,E.Z)(function*(p,l,d=!1){const{auth:m}=p,M="reauthenticate";try{const B=yield Ir(p,Fs(m,M,l,p),d);ot(B.idToken,m,"internal-error");const le=Bi(B.idToken);ot(le,m,"internal-error");const{sub:He}=le;return ot(p.uid===He,m,"user-mismatch"),Xr._forOperation(p,M,B)}catch(B){throw"auth/user-not-found"===(null==B?void 0:B.code)&&an(m,"user-mismatch"),B}})).apply(this,arguments)}function je(p,l){return ct.apply(this,arguments)}function ct(){return(ct=(0,E.Z)(function*(p,l,d=!1){const m="signIn",M=yield Fs(p,m,l),B=yield Xr._fromIdTokenResponse(p,m,M);return d||(yield p._updateCurrentUser(B.user)),B})).apply(this,arguments)}function jt(p,l){return xt.apply(this,arguments)}function xt(){return(xt=(0,E.Z)(function*(p,l){return je(Sn(p),l)})).apply(this,arguments)}function on(p,l){return sn.apply(this,arguments)}function sn(){return(sn=(0,E.Z)(function*(p,l){const d=(0,G.m9)(p);return yield P(!1,d,l.providerId),jo(d,l)})).apply(this,arguments)}function Jn(p,l){return _r.apply(this,arguments)}function _r(){return(_r=(0,E.Z)(function*(p,l){return J((0,G.m9)(p),l)})).apply(this,arguments)}function nr(p,l){return zn.apply(this,arguments)}function zn(){return(zn=(0,E.Z)(function*(p,l){return ae(p,"POST","/v1/accounts:signInWithCustomToken",Mt(p,l))})).apply(this,arguments)}function cr(){return(cr=(0,E.Z)(function*(p,l){const d=Sn(p),m=yield nr(d,{token:l,returnSecureToken:!0}),M=yield Xr._fromIdTokenResponse(d,"signIn",m);return yield d._updateCurrentUser(M.user),M})).apply(this,arguments)}class Zi{constructor(l,d){this.factorId=l,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(l,d){return"phoneInfo"in d?mi._fromServerResponse(l,d):an(l,"internal-error")}}class mi extends Zi{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,d){return new mi(d)}}function Dr(p,l,d){var m;ot((null===(m=d.url)||void 0===m?void 0:m.length)>0,p,"invalid-continue-uri"),ot(void 0===d.dynamicLinkDomain||d.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),l.continueUrl=d.url,l.dynamicLinkDomain=d.dynamicLinkDomain,l.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(ot(d.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),l.iOSBundleId=d.iOS.bundleId),d.android&&(ot(d.android.packageName.length>0,p,"missing-android-pkg-name"),l.androidInstallApp=d.android.installApp,l.androidMinimumVersionCode=d.android.minimumVersion,l.androidPackageName=d.android.packageName)}function rr(){return(rr=(0,E.Z)(function*(p,l,d){const m=(0,G.m9)(p),M={requestType:"PASSWORD_RESET",email:l};d&&Dr(m,M,d),yield ds(m,M)})).apply(this,arguments)}function Ho(){return(Ho=(0,E.Z)(function*(p,l,d){yield ys((0,G.m9)(p),{oobCode:l,newPassword:d})})).apply(this,arguments)}function Vs(){return(Vs=(0,E.Z)(function*(p,l){yield Je((0,G.m9)(p),{oobCode:l})})).apply(this,arguments)}function Ma(p,l){return fo.apply(this,arguments)}function fo(){return(fo=(0,E.Z)(function*(p,l){const d=(0,G.m9)(p),m=yield ys(d,{oobCode:l}),M=m.requestType;switch(ot(M,d,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ot(m.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ot(m.mfaInfo,d,"internal-error");default:ot(m.email,d,"internal-error")}let B=null;return m.mfaInfo&&(B=Zi._fromServerResponse(Sn(d),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:B},operation:M}})).apply(this,arguments)}function $o(){return($o=(0,E.Z)(function*(p,l){const{data:d}=yield Ma((0,G.m9)(p),l);return d.email})).apply(this,arguments)}function Oa(){return(Oa=(0,E.Z)(function*(p,l,d){const m=Sn(p),M=yield Gn(m,{returnSecureToken:!0,email:l,password:d}),B=yield Xr._fromIdTokenResponse(m,"signIn",M);return yield m._updateCurrentUser(B.user),B})).apply(this,arguments)}function bs(){return(bs=(0,E.Z)(function*(p,l,d){const m=(0,G.m9)(p),M={requestType:"EMAIL_SIGNIN",email:l};ot(d.handleCodeInApp,m,"argument-error"),d&&Dr(m,M,d),yield Os(m,M)})).apply(this,arguments)}function Go(){return(Go=(0,E.Z)(function*(p,l,d){const m=(0,G.m9)(p),M=j.credentialWithLink(l,d||Oe());return ot(M._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),jt(m,M)})).apply(this,arguments)}function au(p,l){return aa.apply(this,arguments)}function aa(){return(aa=(0,E.Z)(function*(p,l){return ln(p,"POST","/v1/accounts:createAuthUri",Mt(p,l))})).apply(this,arguments)}function Na(){return(Na=(0,E.Z)(function*(p,l){const m={identifier:l,continueUri:X()?Oe():"http://localhost"},{signinMethods:M}=yield au((0,G.m9)(p),m);return M||[]})).apply(this,arguments)}function Zs(){return(Zs=(0,E.Z)(function*(p,l){const d=(0,G.m9)(p),M={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};l&&Dr(d.auth,M,l);const{email:B}=yield es(d.auth,M);B!==p.email&&(yield p.reload())})).apply(this,arguments)}function to(){return(to=(0,E.Z)(function*(p,l,d){const m=(0,G.m9)(p),B={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:l};d&&Dr(m.auth,B,d);const{email:le}=yield ks(m.auth,B);le!==p.email&&(yield p.reload())})).apply(this,arguments)}function Hi(p,l){return La.apply(this,arguments)}function La(){return(La=(0,E.Z)(function*(p,l){return ln(p,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function vr(){return(vr=(0,E.Z)(function*(p,{displayName:l,photoURL:d}){if(void 0===l&&void 0===d)return;const m=(0,G.m9)(p),B={idToken:yield m.getIdToken(),displayName:l,photoUrl:d,returnSecureToken:!0},le=yield Ir(m,Hi(m.auth,B));m.displayName=le.displayName||null,m.photoURL=le.photoUrl||null;const He=m.providerData.find(({providerId:bt})=>"password"===bt);He&&(He.displayName=m.displayName,He.photoURL=m.photoURL),yield m._updateTokensIfNecessary(le)})).apply(this,arguments)}function po(p,l,d){return qo.apply(this,arguments)}function qo(){return(qo=(0,E.Z)(function*(p,l,d){const{auth:m}=p,B={idToken:yield p.getIdToken(),returnSecureToken:!0};l&&(B.email=l),d&&(B.password=d);const le=yield Ir(p,ye(m,B));yield p._updateTokensIfNecessary(le,!0)})).apply(this,arguments)}class Ao{constructor(l,d,m={}){this.isNewUser=l,this.providerId=d,this.profile=m}}class ca extends Ao{constructor(l,d,m,M){super(l,d,m),this.username=M}}class Vu extends Ao{constructor(l,d){super(l,"facebook.com",d)}}class So extends ca{constructor(l,d){super(l,"github.com",d,"string"==typeof(null==d?void 0:d.login)?null==d?void 0:d.login:null)}}class Fa extends Ao{constructor(l,d){super(l,"google.com",d)}}class ii extends ca{constructor(l,d,m){super(l,"twitter.com",d,m)}}function Di(p){const{user:l,_tokenResponse:d}=p;return l.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function Ks(p){var l,d;if(!p)return null;const{providerId:m}=p,M=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},B=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!m&&(null==p?void 0:p.idToken)){const le=null===(d=null===(l=Bi(p.idToken))||void 0===l?void 0:l.firebase)||void 0===d?void 0:d.sign_in_provider;if(le)return new Ao(B,"anonymous"!==le&&"custom"!==le?le:null)}if(!m)return null;switch(m){case"facebook.com":return new Vu(B,M);case"github.com":return new So(B,M);case"google.com":return new Fa(B,M);case"twitter.com":return new ii(B,M,p.screenName||null);case"custom":case"anonymous":return new Ao(B,null);default:return new Ao(B,m,M)}}(d)}class Ys{constructor(l,d){this.type=l,this.credential=d}static _fromIdtoken(l){return new Ys("enroll",l)}static _fromMfaPendingCredential(l){return new Ys("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var d,m;if(null==l?void 0:l.multiFactorSession){if(null===(d=l.multiFactorSession)||void 0===d?void 0:d.pendingCredential)return Ys._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null===(m=l.multiFactorSession)||void 0===m?void 0:m.idToken)return Ys._fromIdtoken(l.multiFactorSession.idToken)}return null}}class go{constructor(l,d,m){this.session=l,this.hints=d,this.signInResolver=m}static _fromError(l,d){const m=Sn(l),M=d.customData._serverResponse,B=(M.mfaInfo||[]).map(He=>Zi._fromServerResponse(m,He));ot(M.mfaPendingCredential,m,"internal-error");const le=Ys._fromMfaPendingCredential(M.mfaPendingCredential);return new go(le,B,function(){var He=(0,E.Z)(function*(bt){const mt=yield bt._process(m,le);delete M.mfaInfo,delete M.mfaPendingCredential;const Ht=Object.assign(Object.assign({},M),{idToken:mt.idToken,refreshToken:mt.refreshToken});switch(d.operationType){case"signIn":const Zt=yield Xr._fromIdTokenResponse(m,d.operationType,Ht);return yield m._updateCurrentUser(Zt.user),Zt;case"reauthenticate":return ot(d.user,m,"internal-error"),Xr._forOperation(d.user,d.operationType,Ht);default:an(m,"internal-error")}});return function(bt){return He.apply(this,arguments)}}())}resolveSignIn(l){var d=this;return(0,E.Z)(function*(){return d.signInResolver(l)})()}}function $u(p,l){return ln(p,"POST","/v2/accounts/mfaEnrollment:start",Mt(p,l))}class Ds{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(m=>Zi._fromServerResponse(l.auth,m)))})}static _fromUser(l){return new Ds(l)}getSession(){var l=this;return(0,E.Z)(function*(){return Ys._fromIdtoken(yield l.user.getIdToken())})()}enroll(l,d){var m=this;return(0,E.Z)(function*(){const M=l,B=yield m.getSession(),le=yield Ir(m.user,M._process(m.user.auth,B,d));return yield m.user._updateTokensIfNecessary(le),m.user.reload()})()}unenroll(l){var d=this;return(0,E.Z)(function*(){const m="string"==typeof l?l:l.uid,M=yield d.user.getIdToken(),B=yield Ir(d.user,function ro(p,l){return ln(p,"POST","/v2/accounts/mfaEnrollment:withdraw",Mt(p,l))}(d.user.auth,{idToken:M,mfaEnrollmentId:m}));d.enrolledFactors=d.enrolledFactors.filter(({uid:le})=>le!==m),yield d.user._updateTokensIfNecessary(B);try{yield d.user.reload()}catch(le){if("auth/user-token-expired"!==le.code)throw le}})()}}const io=new WeakMap,y="__sak";class _{constructor(l,d){this.storageRetriever=l,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(y,"1"),this.storage.removeItem(y),Promise.resolve(!0)):Promise.resolve(!1)}catch(l){return Promise.resolve(!1)}}_set(l,d){return this.storage.setItem(l,JSON.stringify(d)),Promise.resolve()}_get(l){const d=this.storage.getItem(l);return Promise.resolve(d?JSON.parse(d):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const de=(()=>{class p extends _{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,m)=>this.onStorageEvent(d,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function C(){const p=(0,G.z$)();return Yr(p)||$t(p)}()&&function Qr(){try{return!(!window||window===window.top)}catch(p){return!1}}(),this.fallbackToPolling=Gr(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const m of Object.keys(this.listeners)){const M=this.storage.getItem(m),B=this.localCache[m];M!==B&&d(m,B,M)}}onStorageEvent(d,m=!1){if(!d.key)return void this.forAllChangedKeys((He,bt,mt)=>{this.notifyListeners(He,mt)});const M=d.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const He=this.storage.getItem(M);if(d.newValue!==He)null!==d.newValue?this.storage.setItem(M,d.newValue):this.storage.removeItem(M);else if(this.localCache[M]===d.newValue&&!m)return}const B=()=>{const He=this.storage.getItem(M);!m&&this.localCache[M]===He||this.notifyListeners(M,He)},le=this.storage.getItem(M);!function $r(){return(0,G.w1)()&&10===document.documentMode}()||le===d.newValue||d.newValue===d.oldValue?B():setTimeout(B,10)}notifyListeners(d,m){this.localCache[d]=m;const M=this.listeners[d];if(M)for(const B of Array.from(M))B(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,m,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:m,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,m){var M=()=>super._set,B=this;return(0,E.Z)(function*(){yield M().call(B,d,m),B.localCache[d]=JSON.stringify(m)})()}_get(d){var m=()=>super._get,M=this;return(0,E.Z)(function*(){const B=yield m().call(M,d);return M.localCache[d]=JSON.stringify(B),B})()}_remove(d){var m=()=>super._remove,M=this;return(0,E.Z)(function*(){yield m().call(M,d),delete M.localCache[d]})()}}return p.type="LOCAL",p})(),he=(()=>{class p extends _{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,m){}_removeListener(d,m){}}return p.type="SESSION",p})();let Lt=(()=>{class p{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const m=this.receivers.find(B=>B.isListeningto(d));if(m)return m;const M=new p(d);return this.receivers.push(M),M}isListeningto(d){return this.eventTarget===d}handleEvent(d){var m=this;return(0,E.Z)(function*(){const M=d,{eventId:B,eventType:le,data:He}=M.data,bt=m.handlersMap[le];if(!(null==bt?void 0:bt.size))return;M.ports[0].postMessage({status:"ack",eventId:B,eventType:le});const mt=Array.from(bt).map(function(){var Zt=(0,E.Z)(function*(Fn){return Fn(M.origin,He)});return function(Fn){return Zt.apply(this,arguments)}}()),Ht=yield function ze(p){return Promise.all(p.map(function(){var l=(0,E.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(m){return{fulfilled:!1,reason:m}}});return function(d){return l.apply(this,arguments)}}()))}(mt);M.ports[0].postMessage({status:"done",eventId:B,eventType:le,response:Ht})})()}_subscribe(d,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(m)}_unsubscribe(d,m){this.handlersMap[d]&&m&&this.handlersMap[d].delete(m),(!m||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function Wn(p="",l=10){let d="";for(let m=0;m<l;m++)d+=Math.floor(10*Math.random());return p+d}class Xn{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,d,m=50){var M=this;return(0,E.Z)(function*(){const B="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!B)throw new Error("connection_unavailable");let le,He;return new Promise((bt,mt)=>{const Ht=Wn("",20);B.port1.start();const Zt=setTimeout(()=>{mt(new Error("unsupported_event"))},m);He={messageChannel:B,onMessage(Fn){const Ji=Fn;if(Ji.data.eventId===Ht)switch(Ji.data.status){case"ack":clearTimeout(Zt),le=setTimeout(()=>{mt(new Error("timeout"))},3e3);break;case"done":clearTimeout(le),bt(Ji.data.response);break;default:clearTimeout(Zt),clearTimeout(le),mt(new Error("invalid_response"))}}},M.handlers.add(He),B.port1.addEventListener("message",He.onMessage),M.target.postMessage({eventType:l,eventId:Ht,data:d},[B.port2])}).finally(()=>{He&&M.removeMessageHandler(He)})})()}}function Wr(){return window}function fs(){return void 0!==Wr().WorkerGlobalScope&&"function"==typeof Wr().importScripts}function Ts(){return(Ts=(0,E.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(p){return null}})).apply(this,arguments)}const Ti="firebaseLocalStorageDb",Ba="firebaseLocalStorage",Kn="fbase_key";class fr{constructor(l){this.request=l}toPromise(){return new Promise((l,d)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function cu(p,l){return p.transaction([Ba],l?"readwrite":"readonly").objectStore(Ba)}function In(){const p=indexedDB.open(Ti,1);return new Promise((l,d)=>{p.addEventListener("error",()=>{d(p.error)}),p.addEventListener("upgradeneeded",()=>{const m=p.result;try{m.createObjectStore(Ba,{keyPath:Kn})}catch(M){d(M)}}),p.addEventListener("success",(0,E.Z)(function*(){const m=p.result;m.objectStoreNames.contains(Ba)?l(m):(m.close(),yield function Ni(){const p=indexedDB.deleteDatabase(Ti);return new fr(p).toPromise()}(),l(yield In()))}))})}function ed(p,l,d){return ha.apply(this,arguments)}function ha(){return(ha=(0,E.Z)(function*(p,l,d){const m=cu(p,!0).put({[Kn]:l,value:d});return new fr(m).toPromise()})).apply(this,arguments)}function Va(){return(Va=(0,E.Z)(function*(p,l){const d=cu(p,!1).get(l),m=yield new fr(d).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function qn(p,l){const d=cu(p,!0).delete(l);return new fr(d).toPromise()}const mo=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,E.Z)(function*(){return d.db||(d.db=yield In()),d.db})()}_withRetries(d){var m=this;return(0,E.Z)(function*(){let M=0;for(;;)try{const B=yield m._openDb();return yield d(B)}catch(B){if(M++>3)throw B;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,E.Z)(function*(){return fs()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,E.Z)(function*(){d.receiver=Lt._getInstance(function Yo(){return fs()?self:null}()),d.receiver._subscribe("keyChanged",function(){var m=(0,E.Z)(function*(M,B){return{keyProcessed:(yield d._poll()).includes(B.key)}});return function(M,B){return m.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var m=(0,E.Z)(function*(M,B){return["keyChanged"]});return function(M,B){return m.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,E.Z)(function*(){var m,M;if(d.activeServiceWorker=yield function Ki(){return Ts.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Xn(d.activeServiceWorker);const B=yield d.sender._send("ping",{},800);!B||(null===(m=B[0])||void 0===m?void 0:m.fulfilled)&&(null===(M=B[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var m=this;return(0,E.Z)(function*(){if(m.sender&&m.activeServiceWorker&&function $i(){var p;return(null===(p=null==navigator?void 0:navigator.serviceWorker)||void 0===p?void 0:p.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:d},m.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,E.Z)(function*(){try{if(!indexedDB)return!1;const d=yield In();return yield ed(d,y,"1"),yield qn(d,y),!0}catch(d){}return!1})()}_withPendingWrite(d){var m=this;return(0,E.Z)(function*(){m.pendingWrites++;try{yield d()}finally{m.pendingWrites--}})()}_set(d,m){var M=this;return(0,E.Z)(function*(){return M._withPendingWrite((0,E.Z)(function*(){return yield M._withRetries(B=>ed(B,d,m)),M.localCache[d]=m,M.notifyServiceWorker(d)}))})()}_get(d){var m=this;return(0,E.Z)(function*(){const M=yield m._withRetries(B=>function Kd(p,l){return Va.apply(this,arguments)}(B,d));return m.localCache[d]=M,M})()}_remove(d){var m=this;return(0,E.Z)(function*(){return m._withPendingWrite((0,E.Z)(function*(){return yield m._withRetries(M=>qn(M,d)),delete m.localCache[d],m.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,E.Z)(function*(){const m=yield d._withRetries(le=>{const He=cu(le,!1).getAll();return new fr(He).toPromise()});if(!m)return[];if(0!==d.pendingWrites)return[];const M=[],B=new Set;for(const{fbase_key:le,value:He}of m)B.add(le),JSON.stringify(d.localCache[le])!==JSON.stringify(He)&&(d.notifyListeners(le,He),M.push(le));for(const le of Object.keys(d.localCache))d.localCache[le]&&!B.has(le)&&(d.notifyListeners(le,null),M.push(le));return M})()}notifyListeners(d,m){this.localCache[d]=m;const M=this.listeners[d];if(M)for(const B of Array.from(M))B(m)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,E.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})();function Gi(p,l){return ln(p,"POST","/v2/accounts/mfaSignIn:start",Mt(p,l))}function wr(){return(wr=(0,E.Z)(function*(p){return(yield ln(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ga(p){return new Promise((l,d)=>{const m=document.createElement("script");m.setAttribute("src",p),m.onload=l,m.onerror=M=>{const B=Nn("internal-error");B.customData=M,d(B)},m.type="text/javascript",m.charset="UTF-8",function pa(){var p,l;return null!==(l=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==l?l:document}().appendChild(m)})}function Qo(p){return`__${p}${Math.floor(1e6*Math.random())}`}const Jo=1e12;class _c{constructor(l){this.auth=l,this.counter=Jo,this._widgets=new Map}render(l,d){const m=this.counter;return this._widgets.set(m,new Qt(l,this.auth.name,d||{})),this.counter++,m}reset(l){var d;const m=l||Jo;null===(d=this._widgets.get(m))||void 0===d||d.delete(),this._widgets.delete(m)}getResponse(l){var d;return(null===(d=this._widgets.get(l||Jo))||void 0===d?void 0:d.getResponse())||""}execute(l){var d=this;return(0,E.Z)(function*(){var m;return null===(m=d._widgets.get(l||Jo))||void 0===m||m.execute(),""})()}}class Qt{constructor(l,d,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof l?document.getElementById(l):l;ot(M,"argument-error",{appName:d}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function yo(p){const l=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<p;m++)l.push(d.charAt(Math.floor(Math.random()*d.length)));return l.join("")}(50);const{callback:l,"expired-callback":d}=this.params;if(l)try{l(this.responseToken)}catch(m){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch(m){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const qr=Qo("rcb"),xo=new yt(3e4,6e4);class Yd{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Wr().grecaptcha}load(l,d=""){return ot(function vc(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(d),l,"argument-error"),this.shouldResolveImmediately(d)?Promise.resolve(Wr().grecaptcha):new Promise((m,M)=>{const B=Wr().setTimeout(()=>{M(Nn(l,"network-request-failed"))},xo.get());Wr()[qr]=()=>{Wr().clearTimeout(B),delete Wr()[qr];const He=Wr().grecaptcha;if(!He)return void M(Nn(l,"internal-error"));const bt=He.render;He.render=(mt,Ht)=>{const Zt=bt(mt,Ht);return this.counter++,Zt},this.hostLanguage=d,m(He)},ga(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:qr,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(B),M(Nn(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){return!!Wr().grecaptcha&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class rl{load(l){return(0,E.Z)(function*(){return new _c(l)})()}clearedOneInstance(){}}const lu="recaptcha",wc={theme:"light",type:"image"};class Xo{constructor(l,d=Object.assign({},wc),m){this.parameters=d,this.type=lu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Sn(m),this.isInvisible="invisible"===this.parameters.size,ot("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof l?document.getElementById(l):l;ot(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new rl:new Yd,this.validateStartingState()}verify(){var l=this;return(0,E.Z)(function*(){l.assertNotDestroyed();const d=yield l.render(),m=l.getAssertedRecaptcha();return m.getResponse(d)||new Promise(B=>{const le=He=>{!He||(l.tokenChangeListeners.delete(le),B(He))};l.tokenChangeListeners.add(le),l.isInvisible&&m.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){ot(!this.parameters.sitekey,this.auth,"argument-error"),ot(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ot("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return d=>{if(this.tokenChangeListeners.forEach(m=>m(d)),"function"==typeof l)l(d);else if("string"==typeof l){const m=Wr()[l];"function"==typeof m&&m(d)}}}assertNotDestroyed(){ot(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,E.Z)(function*(){if(yield l.init(),!l.widgetId){let d=l.container;if(!l.isInvisible){const m=document.createElement("div");d.appendChild(m),d=m}l.widgetId=l.getAssertedRecaptcha().render(d,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,E.Z)(function*(){ot(X()&&!fs(),l.auth,"internal-error"),yield function Ec(){let p=null;return new Promise(l=>{"complete"!==document.readyState?(p=()=>l(),window.addEventListener("load",p)):l()}).catch(l=>{throw p&&window.removeEventListener("load",p),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const d=yield function Li(p){return wr.apply(this,arguments)}(l.auth);ot(d,l.auth,"internal-error"),l.parameters.sitekey=d})()}getAssertedRecaptcha(){return ot(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class du{constructor(l,d){this.verificationId=l,this.onConfirmation=d}confirm(l){const d=Hn._fromVerification(this.verificationId,l);return this.onConfirmation(d)}}function is(){return(is=(0,E.Z)(function*(p,l,d){const m=Sn(p),M=yield $a(m,l,(0,G.m9)(d));return new du(M,B=>jt(m,B))})).apply(this,arguments)}function Cs(){return(Cs=(0,E.Z)(function*(p,l,d){const m=(0,G.m9)(p);yield P(!1,m,"phone");const M=yield $a(m.auth,l,(0,G.m9)(d));return new du(M,B=>on(m,B))})).apply(this,arguments)}function hu(){return(hu=(0,E.Z)(function*(p,l,d){const m=(0,G.m9)(p),M=yield $a(m.auth,l,(0,G.m9)(d));return new du(M,B=>Jn(m,B))})).apply(this,arguments)}function $a(p,l,d){return ya.apply(this,arguments)}function ya(){return(ya=(0,E.Z)(function*(p,l,d){var m;const M=yield d.verify();try{let B;if(ot("string"==typeof M,p,"argument-error"),ot(d.type===lu,p,"argument-error"),B="string"==typeof l?{phoneNumber:l}:l,"session"in B){const le=B.session;if("phoneNumber"in B)return ot("enroll"===le.type,p,"internal-error"),(yield $u(p,{idToken:le.credential,phoneEnrollmentInfo:{phoneNumber:B.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ot("signin"===le.type,p,"internal-error");const He=(null===(m=B.multiFactorHint)||void 0===m?void 0:m.uid)||B.multiFactorUid;return ot(He,p,"missing-multi-factor-info"),(yield Gi(p,{mfaPendingCredential:le.credential,mfaEnrollmentId:He,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:le}=yield gi(p,{phoneNumber:B.phoneNumber,recaptchaToken:M});return le}}finally{d._reset()}})).apply(this,arguments)}function Ga(){return(Ga=(0,E.Z)(function*(p,l){yield jo((0,G.m9)(p),l)})).apply(this,arguments)}let D=(()=>{class p{constructor(d){this.providerId=p.PROVIDER_ID,this.auth=Sn(d)}verifyPhoneNumber(d,m){return $a(this.auth,d,(0,G.m9)(m))}static credential(d,m){return Hn._fromVerification(d,m)}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:m,temporaryProof:M}=d;return m&&M?Hn._fromTokenResponse(m,M):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function S(p,l){return l?wn(l):(ot(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class H extends Ms{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return Ii(l,this._buildIdpRequest())}_linkToIdToken(l,d){return Ii(l,this._buildIdpRequest(d))}_getReauthenticationResolver(l){return Ii(l,this._buildIdpRequest())}_buildIdpRequest(l){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(d.idToken=l),d}}function te(p){return je(p.auth,new H(p),p.bypassAuthState)}function De(p){const{auth:l,user:d}=p;return ot(d,l,"internal-error"),J(d,new H(p),p.bypassAuthState)}function Qe(p){return _t.apply(this,arguments)}function _t(){return(_t=(0,E.Z)(function*(p){const{auth:l,user:d}=p;return ot(d,l,"internal-error"),jo(d,new H(p),p.bypassAuthState)})).apply(this,arguments)}class qt{constructor(l,d,m,M,B=!1){this.auth=l,this.resolver=m,this.user=M,this.bypassAuthState=B,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var l=this;return new Promise(function(){var d=(0,E.Z)(function*(m,M){l.pendingPromise={resolve:m,reject:M};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(B){l.reject(B)}});return function(m,M){return d.apply(this,arguments)}}())}onAuthEvent(l){var d=this;return(0,E.Z)(function*(){const{urlResponse:m,sessionId:M,postBody:B,tenantId:le,error:He,type:bt}=l;if(He)return void d.reject(He);const mt={auth:d.auth,requestUri:m,sessionId:M,tenantId:le||void 0,postBody:B||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(bt)(mt))}catch(Ht){d.reject(Ht)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return te;case"linkViaPopup":case"linkViaRedirect":return Qe;case"reauthViaPopup":case"reauthViaRedirect":return De;default:an(this.auth,"internal-error")}}resolve(l){Nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){Nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gt=new yt(2e3,1e4);function xr(){return(xr=(0,E.Z)(function*(p,l,d){const m=Sn(p);Or(p,l,A);const M=S(m,d);return new so(m,"signInViaPopup",l,M).executeNotNull()})).apply(this,arguments)}function _i(){return(_i=(0,E.Z)(function*(p,l,d){const m=(0,G.m9)(p);Or(m.auth,l,A);const M=S(m.auth,d);return new so(m.auth,"reauthViaPopup",l,M,m).executeNotNull()})).apply(this,arguments)}function _a(){return(_a=(0,E.Z)(function*(p,l,d){const m=(0,G.m9)(p);Or(m.auth,l,A);const M=S(m.auth,d);return new so(m.auth,"linkViaPopup",l,M,m).executeNotNull()})).apply(this,arguments)}let so=(()=>{class p extends qt{constructor(d,m,M,B,le){super(d,m,B,le),this.provider=M,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var d=this;return(0,E.Z)(function*(){const m=yield d.execute();return ot(m,d.auth,"internal-error"),m})()}onExecution(){var d=this;return(0,E.Z)(function*(){Nt(1===d.filter.length,"Popup operations only handle one event");const m=Wn();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],m),d.authWindow.associatedEvent=m,d.resolver._originValidation(d.auth).catch(M=>{d.reject(M)}),d.resolver._isIframeWebStorageSupported(d.auth,M=>{M||d.reject(Nn(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const d=()=>{var m,M;this.pollId=(null===(M=null===(m=this.authWindow)||void 0===m?void 0:m.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Nn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(d,Gt.get())};d()}}return p.currentPopupAction=null,p})();const Fi=new Map;class Mo extends qt{constructor(l,d,m=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,m),this.eventId=null}execute(){var l=()=>super.execute,d=this;return(0,E.Z)(function*(){let m=Fi.get(d.auth._key());if(!m){try{const B=(yield function _o(p,l){return fu.apply(this,arguments)}(d.resolver,d.auth))?yield l().call(d):null;m=()=>Promise.resolve(B)}catch(M){m=()=>Promise.reject(M)}Fi.set(d.auth._key(),m)}return d.bypassAuthState||Fi.set(d.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(l){var d=()=>super.onAuthEvent,m=this;return(0,E.Z)(function*(){if("signInViaRedirect"===l.type)return d().call(m,l);if("unknown"!==l.type){if(l.eventId){const M=yield m.auth._redirectUserForId(l.eventId);if(M)return m.user=M,d().call(m,l);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,E.Z)(function*(){})()}cleanUp(){}}function fu(){return(fu=(0,E.Z)(function*(p,l){const d=pu(l),m=qa(p);if(!(yield m._isAvailable()))return!1;const M="true"===(yield m._get(d));return yield m._remove(d),M})).apply(this,arguments)}function Gu(p,l){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,E.Z)(function*(p,l){return qa(p)._set(pu(l),"true")})).apply(this,arguments)}function qa(p){return wn(p._redirectPersistence)}function pu(p){return An("pendingRedirect",p.config.apiKey,p.name)}function gu(){return(gu=(0,E.Z)(function*(p,l,d){const m=Sn(p);Or(p,l,A);const M=S(m,d);return yield Gu(M,m),M._openRedirect(m,l,"signInViaRedirect")})).apply(this,arguments)}function mu(){return(mu=(0,E.Z)(function*(p,l,d){const m=(0,G.m9)(p);Or(m.auth,l,A);const M=S(m.auth,d);yield Gu(M,m.auth);const B=yield bc(m);return M._openRedirect(m.auth,l,"reauthViaRedirect",B)})).apply(this,arguments)}function zu(){return(zu=(0,E.Z)(function*(p,l,d){const m=(0,G.m9)(p);Or(m.auth,l,A);const M=S(m.auth,d);yield P(!1,m,l.providerId),yield Gu(M,m.auth);const B=yield bc(m);return M._openRedirect(m.auth,l,"linkViaRedirect",B)})).apply(this,arguments)}function sl(){return(sl=(0,E.Z)(function*(p,l){return yield Sn(p)._initializationPromise,_u(p,l,!1)})).apply(this,arguments)}function _u(p,l){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,E.Z)(function*(p,l,d=!1){const m=Sn(p),M=S(m,l),le=yield new Mo(m,M,d).execute();return le&&!d&&(delete le.user._redirectEventId,yield m._persistUserIfCurrent(le.user),yield m._setRedirectUser(null,l)),le})).apply(this,arguments)}function bc(p){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,E.Z)(function*(p){const l=Wn(`${p.uid}:::`);return p._redirectEventId=l,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),l})).apply(this,arguments)}class va{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let d=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(l,m)&&(d=!0,this.sendToConsumer(l,m),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function Xd(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wa(p);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=l,d=!0)),d}sendToConsumer(l,d){var m;if(l.error&&!wa(l)){const M=(null===(m=l.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";d.onError(Nn(this.auth,M))}else d.onAuthEvent(l)}isEventForConsumer(l,d){const m=null===d.eventId||!!l.eventId&&l.eventId===d.eventId;return d.filter.includes(l.type)&&m}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ol(l))}saveEventToCache(l){this.cachedEventUids.add(ol(l)),this.lastProcessedEventTime=Date.now()}}function ol(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(l=>l).join("-")}function wa({type:p,error:l}){return"unknown"===p&&"auth/no-auth-event"===(null==l?void 0:l.code)}function wu(p){return al.apply(this,arguments)}function al(){return(al=(0,E.Z)(function*(p,l={}){return ln(p,"GET","/v1/projects",l)})).apply(this,arguments)}const eh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dc=/^https?/;function Eu(){return(Eu=(0,E.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:l}=yield wu(p);for(const d of l)try{if(zi(d))return}catch(m){}an(p,"unauthorized-domain")})).apply(this,arguments)}function zi(p){const l=Oe(),{protocol:d,hostname:m}=new URL(l);if(p.startsWith("chrome-extension://")){const le=new URL(p);return""===le.hostname&&""===m?"chrome-extension:"===d&&p.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===d&&le.hostname===m}if(!Dc.test(d))return!1;if(eh.test(p))return m===p;const M=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(m)}const od=new yt(3e4,6e4);function ul(){const p=Wr().___jsl;if(null==p?void 0:p.H)for(const l of Object.keys(p.H))if(p.H[l].r=p.H[l].r||[],p.H[l].L=p.H[l].L||[],p.H[l].r=[...p.H[l].L],p.CP)for(let d=0;d<p.CP.length;d++)p.CP[d]=null}let Tc=null;function Rg(p){return Tc=Tc||function Sg(p){return new Promise((l,d)=>{var m,M,B;function le(){ul(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{ul(),d(Nn(p,"network-request-failed"))},timeout:od.get()})}if(null===(M=null===(m=Wr().gapi)||void 0===m?void 0:m.iframes)||void 0===M?void 0:M.Iframe)l(gapi.iframes.getContext());else{if(!(null===(B=Wr().gapi)||void 0===B?void 0:B.load)){const He=Qo("iframefcb");return Wr()[He]=()=>{gapi.load?le():d(Nn(p,"network-request-failed"))},ga(`https://apis.google.com/js/api.js?onload=${He}`).catch(bt=>d(bt))}le()}}).catch(l=>{throw Tc=null,l})}(p),Tc}const ad=new yt(5e3,15e3),Ka={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function If(p){const l=p.config;ot(l.authDomain,p,"auth-domain-config-required");const d=l.emulator?gt(l,"emulator/auth/iframe"):`https://${p.config.authDomain}/__/auth/iframe`,m={apiKey:l.apiKey,appName:p.name,v:pe.SDK_VERSION},M=nh.get(p.config.apiHost);M&&(m.eid=M);const B=p._getFrameworks();return B.length&&(m.fw=B.join(",")),`${d}?${(0,G.xO)(m).slice(1)}`}function ea(){return ea=(0,E.Z)(function*(p){const l=yield Rg(p),d=Wr().gapi;return ot(d,p,"internal-error"),l.open({where:document.body,url:If(p),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ka,dontclear:!0},m=>new Promise(function(){var M=(0,E.Z)(function*(B,le){yield m.restyle({setHideOnLeave:!1});const He=Nn(p,"network-request-failed"),bt=Wr().setTimeout(()=>{le(He)},ad.get());function mt(){Wr().clearTimeout(bt),B(m)}m.ping(mt).then(mt,()=>{le(He)})});return function(B,le){return M.apply(this,arguments)}}()))}),ea.apply(this,arguments)}const cl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ll{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(l){}}}function qu(p,l,d,m,M,B){ot(p.config.authDomain,p,"auth-domain-config-required"),ot(p.config.apiKey,p,"invalid-api-key");const le={apiKey:p.config.apiKey,appName:p.name,authType:d,redirectUrl:m,v:pe.SDK_VERSION,eventId:M};if(l instanceof A){l.setDefaultLanguage(p.languageCode),le.providerId=l.providerId||"",(0,G.xb)(l.getCustomParameters())||(le.customParameters=JSON.stringify(l.getCustomParameters()));for(const[bt,mt]of Object.entries(B||{}))le[bt]=mt}if(l instanceof $){const bt=l.getScopes().filter(mt=>""!==mt);bt.length>0&&(le.scopes=bt.join(","))}p.tenantId&&(le.tid=p.tenantId);const He=le;for(const bt of Object.keys(He))void 0===He[bt]&&delete He[bt];return`${function ld({config:p}){return p.emulator?gt(p,"emulator/auth/handler"):`https://${p.authDomain}/__/auth/handler`}(p)}?${(0,G.xO)(He).slice(1)}`}const oo="webStorageSupport";class dl extends class bf{constructor(l){this.factorId=l}_process(l,d,m){switch(d.type){case"enroll":return this._finalizeEnroll(l,d.credential,m);case"signin":return this._finalizeSignIn(l,d.credential);default:return Tn("unexpected MultiFactorSessionType")}}}{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new dl(l)}_finalizeEnroll(l,d,m){return function si(p,l){return ln(p,"POST","/v2/accounts/mfaEnrollment:finalize",Mt(p,l))}(l,{idToken:d,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,d){return function nd(p,l){return ln(p,"POST","/v2/accounts/mfaSignIn:finalize",Mt(p,l))}(l,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Df=(()=>{class p{constructor(){}static assertion(d){return dl._fromCredential(d)}}return p.FACTOR_ID="phone",p})();var Pr="@firebase/auth";class Iu{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var d=this;return(0,E.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const d=this.auth.onIdTokenChanged(m=>{var M;l((null===(M=m)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(l,d),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const d=this.internalListeners.get(l);!d||(this.internalListeners.delete(l),d(),this.updateProactiveRefresh())}assertAuthConfigured(){ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Zr(){return window}function Rc(){return(Rc=(0,E.Z)(function*(p,l,d){var m;const{BuildInfo:M}=Zr();Nt(l.sessionId,"AuthEvent did not contain a session ID");const B=yield Af(l.sessionId),le={};return $t()?le.ibi=M.packageName:q()?le.apn=M.packageName:an(p,"operation-not-supported-in-this-environment"),M.displayName&&(le.appDisplayName=M.displayName),le.sessionId=B,qu(p,d,l.type,void 0,null!==(m=l.eventId)&&void 0!==m?m:void 0,le)})).apply(this,arguments)}function hl(){return(hl=(0,E.Z)(function*(p){const{BuildInfo:l}=Zr(),d={};$t()?d.iosBundleId=l.packageName:q()?d.androidPackageName=l.packageName:an(p,"operation-not-supported-in-this-environment"),yield wu(p,d)})).apply(this,arguments)}function pd(){return(pd=(0,E.Z)(function*(p,l,d){const{cordova:m}=Zr();let M=()=>{};try{yield new Promise((B,le)=>{let He=null;function bt(){var Zt;B();const Fn=null===(Zt=m.plugins.browsertab)||void 0===Zt?void 0:Zt.close;"function"==typeof Fn&&Fn(),"function"==typeof(null==d?void 0:d.close)&&d.close()}function mt(){He||(He=window.setTimeout(()=>{le(Nn(p,"redirect-cancelled-by-user"))},2e3))}function Ht(){"visible"===(null==document?void 0:document.visibilityState)&&mt()}l.addPassiveListener(bt),document.addEventListener("resume",mt,!1),q()&&document.addEventListener("visibilitychange",Ht,!1),M=()=>{l.removePassiveListener(bt),document.removeEventListener("resume",mt,!1),document.removeEventListener("visibilitychange",Ht,!1),He&&window.clearTimeout(He)}})}finally{M()}})).apply(this,arguments)}function Af(p){return oh.apply(this,arguments)}function oh(){return(oh=(0,E.Z)(function*(p){const l=Ci(p),d=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(d)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ci(p){if(Nt(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(p);const l=new ArrayBuffer(p.length),d=new Uint8Array(l);for(let m=0;m<p.length;m++)d[m]=p.charCodeAt(m);return d}!function bu(p){(0,pe._registerComponent)(new Pe.wA("auth",(l,{options:d})=>{const m=l.getProvider("app").getImmediate(),{apiKey:M,authDomain:B}=m.options;return(le=>{ot(M&&!M.includes(":"),"invalid-api-key",{appName:le.name}),ot(!(null==B?void 0:B.includes(":")),"argument-error",{appName:le.name});const He={apiKey:M,authDomain:B,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ei(p)},bt=new xs(le,He);return function di(p,l){const d=(null==l?void 0:l.persistence)||[],m=(Array.isArray(d)?d:[d]).map(wn);(null==l?void 0:l.errorMap)&&p._updateErrorMap(l.errorMap),p._initializeWithPersistence(m,null==l?void 0:l.popupRedirectResolver)}(bt,d),bt})(m)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,d,m)=>{l.getProvider("auth-internal").initialize()})),(0,pe._registerComponent)(new Pe.wA("auth-internal",l=>{const d=Sn(l.getProvider("auth").getImmediate());return new Iu(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,pe.registerVersion)(Pr,"0.19.7",function Sc(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,pe.registerVersion)(Pr,"0.19.7","esm2017")}("Browser");class fl extends va{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(l)),super.onEvent(l)}initialized(){var l=this;return(0,E.Z)(function*(){yield l.initPromise})()}}function Qi(p){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,E.Z)(function*(p){const l=yield pl()._get(Mc(p));return l&&(yield pl()._remove(Mc(p))),l})).apply(this,arguments)}function ah(){const p=[],l="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let d=0;d<20;d++){const m=Math.floor(Math.random()*l.length);p.push(l.charAt(m))}return p.join("")}function pl(){return wn(de)}function Mc(p){return An("authEvent",p.config.apiKey,p.name)}function Tu(p){if(!(null==p?void 0:p.includes("?")))return{};const[l,...d]=p.split("?");return(0,G.zd)(d.join("?"))}function Pc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Nn("no-auth-event")}}function Oc(){var p;return(null===(p=null==self?void 0:self.location)||void 0===p?void 0:p.protocol)||null}function hh(p=(0,G.z$)()){return!("file:"!==Oc()&&"ionic:"!==Oc()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function md(){try{const p=self.localStorage,l=Wn();if(p)return p.setItem(l,"1"),p.removeItem(l),!function Pf(p=(0,G.z$)()){return function Yu(){return(0,G.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Mf(p=(0,G.z$)()){return/Edge\/\d+/.test(p)}(p)}()||(0,G.hl)()}catch(p){return ml()&&(0,G.hl)()}return!1}function ml(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ao(){return(function kc(){return"http:"===Oc()||"https:"===Oc()}()||(0,G.ru)()||hh())&&!function Ku(){return(0,G.b$)()||(0,G.UG)()}()&&md()&&!ml()}function fh(){return hh()&&"undefined"!=typeof document}function vo(){return(vo=(0,E.Z)(function*(){return!!fh()&&new Promise(p=>{const l=setTimeout(()=>{p(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),p(!0)})})})).apply(this,arguments)}const oi={LOCAL:"local",NONE:"none",SESSION:"session"},wo=ot,Tr="persistence";function gh(p){return mh.apply(this,arguments)}function mh(){return(mh=(0,E.Z)(function*(p){yield p._initializationPromise;const l=na(),d=An(Tr,p.config.apiKey,p.name);l&&l.setItem(d,p._getPersistence())})).apply(this,arguments)}function na(){var p;try{return(null===(p=function Of(){return"undefined"!=typeof window?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch(l){return null}}const wi=ot;class ei{constructor(){this.browserResolver=wn(class xg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=he,this._completeRedirectFn=_u}_openPopup(l,d,m,M){var B=this;return(0,E.Z)(function*(){var le;Nt(null===(le=B.eventManagers[l._key()])||void 0===le?void 0:le.manager,"_initialize() not called before _openPopup()");const He=qu(l,d,m,Oe(),M);return function ss(p,l,d,m=500,M=600){const B=Math.max((window.screen.availHeight-M)/2,0).toString(),le=Math.max((window.screen.availWidth-m)/2,0).toString();let He="";const bt=Object.assign(Object.assign({},cl),{width:m.toString(),height:M.toString(),top:B,left:le}),mt=(0,G.z$)().toLowerCase();d&&(He=se(mt)?"_blank":d),cn(mt)&&(l=l||"http://localhost",bt.scrollbars="yes");const Ht=Object.entries(bt).reduce((Fn,[Ji,uo])=>`${Fn}${Ji}=${uo},`,"");if(function nn(p=(0,G.z$)()){var l;return $t(p)&&!!(null===(l=window.navigator)||void 0===l?void 0:l.standalone)}(mt)&&"_self"!==He)return function cd(p,l){const d=document.createElement("a");d.href=p,d.target=l;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(m)}(l||"",He),new ll(null);const Zt=window.open(l||"",He,Ht);ot(Zt,p,"popup-blocked");try{Zt.focus()}catch(Fn){}return new ll(Zt)}(l,He,Wn())})()}_openRedirect(l,d,m,M){var B=this;return(0,E.Z)(function*(){return yield B._originValidation(l),function hs(p){Wr().location.href=p}(qu(l,d,m,Oe(),M)),new Promise(()=>{})})()}_initialize(l){const d=l._key();if(this.eventManagers[d]){const{manager:M,promise:B}=this.eventManagers[d];return M?Promise.resolve(M):(Nt(B,"If manager is not set, promise should be"),B)}const m=this.initAndGetManager(l);return this.eventManagers[d]={promise:m},m.catch(()=>{delete this.eventManagers[d]}),m}initAndGetManager(l){var d=this;return(0,E.Z)(function*(){const m=yield function rh(p){return ea.apply(this,arguments)}(l),M=new va(l);return m.register("authEvent",B=>(ot(null==B?void 0:B.authEvent,l,"invalid-auth-event"),{status:M.onEvent(B.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[l._key()]={manager:M},d.iframes[l._key()]=m,M})()}_isIframeWebStorageSupported(l,d){this.iframes[l._key()].send(oo,{type:oo},M=>{var B;const le=null===(B=null==M?void 0:M[0])||void 0===B?void 0:B[oo];void 0!==le&&d(!!le),an(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Za(p){return Eu.apply(this,arguments)}(l)),this.originValidationPromises[d]}get _shouldInitProactively(){return Gr()||Yr()||$t()}}),this.cordovaResolver=wn(class Rf{constructor(){this._redirectPersistence=he,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_u}_initialize(l){var d=this;return(0,E.Z)(function*(){const m=l._key();let M=d.eventManagers.get(m);return M||(M=new fl(l),d.eventManagers.set(m,M),d.attachCallbackListeners(l,M)),M})()}_openPopup(l){an(l,"operation-not-supported-in-this-environment")}_openRedirect(l,d,m,M){var B=this;return(0,E.Z)(function*(){!function xc(p){var l,d,m,M,B,le,He,bt,mt,Ht;const Zt=Zr();ot("function"==typeof(null===(l=null==Zt?void 0:Zt.universalLinks)||void 0===l?void 0:l.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ot(void 0!==(null===(d=null==Zt?void 0:Zt.BuildInfo)||void 0===d?void 0:d.packageName),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ot("function"==typeof(null===(B=null===(M=null===(m=null==Zt?void 0:Zt.cordova)||void 0===m?void 0:m.plugins)||void 0===M?void 0:M.browsertab)||void 0===B?void 0:B.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ot("function"==typeof(null===(bt=null===(He=null===(le=null==Zt?void 0:Zt.cordova)||void 0===le?void 0:le.plugins)||void 0===He?void 0:He.browsertab)||void 0===bt?void 0:bt.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ot("function"==typeof(null===(Ht=null===(mt=null==Zt?void 0:Zt.cordova)||void 0===mt?void 0:mt.InAppBrowser)||void 0===Ht?void 0:Ht.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const le=yield B._initialize(l);yield le.initialized(),le.resetRedirect(),function Wa(){Fi.clear()}(),yield B._originValidation(l);const He=function Zu(p,l,d=null){return{type:l,eventId:d,urlResponse:null,sessionId:ah(),postBody:null,tenantId:p.tenantId,error:Nn(p,"no-auth-event")}}(l,m,M);yield function Oo(p,l){return pl()._set(Mc(p),l)}(l,He);const bt=yield function sh(p,l,d){return Rc.apply(this,arguments)}(l,He,d),mt=yield function Tf(p){const{cordova:l}=Zr();return new Promise(d=>{l.plugins.browsertab.isAvailable(m=>{let M=null;m?l.plugins.browsertab.openUrl(p):M=l.InAppBrowser.open(p,function Bt(p=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}()?"_blank":"_system","location=yes"),d(M)})})}(bt);return function Cf(p,l,d){return pd.apply(this,arguments)}(l,le,mt)})()}_isIframeWebStorageSupported(l,d){throw new Error("Method not implemented.")}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function fd(p){return hl.apply(this,arguments)}(l)),this.originValidationPromises[d]}attachCallbackListeners(l,d){const{universalLinks:m,handleOpenURL:M,BuildInfo:B}=Zr(),le=setTimeout((0,E.Z)(function*(){yield Qi(l),d.onEvent(Pc())}),500),He=function(){var Ht=(0,E.Z)(function*(Zt){clearTimeout(le);const Fn=yield Qi(l);let Ji=null;Fn&&(null==Zt?void 0:Zt.url)&&(Ji=function Du(p,l){var d,m;const M=function uh(p){const l=Tu(p),d=l.link?decodeURIComponent(l.link):void 0,m=Tu(d).link,M=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return Tu(M).link||M||m||d||p}(l);if(M.includes("/__/auth/callback")){const B=Tu(M),le=B.firebaseError?function Sf(p){try{return JSON.parse(p)}catch(l){return null}}(decodeURIComponent(B.firebaseError)):null,He=null===(m=null===(d=null==le?void 0:le.code)||void 0===d?void 0:d.split("auth/"))||void 0===m?void 0:m[1],bt=He?Nn(He):null;return bt?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:bt,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:M,postBody:null}}return null}(Fn,Zt.url)),d.onEvent(Ji||Pc())});return function(Fn){return Ht.apply(this,arguments)}}();void 0!==m&&"function"==typeof m.subscribe&&m.subscribe(null,He);const bt=M,mt=`${B.packageName.toLowerCase()}://`;Zr().handleOpenURL=function(){var Ht=(0,E.Z)(function*(Zt){if(Zt.toLowerCase().startsWith(mt)&&He({url:Zt}),"function"==typeof bt)try{bt(Zt)}catch(Fn){console.error(Fn)}});return function(Zt){return Ht.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=he,this._completeRedirectFn=_u}_initialize(l){var d=this;return(0,E.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,d,m,M){var B=this;return(0,E.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._openPopup(l,d,m,M)})()}_openRedirect(l,d,m,M){var B=this;return(0,E.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._openRedirect(l,d,m,M)})()}_isIframeWebStorageSupported(l,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,d)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return fh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return wi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,E.Z)(function*(){if(l.underlyingResolver)return;const d=yield function ph(){return vo.apply(this,arguments)}();l.underlyingResolver=d?l.cordovaResolver:l.browserResolver})()}}function Ss(p){return p.unwrap()}function ra(p){return Qa(p)}function Qa(p){const{_tokenResponse:l}=p instanceof G.ZR?p.customData:p;if(!l)return null;if(!(p instanceof G.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return D.credentialFromResult(p);const d=l.providerId;if(!d||"password"===d)return null;let m;switch(d){case"google.com":m=Ye;break;case"facebook.com":m=qe;break;case"github.com":m=Rt;break;case"twitter.com":m=kr;break;default:const{oauthIdToken:M,oauthAccessToken:B,oauthTokenSecret:le,pendingToken:He,nonce:bt}=l;return B||le||M||He?He?d.startsWith("saml.")?Vn._create(d,He):pi._fromParams({providerId:d,signInMethod:d,pendingToken:He,idToken:M,accessToken:B}):new ue(d).credential({idToken:M,accessToken:B,rawNonce:bt}):null}return p instanceof G.ZR?m.credentialFromError(p):m.credentialFromResult(p)}function Hs(p,l){return l.catch(d=>{throw d instanceof G.ZR&&function ia(p,l){var d;const m=null===(d=l.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===l.code)l.resolver=new ht(p,function da(p,l){var d;const m=(0,G.m9)(p),M=l;return ot(l.customData.operationType,m,"argument-error"),ot(null===(d=M.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,m,"argument-error"),go._fromError(m,M)}(p,l));else if(m){const M=Qa(l),B=l;M&&(B.credential=M,B.tenantId=m.tenantId||void 0,B.email=m.email||void 0,B.phoneNumber=m.phoneNumber||void 0)}}(p,d),d}).then(d=>{const M=d.user;return{operationType:d.operationType,credential:ra(d),additionalUserInfo:Di(d),user:ko.getOrCreate(M)}})}function Qu(p,l){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,E.Z)(function*(p,l){const d=yield l;return{verificationId:d.verificationId,confirm:m=>Hs(p,d.confirm(m))}})).apply(this,arguments)}class ht{constructor(l,d){this.resolver=d,this.auth=function Cu(p){return p.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return Hs(Ss(this.auth),this.resolver.resolveSignIn(l))}}class ko{constructor(l){this._delegate=l,this.multiFactor=function I(p){const l=(0,G.m9)(p);return io.has(l)||io.set(l,Ds._fromUser(l)),io.get(l)}(l)}static getOrCreate(l){return ko.USER_MAP.has(l)||ko.USER_MAP.set(l,new ko(l)),ko.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var d=this;return(0,E.Z)(function*(){return Hs(d.auth,on(d._delegate,l))})()}linkWithPhoneNumber(l,d){var m=this;return(0,E.Z)(function*(){return Qu(m.auth,function ps(p,l,d){return Cs.apply(this,arguments)}(m._delegate,l,d))})()}linkWithPopup(l){var d=this;return(0,E.Z)(function*(){return Hs(d.auth,function Mr(p,l,d){return _a.apply(this,arguments)}(d._delegate,l,ei))})()}linkWithRedirect(l){var d=this;return(0,E.Z)(function*(){return yield gh(Sn(d.auth)),function Qd(p,l,d){return function il(p,l,d){return zu.apply(this,arguments)}(p,l,d)}(d._delegate,l,ei)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var d=this;return(0,E.Z)(function*(){return Hs(d.auth,Jn(d._delegate,l))})()}reauthenticateWithPhoneNumber(l,d){return Qu(this.auth,function Br(p,l,d){return hu.apply(this,arguments)}(this._delegate,l,d))}reauthenticateWithPopup(l){return Hs(this.auth,function Yi(p,l,d){return _i.apply(this,arguments)}(this._delegate,l,ei))}reauthenticateWithRedirect(l){var d=this;return(0,E.Z)(function*(){return yield gh(Sn(d.auth)),function Ef(p,l,d){return function sd(p,l,d){return mu.apply(this,arguments)}(p,l,d)}(d._delegate,l,ei)})()}sendEmailVerification(l){return function zo(p,l){return Zs.apply(this,arguments)}(this._delegate,l)}unlink(l){var d=this;return(0,E.Z)(function*(){return yield function lt(p,l){return gn.apply(this,arguments)}(d._delegate,l),d})()}updateEmail(l){return function Wo(p,l){return po((0,G.m9)(p),l,null)}(this._delegate,l)}updatePassword(l){return function no(p,l){return po((0,G.m9)(p),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function rd(p,l){return Ga.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function rs(p,l){return vr.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,d){return function ua(p,l,d){return to.apply(this,arguments)}(this._delegate,l,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ko.USER_MAP=new WeakMap;const Wi=ot;let yl=(()=>{class p{constructor(d,m){if(this.app=d,m.isInitialized())return this._delegate=m.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=d.options;Wi(M,"invalid-api-key",{appName:d.name}),Wi(M,"invalid-api-key",{appName:d.name});const B="undefined"!=typeof window?ei:void 0;this._delegate=m.initialize({options:{persistence:Su(M,d.name),popupRedirectResolver:B}}),this._delegate._updateErrorMap(Dn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ko.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,m){!function xi(p,l,d){const m=Sn(p);ot(m._canInitEmulator,m,"emulator-config-failed"),ot(/^https?:\/\//.test(l),m,"invalid-emulator-scheme");const M=!!(null==d?void 0:d.disableWarnings),B=cs(l),{host:le,port:He}=function Xs(p){const l=cs(p),d=/(\/\/)?([^?#/]+)/.exec(p.substr(l.length));if(!d)return{host:"",port:null};const m=d[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(m);if(M){const B=M[1];return{host:B,port:bo(m.substr(B.length+1))}}{const[B,le]=m.split(":");return{host:B,port:bo(le)}}}(l);m.config.emulator={url:`${B}//${le}${null===He?"":`:${He}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:le,port:He,protocol:B.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function yr(){function p(){const l=document.createElement("p"),d=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}(this._delegate,d,m)}applyActionCode(d){return function Bs(p,l){return Vs.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return Ma(this._delegate,d)}confirmPasswordReset(d,m){return function ns(p,l,d){return Ho.apply(this,arguments)}(this._delegate,d,m)}createUserWithEmailAndPassword(d,m){var M=this;return(0,E.Z)(function*(){return Hs(M._delegate,function To(p,l,d){return Oa.apply(this,arguments)}(M._delegate,d,m))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function ka(p,l){return Na.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function Ur(p,l){const d=bn.parseLink(l);return"EMAIL_SIGNIN"===(null==d?void 0:d.operation)}(0,d)}getRedirectResult(){var d=this;return(0,E.Z)(function*(){Wi(ao(),d._delegate,"operation-not-supported-in-this-environment");const m=yield function yu(p,l){return sl.apply(this,arguments)}(d._delegate,ei);return m?Hs(d._delegate,Promise.resolve(m)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function lh(p,l){Sn(p)._logFramework(l)}(this._delegate,d)}onAuthStateChanged(d,m,M){const{next:B,error:le,complete:He}=Au(d,m,M);return this._delegate.onAuthStateChanged(B,le,He)}onIdTokenChanged(d,m,M){const{next:B,error:le,complete:He}=Au(d,m,M);return this._delegate.onIdTokenChanged(B,le,He)}sendSignInLinkToEmail(d,m){return function yi(p,l,d){return bs.apply(this,arguments)}(this._delegate,d,m)}sendPasswordResetEmail(d,m){return function zr(p,l,d){return rr.apply(this,arguments)}(this._delegate,d,m||void 0)}setPersistence(d){var m=this;return(0,E.Z)(function*(){let M;switch(function ai(p,l){wo(Object.values(oi).includes(l),p,"invalid-persistence-type"),(0,G.b$)()?wo(l!==oi.SESSION,p,"unsupported-persistence-type"):(0,G.UG)()?wo(l===oi.NONE,p,"unsupported-persistence-type"):ml()?wo(l===oi.NONE||l===oi.LOCAL&&(0,G.hl)(),p,"unsupported-persistence-type"):wo(l===oi.NONE||md(),p,"unsupported-persistence-type")}(m._delegate,d),d){case oi.SESSION:M=he;break;case oi.LOCAL:M=(yield wn(mo)._isAvailable())?mo:de;break;case oi.NONE:M=Hr;break;default:return an("argument-error",{appName:m._delegate.name})}return m._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return Hs(this._delegate,function qs(p){return Oi.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return Hs(this._delegate,jt(this._delegate,d))}signInWithCustomToken(d){return Hs(this._delegate,function bi(p,l){return cr.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,m){return Hs(this._delegate,function eo(p,l,d){return jt((0,G.m9)(p),j.credential(l,d))}(this._delegate,d,m))}signInWithEmailLink(d,m){return Hs(this._delegate,function Co(p,l,d){return Go.apply(this,arguments)}(this._delegate,d,m))}signInWithPhoneNumber(d,m){return Qu(this._delegate,function Ha(p,l,d){return is.apply(this,arguments)}(this._delegate,d,m))}signInWithPopup(d){var m=this;return(0,E.Z)(function*(){return Wi(ao(),m._delegate,"operation-not-supported-in-this-environment"),Hs(m._delegate,function lr(p,l,d){return xr.apply(this,arguments)}(m._delegate,d,ei))})()}signInWithRedirect(d){var m=this;return(0,E.Z)(function*(){return Wi(ao(),m._delegate,"operation-not-supported-in-this-environment"),yield gh(m._delegate),function Po(p,l,d){return function id(p,l,d){return gu.apply(this,arguments)}(p,l,d)}(m._delegate,d,ei)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function Pa(p,l){return $o.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=oi,p})();function Au(p,l,d){let m=p;"function"!=typeof p&&({next:m,error:l,complete:d}=p);const M=m;return{next:le=>M(le&&ko.getOrCreate(le)),error:l,complete:d}}function Su(p,l){const d=function vi(p,l){const d=na();if(!d)return[];const m=An(Tr,p,l);switch(d.getItem(m)){case oi.NONE:return[Hr];case oi.LOCAL:return[mo,he];case oi.SESSION:return[he];default:return[]}}(p,l);if("undefined"!=typeof self&&!d.includes(mo)&&d.push(mo),"undefined"!=typeof window)for(const m of[de,he])d.includes(m)||d.push(m);return d.includes(Hr)||d.push(Hr),d}class Nc{constructor(){this.providerId="phone",this._delegate=new D(Ss(x.Z.auth()))}static credential(l,d){return D.credential(l,d)}verifyPhoneNumber(l,d){return this._delegate.verifyPhoneNumber(l,d)}unwrap(){return this._delegate}}Nc.PHONE_SIGN_IN_METHOD=D.PHONE_SIGN_IN_METHOD,Nc.PROVIDER_ID=D.PROVIDER_ID;const Ru=ot;class yh{constructor(l,d,m=x.Z.app()){var M;Ru(null===(M=m.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:m.name}),this._delegate=new Xo(l,d,m.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function _h(p){p.INTERNAL.registerComponent(new Pe.wA("auth-compat",l=>{const d=l.getProvider("app-compat").getImmediate(),m=l.getProvider("auth");return new yl(d,m)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:j,FacebookAuthProvider:qe,GithubAuthProvider:Rt,GoogleAuthProvider:Ye,OAuthProvider:ue,SAMLAuthProvider:rn,PhoneAuthProvider:Nc,PhoneMultiFactorGenerator:Df,RecaptchaVerifier:yh,TwitterAuthProvider:kr,Auth:yl,AuthCredential:Ms,Error:G.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.2.7")}(x.Z)},2940:function(Pt,$e){!function(L){"use strict";function E(_e){return Array.prototype.slice.call(_e)}function x(_e){return new Promise(function(Le,Ke){_e.onsuccess=function(){Le(_e.result)},_e.onerror=function(){Ke(_e.error)}})}function G(_e,Le,Ke){var Ue,Y=new Promise(function(st,et){x(Ue=_e[Le].apply(_e,Ke)).then(st,et)});return Y.request=Ue,Y}function pe(_e,Le,Ke){var Ue=G(_e,Le,Ke);return Ue.then(function(Y){if(Y)return new ne(Y,Ue.request)})}function ge(_e,Le,Ke){Ke.forEach(function(Ue){Object.defineProperty(_e.prototype,Ue,{get:function(){return this[Le][Ue]},set:function(Y){this[Le][Ue]=Y}})})}function Te(_e,Le,Ke,Ue){Ue.forEach(function(Y){Y in Ke.prototype&&(_e.prototype[Y]=function(){return G(this[Le],Y,arguments)})})}function Re(_e,Le,Ke,Ue){Ue.forEach(function(Y){Y in Ke.prototype&&(_e.prototype[Y]=function(){return this[Le][Y].apply(this[Le],arguments)})})}function Ae(_e,Le,Ke,Ue){Ue.forEach(function(Y){Y in Ke.prototype&&(_e.prototype[Y]=function(){return pe(this[Le],Y,arguments)})})}function Me(_e){this._index=_e}function ne(_e,Le){this._cursor=_e,this._request=Le}function ee(_e){this._store=_e}function Se(_e){this._tx=_e,this.complete=new Promise(function(Le,Ke){_e.oncomplete=function(){Le()},_e.onerror=function(){Ke(_e.error)},_e.onabort=function(){Ke(_e.error)}})}function pt(_e,Le,Ke){this._db=_e,this.oldVersion=Le,this.transaction=new Se(Ke)}function We(_e){this._db=_e}ge(Me,"_index",["name","keyPath","multiEntry","unique"]),Te(Me,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Ae(Me,"_index",IDBIndex,["openCursor","openKeyCursor"]),ge(ne,"_cursor",["direction","key","primaryKey","value"]),Te(ne,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(_e){_e in IDBCursor.prototype&&(ne.prototype[_e]=function(){var Le=this,Ke=arguments;return Promise.resolve().then(function(){return Le._cursor[_e].apply(Le._cursor,Ke),x(Le._request).then(function(Ue){if(Ue)return new ne(Ue,Le._request)})})})}),ee.prototype.createIndex=function(){return new Me(this._store.createIndex.apply(this._store,arguments))},ee.prototype.index=function(){return new Me(this._store.index.apply(this._store,arguments))},ge(ee,"_store",["name","keyPath","indexNames","autoIncrement"]),Te(ee,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Ae(ee,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Re(ee,"_store",IDBObjectStore,["deleteIndex"]),Se.prototype.objectStore=function(){return new ee(this._tx.objectStore.apply(this._tx,arguments))},ge(Se,"_tx",["objectStoreNames","mode"]),Re(Se,"_tx",IDBTransaction,["abort"]),pt.prototype.createObjectStore=function(){return new ee(this._db.createObjectStore.apply(this._db,arguments))},ge(pt,"_db",["name","version","objectStoreNames"]),Re(pt,"_db",IDBDatabase,["deleteObjectStore","close"]),We.prototype.transaction=function(){return new Se(this._db.transaction.apply(this._db,arguments))},ge(We,"_db",["name","version","objectStoreNames"]),Re(We,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(_e){[ee,Me].forEach(function(Le){_e in Le.prototype&&(Le.prototype[_e.replace("open","iterate")]=function(){var Ke=E(arguments),Ue=Ke[Ke.length-1],Y=this._store||this._index,st=Y[_e].apply(Y,Ke.slice(0,-1));st.onsuccess=function(){Ue(st.result)}})})}),[Me,ee].forEach(function(_e){_e.prototype.getAll||(_e.prototype.getAll=function(Le,Ke){var Ue=this,Y=[];return new Promise(function(st){Ue.iterateCursor(Le,function(et){et?(Y.push(et.value),void 0===Ke||Y.length!=Ke?et.continue():st(Y)):st(Y)})})})}),L.openDb=function nt(_e,Le,Ke){var Ue=G(indexedDB,"open",[_e,Le]),Y=Ue.request;return Y&&(Y.onupgradeneeded=function(st){Ke&&Ke(new pt(Y.result,st.oldVersion,Y.transaction))}),Ue.then(function(st){return new We(st)})},L.deleteDb=function at(_e){return G(indexedDB,"deleteDatabase",[_e])},Object.defineProperty(L,"__esModule",{value:!0})}($e)},1135:(Pt,$e,L)=>{"use strict";L.d($e,{X:()=>x});var E=L(7579);class x extends E.x{constructor(pe){super(),this._value=pe}get value(){return this.getValue()}_subscribe(pe){const ge=super._subscribe(pe);return!ge.closed&&pe.next(this._value),ge}getValue(){const{hasError:pe,thrownError:ge,_value:Te}=this;if(pe)throw ge;return this._throwIfClosed(),Te}next(pe){super.next(this._value=pe)}}},8306:(Pt,$e,L)=>{"use strict";L.d($e,{y:()=>ne});var E=L(2961),x=L(727),G=L(8822),pe=L(4671);var Re=L(2416),Ae=L(576),Me=L(2806);let ne=(()=>{class We{constructor(at){at&&(this._subscribe=at)}lift(at){const _e=new We;return _e.source=this,_e.operator=at,_e}subscribe(at,_e,Le){const Ke=function pt(We){return We&&We instanceof E.Lv||function Se(We){return We&&(0,Ae.m)(We.next)&&(0,Ae.m)(We.error)&&(0,Ae.m)(We.complete)}(We)&&(0,x.Nn)(We)}(at)?at:new E.Hp(at,_e,Le);return(0,Me.x)(()=>{const{operator:Ue,source:Y}=this;Ke.add(Ue?Ue.call(Ke,Y):Y?this._subscribe(Ke):this._trySubscribe(Ke))}),Ke}_trySubscribe(at){try{return this._subscribe(at)}catch(_e){at.error(_e)}}forEach(at,_e){return new(_e=ee(_e))((Le,Ke)=>{let Ue;Ue=this.subscribe(Y=>{try{at(Y)}catch(st){Ke(st),null==Ue||Ue.unsubscribe()}},Ke,Le)})}_subscribe(at){var _e;return null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(at)}[G.L](){return this}pipe(...at){return function Te(We){return 0===We.length?pe.y:1===We.length?We[0]:function(at){return We.reduce((_e,Le)=>Le(_e),at)}}(at)(this)}toPromise(at){return new(at=ee(at))((_e,Le)=>{let Ke;this.subscribe(Ue=>Ke=Ue,Ue=>Le(Ue),()=>_e(Ke))})}}return We.create=nt=>new We(nt),We})();function ee(We){var nt;return null!==(nt=null!=We?We:Re.v.Promise)&&void 0!==nt?nt:Promise}},7579:(Pt,$e,L)=>{"use strict";L.d($e,{x:()=>Re});var E=L(8306),x=L(727);const pe=(0,L(3888).d)(Me=>function(){Me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=L(8737),Te=L(2806);let Re=(()=>{class Me extends E.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const Se=new Ae(this,this);return Se.operator=ee,Se}_throwIfClosed(){if(this.closed)throw new pe}next(ee){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Se=this.observers.slice();for(const pt of Se)pt.next(ee)}})}error(ee){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:Se}=this;for(;Se.length;)Se.shift().error(ee)}})}complete(){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:Se,isStopped:pt,observers:We}=this;return Se||pt?x.Lc:(We.push(ee),new x.w0(()=>(0,ge.P)(We,ee)))}_checkFinalizedStatuses(ee){const{hasError:Se,thrownError:pt,isStopped:We}=this;Se?ee.error(pt):We&&ee.complete()}asObservable(){const ee=new E.y;return ee.source=this,ee}}return Me.create=(ne,ee)=>new Ae(ne,ee),Me})();class Ae extends Re{constructor(ne,ee){super(),this.destination=ne,this.source=ee}next(ne){var ee,Se;null===(Se=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===Se||Se.call(ee,ne)}error(ne){var ee,Se;null===(Se=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===Se||Se.call(ee,ne)}complete(){var ne,ee;null===(ee=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===ee||ee.call(ne)}_subscribe(ne){var ee,Se;return null!==(Se=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(ne))&&void 0!==Se?Se:x.Lc}}},2961:(Pt,$e,L)=>{"use strict";L.d($e,{Hp:()=>pt,Lv:()=>Se});var E=L(576),x=L(727),G=L(2416),pe=L(7849);function ge(){}const Te=Me("C",void 0,void 0);function Me(Le,Ke,Ue){return{kind:Le,value:Ke,error:Ue}}var ne=L(3410),ee=L(2806);class Se extends x.w0{constructor(Ke){super(),this.isStopped=!1,Ke?(this.destination=Ke,(0,x.Nn)(Ke)&&Ke.add(this)):this.destination=_e}static create(Ke,Ue,Y){return new pt(Ke,Ue,Y)}next(Ke){this.isStopped?at(function Ae(Le){return Me("N",Le,void 0)}(Ke),this):this._next(Ke)}error(Ke){this.isStopped?at(function Re(Le){return Me("E",void 0,Le)}(Ke),this):(this.isStopped=!0,this._error(Ke))}complete(){this.isStopped?at(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ke){this.destination.next(Ke)}_error(Ke){try{this.destination.error(Ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class pt extends Se{constructor(Ke,Ue,Y){let st;if(super(),(0,E.m)(Ke))st=Ke;else if(Ke){let et;({next:st,error:Ue,complete:Y}=Ke),this&&G.v.useDeprecatedNextContext?(et=Object.create(Ke),et.unsubscribe=()=>this.unsubscribe()):et=Ke,st=null==st?void 0:st.bind(et),Ue=null==Ue?void 0:Ue.bind(et),Y=null==Y?void 0:Y.bind(et)}this.destination={next:st?We(st):ge,error:We(null!=Ue?Ue:nt),complete:Y?We(Y):ge}}}function We(Le,Ke){return(...Ue)=>{try{Le(...Ue)}catch(Y){G.v.useDeprecatedSynchronousErrorHandling?(0,ee.O)(Y):(0,pe.h)(Y)}}}function nt(Le){throw Le}function at(Le,Ke){const{onStoppedNotification:Ue}=G.v;Ue&&ne.z.setTimeout(()=>Ue(Le,Ke))}const _e={closed:!0,next:ge,error:nt,complete:ge}},727:(Pt,$e,L)=>{"use strict";L.d($e,{Lc:()=>Te,w0:()=>ge,Nn:()=>Re});var E=L(576);const G=(0,L(3888).d)(Me=>function(ee){Me(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((Se,pt)=>`${pt+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var pe=L(8737);class ge{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const We of ee)We.remove(this);else ee.remove(this);const{initialTeardown:Se}=this;if((0,E.m)(Se))try{Se()}catch(We){ne=We instanceof G?We.errors:[We]}const{_teardowns:pt}=this;if(pt){this._teardowns=null;for(const We of pt)try{Ae(We)}catch(nt){ne=null!=ne?ne:[],nt instanceof G?ne=[...ne,...nt.errors]:ne.push(nt)}}if(ne)throw new G(ne)}}add(ne){var ee;if(ne&&ne!==this)if(this.closed)Ae(ne);else{if(ne instanceof ge){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._teardowns=null!==(ee=this._teardowns)&&void 0!==ee?ee:[]).push(ne)}}_hasParent(ne){const{_parentage:ee}=this;return ee===ne||Array.isArray(ee)&&ee.includes(ne)}_addParent(ne){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(ne),ee):ee?[ee,ne]:ne}_removeParent(ne){const{_parentage:ee}=this;ee===ne?this._parentage=null:Array.isArray(ee)&&(0,pe.P)(ee,ne)}remove(ne){const{_teardowns:ee}=this;ee&&(0,pe.P)(ee,ne),ne instanceof ge&&ne._removeParent(this)}}ge.EMPTY=(()=>{const Me=new ge;return Me.closed=!0,Me})();const Te=ge.EMPTY;function Re(Me){return Me instanceof ge||Me&&"closed"in Me&&(0,E.m)(Me.remove)&&(0,E.m)(Me.add)&&(0,E.m)(Me.unsubscribe)}function Ae(Me){(0,E.m)(Me)?Me():Me.unsubscribe()}},2416:(Pt,$e,L)=>{"use strict";L.d($e,{v:()=>E});const E={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Pt,$e,L)=>{"use strict";L.d($e,{z:()=>ge});var E=L(8189),G=L(7669),pe=L(8996);function ge(...Te){return function x(){return(0,E.J)(1)}()((0,pe.D)(Te,(0,G.yG)(Te)))}},515:(Pt,$e,L)=>{"use strict";L.d($e,{E:()=>x});const x=new(L(8306).y)(ge=>ge.complete())},8996:(Pt,$e,L)=>{"use strict";L.d($e,{D:()=>st});var E=L(8421),x=L(5363),G=L(9468),Te=L(8306),Ae=L(2202),Me=L(576),ne=L(9672);function Se(et,Dt){if(!et)throw new Error("Iterable cannot be null");return new Te.y(rt=>{(0,ne.f)(rt,Dt,()=>{const Tt=et[Symbol.asyncIterator]();(0,ne.f)(rt,Dt,()=>{Tt.next().then(Ce=>{Ce.done?rt.complete():rt.next(Ce.value)})},0,!0)})})}var pt=L(3670),We=L(8239),nt=L(1144),at=L(6495),_e=L(2206),Le=L(4532),Ke=L(3260);function st(et,Dt){return Dt?function Y(et,Dt){if(null!=et){if((0,pt.c)(et))return function pe(et,Dt){return(0,E.Xf)(et).pipe((0,G.R)(Dt),(0,x.Q)(Dt))}(et,Dt);if((0,nt.z)(et))return function Re(et,Dt){return new Te.y(rt=>{let Tt=0;return Dt.schedule(function(){Tt===et.length?rt.complete():(rt.next(et[Tt++]),rt.closed||this.schedule())})})}(et,Dt);if((0,We.t)(et))return function ge(et,Dt){return(0,E.Xf)(et).pipe((0,G.R)(Dt),(0,x.Q)(Dt))}(et,Dt);if((0,_e.D)(et))return Se(et,Dt);if((0,at.T)(et))return function ee(et,Dt){return new Te.y(rt=>{let Tt;return(0,ne.f)(rt,Dt,()=>{Tt=et[Ae.h](),(0,ne.f)(rt,Dt,()=>{let Ce,ve;try{({value:Ce,done:ve}=Tt.next())}catch(Ve){return void rt.error(Ve)}ve?rt.complete():rt.next(Ce)},0,!0)}),()=>(0,Me.m)(null==Tt?void 0:Tt.return)&&Tt.return()})}(et,Dt);if((0,Ke.L)(et))return function Ue(et,Dt){return Se((0,Ke.Q)(et),Dt)}(et,Dt)}throw(0,Le.z)(et)}(et,Dt):(0,E.Xf)(et)}},8421:(Pt,$e,L)=>{"use strict";L.d($e,{Xf:()=>pt});var E=L(5987),x=L(1144),G=L(8239),pe=L(8306),ge=L(3670),Te=L(2206),Re=L(4532),Ae=L(6495),Me=L(3260),ne=L(576),ee=L(7849),Se=L(8822);function pt(Y){if(Y instanceof pe.y)return Y;if(null!=Y){if((0,ge.c)(Y))return function We(Y){return new pe.y(st=>{const et=Y[Se.L]();if((0,ne.m)(et.subscribe))return et.subscribe(st);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Y);if((0,x.z)(Y))return function nt(Y){return new pe.y(st=>{for(let et=0;et<Y.length&&!st.closed;et++)st.next(Y[et]);st.complete()})}(Y);if((0,G.t)(Y))return function at(Y){return new pe.y(st=>{Y.then(et=>{st.closed||(st.next(et),st.complete())},et=>st.error(et)).then(null,ee.h)})}(Y);if((0,Te.D)(Y))return Le(Y);if((0,Ae.T)(Y))return function _e(Y){return new pe.y(st=>{for(const et of Y)if(st.next(et),st.closed)return;st.complete()})}(Y);if((0,Me.L)(Y))return function Ke(Y){return Le((0,Me.Q)(Y))}(Y)}throw(0,Re.z)(Y)}function Le(Y){return new pe.y(st=>{(function Ue(Y,st){var et,Dt,rt,Tt;return(0,E.mG)(this,void 0,void 0,function*(){try{for(et=(0,E.KL)(Y);!(Dt=yield et.next()).done;)if(st.next(Dt.value),st.closed)return}catch(Ce){rt={error:Ce}}finally{try{Dt&&!Dt.done&&(Tt=et.return)&&(yield Tt.call(et))}finally{if(rt)throw rt.error}}st.complete()})})(Y,st).catch(et=>st.error(et))})}},6451:(Pt,$e,L)=>{"use strict";L.d($e,{T:()=>Te});var E=L(8189),x=L(8421),G=L(515),pe=L(7669),ge=L(8996);function Te(...Re){const Ae=(0,pe.yG)(Re),Me=(0,pe._6)(Re,1/0),ne=Re;return ne.length?1===ne.length?(0,x.Xf)(ne[0]):(0,E.J)(Me)((0,ge.D)(ne,Ae)):G.E}},9646:(Pt,$e,L)=>{"use strict";L.d($e,{of:()=>G});var E=L(7669),x=L(8996);function G(...pe){const ge=(0,E.yG)(pe);return(0,x.D)(pe,ge)}},5403:(Pt,$e,L)=>{"use strict";L.d($e,{Q:()=>x});var E=L(2961);class x extends E.Lv{constructor(pe,ge,Te,Re,Ae){super(pe),this.onFinalize=Ae,this._next=ge?function(Me){try{ge(Me)}catch(ne){pe.error(ne)}}:super._next,this._error=Re?function(Me){try{Re(Me)}catch(ne){pe.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(Me){pe.error(Me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var pe;const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(pe=this.onFinalize)||void 0===pe||pe.call(this))}}},262:(Pt,$e,L)=>{"use strict";L.d($e,{K:()=>pe});var E=L(8421),x=L(5403),G=L(4482);function pe(ge){return(0,G.e)((Te,Re)=>{let ne,Ae=null,Me=!1;Ae=Te.subscribe(new x.Q(Re,void 0,void 0,ee=>{ne=(0,E.Xf)(ge(ee,pe(ge)(Te))),Ae?(Ae.unsubscribe(),Ae=null,ne.subscribe(Re)):Me=!0})),Me&&(Ae.unsubscribe(),Ae=null,ne.subscribe(Re))})}},4351:(Pt,$e,L)=>{"use strict";L.d($e,{b:()=>G});var E=L(5577),x=L(576);function G(pe,ge){return(0,x.m)(ge)?(0,E.z)(pe,ge,1):(0,E.z)(pe,1)}},6590:(Pt,$e,L)=>{"use strict";L.d($e,{d:()=>G});var E=L(4482),x=L(5403);function G(pe){return(0,E.e)((ge,Te)=>{let Re=!1;ge.subscribe(new x.Q(Te,Ae=>{Re=!0,Te.next(Ae)},()=>{Re||Te.next(pe),Te.complete()}))})}},9300:(Pt,$e,L)=>{"use strict";L.d($e,{h:()=>G});var E=L(4482),x=L(5403);function G(pe,ge){return(0,E.e)((Te,Re)=>{let Ae=0;Te.subscribe(new x.Q(Re,Me=>pe.call(ge,Me,Ae++)&&Re.next(Me)))})}},590:(Pt,$e,L)=>{"use strict";L.d($e,{P:()=>Re});var E=L(6805),x=L(9300),G=L(5698),pe=L(6590),ge=L(8068),Te=L(4671);function Re(Ae,Me){const ne=arguments.length>=2;return ee=>ee.pipe(Ae?(0,x.h)((Se,pt)=>Ae(Se,pt,ee)):Te.y,(0,G.q)(1),ne?(0,pe.d)(Me):(0,ge.T)(()=>new E.K))}},4004:(Pt,$e,L)=>{"use strict";L.d($e,{U:()=>G});var E=L(4482),x=L(5403);function G(pe,ge){return(0,E.e)((Te,Re)=>{let Ae=0;Te.subscribe(new x.Q(Re,Me=>{Re.next(pe.call(ge,Me,Ae++))}))})}},8189:(Pt,$e,L)=>{"use strict";L.d($e,{J:()=>G});var E=L(5577),x=L(4671);function G(pe=1/0){return(0,E.z)(x.y,pe)}},5577:(Pt,$e,L)=>{"use strict";L.d($e,{z:()=>Ae});var E=L(4004),x=L(8421),G=L(4482),pe=L(9672),ge=L(5403),Re=L(576);function Ae(Me,ne,ee=1/0){return(0,Re.m)(ne)?Ae((Se,pt)=>(0,E.U)((We,nt)=>ne(Se,We,pt,nt))((0,x.Xf)(Me(Se,pt))),ee):("number"==typeof ne&&(ee=ne),(0,G.e)((Se,pt)=>function Te(Me,ne,ee,Se,pt,We,nt,at){const _e=[];let Le=0,Ke=0,Ue=!1;const Y=()=>{Ue&&!_e.length&&!Le&&ne.complete()},st=Dt=>Le<Se?et(Dt):_e.push(Dt),et=Dt=>{We&&ne.next(Dt),Le++;let rt=!1;(0,x.Xf)(ee(Dt,Ke++)).subscribe(new ge.Q(ne,Tt=>{null==pt||pt(Tt),We?st(Tt):ne.next(Tt)},()=>{rt=!0},void 0,()=>{if(rt)try{for(Le--;_e.length&&Le<Se;){const Tt=_e.shift();nt?(0,pe.f)(ne,nt,()=>et(Tt)):et(Tt)}Y()}catch(Tt){ne.error(Tt)}}))};return Me.subscribe(new ge.Q(ne,st,()=>{Ue=!0,Y()})),()=>{null==at||at()}}(Se,pt,Me,ee)))}},5363:(Pt,$e,L)=>{"use strict";L.d($e,{Q:()=>pe});var E=L(9672),x=L(4482),G=L(5403);function pe(ge,Te=0){return(0,x.e)((Re,Ae)=>{Re.subscribe(new G.Q(Ae,Me=>(0,E.f)(Ae,ge,()=>Ae.next(Me),Te),()=>(0,E.f)(Ae,ge,()=>Ae.complete(),Te),Me=>(0,E.f)(Ae,ge,()=>Ae.error(Me),Te)))})}},5026:(Pt,$e,L)=>{"use strict";L.d($e,{R:()=>pe});var E=L(4482),x=L(5403);function G(ge,Te,Re,Ae,Me){return(ne,ee)=>{let Se=Re,pt=Te,We=0;ne.subscribe(new x.Q(ee,nt=>{const at=We++;pt=Se?ge(pt,nt,at):(Se=!0,nt),Ae&&ee.next(pt)},Me&&(()=>{Se&&ee.next(pt),ee.complete()})))}}function pe(ge,Te){return(0,E.e)(G(ge,Te,arguments.length>=2,!0))}},3099:(Pt,$e,L)=>{"use strict";L.d($e,{B:()=>Te});var E=L(8996),x=L(5698),G=L(7579),pe=L(2961),ge=L(4482);function Te(Ae={}){const{connector:Me=(()=>new G.x),resetOnError:ne=!0,resetOnComplete:ee=!0,resetOnRefCountZero:Se=!0}=Ae;return pt=>{let We=null,nt=null,at=null,_e=0,Le=!1,Ke=!1;const Ue=()=>{null==nt||nt.unsubscribe(),nt=null},Y=()=>{Ue(),We=at=null,Le=Ke=!1},st=()=>{const et=We;Y(),null==et||et.unsubscribe()};return(0,ge.e)((et,Dt)=>{_e++,!Ke&&!Le&&Ue();const rt=at=null!=at?at:Me();Dt.add(()=>{_e--,0===_e&&!Ke&&!Le&&(nt=Re(st,Se))}),rt.subscribe(Dt),We||(We=new pe.Hp({next:Tt=>rt.next(Tt),error:Tt=>{Ke=!0,Ue(),nt=Re(Y,ne,Tt),rt.error(Tt)},complete:()=>{Le=!0,Ue(),nt=Re(Y,ee),rt.complete()}}),(0,E.D)(et).subscribe(We))})(pt)}}function Re(Ae,Me,...ne){return!0===Me?(Ae(),null):!1===Me?null:Me(...ne).pipe((0,x.q)(1)).subscribe(()=>Ae())}},8675:(Pt,$e,L)=>{"use strict";L.d($e,{O:()=>pe});var E=L(7272),x=L(7669),G=L(4482);function pe(...ge){const Te=(0,x.yG)(ge);return(0,G.e)((Re,Ae)=>{(Te?(0,E.z)(ge,Re,Te):(0,E.z)(ge,Re)).subscribe(Ae)})}},9468:(Pt,$e,L)=>{"use strict";L.d($e,{R:()=>x});var E=L(4482);function x(G,pe=0){return(0,E.e)((ge,Te)=>{Te.add(G.schedule(()=>ge.subscribe(Te),pe))})}},3900:(Pt,$e,L)=>{"use strict";L.d($e,{w:()=>pe});var E=L(8421),x=L(4482),G=L(5403);function pe(ge,Te){return(0,x.e)((Re,Ae)=>{let Me=null,ne=0,ee=!1;const Se=()=>ee&&!Me&&Ae.complete();Re.subscribe(new G.Q(Ae,pt=>{null==Me||Me.unsubscribe();let We=0;const nt=ne++;(0,E.Xf)(ge(pt,nt)).subscribe(Me=new G.Q(Ae,at=>Ae.next(Te?Te(pt,at,nt,We++):at),()=>{Me=null,Se()}))},()=>{ee=!0,Se()}))})}},5698:(Pt,$e,L)=>{"use strict";L.d($e,{q:()=>pe});var E=L(515),x=L(4482),G=L(5403);function pe(ge){return ge<=0?()=>E.E:(0,x.e)((Te,Re)=>{let Ae=0;Te.subscribe(new G.Q(Re,Me=>{++Ae<=ge&&(Re.next(Me),ge<=Ae&&Re.complete())}))})}},8505:(Pt,$e,L)=>{"use strict";L.d($e,{b:()=>ge});var E=L(576),x=L(4482),G=L(5403),pe=L(4671);function ge(Te,Re,Ae){const Me=(0,E.m)(Te)||Re||Ae?{next:Te,error:Re,complete:Ae}:Te;return Me?(0,x.e)((ne,ee)=>{var Se;null===(Se=Me.subscribe)||void 0===Se||Se.call(Me);let pt=!0;ne.subscribe(new G.Q(ee,We=>{var nt;null===(nt=Me.next)||void 0===nt||nt.call(Me,We),ee.next(We)},()=>{var We;pt=!1,null===(We=Me.complete)||void 0===We||We.call(Me),ee.complete()},We=>{var nt;pt=!1,null===(nt=Me.error)||void 0===nt||nt.call(Me,We),ee.error(We)},()=>{var We,nt;pt&&(null===(We=Me.unsubscribe)||void 0===We||We.call(Me)),null===(nt=Me.finalize)||void 0===nt||nt.call(Me)}))}):pe.y}},8068:(Pt,$e,L)=>{"use strict";L.d($e,{T:()=>pe});var E=L(6805),x=L(4482),G=L(5403);function pe(Te=ge){return(0,x.e)((Re,Ae)=>{let Me=!1;Re.subscribe(new G.Q(Ae,ne=>{Me=!0,Ae.next(ne)},()=>Me?Ae.complete():Ae.error(Te())))})}function ge(){return new E.K}},4408:(Pt,$e,L)=>{"use strict";L.d($e,{o:()=>ge});var E=L(727);class x extends E.w0{constructor(Re,Ae){super()}schedule(Re,Ae=0){return this}}const G={setInterval(...Te){const{delegate:Re}=G;return((null==Re?void 0:Re.setInterval)||setInterval)(...Te)},clearInterval(Te){const{delegate:Re}=G;return((null==Re?void 0:Re.clearInterval)||clearInterval)(Te)},delegate:void 0};var pe=L(8737);class ge extends x{constructor(Re,Ae){super(Re,Ae),this.scheduler=Re,this.work=Ae,this.pending=!1}schedule(Re,Ae=0){if(this.closed)return this;this.state=Re;const Me=this.id,ne=this.scheduler;return null!=Me&&(this.id=this.recycleAsyncId(ne,Me,Ae)),this.pending=!0,this.delay=Ae,this.id=this.id||this.requestAsyncId(ne,this.id,Ae),this}requestAsyncId(Re,Ae,Me=0){return G.setInterval(Re.flush.bind(Re,this),Me)}recycleAsyncId(Re,Ae,Me=0){if(null!=Me&&this.delay===Me&&!1===this.pending)return Ae;G.clearInterval(Ae)}execute(Re,Ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Me=this._execute(Re,Ae);if(Me)return Me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Re,Ae){let ne,Me=!1;try{this.work(Re)}catch(ee){Me=!0,ne=ee||new Error("Scheduled action threw falsy error")}if(Me)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:Re,scheduler:Ae}=this,{actions:Me}=Ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(Me,this),null!=Re&&(this.id=this.recycleAsyncId(Ae,Re,null)),this.delay=null,super.unsubscribe()}}}},7565:(Pt,$e,L)=>{"use strict";L.d($e,{v:()=>G});var E=L(6063);class x{constructor(ge,Te=x.now){this.schedulerActionCtor=ge,this.now=Te}schedule(ge,Te=0,Re){return new this.schedulerActionCtor(this,ge).schedule(Re,Te)}}x.now=E.l.now;class G extends x{constructor(ge,Te=x.now){super(ge,Te),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ge){const{actions:Te}=this;if(this._active)return void Te.push(ge);let Re;this._active=!0;do{if(Re=ge.execute(ge.state,ge.delay))break}while(ge=Te.shift());if(this._active=!1,Re){for(;ge=Te.shift();)ge.unsubscribe();throw Re}}}},4986:(Pt,$e,L)=>{"use strict";L.d($e,{z:()=>G});var E=L(4408);const G=new(L(7565).v)(E.o)},6063:(Pt,$e,L)=>{"use strict";L.d($e,{l:()=>E});const E={now:()=>(E.delegate||Date).now(),delegate:void 0}},3410:(Pt,$e,L)=>{"use strict";L.d($e,{z:()=>E});const E={setTimeout(...x){const{delegate:G}=E;return((null==G?void 0:G.setTimeout)||setTimeout)(...x)},clearTimeout(x){const{delegate:G}=E;return((null==G?void 0:G.clearTimeout)||clearTimeout)(x)},delegate:void 0}},2202:(Pt,$e,L)=>{"use strict";L.d($e,{h:()=>x});const x=function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Pt,$e,L)=>{"use strict";L.d($e,{L:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Pt,$e,L)=>{"use strict";L.d($e,{K:()=>x});const x=(0,L(3888).d)(G=>function(){G(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Pt,$e,L)=>{"use strict";L.d($e,{_6:()=>Te,jO:()=>pe,yG:()=>ge});var E=L(576);function G(Re){return Re[Re.length-1]}function pe(Re){return(0,E.m)(G(Re))?Re.pop():void 0}function ge(Re){return function x(Re){return Re&&(0,E.m)(Re.schedule)}(G(Re))?Re.pop():void 0}function Te(Re,Ae){return"number"==typeof G(Re)?Re.pop():Ae}},4742:(Pt,$e,L)=>{"use strict";L.d($e,{D:()=>ge});const{isArray:E}=Array,{getPrototypeOf:x,prototype:G,keys:pe}=Object;function ge(Re){if(1===Re.length){const Ae=Re[0];if(E(Ae))return{args:Ae,keys:null};if(function Te(Re){return Re&&"object"==typeof Re&&x(Re)===G}(Ae)){const Me=pe(Ae);return{args:Me.map(ne=>Ae[ne]),keys:Me}}}return{args:Re,keys:null}}},8737:(Pt,$e,L)=>{"use strict";function E(x,G){if(x){const pe=x.indexOf(G);0<=pe&&x.splice(pe,1)}}L.d($e,{P:()=>E})},3888:(Pt,$e,L)=>{"use strict";function E(x){const pe=x(ge=>{Error.call(ge),ge.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}L.d($e,{d:()=>E})},1810:(Pt,$e,L)=>{"use strict";function E(x,G){return x.reduce((pe,ge,Te)=>(pe[ge]=G[Te],pe),{})}L.d($e,{n:()=>E})},2806:(Pt,$e,L)=>{"use strict";L.d($e,{x:()=>G,O:()=>pe});var E=L(2416);let x=null;function G(ge){if(E.v.useDeprecatedSynchronousErrorHandling){const Te=!x;if(Te&&(x={errorThrown:!1,error:null}),ge(),Te){const{errorThrown:Re,error:Ae}=x;if(x=null,Re)throw Ae}}else ge()}function pe(ge){E.v.useDeprecatedSynchronousErrorHandling&&x&&(x.errorThrown=!0,x.error=ge)}},9672:(Pt,$e,L)=>{"use strict";function E(x,G,pe,ge=0,Te=!1){const Re=G.schedule(function(){pe(),Te?x.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(x.add(Re),!Te)return Re}L.d($e,{f:()=>E})},4671:(Pt,$e,L)=>{"use strict";function E(x){return x}L.d($e,{y:()=>E})},1144:(Pt,$e,L)=>{"use strict";L.d($e,{z:()=>E});const E=x=>x&&"number"==typeof x.length&&"function"!=typeof x},2206:(Pt,$e,L)=>{"use strict";L.d($e,{D:()=>x});var E=L(576);function x(G){return Symbol.asyncIterator&&(0,E.m)(null==G?void 0:G[Symbol.asyncIterator])}},576:(Pt,$e,L)=>{"use strict";function E(x){return"function"==typeof x}L.d($e,{m:()=>E})},3670:(Pt,$e,L)=>{"use strict";L.d($e,{c:()=>G});var E=L(8822),x=L(576);function G(pe){return(0,x.m)(pe[E.L])}},6495:(Pt,$e,L)=>{"use strict";L.d($e,{T:()=>G});var E=L(2202),x=L(576);function G(pe){return(0,x.m)(null==pe?void 0:pe[E.h])}},8239:(Pt,$e,L)=>{"use strict";L.d($e,{t:()=>x});var E=L(576);function x(G){return(0,E.m)(null==G?void 0:G.then)}},3260:(Pt,$e,L)=>{"use strict";L.d($e,{Q:()=>G,L:()=>pe});var E=L(5987),x=L(576);function G(ge){return(0,E.FC)(this,arguments,function*(){const Re=ge.getReader();try{for(;;){const{value:Ae,done:Me}=yield(0,E.qq)(Re.read());if(Me)return yield(0,E.qq)(void 0);yield yield(0,E.qq)(Ae)}}finally{Re.releaseLock()}})}function pe(ge){return(0,x.m)(null==ge?void 0:ge.getReader)}},4482:(Pt,$e,L)=>{"use strict";L.d($e,{A:()=>x,e:()=>G});var E=L(576);function x(pe){return(0,E.m)(null==pe?void 0:pe.lift)}function G(pe){return ge=>{if(x(ge))return ge.lift(function(Te){try{return pe(Te,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Pt,$e,L)=>{"use strict";L.d($e,{Z:()=>pe});var E=L(4004);const{isArray:x}=Array;function pe(ge){return(0,E.U)(Te=>function G(ge,Te){return x(Te)?ge(...Te):ge(Te)}(ge,Te))}},7849:(Pt,$e,L)=>{"use strict";L.d($e,{h:()=>G});var E=L(2416),x=L(3410);function G(pe){x.z.setTimeout(()=>{const{onUnhandledError:ge}=E.v;if(!ge)throw pe;ge(pe)})}},4532:(Pt,$e,L)=>{"use strict";function E(x){return new TypeError(`You provided ${null!==x&&"object"==typeof x?"an invalid object":`'${x}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d($e,{z:()=>E})},5987:(Pt,$e,L)=>{"use strict";function Ae(Ce,ve,Ve,xe){return new(Ve||(Ve=Promise))(function(Pe,Yt){function _n(kt){try{Wt(xe.next(kt))}catch(Yn){Yt(Yn)}}function sr(kt){try{Wt(xe.throw(kt))}catch(Yn){Yt(Yn)}}function Wt(kt){kt.done?Pe(kt.value):function ut(Pe){return Pe instanceof Ve?Pe:new Ve(function(Yt){Yt(Pe)})}(kt.value).then(_n,sr)}Wt((xe=xe.apply(Ce,ve||[])).next())})}function _e(Ce){return this instanceof _e?(this.v=Ce,this):new _e(Ce)}function Le(Ce,ve,Ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,xe=Ve.apply(Ce,ve||[]),Pe=[];return ut={},Yt("next"),Yt("throw"),Yt("return"),ut[Symbol.asyncIterator]=function(){return this},ut;function Yt(Xt){xe[Xt]&&(ut[Xt]=function(Dn){return new Promise(function(Ct,Un){Pe.push([Xt,Dn,Ct,Un])>1||_n(Xt,Dn)})})}function _n(Xt,Dn){try{!function sr(Xt){Xt.value instanceof _e?Promise.resolve(Xt.value.v).then(Wt,kt):Yn(Pe[0][2],Xt)}(xe[Xt](Dn))}catch(Ct){Yn(Pe[0][3],Ct)}}function Wt(Xt){_n("next",Xt)}function kt(Xt){_n("throw",Xt)}function Yn(Xt,Dn){Xt(Dn),Pe.shift(),Pe.length&&_n(Pe[0][0],Pe[0][1])}}function Ue(Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,ve=Ce[Symbol.asyncIterator];return ve?ve.call(Ce):(Ce=function Se(Ce){var ve="function"==typeof Symbol&&Symbol.iterator,Ve=ve&&Ce[ve],xe=0;if(Ve)return Ve.call(Ce);if(Ce&&"number"==typeof Ce.length)return{next:function(){return Ce&&xe>=Ce.length&&(Ce=void 0),{value:Ce&&Ce[xe++],done:!Ce}}};throw new TypeError(ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ce),Ve={},xe("next"),xe("throw"),xe("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve);function xe(Pe){Ve[Pe]=Ce[Pe]&&function(Yt){return new Promise(function(_n,sr){!function ut(Pe,Yt,_n,sr){Promise.resolve(sr).then(function(Wt){Pe({value:Wt,done:_n})},Yt)}(_n,sr,(Yt=Ce[Pe](Yt)).done,Yt.value)})}}}L.d($e,{mG:()=>Ae,qq:()=>_e,FC:()=>Le,KL:()=>Ue})},9808:(Pt,$e,L)=>{"use strict";L.d($e,{mr:()=>Ke,ez:()=>lo,K0:()=>Re,uU:()=>Rn,Do:()=>Y,V_:()=>ne,Ye:()=>st,S$:()=>_e,mk:()=>se,sg:()=>be,O5:()=>Bt,b0:()=>Ue,lw:()=>Ae,EM:()=>Ws,JF:()=>bn,PM:()=>Es,w_:()=>Te,bD:()=>Vo,q:()=>G,Mx:()=>Yr,HT:()=>ge});var E=L(5e3);let x=null;function G(){return x}function ge(R){x||(x=R)}class Te{}const Re=new E.OlP("DocumentToken");let Ae=(()=>{class R{historyGo(A){throw new Error("Not implemented")}}return R.\u0275fac=function(A){return new(A||R)},R.\u0275prov=E.Yz7({token:R,factory:function(){return function Me(){return(0,E.LFG)(ee)}()},providedIn:"platform"}),R})();const ne=new E.OlP("Location Initialized");let ee=(()=>{class R extends Ae{constructor(A){super(),this._doc=A,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(A){const $=G().getGlobalEventTarget(this._doc,"window");return $.addEventListener("popstate",A,!1),()=>$.removeEventListener("popstate",A)}onHashChange(A){const $=G().getGlobalEventTarget(this._doc,"window");return $.addEventListener("hashchange",A,!1),()=>$.removeEventListener("hashchange",A)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(A){this.location.pathname=A}pushState(A,$,ue){Se()?this._history.pushState(A,$,ue):this.location.hash=ue}replaceState(A,$,ue){Se()?this._history.replaceState(A,$,ue):this.location.hash=ue}forward(){this._history.forward()}back(){this._history.back()}historyGo(A=0){this._history.go(A)}getState(){return this._history.state}}return R.\u0275fac=function(A){return new(A||R)(E.LFG(Re))},R.\u0275prov=E.Yz7({token:R,factory:function(){return function pt(){return new ee((0,E.LFG)(Re))}()},providedIn:"platform"}),R})();function Se(){return!!window.history.pushState}function We(R,j){if(0==R.length)return j;if(0==j.length)return R;let A=0;return R.endsWith("/")&&A++,j.startsWith("/")&&A++,2==A?R+j.substring(1):1==A?R+j:R+"/"+j}function nt(R){const j=R.match(/#|\?|$/),A=j&&j.index||R.length;return R.slice(0,A-("/"===R[A-1]?1:0))+R.slice(A)}function at(R){return R&&"?"!==R[0]?"?"+R:R}let _e=(()=>{class R{historyGo(A){throw new Error("Not implemented")}}return R.\u0275fac=function(A){return new(A||R)},R.\u0275prov=E.Yz7({token:R,factory:function(){return function Le(R){const j=(0,E.LFG)(Re).location;return new Ue((0,E.LFG)(Ae),j&&j.origin||"")}()},providedIn:"root"}),R})();const Ke=new E.OlP("appBaseHref");let Ue=(()=>{class R extends _e{constructor(A,$){if(super(),this._platformLocation=A,this._removeListenerFns=[],null==$&&($=this._platformLocation.getBaseHrefFromDOM()),null==$)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=$}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}prepareExternalUrl(A){return We(this._baseHref,A)}path(A=!1){const $=this._platformLocation.pathname+at(this._platformLocation.search),ue=this._platformLocation.hash;return ue&&A?`${$}${ue}`:$}pushState(A,$,ue,qe){const Ye=this.prepareExternalUrl(ue+at(qe));this._platformLocation.pushState(A,$,Ye)}replaceState(A,$,ue,qe){const Ye=this.prepareExternalUrl(ue+at(qe));this._platformLocation.replaceState(A,$,Ye)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(A=0){var $,ue;null===(ue=($=this._platformLocation).historyGo)||void 0===ue||ue.call($,A)}}return R.\u0275fac=function(A){return new(A||R)(E.LFG(Ae),E.LFG(Ke,8))},R.\u0275prov=E.Yz7({token:R,factory:R.\u0275fac}),R})(),Y=(()=>{class R extends _e{constructor(A,$){super(),this._platformLocation=A,this._baseHref="",this._removeListenerFns=[],null!=$&&(this._baseHref=$)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}path(A=!1){let $=this._platformLocation.hash;return null==$&&($="#"),$.length>0?$.substring(1):$}prepareExternalUrl(A){const $=We(this._baseHref,A);return $.length>0?"#"+$:$}pushState(A,$,ue,qe){let Ye=this.prepareExternalUrl(ue+at(qe));0==Ye.length&&(Ye=this._platformLocation.pathname),this._platformLocation.pushState(A,$,Ye)}replaceState(A,$,ue,qe){let Ye=this.prepareExternalUrl(ue+at(qe));0==Ye.length&&(Ye=this._platformLocation.pathname),this._platformLocation.replaceState(A,$,Ye)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(A=0){var $,ue;null===(ue=($=this._platformLocation).historyGo)||void 0===ue||ue.call($,A)}}return R.\u0275fac=function(A){return new(A||R)(E.LFG(Ae),E.LFG(Ke,8))},R.\u0275prov=E.Yz7({token:R,factory:R.\u0275fac}),R})(),st=(()=>{class R{constructor(A,$){this._subject=new E.vpe,this._urlChangeListeners=[],this._platformStrategy=A;const ue=this._platformStrategy.getBaseHref();this._platformLocation=$,this._baseHref=nt(rt(ue)),this._platformStrategy.onPopState(qe=>{this._subject.emit({url:this.path(!0),pop:!0,state:qe.state,type:qe.type})})}path(A=!1){return this.normalize(this._platformStrategy.path(A))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(A,$=""){return this.path()==this.normalize(A+at($))}normalize(A){return R.stripTrailingSlash(function Dt(R,j){return R&&j.startsWith(R)?j.substring(R.length):j}(this._baseHref,rt(A)))}prepareExternalUrl(A){return A&&"/"!==A[0]&&(A="/"+A),this._platformStrategy.prepareExternalUrl(A)}go(A,$="",ue=null){this._platformStrategy.pushState(ue,"",A,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+at($)),ue)}replaceState(A,$="",ue=null){this._platformStrategy.replaceState(ue,"",A,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+at($)),ue)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(A=0){var $,ue;null===(ue=($=this._platformStrategy).historyGo)||void 0===ue||ue.call($,A)}onUrlChange(A){this._urlChangeListeners.push(A),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe($=>{this._notifyUrlChangeListeners($.url,$.state)}))}_notifyUrlChangeListeners(A="",$){this._urlChangeListeners.forEach(ue=>ue(A,$))}subscribe(A,$,ue){return this._subject.subscribe({next:A,error:$,complete:ue})}}return R.normalizeQueryParams=at,R.joinWithSlash=We,R.stripTrailingSlash=nt,R.\u0275fac=function(A){return new(A||R)(E.LFG(_e),E.LFG(Ae))},R.\u0275prov=E.Yz7({token:R,factory:function(){return function et(){return new st((0,E.LFG)(_e),(0,E.LFG)(Ae))}()},providedIn:"root"}),R})();function rt(R){return R.replace(/\/index.html$/,"")}var ve=(()=>((ve=ve||{})[ve.Zero=0]="Zero",ve[ve.One=1]="One",ve[ve.Two=2]="Two",ve[ve.Few=3]="Few",ve[ve.Many=4]="Many",ve[ve.Other=5]="Other",ve))(),Ve=(()=>((Ve=Ve||{})[Ve.Format=0]="Format",Ve[Ve.Standalone=1]="Standalone",Ve))(),xe=(()=>((xe=xe||{})[xe.Narrow=0]="Narrow",xe[xe.Abbreviated=1]="Abbreviated",xe[xe.Wide=2]="Wide",xe[xe.Short=3]="Short",xe))(),ut=(()=>((ut=ut||{})[ut.Short=0]="Short",ut[ut.Medium=1]="Medium",ut[ut.Long=2]="Long",ut[ut.Full=3]="Full",ut))(),Pe=(()=>((Pe=Pe||{})[Pe.Decimal=0]="Decimal",Pe[Pe.Group=1]="Group",Pe[Pe.List=2]="List",Pe[Pe.PercentSign=3]="PercentSign",Pe[Pe.PlusSign=4]="PlusSign",Pe[Pe.MinusSign=5]="MinusSign",Pe[Pe.Exponential=6]="Exponential",Pe[Pe.SuperscriptingExponent=7]="SuperscriptingExponent",Pe[Pe.PerMille=8]="PerMille",Pe[Pe.Infinity=9]="Infinity",Pe[Pe.NaN=10]="NaN",Pe[Pe.TimeSeparator=11]="TimeSeparator",Pe[Pe.CurrencyDecimal=12]="CurrencyDecimal",Pe[Pe.CurrencyGroup=13]="CurrencyGroup",Pe))();function Ct(R,j){return wn((0,E.cg1)(R)[E.wAp.DateFormat],j)}function Un(R,j){return wn((0,E.cg1)(R)[E.wAp.TimeFormat],j)}function vn(R,j){return wn((0,E.cg1)(R)[E.wAp.DateTimeFormat],j)}function Mn(R,j){const A=(0,E.cg1)(R),$=A[E.wAp.NumberSymbols][j];if(void 0===$){if(j===Pe.CurrencyDecimal)return A[E.wAp.NumberSymbols][Pe.Decimal];if(j===Pe.CurrencyGroup)return A[E.wAp.NumberSymbols][Pe.Group]}return $}const Er=E.kL8;function ot(R){if(!R[E.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${R[E.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wn(R,j){for(let A=j;A>-1;A--)if(void 0!==R[A])return R[A];throw new Error("Locale data API: locale data undefined")}function Pn(R){const[j,A]=R.split(":");return{hours:+j,minutes:+A}}const oe=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Fe={},tt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var yt=(()=>((yt=yt||{})[yt.Short=0]="Short",yt[yt.ShortGMT=1]="ShortGMT",yt[yt.Long=2]="Long",yt[yt.Extended=3]="Extended",yt))(),gt=(()=>((gt=gt||{})[gt.FullYear=0]="FullYear",gt[gt.Month=1]="Month",gt[gt.Date=2]="Date",gt[gt.Hours=3]="Hours",gt[gt.Minutes=4]="Minutes",gt[gt.Seconds=5]="Seconds",gt[gt.FractionalSeconds=6]="FractionalSeconds",gt[gt.Day=7]="Day",gt))(),It=(()=>((It=It||{})[It.DayPeriods=0]="DayPeriods",It[It.Days=1]="Days",It[It.Months=2]="Months",It[It.Eras=3]="Eras",It))();function hn(R,j,A,$){let ue=function Ar(R){if(Qn(R))return R;if("number"==typeof R&&!isNaN(R))return new Date(R);if("string"==typeof R){if(R=R.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(R)){const[ue,qe=1,Ye=1]=R.split("-").map(Rt=>+Rt);return jn(ue,qe-1,Ye)}const A=parseFloat(R);if(!isNaN(R-A))return new Date(A);let $;if($=R.match(oe))return function Bi(R){const j=new Date(0);let A=0,$=0;const ue=R[8]?j.setUTCFullYear:j.setFullYear,qe=R[8]?j.setUTCHours:j.setHours;R[9]&&(A=Number(R[9]+R[10]),$=Number(R[9]+R[11])),ue.call(j,Number(R[1]),Number(R[2])-1,Number(R[3]));const Ye=Number(R[4]||0)-A,Rt=Number(R[5]||0)-$,pn=Number(R[6]||0),Vn=Math.floor(1e3*parseFloat("0."+(R[7]||0)));return qe.call(j,Ye,Rt,pn,Vn),j}($)}const j=new Date(R);if(!Qn(j))throw new Error(`Unable to convert "${R}" into a date`);return j}(R);j=Mt(A,j)||j;let Rt,Ye=[];for(;j;){if(Rt=tt.exec(j),!Rt){Ye.push(j);break}{Ye=Ye.concat(Rt.slice(1));const $n=Ye.pop();if(!$n)break;j=$n}}let pn=ue.getTimezoneOffset();$&&(pn=jr($,pn),ue=function en(R,j,A){const $=A?-1:1,ue=R.getTimezoneOffset();return function Kr(R,j){return(R=new Date(R.getTime())).setMinutes(R.getMinutes()+j),R}(R,$*(jr(j,ue)-ue))}(ue,$,!0));let Vn="";return Ye.forEach($n=>{const rn=function kn(R){if(fn[R])return fn[R];let j;switch(R){case"G":case"GG":case"GGG":j=ce(It.Eras,xe.Abbreviated);break;case"GGGG":j=ce(It.Eras,xe.Wide);break;case"GGGGG":j=ce(It.Eras,xe.Narrow);break;case"y":j=Q(gt.FullYear,1,0,!1,!0);break;case"yy":j=Q(gt.FullYear,2,0,!0,!0);break;case"yyy":j=Q(gt.FullYear,3,0,!1,!0);break;case"yyyy":j=Q(gt.FullYear,4,0,!1,!0);break;case"Y":j=Nr(1);break;case"YY":j=Nr(2,!0);break;case"YYY":j=Nr(3);break;case"YYYY":j=Nr(4);break;case"M":case"L":j=Q(gt.Month,1,1);break;case"MM":case"LL":j=Q(gt.Month,2,1);break;case"MMM":j=ce(It.Months,xe.Abbreviated);break;case"MMMM":j=ce(It.Months,xe.Wide);break;case"MMMMM":j=ce(It.Months,xe.Narrow);break;case"LLL":j=ce(It.Months,xe.Abbreviated,Ve.Standalone);break;case"LLLL":j=ce(It.Months,xe.Wide,Ve.Standalone);break;case"LLLLL":j=ce(It.Months,xe.Narrow,Ve.Standalone);break;case"w":j=Zn(1);break;case"ww":j=Zn(2);break;case"W":j=Zn(1,!0);break;case"d":j=Q(gt.Date,1);break;case"dd":j=Q(gt.Date,2);break;case"c":case"cc":j=Q(gt.Day,1);break;case"ccc":j=ce(It.Days,xe.Abbreviated,Ve.Standalone);break;case"cccc":j=ce(It.Days,xe.Wide,Ve.Standalone);break;case"ccccc":j=ce(It.Days,xe.Narrow,Ve.Standalone);break;case"cccccc":j=ce(It.Days,xe.Short,Ve.Standalone);break;case"E":case"EE":case"EEE":j=ce(It.Days,xe.Abbreviated);break;case"EEEE":j=ce(It.Days,xe.Wide);break;case"EEEEE":j=ce(It.Days,xe.Narrow);break;case"EEEEEE":j=ce(It.Days,xe.Short);break;case"a":case"aa":case"aaa":j=ce(It.DayPeriods,xe.Abbreviated);break;case"aaaa":j=ce(It.DayPeriods,xe.Wide);break;case"aaaaa":j=ce(It.DayPeriods,xe.Narrow);break;case"b":case"bb":case"bbb":j=ce(It.DayPeriods,xe.Abbreviated,Ve.Standalone,!0);break;case"bbbb":j=ce(It.DayPeriods,xe.Wide,Ve.Standalone,!0);break;case"bbbbb":j=ce(It.DayPeriods,xe.Narrow,Ve.Standalone,!0);break;case"B":case"BB":case"BBB":j=ce(It.DayPeriods,xe.Abbreviated,Ve.Format,!0);break;case"BBBB":j=ce(It.DayPeriods,xe.Wide,Ve.Format,!0);break;case"BBBBB":j=ce(It.DayPeriods,xe.Narrow,Ve.Format,!0);break;case"h":j=Q(gt.Hours,1,-12);break;case"hh":j=Q(gt.Hours,2,-12);break;case"H":j=Q(gt.Hours,1);break;case"HH":j=Q(gt.Hours,2);break;case"m":j=Q(gt.Minutes,1);break;case"mm":j=Q(gt.Minutes,2);break;case"s":j=Q(gt.Seconds,1);break;case"ss":j=Q(gt.Seconds,2);break;case"S":j=Q(gt.FractionalSeconds,1);break;case"SS":j=Q(gt.FractionalSeconds,2);break;case"SSS":j=Q(gt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":j=Ne(yt.Short);break;case"ZZZZZ":j=Ne(yt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":j=Ne(yt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":j=Ne(yt.Long);break;default:return null}return fn[R]=j,j}($n);Vn+=rn?rn(ue,A,pn):"''"===$n?"'":$n.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Vn}function jn(R,j,A){const $=new Date(0);return $.setFullYear(R,j,A),$.setHours(0,0,0),$}function Mt(R,j){const A=function _n(R){return(0,E.cg1)(R)[E.wAp.LocaleId]}(R);if(Fe[A]=Fe[A]||{},Fe[A][j])return Fe[A][j];let $="";switch(j){case"shortDate":$=Ct(R,ut.Short);break;case"mediumDate":$=Ct(R,ut.Medium);break;case"longDate":$=Ct(R,ut.Long);break;case"fullDate":$=Ct(R,ut.Full);break;case"shortTime":$=Un(R,ut.Short);break;case"mediumTime":$=Un(R,ut.Medium);break;case"longTime":$=Un(R,ut.Long);break;case"fullTime":$=Un(R,ut.Full);break;case"short":const ue=Mt(R,"shortTime"),qe=Mt(R,"shortDate");$=ln(vn(R,ut.Short),[ue,qe]);break;case"medium":const Ye=Mt(R,"mediumTime"),Rt=Mt(R,"mediumDate");$=ln(vn(R,ut.Medium),[Ye,Rt]);break;case"long":const pn=Mt(R,"longTime"),Vn=Mt(R,"longDate");$=ln(vn(R,ut.Long),[pn,Vn]);break;case"full":const $n=Mt(R,"fullTime"),rn=Mt(R,"fullDate");$=ln(vn(R,ut.Full),[$n,rn])}return $&&(Fe[A][j]=$),$}function ln(R,j){return j&&(R=R.replace(/\{([^}]+)}/g,function(A,$){return null!=j&&$ in j?j[$]:A})),R}function Ln(R,j,A="-",$,ue){let qe="";(R<0||ue&&R<=0)&&(ue?R=1-R:(R=-R,qe=A));let Ye=String(R);for(;Ye.length<j;)Ye="0"+Ye;return $&&(Ye=Ye.substr(Ye.length-j)),qe+Ye}function Q(R,j,A=0,$=!1,ue=!1){return function(qe,Ye){let Rt=function ae(R,j){switch(R){case gt.FullYear:return j.getFullYear();case gt.Month:return j.getMonth();case gt.Date:return j.getDate();case gt.Hours:return j.getHours();case gt.Minutes:return j.getMinutes();case gt.Seconds:return j.getSeconds();case gt.FractionalSeconds:return j.getMilliseconds();case gt.Day:return j.getDay();default:throw new Error(`Unknown DateType value "${R}".`)}}(R,qe);if((A>0||Rt>-A)&&(Rt+=A),R===gt.Hours)0===Rt&&-12===A&&(Rt=12);else if(R===gt.FractionalSeconds)return function un(R,j){return Ln(R,3).substr(0,j)}(Rt,j);const pn=Mn(Ye,Pe.MinusSign);return Ln(Rt,j,pn,$,ue)}}function ce(R,j,A=Ve.Format,$=!1){return function(ue,qe){return function Ge(R,j,A,$,ue,qe){switch(A){case It.Months:return function kt(R,j,A){const $=(0,E.cg1)(R),qe=wn([$[E.wAp.MonthsFormat],$[E.wAp.MonthsStandalone]],j);return wn(qe,A)}(j,ue,$)[R.getMonth()];case It.Days:return function Wt(R,j,A){const $=(0,E.cg1)(R),qe=wn([$[E.wAp.DaysFormat],$[E.wAp.DaysStandalone]],j);return wn(qe,A)}(j,ue,$)[R.getDay()];case It.DayPeriods:const Ye=R.getHours(),Rt=R.getMinutes();if(qe){const Vn=function Tn(R){const j=(0,E.cg1)(R);return ot(j),(j[E.wAp.ExtraData][2]||[]).map($=>"string"==typeof $?Pn($):[Pn($[0]),Pn($[1])])}(j),$n=function Nt(R,j,A){const $=(0,E.cg1)(R);ot($);const qe=wn([$[E.wAp.ExtraData][0],$[E.wAp.ExtraData][1]],j)||[];return wn(qe,A)||[]}(j,ue,$),rn=Vn.findIndex(kr=>{if(Array.isArray(kr)){const[Gn,Vt]=kr,Xr=Ye>=Gn.hours&&Rt>=Gn.minutes,Pi=Ye<Vt.hours||Ye===Vt.hours&&Rt<Vt.minutes;if(Gn.hours<Vt.hours){if(Xr&&Pi)return!0}else if(Xr||Pi)return!0}else if(kr.hours===Ye&&kr.minutes===Rt)return!0;return!1});if(-1!==rn)return $n[rn]}return function sr(R,j,A){const $=(0,E.cg1)(R),qe=wn([$[E.wAp.DayPeriodsFormat],$[E.wAp.DayPeriodsStandalone]],j);return wn(qe,A)}(j,ue,$)[Ye<12?0:1];case It.Eras:return function Yn(R,j){return wn((0,E.cg1)(R)[E.wAp.Eras],j)}(j,$)[R.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${A}`)}}(ue,qe,R,j,A,$)}}function Ne(R){return function(j,A,$){const ue=-1*$,qe=Mn(A,Pe.MinusSign),Ye=ue>0?Math.floor(ue/60):Math.ceil(ue/60);switch(R){case yt.Short:return(ue>=0?"+":"")+Ln(Ye,2,qe)+Ln(Math.abs(ue%60),2,qe);case yt.ShortGMT:return"GMT"+(ue>=0?"+":"")+Ln(Ye,1,qe);case yt.Long:return"GMT"+(ue>=0?"+":"")+Ln(Ye,2,qe)+":"+Ln(Math.abs(ue%60),2,qe);case yt.Extended:return 0===$?"Z":(ue>=0?"+":"")+Ln(Ye,2,qe)+":"+Ln(Math.abs(ue%60),2,qe);default:throw new Error(`Unknown zone width "${R}"`)}}}function En(R){return jn(R.getFullYear(),R.getMonth(),R.getDate()+(4-R.getDay()))}function Zn(R,j=!1){return function(A,$){let ue;if(j){const qe=new Date(A.getFullYear(),A.getMonth(),1).getDay()-1,Ye=A.getDate();ue=1+Math.floor((Ye+qe)/7)}else{const qe=En(A),Ye=function On(R){const j=jn(R,0,1).getDay();return jn(R,0,1+(j<=4?4:11)-j)}(qe.getFullYear()),Rt=qe.getTime()-Ye.getTime();ue=1+Math.round(Rt/6048e5)}return Ln(ue,R,Mn($,Pe.MinusSign))}}function Nr(R,j=!1){return function(A,$){return Ln(En(A).getFullYear(),R,Mn($,Pe.MinusSign),j)}}const fn={};function jr(R,j){R=R.replace(/:/g,"");const A=Date.parse("Jan 01, 1970 00:00:00 "+R)/6e4;return isNaN(A)?j:A}function Qn(R){return R instanceof Date&&!isNaN(R.valueOf())}class An{}let mr=(()=>{class R extends An{constructor(A){super(),this.locale=A}getPluralCategory(A,$){switch(Er($||this.locale)(A)){case ve.Zero:return"zero";case ve.One:return"one";case ve.Two:return"two";case ve.Few:return"few";case ve.Many:return"many";default:return"other"}}}return R.\u0275fac=function(A){return new(A||R)(E.LFG(E.soG))},R.\u0275prov=E.Yz7({token:R,factory:R.\u0275fac}),R})();function Yr(R,j){j=encodeURIComponent(j);for(const A of R.split(";")){const $=A.indexOf("="),[ue,qe]=-1==$?[A,""]:[A.slice(0,$),A.slice($+1)];if(ue.trim()===j)return decodeURIComponent(qe)}return null}let se=(()=>{class R{constructor(A,$,ue,qe){this._iterableDiffers=A,this._keyValueDiffers=$,this._ngEl=ue,this._renderer=qe,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(A){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof A?A.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(A){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof A?A.split(/\s+/):A,this._rawClass&&((0,E.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const A=this._iterableDiffer.diff(this._rawClass);A&&this._applyIterableChanges(A)}else if(this._keyValueDiffer){const A=this._keyValueDiffer.diff(this._rawClass);A&&this._applyKeyValueChanges(A)}}_applyKeyValueChanges(A){A.forEachAddedItem($=>this._toggleClass($.key,$.currentValue)),A.forEachChangedItem($=>this._toggleClass($.key,$.currentValue)),A.forEachRemovedItem($=>{$.previousValue&&this._toggleClass($.key,!1)})}_applyIterableChanges(A){A.forEachAddedItem($=>{if("string"!=typeof $.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,E.AaK)($.item)}`);this._toggleClass($.item,!0)}),A.forEachRemovedItem($=>this._toggleClass($.item,!1))}_applyClasses(A){A&&(Array.isArray(A)||A instanceof Set?A.forEach($=>this._toggleClass($,!0)):Object.keys(A).forEach($=>this._toggleClass($,!!A[$])))}_removeClasses(A){A&&(Array.isArray(A)||A instanceof Set?A.forEach($=>this._toggleClass($,!1)):Object.keys(A).forEach($=>this._toggleClass($,!1)))}_toggleClass(A,$){(A=A.trim())&&A.split(/\s+/g).forEach(ue=>{$?this._renderer.addClass(this._ngEl.nativeElement,ue):this._renderer.removeClass(this._ngEl.nativeElement,ue)})}}return R.\u0275fac=function(A){return new(A||R)(E.Y36(E.ZZ4),E.Y36(E.aQg),E.Y36(E.SBq),E.Y36(E.Qsj))},R.\u0275dir=E.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),R})();class q{constructor(j,A,$,ue){this.$implicit=j,this.ngForOf=A,this.index=$,this.count=ue}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let be=(()=>{class R{constructor(A,$,ue){this._viewContainer=A,this._template=$,this._differs=ue,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(A){this._ngForOf=A,this._ngForOfDirty=!0}set ngForTrackBy(A){this._trackByFn=A}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(A){A&&(this._template=A)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const A=this._ngForOf;!this._differ&&A&&(this._differ=this._differs.find(A).create(this.ngForTrackBy))}if(this._differ){const A=this._differ.diff(this._ngForOf);A&&this._applyChanges(A)}}_applyChanges(A){const $=this._viewContainer;A.forEachOperation((ue,qe,Ye)=>{if(null==ue.previousIndex)$.createEmbeddedView(this._template,new q(ue.item,this._ngForOf,-1,-1),null===Ye?void 0:Ye);else if(null==Ye)$.remove(null===qe?void 0:qe);else if(null!==qe){const Rt=$.get(qe);$.move(Rt,Ye),Xe(Rt,ue)}});for(let ue=0,qe=$.length;ue<qe;ue++){const Rt=$.get(ue).context;Rt.index=ue,Rt.count=qe,Rt.ngForOf=this._ngForOf}A.forEachIdentityChange(ue=>{Xe($.get(ue.currentIndex),ue)})}static ngTemplateContextGuard(A,$){return!0}}return R.\u0275fac=function(A){return new(A||R)(E.Y36(E.s_b),E.Y36(E.Rgc),E.Y36(E.ZZ4))},R.\u0275dir=E.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),R})();function Xe(R,j){R.context.$implicit=j.item}let Bt=(()=>{class R{constructor(A,$){this._viewContainer=A,this._context=new nn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=$}set ngIf(A){this._context.$implicit=this._context.ngIf=A,this._updateView()}set ngIfThen(A){$r("ngIfThen",A),this._thenTemplateRef=A,this._thenViewRef=null,this._updateView()}set ngIfElse(A){$r("ngIfElse",A),this._elseTemplateRef=A,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(A,$){return!0}}return R.\u0275fac=function(A){return new(A||R)(E.Y36(E.s_b),E.Y36(E.Rgc))},R.\u0275dir=E.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),R})();class nn{constructor(){this.$implicit=null,this.ngIf=null}}function $r(R,j){if(j&&!j.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,E.AaK)(j)}'.`)}const Rr=new E.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Rn=(()=>{class R{constructor(A,$){this.locale=A,this.defaultTimezone=$}transform(A,$="mediumDate",ue,qe){var Ye;if(null==A||""===A||A!=A)return null;try{return hn(A,$,qe||this.locale,null!==(Ye=null!=ue?ue:this.defaultTimezone)&&void 0!==Ye?Ye:void 0)}catch(Rt){throw function yr(R,j){return new E.vHH(2100,"")}()}}}return R.\u0275fac=function(A){return new(A||R)(E.Y36(E.soG,16),E.Y36(Rr,24))},R.\u0275pipe=E.Yjl({name:"date",type:R,pure:!0}),R})(),lo=(()=>{class R{}return R.\u0275fac=function(A){return new(A||R)},R.\u0275mod=E.oAB({type:R}),R.\u0275inj=E.cJS({providers:[{provide:An,useClass:mr}]}),R})();const Vo="browser";function Es(R){return"server"===R}let Ws=(()=>{class R{}return R.\u0275prov=(0,E.Yz7)({token:R,providedIn:"root",factory:()=>new Ls((0,E.LFG)(Re),window)}),R})();class Ls{constructor(j,A){this.document=j,this.window=A,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(j){this.supportsScrolling()&&this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){if(!this.supportsScrolling())return;const A=function Mi(R,j){const A=R.getElementById(j)||R.getElementsByName(j)[0];if(A)return A;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const $=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let ue=$.currentNode;for(;ue;){const qe=ue.shadowRoot;if(qe){const Ye=qe.getElementById(j)||qe.querySelector(`[name="${j}"]`);if(Ye)return Ye}ue=$.nextNode()}}return null}(this.document,j);A&&(this.scrollToElement(A),this.attemptFocus(A))}setHistoryScrollRestoration(j){if(this.supportScrollRestoration()){const A=this.window.history;A&&A.scrollRestoration&&(A.scrollRestoration=j)}}scrollToElement(j){const A=j.getBoundingClientRect(),$=A.left+this.window.pageXOffset,ue=A.top+this.window.pageYOffset,qe=this.offset();this.window.scrollTo($-qe[0],ue-qe[1])}attemptFocus(j){return j.focus(),this.document.activeElement===j}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const j=Hn(this.window.history)||Hn(Object.getPrototypeOf(this.window.history));return!(!j||!j.writable&&!j.set)}catch(j){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(j){return!1}}}function Hn(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class bn{}},520:(Pt,$e,L)=>{"use strict";L.d($e,{TP:()=>_n,eN:()=>Pe,JF:()=>wn});var E=L(9808),x=L(5e3),G=L(9646),pe=L(8306),ge=L(4351),Te=L(9300),Re=L(4004);class Ae{}class Me{}class ne{constructor(X){this.normalizedNames=new Map,this.lazyUpdate=null,X?this.lazyInit="string"==typeof X?()=>{this.headers=new Map,X.split("\n").forEach(oe=>{const Fe=oe.indexOf(":");if(Fe>0){const tt=oe.slice(0,Fe),yt=tt.toLowerCase(),gt=oe.slice(Fe+1).trim();this.maybeSetNormalizedName(tt,yt),this.headers.has(yt)?this.headers.get(yt).push(gt):this.headers.set(yt,[gt])}})}:()=>{this.headers=new Map,Object.keys(X).forEach(oe=>{let Fe=X[oe];const tt=oe.toLowerCase();"string"==typeof Fe&&(Fe=[Fe]),Fe.length>0&&(this.headers.set(tt,Fe),this.maybeSetNormalizedName(oe,tt))})}:this.headers=new Map}has(X){return this.init(),this.headers.has(X.toLowerCase())}get(X){this.init();const oe=this.headers.get(X.toLowerCase());return oe&&oe.length>0?oe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(X){return this.init(),this.headers.get(X.toLowerCase())||null}append(X,oe){return this.clone({name:X,value:oe,op:"a"})}set(X,oe){return this.clone({name:X,value:oe,op:"s"})}delete(X,oe){return this.clone({name:X,value:oe,op:"d"})}maybeSetNormalizedName(X,oe){this.normalizedNames.has(oe)||this.normalizedNames.set(oe,X)}init(){this.lazyInit&&(this.lazyInit instanceof ne?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(X=>this.applyUpdate(X)),this.lazyUpdate=null))}copyFrom(X){X.init(),Array.from(X.headers.keys()).forEach(oe=>{this.headers.set(oe,X.headers.get(oe)),this.normalizedNames.set(oe,X.normalizedNames.get(oe))})}clone(X){const oe=new ne;return oe.lazyInit=this.lazyInit&&this.lazyInit instanceof ne?this.lazyInit:this,oe.lazyUpdate=(this.lazyUpdate||[]).concat([X]),oe}applyUpdate(X){const oe=X.name.toLowerCase();switch(X.op){case"a":case"s":let Fe=X.value;if("string"==typeof Fe&&(Fe=[Fe]),0===Fe.length)return;this.maybeSetNormalizedName(X.name,oe);const tt=("a"===X.op?this.headers.get(oe):void 0)||[];tt.push(...Fe),this.headers.set(oe,tt);break;case"d":const yt=X.value;if(yt){let gt=this.headers.get(oe);if(!gt)return;gt=gt.filter(It=>-1===yt.indexOf(It)),0===gt.length?(this.headers.delete(oe),this.normalizedNames.delete(oe)):this.headers.set(oe,gt)}else this.headers.delete(oe),this.normalizedNames.delete(oe)}}forEach(X){this.init(),Array.from(this.normalizedNames.keys()).forEach(oe=>X(this.normalizedNames.get(oe),this.headers.get(oe)))}}class ee{encodeKey(X){return nt(X)}encodeValue(X){return nt(X)}decodeKey(X){return decodeURIComponent(X)}decodeValue(X){return decodeURIComponent(X)}}const pt=/%(\d[a-f0-9])/gi,We={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function nt(Oe){return encodeURIComponent(Oe).replace(pt,(X,oe)=>{var Fe;return null!==(Fe=We[oe])&&void 0!==Fe?Fe:X})}function at(Oe){return`${Oe}`}class _e{constructor(X={}){if(this.updates=null,this.cloneFrom=null,this.encoder=X.encoder||new ee,X.fromString){if(X.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Se(Oe,X){const oe=new Map;return Oe.length>0&&Oe.replace(/^\?/,"").split("&").forEach(tt=>{const yt=tt.indexOf("="),[gt,It]=-1==yt?[X.decodeKey(tt),""]:[X.decodeKey(tt.slice(0,yt)),X.decodeValue(tt.slice(yt+1))],hn=oe.get(gt)||[];hn.push(It),oe.set(gt,hn)}),oe}(X.fromString,this.encoder)}else X.fromObject?(this.map=new Map,Object.keys(X.fromObject).forEach(oe=>{const Fe=X.fromObject[oe];this.map.set(oe,Array.isArray(Fe)?Fe:[Fe])})):this.map=null}has(X){return this.init(),this.map.has(X)}get(X){this.init();const oe=this.map.get(X);return oe?oe[0]:null}getAll(X){return this.init(),this.map.get(X)||null}keys(){return this.init(),Array.from(this.map.keys())}append(X,oe){return this.clone({param:X,value:oe,op:"a"})}appendAll(X){const oe=[];return Object.keys(X).forEach(Fe=>{const tt=X[Fe];Array.isArray(tt)?tt.forEach(yt=>{oe.push({param:Fe,value:yt,op:"a"})}):oe.push({param:Fe,value:tt,op:"a"})}),this.clone(oe)}set(X,oe){return this.clone({param:X,value:oe,op:"s"})}delete(X,oe){return this.clone({param:X,value:oe,op:"d"})}toString(){return this.init(),this.keys().map(X=>{const oe=this.encoder.encodeKey(X);return this.map.get(X).map(Fe=>oe+"="+this.encoder.encodeValue(Fe)).join("&")}).filter(X=>""!==X).join("&")}clone(X){const oe=new _e({encoder:this.encoder});return oe.cloneFrom=this.cloneFrom||this,oe.updates=(this.updates||[]).concat(X),oe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(X=>this.map.set(X,this.cloneFrom.map.get(X))),this.updates.forEach(X=>{switch(X.op){case"a":case"s":const oe=("a"===X.op?this.map.get(X.param):void 0)||[];oe.push(at(X.value)),this.map.set(X.param,oe);break;case"d":if(void 0===X.value){this.map.delete(X.param);break}{let Fe=this.map.get(X.param)||[];const tt=Fe.indexOf(at(X.value));-1!==tt&&Fe.splice(tt,1),Fe.length>0?this.map.set(X.param,Fe):this.map.delete(X.param)}}}),this.cloneFrom=this.updates=null)}}class Ke{constructor(){this.map=new Map}set(X,oe){return this.map.set(X,oe),this}get(X){return this.map.has(X)||this.map.set(X,X.defaultValue()),this.map.get(X)}delete(X){return this.map.delete(X),this}has(X){return this.map.has(X)}keys(){return this.map.keys()}}function Y(Oe){return"undefined"!=typeof ArrayBuffer&&Oe instanceof ArrayBuffer}function st(Oe){return"undefined"!=typeof Blob&&Oe instanceof Blob}function et(Oe){return"undefined"!=typeof FormData&&Oe instanceof FormData}class rt{constructor(X,oe,Fe,tt){let yt;if(this.url=oe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=X.toUpperCase(),function Ue(Oe){switch(Oe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||tt?(this.body=void 0!==Fe?Fe:null,yt=tt):yt=Fe,yt&&(this.reportProgress=!!yt.reportProgress,this.withCredentials=!!yt.withCredentials,yt.responseType&&(this.responseType=yt.responseType),yt.headers&&(this.headers=yt.headers),yt.context&&(this.context=yt.context),yt.params&&(this.params=yt.params)),this.headers||(this.headers=new ne),this.context||(this.context=new Ke),this.params){const gt=this.params.toString();if(0===gt.length)this.urlWithParams=oe;else{const It=oe.indexOf("?");this.urlWithParams=oe+(-1===It?"?":It<oe.length-1?"&":"")+gt}}else this.params=new _e,this.urlWithParams=oe}serializeBody(){return null===this.body?null:Y(this.body)||st(this.body)||et(this.body)||function Dt(Oe){return"undefined"!=typeof URLSearchParams&&Oe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _e?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||et(this.body)?null:st(this.body)?this.body.type||null:Y(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _e?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(X={}){var oe;const Fe=X.method||this.method,tt=X.url||this.url,yt=X.responseType||this.responseType,gt=void 0!==X.body?X.body:this.body,It=void 0!==X.withCredentials?X.withCredentials:this.withCredentials,hn=void 0!==X.reportProgress?X.reportProgress:this.reportProgress;let jn=X.headers||this.headers,Mt=X.params||this.params;const ln=null!==(oe=X.context)&&void 0!==oe?oe:this.context;return void 0!==X.setHeaders&&(jn=Object.keys(X.setHeaders).reduce((Ln,un)=>Ln.set(un,X.setHeaders[un]),jn)),X.setParams&&(Mt=Object.keys(X.setParams).reduce((Ln,un)=>Ln.set(un,X.setParams[un]),Mt)),new rt(Fe,tt,gt,{params:Mt,headers:jn,context:ln,reportProgress:hn,responseType:yt,withCredentials:It})}}var Tt=(()=>((Tt=Tt||{})[Tt.Sent=0]="Sent",Tt[Tt.UploadProgress=1]="UploadProgress",Tt[Tt.ResponseHeader=2]="ResponseHeader",Tt[Tt.DownloadProgress=3]="DownloadProgress",Tt[Tt.Response=4]="Response",Tt[Tt.User=5]="User",Tt))();class Ce{constructor(X,oe=200,Fe="OK"){this.headers=X.headers||new ne,this.status=void 0!==X.status?X.status:oe,this.statusText=X.statusText||Fe,this.url=X.url||null,this.ok=this.status>=200&&this.status<300}}class ve extends Ce{constructor(X={}){super(X),this.type=Tt.ResponseHeader}clone(X={}){return new ve({headers:X.headers||this.headers,status:void 0!==X.status?X.status:this.status,statusText:X.statusText||this.statusText,url:X.url||this.url||void 0})}}class Ve extends Ce{constructor(X={}){super(X),this.type=Tt.Response,this.body=void 0!==X.body?X.body:null}clone(X={}){return new Ve({body:void 0!==X.body?X.body:this.body,headers:X.headers||this.headers,status:void 0!==X.status?X.status:this.status,statusText:X.statusText||this.statusText,url:X.url||this.url||void 0})}}class xe extends Ce{constructor(X){super(X,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${X.url||"(unknown url)"}`:`Http failure response for ${X.url||"(unknown url)"}: ${X.status} ${X.statusText}`,this.error=X.error||null}}function ut(Oe,X){return{body:X,headers:Oe.headers,context:Oe.context,observe:Oe.observe,params:Oe.params,reportProgress:Oe.reportProgress,responseType:Oe.responseType,withCredentials:Oe.withCredentials}}let Pe=(()=>{class Oe{constructor(oe){this.handler=oe}request(oe,Fe,tt={}){let yt;if(oe instanceof rt)yt=oe;else{let hn,jn;hn=tt.headers instanceof ne?tt.headers:new ne(tt.headers),tt.params&&(jn=tt.params instanceof _e?tt.params:new _e({fromObject:tt.params})),yt=new rt(oe,Fe,void 0!==tt.body?tt.body:null,{headers:hn,context:tt.context,params:jn,reportProgress:tt.reportProgress,responseType:tt.responseType||"json",withCredentials:tt.withCredentials})}const gt=(0,G.of)(yt).pipe((0,ge.b)(hn=>this.handler.handle(hn)));if(oe instanceof rt||"events"===tt.observe)return gt;const It=gt.pipe((0,Te.h)(hn=>hn instanceof Ve));switch(tt.observe||"body"){case"body":switch(yt.responseType){case"arraybuffer":return It.pipe((0,Re.U)(hn=>{if(null!==hn.body&&!(hn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return hn.body}));case"blob":return It.pipe((0,Re.U)(hn=>{if(null!==hn.body&&!(hn.body instanceof Blob))throw new Error("Response is not a Blob.");return hn.body}));case"text":return It.pipe((0,Re.U)(hn=>{if(null!==hn.body&&"string"!=typeof hn.body)throw new Error("Response is not a string.");return hn.body}));default:return It.pipe((0,Re.U)(hn=>hn.body))}case"response":return It;default:throw new Error(`Unreachable: unhandled observe type ${tt.observe}}`)}}delete(oe,Fe={}){return this.request("DELETE",oe,Fe)}get(oe,Fe={}){return this.request("GET",oe,Fe)}head(oe,Fe={}){return this.request("HEAD",oe,Fe)}jsonp(oe,Fe){return this.request("JSONP",oe,{params:(new _e).append(Fe,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(oe,Fe={}){return this.request("OPTIONS",oe,Fe)}patch(oe,Fe,tt={}){return this.request("PATCH",oe,ut(tt,Fe))}post(oe,Fe,tt={}){return this.request("POST",oe,ut(tt,Fe))}put(oe,Fe,tt={}){return this.request("PUT",oe,ut(tt,Fe))}}return Oe.\u0275fac=function(oe){return new(oe||Oe)(x.LFG(Ae))},Oe.\u0275prov=x.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();class Yt{constructor(X,oe){this.next=X,this.interceptor=oe}handle(X){return this.interceptor.intercept(X,this.next)}}const _n=new x.OlP("HTTP_INTERCEPTORS");let sr=(()=>{class Oe{intercept(oe,Fe){return Fe.handle(oe)}}return Oe.\u0275fac=function(oe){return new(oe||Oe)},Oe.\u0275prov=x.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();const vn=/^\)\]\}',?\n/;let Cr=(()=>{class Oe{constructor(oe){this.xhrFactory=oe}handle(oe){if("JSONP"===oe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new pe.y(Fe=>{const tt=this.xhrFactory.build();if(tt.open(oe.method,oe.urlWithParams),oe.withCredentials&&(tt.withCredentials=!0),oe.headers.forEach((un,Q)=>tt.setRequestHeader(un,Q.join(","))),oe.headers.has("Accept")||tt.setRequestHeader("Accept","application/json, text/plain, */*"),!oe.headers.has("Content-Type")){const un=oe.detectContentTypeHeader();null!==un&&tt.setRequestHeader("Content-Type",un)}if(oe.responseType){const un=oe.responseType.toLowerCase();tt.responseType="json"!==un?un:"text"}const yt=oe.serializeBody();let gt=null;const It=()=>{if(null!==gt)return gt;const un=1223===tt.status?204:tt.status,Q=tt.statusText||"OK",ae=new ne(tt.getAllResponseHeaders()),ce=function Mn(Oe){return"responseURL"in Oe&&Oe.responseURL?Oe.responseURL:/^X-Request-URL:/m.test(Oe.getAllResponseHeaders())?Oe.getResponseHeader("X-Request-URL"):null}(tt)||oe.url;return gt=new ve({headers:ae,status:un,statusText:Q,url:ce}),gt},hn=()=>{let{headers:un,status:Q,statusText:ae,url:ce}=It(),Ge=null;204!==Q&&(Ge=void 0===tt.response?tt.responseText:tt.response),0===Q&&(Q=Ge?200:0);let Ne=Q>=200&&Q<300;if("json"===oe.responseType&&"string"==typeof Ge){const At=Ge;Ge=Ge.replace(vn,"");try{Ge=""!==Ge?JSON.parse(Ge):null}catch(zt){Ge=At,Ne&&(Ne=!1,Ge={error:zt,text:Ge})}}Ne?(Fe.next(new Ve({body:Ge,headers:un,status:Q,statusText:ae,url:ce||void 0})),Fe.complete()):Fe.error(new xe({error:Ge,headers:un,status:Q,statusText:ae,url:ce||void 0}))},jn=un=>{const{url:Q}=It(),ae=new xe({error:un,status:tt.status||0,statusText:tt.statusText||"Unknown Error",url:Q||void 0});Fe.error(ae)};let Mt=!1;const ln=un=>{Mt||(Fe.next(It()),Mt=!0);let Q={type:Tt.DownloadProgress,loaded:un.loaded};un.lengthComputable&&(Q.total=un.total),"text"===oe.responseType&&!!tt.responseText&&(Q.partialText=tt.responseText),Fe.next(Q)},Ln=un=>{let Q={type:Tt.UploadProgress,loaded:un.loaded};un.lengthComputable&&(Q.total=un.total),Fe.next(Q)};return tt.addEventListener("load",hn),tt.addEventListener("error",jn),tt.addEventListener("timeout",jn),tt.addEventListener("abort",jn),oe.reportProgress&&(tt.addEventListener("progress",ln),null!==yt&&tt.upload&&tt.upload.addEventListener("progress",Ln)),tt.send(yt),Fe.next({type:Tt.Sent}),()=>{tt.removeEventListener("error",jn),tt.removeEventListener("abort",jn),tt.removeEventListener("load",hn),tt.removeEventListener("timeout",jn),oe.reportProgress&&(tt.removeEventListener("progress",ln),null!==yt&&tt.upload&&tt.upload.removeEventListener("progress",Ln)),tt.readyState!==tt.DONE&&tt.abort()}})}}return Oe.\u0275fac=function(oe){return new(oe||Oe)(x.LFG(E.JF))},Oe.\u0275prov=x.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();const an=new x.OlP("XSRF_COOKIE_NAME"),Nn=new x.OlP("XSRF_HEADER_NAME");class ni{}let Or=(()=>{class Oe{constructor(oe,Fe,tt){this.doc=oe,this.platform=Fe,this.cookieName=tt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const oe=this.doc.cookie||"";return oe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,E.Mx)(oe,this.cookieName),this.lastCookieString=oe),this.lastToken}}return Oe.\u0275fac=function(oe){return new(oe||Oe)(x.LFG(E.K0),x.LFG(x.Lbi),x.LFG(an))},Oe.\u0275prov=x.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})(),Er=(()=>{class Oe{constructor(oe,Fe){this.tokenService=oe,this.headerName=Fe}intercept(oe,Fe){const tt=oe.url.toLowerCase();if("GET"===oe.method||"HEAD"===oe.method||tt.startsWith("http://")||tt.startsWith("https://"))return Fe.handle(oe);const yt=this.tokenService.getToken();return null!==yt&&!oe.headers.has(this.headerName)&&(oe=oe.clone({headers:oe.headers.set(this.headerName,yt)})),Fe.handle(oe)}}return Oe.\u0275fac=function(oe){return new(oe||Oe)(x.LFG(ni),x.LFG(Nn))},Oe.\u0275prov=x.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})(),ot=(()=>{class Oe{constructor(oe,Fe){this.backend=oe,this.injector=Fe,this.chain=null}handle(oe){if(null===this.chain){const Fe=this.injector.get(_n,[]);this.chain=Fe.reduceRight((tt,yt)=>new Yt(tt,yt),this.backend)}return this.chain.handle(oe)}}return Oe.\u0275fac=function(oe){return new(oe||Oe)(x.LFG(Me),x.LFG(x.zs3))},Oe.\u0275prov=x.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})(),dn=(()=>{class Oe{static disable(){return{ngModule:Oe,providers:[{provide:Er,useClass:sr}]}}static withOptions(oe={}){return{ngModule:Oe,providers:[oe.cookieName?{provide:an,useValue:oe.cookieName}:[],oe.headerName?{provide:Nn,useValue:oe.headerName}:[]]}}}return Oe.\u0275fac=function(oe){return new(oe||Oe)},Oe.\u0275mod=x.oAB({type:Oe}),Oe.\u0275inj=x.cJS({providers:[Er,{provide:_n,useExisting:Er,multi:!0},{provide:ni,useClass:Or},{provide:an,useValue:"XSRF-TOKEN"},{provide:Nn,useValue:"X-XSRF-TOKEN"}]}),Oe})(),wn=(()=>{class Oe{}return Oe.\u0275fac=function(oe){return new(oe||Oe)},Oe.\u0275mod=x.oAB({type:Oe}),Oe.\u0275inj=x.cJS({providers:[Pe,{provide:Ae,useClass:ot},Cr,{provide:Me,useExisting:Cr}],imports:[[dn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Oe})()},5e3:(Pt,$e,L)=>{"use strict";L.d($e,{deG:()=>cu,tb:()=>q0,AFp:()=>G0,ip1:()=>Q_,CZH:()=>wf,hGG:()=>ob,z2F:()=>Ag,sBO:()=>LI,Sil:()=>X_,_Vd:()=>wg,EJc:()=>K0,SBq:()=>Eg,qLn:()=>kc,vpe:()=>mc,tBr:()=>_i,XFs:()=>Nt,OlP:()=>fr,zs3:()=>Eo,ZZ4:()=>my,aQg:()=>yy,soG:()=>py,YKP:()=>r0,h0i:()=>yf,PXZ:()=>SI,R0b:()=>Ra,FiY:()=>Mr,Lbi:()=>W0,g9A:()=>z0,Qsj:()=>lE,FYo:()=>Jv,JOm:()=>wi,tp0:()=>so,Rgc:()=>Tg,dDg:()=>J0,q4F:()=>e0,GfV:()=>Xv,s_b:()=>ly,ifc:()=>yt,eFA:()=>tw,G48:()=>NI,X6Q:()=>kI,_c5:()=>XI,VLi:()=>TI,c2e:()=>Z0,zSh:()=>pp,wAp:()=>mn,vHH:()=>nt,cg1:()=>gg,kL8:()=>ny,dqk:()=>Mt,sIi:()=>Fl,CqO:()=>ql,QGY:()=>Uu,F4k:()=>ru,RDi:()=>Do,AaK:()=>Ae,TTD:()=>ts,xp6:()=>wh,uIk:()=>Pp,Suo:()=>b0,Xpm:()=>En,lG2:()=>Ar,Yz7:()=>Ct,cJS:()=>vn,oAB:()=>jr,Yjl:()=>Bi,Y36:()=>Jc,_UZ:()=>Sm,qZA:()=>Vd,TgZ:()=>Bd,EpF:()=>jd,LFG:()=>De,$8M:()=>fs,$Z:()=>jp,NdJ:()=>iu,CRH:()=>D0,oxw:()=>Mm,ALo:()=>g0,xi3:()=>m0,Q6J:()=>Fu,DdM:()=>u0,VKq:()=>c0,iGM:()=>I0,MAs:()=>Fd,CHM:()=>jo,LSH:()=>Rc,YNc:()=>Lp,_uU:()=>$d,Oqu:()=>rg});var E=L(7579),x=L(727),G=L(8306),pe=L(6451),ge=L(3099);function Te(t){for(let n in t)if(t[n]===Te)return n;throw Error("Could not find renamed property on target object.")}function Ae(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ae).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function Me(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const ne=Te({__forward_ref__:Te});function ee(t){return t.__forward_ref__=ee,t.toString=function(){return Ae(this())},t}function Se(t){return function pt(t){return"function"==typeof t&&t.hasOwnProperty(ne)&&t.__forward_ref__===ee}(t)?t():t}class nt extends Error{constructor(n,s){super(function at(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,s)),this.code=n}}function _e(t){return"string"==typeof t?t:null==t?"":String(t)}function Le(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_e(t)}function st(t,n){const s=n?` in ${n}`:"";throw new nt(-201,`No provider for ${Le(t)} found${s}`)}function Wt(t,n){null==t&&function kt(t,n,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function Ct(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function vn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Mn(t){return Cr(t,Or)||Cr(t,ot)}function Cr(t,n){return t.hasOwnProperty(n)?t[n]:null}function ni(t){return t&&(t.hasOwnProperty(Er)||t.hasOwnProperty(Tn))?t[Er]:null}const Or=Te({\u0275prov:Te}),Er=Te({\u0275inj:Te}),ot=Te({ngInjectableDef:Te}),Tn=Te({ngInjectorDef:Te});var Nt=(()=>((Nt=Nt||{})[Nt.Default=0]="Default",Nt[Nt.Host=1]="Host",Nt[Nt.Self=2]="Self",Nt[Nt.SkipSelf=4]="SkipSelf",Nt[Nt.Optional=8]="Optional",Nt))();let dn;function Pn(t){const n=dn;return dn=t,n}function di(t,n,s){const a=Mn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Nt.Optional?null:void 0!==n?n:void st(Ae(t),"Injector")}function X(t){return{toString:t}.toString()}var oe=(()=>((oe=oe||{})[oe.OnPush=0]="OnPush",oe[oe.Default=1]="Default",oe))(),yt=(()=>{return(t=yt||(yt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",yt;var t})();const gt="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,hn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Mt=gt||"undefined"!=typeof global&&global||It||hn,un={},Q=[],ae=Te({\u0275cmp:Te}),ce=Te({\u0275dir:Te}),Ge=Te({\u0275pipe:Te}),Ne=Te({\u0275mod:Te}),At=Te({\u0275fac:Te}),zt=Te({__NG_ELEMENT_ID__:Te});let On=0;function En(t){return X(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===oe.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Q,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||yt.Emulated,id:"c",styles:t.styles||Q,_:null,setInput:null,schemas:t.schemas||null,tView:null},c=t.directives,h=t.features,g=t.pipes;return a.id+=On++,a.inputs=en(t.inputs,s),a.outputs=en(t.outputs),h&&h.forEach(w=>w(a)),a.directiveDefs=c?()=>("function"==typeof c?c():c).map(Nr):null,a.pipeDefs=g?()=>("function"==typeof g?g():g).map(fn):null,a})}function Nr(t){return Qn(t)||function Ir(t){return t[ce]||null}(t)}function fn(t){return function ri(t){return t[Ge]||null}(t)}const kn={};function jr(t){return X(()=>{const n={type:t.type,bootstrap:t.bootstrap||Q,declarations:t.declarations||Q,imports:t.imports||Q,exports:t.exports||Q,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(kn[t.id]=t.type),n})}function en(t,n){if(null==t)return un;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=a,n&&(n[c]=h)}return s}const Ar=En;function Bi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Qn(t){return t[ae]||null}function gr(t,n){const s=t[Ne]||null;if(!s&&!0===n)throw new Error(`Type ${Ae(t)} does not have '\u0275mod' property.`);return s}function Qr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ei(t){return Array.isArray(t)&&!0===t[1]}function xs(t){return 0!=(8&t.flags)}function Sn(t){return 2==(2&t.flags)}function Vi(t){return 1==(1&t.flags)}function xi(t){return null!==t.template}function cs(t){return 0!=(512&t[2])}function _s(t,n){return t.hasOwnProperty(At)?t[At]:null}class zs{constructor(n,s,a){this.previousValue=n,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function ts(){return Jr}function Jr(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ii),vs}function vs(){const t=Vo(this),n=null==t?void 0:t.current;if(n){const s=t.previous;if(s===un)t.previous=n;else for(let a in n)s[a]=n[a];t.current=null,this.ngOnChanges(n)}}function Ii(t,n,s,a){const c=Vo(t)||function pi(t,n){return t[lo]=n}(t,{previous:un,current:null}),h=c.current||(c.current={}),g=c.previous,w=this.declaredInputs[s],b=g[w];h[w]=new zs(b&&b.currentValue,n,g===un),t[a]=n}ts.ngInherit=!0;const lo="__ngSimpleChanges__";function Vo(t){return t[lo]||null}let Is;function Do(t){Is=t}function Hn(t){return!!t.listen}const Mi={createRenderer:(t,n)=>function Ws(){return void 0!==Is?Is:"undefined"!=typeof document?document:void 0}()};function bn(t){for(;Array.isArray(t);)t=t[0];return t}function $(t,n){return bn(n[t.index])}function qe(t,n){return t.data[n]}function Ye(t,n){return t[n]}function Rt(t,n){const s=n[t];return Qr(s)?s:s[0]}function pn(t){return 4==(4&t[2])}function Vn(t){return 128==(128&t[2])}function rn(t,n){return null==n?null:t[n]}function kr(t){t[18]=0}function Gn(t,n){t[5]+=n;let s=t,a=t[3];for(;null!==a&&(1===n&&1===s[5]||-1===n&&0===s[5]);)a[5]+=n,s=a,a=a[3]}const Vt={lFrame:fo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ki(){return Vt.bindingsEnabled}function lt(){return Vt.lFrame.lView}function gn(){return Vt.lFrame.tView}function jo(t){return Vt.lFrame.contextLView=t,t[8]}function k(){let t=P();for(;null!==t&&64===t.type;)t=t.parent;return t}function P(){return Vt.lFrame.currentTNode}function J(t,n){const s=Vt.lFrame;s.currentTNode=t,s.isParent=n}function we(){return Vt.lFrame.isParent}function xt(){return Vt.isInCheckNoChangesMode}function on(t){Vt.isInCheckNoChangesMode=t}function sn(){const t=Vt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function nr(){return Vt.lFrame.bindingIndex++}function Zi(t,n){const s=Vt.lFrame;s.bindingIndex=s.bindingRootIndex=t,Dr(n)}function Dr(t){Vt.lFrame.currentDirectiveIndex=t}function rr(){return Vt.lFrame.currentQueryIndex}function ns(t){Vt.lFrame.currentQueryIndex=t}function Ho(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function Bs(t,n,s){if(s&Nt.SkipSelf){let c=n,h=t;for(;!(c=c.parent,null!==c||s&Nt.Host||(c=Ho(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;n=c,t=h}const a=Vt.lFrame=Ma();return a.currentTNode=n,a.lView=t,!0}function Vs(t){const n=Ma(),s=t[1];Vt.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function Ma(){const t=Vt.lFrame,n=null===t?null:t.child;return null===n?fo(t):n}function fo(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Pa(){const t=Vt.lFrame;return Vt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const $o=Pa;function To(){const t=Pa();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function yi(){return Vt.lFrame.selectedIndex}function bs(t){Vt.lFrame.selectedIndex=t}function Ur(){const t=Vt.lFrame;return qe(t.tView,t.selectedIndex)}function zo(t,n){for(let s=n.directiveStart,a=n.directiveEnd;s<a;s++){const h=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:N,ngOnDestroy:V}=h;g&&(t.contentHooks||(t.contentHooks=[])).push(-s,g),w&&((t.contentHooks||(t.contentHooks=[])).push(s,w),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,w)),b&&(t.viewHooks||(t.viewHooks=[])).push(-s,b),N&&((t.viewHooks||(t.viewHooks=[])).push(s,N),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,N)),null!=V&&(t.destroyHooks||(t.destroyHooks=[])).push(s,V)}}function Zs(t,n,s){Hi(t,n,3,s)}function ua(t,n,s,a){(3&t[2])===s&&Hi(t,n,s,a)}function to(t,n){let s=t[2];(3&s)===n&&(s&=2047,s+=1,t[2]=s)}function Hi(t,n,s,a){const h=null!=a?a:-1,g=n.length-1;let w=0;for(let b=void 0!==a?65535&t[18]:0;b<g;b++)if("number"==typeof n[b+1]){if(w=n[b],null!=a&&w>=a)break}else n[b]<0&&(t[18]+=65536),(w<h||-1==h)&&(La(t,s,n,b),t[18]=(4294901760&t[18])+b+2),b++}function La(t,n,s,a){const c=s[a]<0,h=s[a+1],w=t[c?-s[a]:s[a]];if(c){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{h.call(w)}finally{}}}else try{h.call(w)}finally{}}class vr{constructor(n,s,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function So(t,n,s){const a=Hn(t);let c=0;for(;c<s.length;){const h=s[c];if("number"==typeof h){if(0!==h)break;c++;const g=s[c++],w=s[c++],b=s[c++];a?t.setAttribute(n,w,b,g):n.setAttributeNS(g,w,b)}else{const g=h,w=s[++c];ii(g)?a&&t.setProperty(n,g,w):a?t.setAttribute(n,g,w):n.setAttribute(g,w),c++}}return c}function Fa(t){return 3===t||4===t||6===t}function ii(t){return 64===t.charCodeAt(0)}function Di(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let a=0;a<n.length;a++){const c=n[a];"number"==typeof c?s=c:0===s||ju(t,s,c,null,-1===s||2===s?n[++a]:null)}}return t}function ju(t,n,s,a,c){let h=0,g=t.length;if(-1===n)g=-1;else for(;h<t.length;){const w=t[h++];if("number"==typeof w){if(w===n){g=-1;break}if(w>n){g=h-1;break}}}for(;h<t.length;){const w=t[h];if("number"==typeof w)break;if(w===s){if(null===a)return void(null!==c&&(t[h+1]=c));if(a===t[h+1])return void(t[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==g&&(t.splice(g,0,n),h=g+1),t.splice(h++,0,s),null!==a&&t.splice(h++,0,a),null!==c&&t.splice(h++,0,c)}function Zo(t){return-1!==t}function la(t){return 32767&t}function Ro(t,n){let s=function yc(t){return t>>16}(t),a=n;for(;s>0;)a=a[15],s--;return a}let Hu=!0;function Ko(t){const n=Hu;return Hu=t,n}let da=0;function si(t,n){const s=Ds(t,n);if(-1!==s)return s;const a=n[1];a.firstCreatePass&&(t.injectorIndex=n.length,ro(a.data,t),ro(n,null),ro(a.blueprint,null));const c=io(t,n),h=t.injectorIndex;if(Zo(c)){const g=la(c),w=Ro(c,n),b=w[1].data;for(let N=0;N<8;N++)n[h+N]=w[g+N]|b[g+N]}return n[h+8]=c,h}function ro(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Ds(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function io(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=n;for(;null!==c;){const h=c[1],g=h.type;if(a=2===g?h.declTNode:1===g?c[6]:null,null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function I(t,n,s){!function $u(t,n,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(zt)&&(a=s[zt]),null==a&&(a=s[zt]=da++);const c=255&a;n.data[t+(c>>5)]|=1<<c}(t,n,s)}function _(t,n,s){if(s&Nt.Optional)return t;st(n,"NodeInjector")}function C(t,n,s,a){if(s&Nt.Optional&&void 0===a&&(a=null),0==(s&(Nt.Self|Nt.Host))){const c=t[9],h=Pn(void 0);try{return c?c.get(n,a,s&Nt.Optional):di(n,a,s&Nt.Optional)}finally{Pn(h)}}return _(a,n,s)}function O(t,n,s,a=Nt.Default,c){if(null!==t){const h=function ze(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(zt)?t[zt]:void 0;return"number"==typeof n?n>=0?255&n:Z:n}(s);if("function"==typeof h){if(!Bs(n,t,a))return a&Nt.Host?_(c,s,a):C(n,s,a,c);try{const g=h(a);if(null!=g||a&Nt.Optional)return g;st(s)}finally{$o()}}else if("number"==typeof h){let g=null,w=Ds(t,n),b=-1,N=a&Nt.Host?n[16][6]:null;for((-1===w||a&Nt.SkipSelf)&&(b=-1===w?io(t,n):n[w+8],-1!==b&&Wn(a,!1)?(g=n[1],w=la(b),n=Ro(b,n)):w=-1);-1!==w;){const V=n[1];if(Lt(h,w,V.data)){const K=de(w,n,s,g,a,N);if(K!==F)return K}b=n[w+8],-1!==b&&Wn(a,n[1].data[w+8]===N)&&Lt(h,w,n)?(g=V,w=la(b),n=Ro(b,n)):w=-1}}}return C(n,s,a,c)}const F={};function Z(){return new Xn(k(),lt())}function de(t,n,s,a,c,h){const g=n[1],w=g.data[t+8],V=me(w,g,s,null==a?Sn(w)&&Hu:a!=g&&0!=(3&w.type),c&Nt.Host&&h===w);return null!==V?he(n,g,V,w):F}function me(t,n,s,a,c){const h=t.providerIndexes,g=n.data,w=1048575&h,b=t.directiveStart,V=h>>20,fe=c?w+V:t.directiveEnd;for(let ke=a?w:w+V;ke<fe;ke++){const it=g[ke];if(ke<b&&s===it||ke>=b&&it.type===s)return ke}if(c){const ke=g[b];if(ke&&xi(ke)&&ke.type===s)return b}return null}function he(t,n,s,a){let c=t[s];const h=n.data;if(function Wo(t){return t instanceof vr}(c)){const g=c;g.resolving&&function Ke(t,n){const s=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new nt(-200,`Circular dependency in DI detected for ${t}${s}`)}(Le(h[s]));const w=Ko(g.canSeeViewProviders);g.resolving=!0;const b=g.injectImpl?Pn(g.injectImpl):null;Bs(t,a,Nt.Default);try{c=t[s]=g.factory(void 0,h,t,a),n.firstCreatePass&&s>=a.directiveStart&&function Na(t,n,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=n.type.prototype;if(a){const g=Jr(n);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,g),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,g)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,c),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,h))}(s,h[s],n)}finally{null!==b&&Pn(b),Ko(w),g.resolving=!1,$o()}}return c}function Lt(t,n,s){return!!(s[n+(t>>5)]&1<<t)}function Wn(t,n){return!(t&Nt.Self||t&Nt.Host&&n)}class Xn{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,a){return O(this._tNode,this._lView,n,a,s)}}function fs(t){return function y(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const h=s[c];if(Fa(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(h===n)return s[c+1];c+=2}}}return null}(k(),t)}const Ts="__parameters__";function Ua(t,n,s){return X(()=>{const a=function Ti(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(n);function c(...h){if(this instanceof c)return a.apply(this,h),this;const g=new c(...h);return w.annotation=g,w;function w(b,N,V){const K=b.hasOwnProperty(Ts)?b[Ts]:Object.defineProperty(b,Ts,{value:[]})[Ts];for(;K.length<=V;)K.push(null);return(K[V]=K[V]||[]).push(g),b}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}class fr{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ct({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const cu=new fr("AnalyzeForEntryComponents");function Li(t,n){void 0===n&&(n=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(n===t&&(n=t.slice(0,s)),Li(a,n)):n!==t&&n.push(a)}return n}function wr(t,n){t.forEach(s=>Array.isArray(s)?wr(s,n):n(s))}function pa(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function ga(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}const Cs={},Br="__NG_DI_FLAG__",hu="ngTempTokenPath",ya=/\n/gm,Ga="__source",D=Te({provide:String,useValue:Te});let S;function H(t){const n=S;return S=t,n}function te(t,n=Nt.Default){if(void 0===S)throw new nt(203,"");return null===S?di(t,void 0,n):S.get(t,n&Nt.Optional?null:void 0,n)}function De(t,n=Nt.Default){return(function wn(){return dn}()||te)(Se(t),n)}function qt(t){const n=[];for(let s=0;s<t.length;s++){const a=Se(t[s]);if(Array.isArray(a)){if(0===a.length)throw new nt(900,"");let c,h=Nt.Default;for(let g=0;g<a.length;g++){const w=a[g],b=lr(w);"number"==typeof b?-1===b?c=w.token:h|=b:c=w}n.push(De(c,h))}else n.push(De(a))}return n}function Gt(t,n){return t[Br]=n,t.prototype[Br]=n,t}function lr(t){return t[Br]}const _i=Gt(Ua("Inject",t=>({token:t})),-1),Mr=Gt(Ua("Optional"),8),so=Gt(Ua("SkipSelf"),4);class wa{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const nh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Zr=(()=>((Zr=Zr||{})[Zr.NONE=0]="NONE",Zr[Zr.HTML=1]="HTML",Zr[Zr.STYLE=2]="STYLE",Zr[Zr.SCRIPT=3]="SCRIPT",Zr[Zr.URL=4]="URL",Zr[Zr.RESOURCE_URL=5]="RESOURCE_URL",Zr))();function Rc(t){const n=function Ci(){const t=lt();return t&&t[12]}();return n?n.sanitize(Zr.URL,t)||"":function Eu(t,n){const s=function zi(t){return t instanceof wa&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===n}(t,"URL")?function Za(t){return t instanceof wa?t.changingThisBreaksApplicationSecurity:t}(t):function ea(t){return(t=String(t)).match(nh)||t.match(rh)?t:"unsafe:"+t}(_e(t))}const Oo="__ngContext__";function Qi(t,n){t[Oo]=n}function Du(t){const n=function Ya(t){return t[Oo]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function gl(t){return t.ngOriginalError}function Oc(t,...n){t.error(...n)}class kc{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n),a=function dh(t){return t&&t.ngErrorLogger||Oc}(n);a(this._console,"ERROR",n),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&gl(n);for(;s&&gl(s);)s=gl(s);return s||null}}const vo=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Mt))();function ai(t){return t instanceof Function?t():t}var wi=(()=>((wi=wi||{})[wi.Important=1]="Important",wi[wi.DashCase=2]="DashCase",wi))();function Ss(t,n){return undefined(t,n)}function ia(t){const n=t[3];return Ei(n)?n[3]:n}function Qu(t){return ht(t[13])}function Ju(t){return ht(t[4])}function ht(t){for(;null!==t&&!Ei(t);)t=t[4];return t}function Wi(t,n,s,a,c){if(null!=a){let h,g=!1;Ei(a)?h=a:Qr(a)&&(g=!0,a=a[0]);const w=bn(a);0===t&&null!==s?null==c?Zt(n,s,w):Ht(n,s,w,c||null,!0):1===t&&null!==s?Ht(n,s,w,c||null,!0):2===t?function Pu(t,n,s){const a=uo(t,n);a&&function Ji(t,n,s,a){Hn(t)?t.removeChild(n,s,a):n.removeChild(s)}(t,a,n,s)}(n,w,g):3===t&&n.destroyNode(w),null!=h&&function Mg(t,n,s,a,c){const h=s[7];h!==bn(s)&&Wi(n,t,a,h,c);for(let w=10;w<s.length;w++){const b=s[w];El(b[1],b,t,n,a,h)}}(n,t,h,s,c)}}function Nc(t,n,s){return Hn(t)?t.createElement(n,s):null===s?t.createElement(n):t.createElementNS(s,n)}function d(t,n){const s=t[9],a=s.indexOf(n),c=n[3];1024&n[2]&&(n[2]&=-1025,Gn(c,-1)),s.splice(a,1)}function m(t,n){if(t.length<=10)return;const s=10+n,a=t[s];if(a){const c=a[17];null!==c&&c!==t&&d(c,a),n>0&&(t[s-1][4]=a[4]);const h=ga(t,10+n);!function Ru(t,n){El(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(a[1],a);const g=h[19];null!==g&&g.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function M(t,n){if(!(256&n[2])){const s=n[11];Hn(s)&&s.destroyNode&&El(t,n,s,3,null,null),function _h(t){let n=t[13];if(!n)return B(t[1],t);for(;n;){let s=null;if(Qr(n))s=n[13];else{const a=n[10];a&&(s=a)}if(!s){for(;n&&!n[4]&&n!==t;)Qr(n)&&B(n[1],n),n=n[3];null===n&&(n=t),Qr(n)&&B(n[1],n),s=n&&n[4]}n=s}}(n)}}function B(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function He(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=n[s[a]];if(!(c instanceof vr)){const h=s[a+1];if(Array.isArray(h))for(let g=0;g<h.length;g+=2){const w=c[h[g]],b=h[g+1];try{b.call(w)}finally{}}else try{h.call(c)}finally{}}}}(t,n),function le(t,n){const s=t.cleanup,a=n[7];let c=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const g=s[h+1],w="function"==typeof g?g(n):bn(n[g]),b=a[c=s[h+2]],N=s[h+3];"boolean"==typeof N?w.removeEventListener(s[h],b,N):N>=0?a[c=N]():a[c=-N].unsubscribe(),h+=2}else{const g=a[c=s[h+1]];s[h].call(g)}if(null!==a){for(let h=c+1;h<a.length;h++)a[h]();n[7]=null}}(t,n),1===n[1].type&&Hn(n[11])&&n[11].destroy();const s=n[17];if(null!==s&&Ei(n[3])){s!==n[3]&&d(s,n);const a=n[19];null!==a&&a.detachView(t)}}}function bt(t,n,s){return function mt(t,n,s){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return s[0];if(2&a.flags){const c=t.data[a.directiveStart].encapsulation;if(c===yt.None||c===yt.Emulated)return null}return $(a,s)}(t,n.parent,s)}function Ht(t,n,s,a,c){Hn(t)?t.insertBefore(n,s,a,c):n.insertBefore(s,a,c)}function Zt(t,n,s){Hn(t)?t.appendChild(n,s):n.appendChild(s)}function Fn(t,n,s,a,c){null!==a?Ht(t,n,s,a,c):Zt(t,n,s)}function uo(t,n){return Hn(t)?t.parentNode(n):n.parentNode}let _d=function vl(t,n,s){return 40&t.type?$(t,s):null};function Xu(t,n,s,a){const c=bt(t,a,n),h=n[11],w=function Lc(t,n,s){return _d(t,n,s)}(a.parent||n[6],a,n);if(null!=c)if(Array.isArray(s))for(let b=0;b<s.length;b++)Fn(h,c,s[b],w,!1);else Fn(h,c,s,w,!1)}function Mu(t,n){if(null!==n){const s=n.type;if(3&s)return $(n,t);if(4&s)return wl(-1,t[n.index]);if(8&s){const a=n.child;if(null!==a)return Mu(t,a);{const c=t[n.index];return Ei(c)?wl(-1,c):bn(c)}}if(32&s)return Ss(n,t)()||bn(t[n.index]);{const a=Rs(t,n);return null!==a?Array.isArray(a)?a[0]:Mu(ia(t[16]),a):Mu(t,n.next)}}return null}function Rs(t,n){return null!==n?t[16][6].projection[n.projection]:null}function wl(t,n){const s=10+t+1;if(s<n.length){const a=n[s],c=a[1].firstChild;if(null!==c)return Mu(a,c)}return n[7]}function Fc(t,n,s,a,c,h,g){for(;null!=s;){const w=a[s.index],b=s.type;if(g&&0===n&&(w&&Qi(bn(w),a),s.flags|=4),64!=(64&s.flags))if(8&b)Fc(t,n,s.child,a,c,h,!1),Wi(n,t,c,w,h);else if(32&b){const N=Ss(s,a);let V;for(;V=N();)Wi(n,t,c,V,h);Wi(n,t,c,w,h)}else 16&b?Uc(t,n,a,s,c,h):Wi(n,t,c,w,h);s=g?s.projectionNext:s.next}}function El(t,n,s,a,c,h){Fc(s,a,t.firstChild,n,c,h,!1)}function Uc(t,n,s,a,c,h){const g=s[16],b=g[6].projection[a.projection];if(Array.isArray(b))for(let N=0;N<b.length;N++)Wi(n,t,c,b[N],h);else Fc(t,n,b,g[3],c,h,!0)}function Pg(t,n,s){Hn(t)?t.setAttribute(n,"style",s):n.style.cssText=s}function tc(t,n,s){Hn(t)?""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s):n.className=s}function kf(t,n,s){let a=t.length;for(;;){const c=t.indexOf(n,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const h=n.length;if(c+h===a||t.charCodeAt(c+h)<=32)return c}s=c+1}}const nc="ng-template";function Nf(t,n,s){let a=0;for(;a<t.length;){let c=t[a++];if(s&&"class"===c){if(c=t[a],-1!==kf(c.toLowerCase(),n,0))return!0}else if(1===c){for(;a<t.length&&"string"==typeof(c=t[a++]);)if(c.toLowerCase()===n)return!0;return!1}}return!1}function Lf(t){return 4===t.type&&t.value!==nc}function _y(t,n,s){return n===(4!==t.type||s?t.value:nc)}function vy(t,n,s){let a=4;const c=t.attrs||[],h=function Og(t){for(let n=0;n<t.length;n++)if(Fa(t[n]))return n;return t.length}(c);let g=!1;for(let w=0;w<n.length;w++){const b=n[w];if("number"!=typeof b){if(!g)if(4&a){if(a=2|1&a,""!==b&&!_y(t,b,s)||""===b&&1===n.length){if(Ea(a))return!1;g=!0}}else{const N=8&a?b:n[++w];if(8&a&&null!==t.attrs){if(!Nf(t.attrs,N,s)){if(Ea(a))return!1;g=!0}continue}const K=wy(8&a?"class":b,c,Lf(t),s);if(-1===K){if(Ea(a))return!1;g=!0;continue}if(""!==N){let fe;fe=K>h?"":c[K+1].toLowerCase();const ke=8&a?fe:null;if(ke&&-1!==kf(ke,N,0)||2&a&&N!==fe){if(Ea(a))return!1;g=!0}}}}else{if(!g&&!Ea(a)&&!Ea(b))return!1;if(g&&Ea(b))continue;g=!1,a=b|1&a}}return Ea(a)||g}function Ea(t){return 0==(1&t)}function wy(t,n,s,a){if(null===n)return-1;let c=0;if(a||!s){let h=!1;for(;c<n.length;){const g=n[c];if(g===t)return c;if(3===g||6===g)h=!0;else{if(1===g||2===g){let w=n[++c];for(;"string"==typeof w;)w=n[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=h?1:2}return-1}return function Ey(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===n)return s;s++}return-1}(n,t)}function wd(t,n,s=!1){for(let a=0;a<n.length;a++)if(vy(t,n[a],s))return!0;return!1}function Ff(t,n){return t?":not("+n.trim()+")":n}function rc(t){let n=t[0],s=1,a=2,c="",h=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const w=t[++s];c+="["+g+(w.length>0?'="'+w+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!Ea(g)&&(n+=Ff(h,c),c=""),a=g,h=h||!Ea(a);s++}return""!==c&&(n+=Ff(h,c)),n}const xn={};function wh(t){Eh(gn(),lt(),yi()+t,xt())}function Eh(t,n,s,a){if(!a)if(3==(3&n[2])){const h=t.preOrderCheckHooks;null!==h&&Zs(n,h,s)}else{const h=t.preOrderHooks;null!==h&&ua(n,h,0,s)}bs(s)}function Dd(t,n){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a],h=s[a+1];if(-1!==h){const g=t.data[h];ns(c),g.contentQueries(2,n[h],h)}}}function Dl(t,n,s,a,c,h,g,w,b,N){const V=n.blueprint.slice();return V[0]=c,V[2]=140|a,kr(V),V[3]=V[15]=t,V[8]=s,V[10]=g||t&&t[10],V[11]=w||t&&t[11],V[12]=b||t&&t[12]||null,V[9]=N||t&&t[9]||null,V[6]=h,V[16]=2==n.type?t[16]:V,V}function Tl(t,n,s,a,c){let h=t.data[n];if(null===h)h=function zf(t,n,s,a,c){const h=P(),g=we(),b=t.data[n]=function xy(t,n,s,a,c,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?h:h&&h.parent,s,n,a,c);return null===t.firstChild&&(t.firstChild=b),null!==h&&(g?null==h.child&&null!==b.parent&&(h.child=b):null===h.next&&(h.next=b)),b}(t,n,s,a,c),function bi(){return Vt.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=c;const g=function z(){const t=Vt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===g?-1:g.injectorIndex}return J(h,!0),h}function Cl(t,n,s,a){if(0===s)return-1;const c=n.length;for(let h=0;h<s;h++)n.push(a),t.blueprint.push(a),t.data.push(null);return c}function Cd(t,n,s){Vs(n);try{const a=t.viewQuery;null!==a&&Fh(1,a,s);const c=t.template;null!==c&&Mh(t,n,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Dd(t,n),t.staticViewQueries&&Fh(2,t.viewQuery,s);const h=t.components;null!==h&&function Gf(t,n){for(let s=0;s<n.length;s++)Ly(t,n[s])}(n,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[2]&=-5,To()}}function Al(t,n,s,a){const c=n[2];if(256==(256&c))return;Vs(n);const h=xt();try{kr(n),function _r(t){return Vt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Mh(t,n,s,2,a);const g=3==(3&c);if(!h)if(g){const N=t.preOrderCheckHooks;null!==N&&Zs(n,N,null)}else{const N=t.preOrderHooks;null!==N&&ua(n,N,0,null),to(n,0)}if(function em(t){for(let n=Qu(t);null!==n;n=Ju(n)){if(!n[2])continue;const s=n[9];for(let a=0;a<s.length;a++){const c=s[a],h=c[3];0==(1024&c[2])&&Gn(h,1),c[2]|=1024}}}(n),function Pl(t){for(let n=Qu(t);null!==n;n=Ju(n))for(let s=10;s<n.length;s++){const a=n[s],c=a[1];Vn(a)&&Al(c,a,c.template,a[8])}}(n),null!==t.contentQueries&&Dd(t,n),!h)if(g){const N=t.contentCheckHooks;null!==N&&Zs(n,N)}else{const N=t.contentHooks;null!==N&&ua(n,N,1),to(n,1)}!function zg(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)bs(~c);else{const h=c,g=s[++a],w=s[++a];Zi(g,h),w(2,n[h])}}}finally{bs(-1)}}(t,n);const w=t.components;null!==w&&function Td(t,n){for(let s=0;s<n.length;s++)Ol(t,n[s])}(n,w);const b=t.viewQuery;if(null!==b&&Fh(2,b,a),!h)if(g){const N=t.viewCheckHooks;null!==N&&Zs(n,N)}else{const N=t.viewHooks;null!==N&&ua(n,N,2),to(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),h||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,Gn(n[3],-1))}finally{To()}}function Ad(t,n,s,a){const c=n[10],h=!xt(),g=pn(n);try{h&&!g&&c.begin&&c.begin(),g&&Cd(t,n,a),Al(t,n,s,a)}finally{h&&!g&&c.end&&c.end()}}function Mh(t,n,s,a,c){const h=yi(),g=2&a;try{bs(-1),g&&n.length>20&&Eh(t,n,20,xt()),s(a,c)}finally{bs(h)}}function Sd(t,n,s){!ki()||(function ky(t,n,s,a){const c=s.directiveStart,h=s.directiveEnd;t.firstCreatePass||si(s,n),Qi(a,n);const g=s.initialInputs;for(let w=c;w<h;w++){const b=t.data[w],N=xi(b);N&&tp(n,s,b);const V=he(n,t,w,s);Qi(V,n),null!==g&&Ml(0,w-c,V,b,0,g),N&&(Rt(s.index,n)[8]=V)}}(t,n,s,$(s,n)),128==(128&s.flags)&&function Qf(t,n,s){const a=s.directiveStart,c=s.directiveEnd,g=s.index,w=function mi(){return Vt.lFrame.currentDirectiveIndex}();try{bs(g);for(let b=a;b<c;b++){const N=t.data[b],V=n[b];Dr(b),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&Qg(N,V)}}finally{bs(-1),Dr(w)}}(t,n,s))}function Sl(t,n,s=$){const a=n.localNames;if(null!==a){let c=n.index+1;for(let h=0;h<a.length;h+=2){const g=a[h+1],w=-1===g?s(n,t):t[g];t[c++]=w}}}function Rl(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=xl(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function xl(t,n,s,a,c,h,g,w,b,N){const V=20+a,K=V+c,fe=function Wg(t,n){const s=[];for(let a=0;a<n;a++)s.push(a<t?null:xn);return s}(V,K),ke="function"==typeof N?N():N;return fe[1]={type:t,blueprint:fe,template:s,queries:null,viewQuery:w,declTNode:n,data:fe.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:K,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:b,consts:ke,incompleteFirstPass:!1}}function Wf(t,n,s,a){const c=up(n);null===s?c.push(a):(c.push(s),t.firstCreatePass&&cp(t).push(a,c.length-1))}function Oh(t,n,s){for(let a in t)if(t.hasOwnProperty(a)){const c=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(n,c):s[a]=[n,c]}return s}function Kf(t,n,s,a){let c=!1;if(ki()){const h=function Jf(t,n,s){const a=t.directiveRegistry;let c=null;if(a)for(let h=0;h<a.length;h++){const g=a[h];wd(s,g.selectors,!1)&&(c||(c=[]),I(si(s,n),t,g.type),xi(g)?(Jg(t,s),c.unshift(g)):c.push(g))}return c}(t,n,s),g=null===a?null:{"":-1};if(null!==h){c=!0,Nh(s,t.data.length,h.length);for(let V=0;V<h.length;V++){const K=h[V];K.providersResolver&&K.providersResolver(K)}let w=!1,b=!1,N=Cl(t,n,h.length,null);for(let V=0;V<h.length;V++){const K=h[V];s.mergedAttrs=Di(s.mergedAttrs,K.hostAttrs),ep(t,s,n,N,K),Ny(N,K,g),null!==K.contentQueries&&(s.flags|=8),(null!==K.hostBindings||null!==K.hostAttrs||0!==K.hostVars)&&(s.flags|=128);const fe=K.type.prototype;!w&&(fe.ngOnChanges||fe.ngOnInit||fe.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),w=!0),!b&&(fe.ngOnChanges||fe.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),b=!0),N++}!function My(t,n){const a=n.directiveEnd,c=t.data,h=n.attrs,g=[];let w=null,b=null;for(let N=n.directiveStart;N<a;N++){const V=c[N],K=V.inputs,fe=null===h||Lf(n)?null:oc(K,h);g.push(fe),w=Oh(K,N,w),b=Oh(V.outputs,N,b)}null!==w&&(w.hasOwnProperty("class")&&(n.flags|=16),w.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=g,n.inputs=w,n.outputs=b}(t,s)}g&&function Xf(t,n,s){if(n){const a=t.localNames=[];for(let c=0;c<n.length;c+=2){const h=s[n[c+1]];if(null==h)throw new nt(-301,`Export of name '${n[c+1]}' not found!`);a.push(n[c],h)}}}(s,a,g)}return s.mergedAttrs=Di(s.mergedAttrs,s.attrs),c}function Yf(t,n,s,a,c,h){const g=h.hostBindings;if(g){let w=t.hostBindingOpCodes;null===w&&(w=t.hostBindingOpCodes=[]);const b=~n.index;(function Yg(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(w)!=b&&w.push(b),w.push(a,c,g)}}function Qg(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Jg(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function Ny(t,n,s){if(s){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)s[n.exportAs[a]]=t;xi(n)&&(s[""]=t)}}function Nh(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}function ep(t,n,s,a,c){t.data[a]=c;const h=c.factory||(c.factory=_s(c.type)),g=new vr(h,xi(c),null);t.blueprint[a]=g,s[a]=g,Yf(t,n,0,a,Cl(t,s,c.hostVars,xn),c)}function tp(t,n,s){const a=$(n,t),c=Rl(s),h=t[10],g=kl(t,Dl(t,c,null,s.onPush?64:16,a,n,h,h.createRenderer(a,s),null,null));t[n.index]=g}function sa(t,n,s,a,c,h){const g=$(t,n);!function Rd(t,n,s,a,c,h,g){if(null==h)Hn(t)?t.removeAttribute(n,c,s):n.removeAttribute(c);else{const w=null==g?_e(h):g(h,a||"",c);Hn(t)?t.setAttribute(n,c,w,s):s?n.setAttributeNS(s,c,w):n.setAttribute(c,w)}}(n[11],g,h,t.value,s,a,c)}function Ml(t,n,s,a,c,h){const g=h[n];if(null!==g){const w=a.setInput;for(let b=0;b<g.length;){const N=g[b++],V=g[b++],K=g[b++];null!==w?a.setInput(s,K,N,V):s[V]=K}}}function oc(t,n){let s=null,a=0;for(;a<n.length;){const c=n[a];if(0!==c)if(5!==c){if("number"==typeof c)break;t.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,t[c],n[a+1])),a+=2}else a+=2;else a+=4}return s}function zc(t,n,s,a){return new Array(t,!0,!1,n,null,0,a,s,null,null)}function Ol(t,n){const s=Rt(n,t);if(Vn(s)){const a=s[1];80&s[2]?Al(a,s,a.template,s[8]):s[5]>0&&np(s)}}function np(t){for(let a=Qu(t);null!==a;a=Ju(a))for(let c=10;c<a.length;c++){const h=a[c];if(1024&h[2]){const g=h[1];Al(g,h,g.template,h[8])}else h[5]>0&&np(h)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=Rt(s[a],t);Vn(c)&&c[5]>0&&np(c)}}function Ly(t,n){const s=Rt(n,t),a=s[1];(function rp(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])})(a,s),Cd(a,s,s[8])}function kl(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function xd(t){for(;t;){t[2]|=64;const n=ia(t);if(cs(t)&&!n)return t;t=n}return null}function op(t,n,s){const a=n[10];a.begin&&a.begin();try{Al(t,n,t.template,s)}catch(c){throw nm(n,c),c}finally{a.end&&a.end()}}function Lh(t){!function sp(t){for(let n=0;n<t.components.length;n++){const s=t.components[n],a=Du(s),c=a[1];Ad(c,a,c.template,s)}}(t[8])}function Fh(t,n,s){ns(0),n(t,s)}const tm=(()=>Promise.resolve(null))();function up(t){return t[7]||(t[7]=[])}function cp(t){return t.cleanup||(t.cleanup=[])}function nm(t,n){const s=t[9],a=s?s.get(kc,null):null;a&&a.handleError(n)}function rm(t,n,s,a,c){for(let h=0;h<s.length;){const g=s[h++],w=s[h++],b=n[g],N=t.data[g];null!==N.setInput?N.setInput(b,c,a,w):b[w]=c}}function Nu(t,n,s){const a=function A(t,n){return bn(n[t])}(n,t);!function Au(t,n,s){Hn(t)?t.setValue(n,s):n.textContent=s}(t[11],a,s)}function Uh(t,n,s){let a=s?t.styles:null,c=s?t.classes:null,h=0;if(null!==n)for(let g=0;g<n.length;g++){const w=n[g];"number"==typeof w?h=w:1==h?c=Me(c,w):2==h&&(a=Me(a,w+": "+n[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}const fp=new fr("INJECTOR",-1);class Bh{get(n,s=Cs){if(s===Cs){const a=new Error(`NullInjectorError: No provider for ${Ae(n)}!`);throw a.name="NullInjectorError",a}return s}}const pp=new fr("Set Injector scope."),Wc={},sm={};let Md;function gp(){return void 0===Md&&(Md=new Bh),Md}function om(t,n=null,s=null,a){const c=Vh(t,n,s,a);return c._resolveInjectorDefTypes(),c}function Vh(t,n=null,s=null,a){return new Uy(t,s,n||gp(),a)}class Uy{constructor(n,s,a,c=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];s&&wr(s,w=>this.processProvider(w,n,s)),wr([n],w=>this.processInjectorType(w,[],h)),this.records.set(fp,ac(void 0,this));const g=this.records.get(pp);this.scope=null!=g?g.value:null,this.source=c||("object"==typeof n?null:Ae(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,s=Cs,a=Nt.Default){this.assertNotDestroyed();const c=H(this),h=Pn(void 0);try{if(!(a&Nt.SkipSelf)){let w=this.records.get(n);if(void 0===w){const b=function Lu(t){return"function"==typeof t||"object"==typeof t&&t instanceof fr}(n)&&Mn(n);w=b&&this.injectableDefInScope(b)?ac(Pd(n),Wc):null,this.records.set(n,w)}if(null!=w)return this.hydrate(n,w)}return(a&Nt.Self?gp():this.parent).get(n,s=a&Nt.Optional&&s===Cs?null:s)}catch(g){if("NullInjectorError"===g.name){if((g[hu]=g[hu]||[]).unshift(Ae(n)),c)throw g;return function xr(t,n,s,a){const c=t[hu];throw n[Ga]&&c.unshift(n[Ga]),t.message=function Yi(t,n,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let c=Ae(n);if(Array.isArray(n))c=n.map(Ae).join(" -> ");else if("object"==typeof n){let h=[];for(let g in n)if(n.hasOwnProperty(g)){let w=n[g];h.push(g+":"+("string"==typeof w?JSON.stringify(w):Ae(w)))}c=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(ya,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[hu]=null,t}(g,n,"R3InjectorError",this.source)}throw g}finally{Pn(h),H(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((a,c)=>n.push(Ae(c))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new nt(205,"")}processInjectorType(n,s,a){if(!(n=Se(n)))return!1;let c=ni(n);const h=null==c&&n.ngModule||void 0,g=void 0===h?n:h,w=-1!==a.indexOf(g);if(void 0!==h&&(c=ni(h)),null==c)return!1;if(null!=c.imports&&!w){let V;a.push(g);try{wr(c.imports,K=>{this.processInjectorType(K,s,a)&&(void 0===V&&(V=[]),V.push(K))})}finally{}if(void 0!==V)for(let K=0;K<V.length;K++){const{ngModule:fe,providers:ke}=V[K];wr(ke,it=>this.processProvider(it,fe,ke||Q))}}this.injectorDefTypes.add(g);const b=_s(g)||(()=>new g);this.records.set(g,ac(b,Wc));const N=c.providers;if(null!=N&&!w){const V=n;wr(N,K=>this.processProvider(K,V,N))}return void 0!==h&&void 0!==n.providers}processProvider(n,s,a){let c=qc(n=Se(n))?n:Se(n&&n.provide);const h=function mp(t,n,s){return jh(t)?ac(void 0,t.useValue):ac(function am(t,n,s){let a;if(qc(t)){const c=Se(t);return _s(c)||Pd(c)}if(jh(t))a=()=>Se(t.useValue);else if(function Nl(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...qt(t.deps||[]));else if(function yp(t){return!(!t||!t.useExisting)}(t))a=()=>De(Se(t.useExisting));else{const c=Se(t&&(t.useClass||t.provide));if(!function Vy(t){return!!t.deps}(t))return _s(c)||Pd(c);a=()=>new c(...qt(t.deps))}return a}(t),Wc)}(n);if(qc(n)||!0!==n.multi)this.records.get(c);else{let g=this.records.get(c);g||(g=ac(void 0,Wc,!0),g.factory=()=>qt(g.multi),this.records.set(c,g)),c=n,g.multi.push(n)}this.records.set(c,h)}hydrate(n,s){return s.value===Wc&&(s.value=sm,s.value=s.factory()),"object"==typeof s.value&&s.value&&function vp(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(n){if(!n.providedIn)return!1;const s=Se(n.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Pd(t){const n=Mn(t),s=null!==n?n.factory:_s(t);if(null!==s)return s;if(t instanceof fr)throw new nt(204,"");if(t instanceof Function)return function By(t){const n=t.length;if(n>0)throw function Qo(t,n){const s=[];for(let a=0;a<t;a++)s.push(n);return s}(n,"?"),new nt(204,"");const s=function an(t){const n=t&&(t[Or]||t[ot]);if(n){const s=function Nn(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),n}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new nt(204,"")}function ac(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function jh(t){return null!==t&&"object"==typeof t&&D in t}function qc(t){return"function"==typeof t}let Eo=(()=>{class t{static create(s,a){var c;if(Array.isArray(s))return om({name:""},a,s,"");{const h=null!==(c=s.name)&&void 0!==c?c:"";return om({name:h},s.parent,s.providers,h)}}}return t.THROW_IF_NOT_FOUND=Cs,t.NULL=new Bh,t.\u0275prov=Ct({token:t,providedIn:"any",factory:()=>De(fp)}),t.__NG_ELEMENT_ID__=-1,t})();function qh(t,n){zo(Du(t)[1],k())}let Ll=null;function Zc(){if(!Ll){const t=Mt.Symbol;if(t&&t.iterator)Ll=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<n.length;++s){const a=n[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Ll=a)}}}return Ll}function Fl(t){return!!kd(t)&&(Array.isArray(t)||!(t instanceof Map)&&Zc()in t)}function kd(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Xa(t,n,s){return t[n]=s}function Qs(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function Pp(t,n,s,a){const c=lt();return Qs(c,nr(),n)&&(gn(),sa(Ur(),c,t,n,s,a)),Pp}function Lp(t,n,s,a,c,h,g,w){const b=lt(),N=gn(),V=t+20,K=N.firstCreatePass?function eu(t,n,s,a,c,h,g,w,b){const N=n.consts,V=Tl(n,t,4,g||null,rn(N,w));Kf(n,s,V,rn(N,b)),zo(n,V);const K=V.tViews=xl(2,V,a,c,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,N);return null!==n.queries&&(n.queries.template(n,V),K.queries=n.queries.embeddedTView(V)),V}(V,N,b,n,s,a,c,h,g):N.data[V];J(K,!1);const fe=b[11].createComment("");Xu(N,b,fe,K),Qi(fe,b),kl(b,b[V]=zc(fe,b,fe,K)),Vi(K)&&Sd(N,b,K),null!=g&&Sl(b,K,w)}function Fd(t){return Ye(function jt(){return Vt.lFrame.contextLView}(),20+t)}function Jc(t,n=Nt.Default){const s=lt();return null===s?De(t,n):O(k(),s,Se(t),n)}function jp(){throw new Error("invalid")}function Fu(t,n,s){const a=lt();return Qs(a,nr(),n)&&function Lo(t,n,s,a,c,h,g,w){const b=$(n,s);let V,N=n.inputs;!w&&null!=N&&(V=N[a])?(rm(t,s,V,a,c),Sn(n)&&function Zf(t,n){const s=Rt(n,t);16&s[2]||(s[2]|=64)}(s,n.index)):3&n.type&&(a=function qf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,n.value||"",a):c,Hn(h)?h.setProperty(b,a,c):ii(a)||(b.setProperty?b.setProperty(a,c):b[a]=c))}(gn(),Ur(),a,t,n,a[11],s,!1),Fu}function nf(t,n,s,a,c){const g=c?"class":"style";rm(t,s,n.inputs[g],g,a)}function Bd(t,n,s,a){const c=lt(),h=gn(),g=20+t,w=c[11],b=c[g]=Nc(w,n,function ka(){return Vt.lFrame.currentNamespace}()),N=h.firstCreatePass?function Am(t,n,s,a,c,h,g){const w=n.consts,N=Tl(n,t,2,c,rn(w,h));return Kf(n,s,N,rn(w,g)),null!==N.attrs&&Uh(N,N.attrs,!1),null!==N.mergedAttrs&&Uh(N,N.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,N),N}(g,h,c,0,n,s,a):h.data[g];J(N,!0);const V=N.mergedAttrs;null!==V&&So(w,b,V);const K=N.classes;null!==K&&tc(w,b,K);const fe=N.styles;null!==fe&&Pg(w,b,fe),64!=(64&N.flags)&&Xu(h,c,b,N),0===function Pi(){return Vt.lFrame.elementDepthCount}()&&Qi(b,c),function qs(){Vt.lFrame.elementDepthCount++}(),Vi(N)&&(Sd(h,c,N),function $c(t,n,s){if(xs(n)){const c=n.directiveEnd;for(let h=n.directiveStart;h<c;h++){const g=t.data[h];g.contentQueries&&g.contentQueries(1,s[h],h)}}}(h,N,c)),null!==a&&Sl(c,N)}function Vd(){let t=k();we()?function je(){Vt.lFrame.isParent=!1}():(t=t.parent,J(t,!1));const n=t;!function Oi(){Vt.lFrame.elementDepthCount--}();const s=gn();s.firstCreatePass&&(zo(s,t),xs(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Ks(t){return 0!=(16&t.flags)}(n)&&nf(s,n,lt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Ao(t){return 0!=(32&t.flags)}(n)&&nf(s,n,lt(),n.stylesWithoutHost,!1)}function Sm(t,n,s,a){Bd(t,n,s,a),Vd()}function jd(){return lt()}function Uu(t){return!!t&&"function"==typeof t.then}function ru(t){return!!t&&"function"==typeof t.subscribe}const ql=ru;function iu(t,n,s,a){const c=lt(),h=gn(),g=k();return function Gp(t,n,s,a,c,h,g,w){const b=Vi(a),V=t.firstCreatePass&&cp(t),K=n[8],fe=up(n);let ke=!0;if(3&a.type||w){const Ft=$(a,n),Jt=w?w(Ft):Ft,dt=fe.length,yn=w?pr=>w(bn(pr[a.index])):a.index;if(Hn(s)){let pr=null;if(!w&&b&&(pr=function xm(t,n,s,a){const c=t.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const g=c[h];if(g===s&&c[h+1]===a){const w=n[7],b=c[h+2];return w.length>b?w[b]:null}"string"==typeof g&&(h+=2)}return null}(t,n,c,a.index)),null!==pr)(pr.__ngLastListenerFn__||pr).__ngNextListenerFn__=h,pr.__ngLastListenerFn__=h,ke=!1;else{h=su(a,n,K,h,!1);const ti=s.listen(Jt,c,h);fe.push(h,ti),V&&V.push(c,yn,dt,dt+1)}}else h=su(a,n,K,h,!0),Jt.addEventListener(c,h,g),fe.push(h),V&&V.push(c,yn,dt,g)}else h=su(a,n,K,h,!1);const it=a.outputs;let St;if(ke&&null!==it&&(St=it[c])){const Ft=St.length;if(Ft)for(let Jt=0;Jt<Ft;Jt+=2){const xa=n[St[Jt]][St[Jt+1]].subscribe(h),Zd=fe.length;fe.push(h,xa),V&&V.push(c,a.index,Zd,-(Zd+1))}}}(h,c,c[11],g,t,n,!!s,a),iu}function Zl(t,n,s,a){try{return!1!==s(a)}catch(c){return nm(t,c),!1}}function su(t,n,s,a,c){return function h(g){if(g===Function)return a;const w=2&t.flags?Rt(t.index,n):n;0==(32&n[2])&&xd(w);let b=Zl(n,0,a,g),N=h.__ngNextListenerFn__;for(;N;)b=Zl(n,0,N,g)&&b,N=N.__ngNextListenerFn__;return c&&!1===b&&(g.preventDefault(),g.returnValue=!1),b}}function Mm(t=1){return function Oa(t){return(Vt.lFrame.contextLView=function eo(t,n){for(;t>0;)n=n[15],t--;return n}(t,Vt.lFrame.contextLView))[8]}(t)}function $d(t,n=""){const s=lt(),a=gn(),c=t+20,h=a.firstCreatePass?Tl(a,c,1,n,null):a.data[c],g=s[c]=function yl(t,n){return Hn(t)?t.createText(n):t.createTextNode(n)}(s[11],n);Xu(a,s,g,h),J(h,!1)}function rg(t){return lf("",t,""),rg}function lf(t,n,s){const a=lt(),c=function Vl(t,n,s,a){return Qs(t,nr(),s)?n+_e(s)+a:xn}(a,t,n,s);return c!==xn&&Nu(a,yi(),c),lf}const gc=void 0;var ty=["en",[["a","p"],["AM","PM"],gc],[["AM","PM"],gc,gc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gc,"{1} 'at' {0}",gc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ey(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let nl={};function gg(t){const n=function T_(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=ff(n);if(s)return s;const a=n.split("-")[0];if(s=ff(a),s)return s;if("en"===a)return ty;throw new Error(`Missing locale data for the locale "${t}".`)}function ny(t){return gg(t)[mn.PluralCase]}function ff(t){return t in nl||(nl[t]=Mt.ng&&Mt.ng.common&&Mt.ng.common.locales&&Mt.ng.common.locales[t]),nl[t]}var mn=(()=>((mn=mn||{})[mn.LocaleId=0]="LocaleId",mn[mn.DayPeriodsFormat=1]="DayPeriodsFormat",mn[mn.DayPeriodsStandalone=2]="DayPeriodsStandalone",mn[mn.DaysFormat=3]="DaysFormat",mn[mn.DaysStandalone=4]="DaysStandalone",mn[mn.MonthsFormat=5]="MonthsFormat",mn[mn.MonthsStandalone=6]="MonthsStandalone",mn[mn.Eras=7]="Eras",mn[mn.FirstDayOfWeek=8]="FirstDayOfWeek",mn[mn.WeekendRange=9]="WeekendRange",mn[mn.DateFormat=10]="DateFormat",mn[mn.TimeFormat=11]="TimeFormat",mn[mn.DateTimeFormat=12]="DateTimeFormat",mn[mn.NumberSymbols=13]="NumberSymbols",mn[mn.NumberFormats=14]="NumberFormats",mn[mn.CurrencyCode=15]="CurrencyCode",mn[mn.CurrencySymbol=16]="CurrencySymbol",mn[mn.CurrencyName=17]="CurrencyName",mn[mn.Currencies=18]="Currencies",mn[mn.Directionality=19]="Directionality",mn[mn.PluralCase=20]="PluralCase",mn[mn.ExtraData=21]="ExtraData",mn))();const Gd="en-US";let iy=Gd;class Yv{}class aE{resolveComponentFactory(n){throw function oE(t){const n=Error(`No component factory found for ${Ae(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let wg=(()=>{class t{}return t.NULL=new aE,t})();function uE(){return mf(k(),lt())}function mf(t,n){return new Eg($(t,n))}let Eg=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=uE,t})();function cE(t){return t instanceof Eg?t.nativeElement:t}class Jv{}let lE=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function hE(){const t=lt(),s=Rt(k().index,t);return function dE(t){return t[11]}(Qr(s)?s:t)}(),t})(),fE=(()=>{class t{}return t.\u0275prov=Ct({token:t,providedIn:"root",factory:()=>null}),t})();class Xv{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const e0=new Xv("13.1.3"),N_={};function uy(t,n,s,a,c=!1){for(;null!==s;){const h=n[s.index];if(null!==h&&a.push(bn(h)),Ei(h))for(let w=10;w<h.length;w++){const b=h[w],N=b[1].firstChild;null!==N&&uy(b[1],b,N,a)}const g=s.type;if(8&g)uy(t,n,s.child,a);else if(32&g){const w=Ss(s,n);let b;for(;b=w();)a.push(b)}else if(16&g){const w=Rs(n,s);if(Array.isArray(w))a.push(...w);else{const b=ia(n[16]);uy(b[1],b,w,a,!0)}}s=c?s.projectionNext:s.next}return a}class Ig{constructor(n,s){this._lView=n,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,s=n[1];return uy(s,n,s.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Ei(n)){const s=n[8],a=s?s.indexOf(this):-1;a>-1&&(m(n,a),ga(s,a))}this._attachedToViewContainer=!1}M(this._lView[1],this._lView)}onDestroy(n){Wf(this._lView[1],this._lView,null,n)}markForCheck(){xd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){op(this._lView[1],this._lView,this.context)}checkNoChanges(){!function ap(t,n,s){on(!0);try{op(t,n,s)}finally{on(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new nt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yd(t,n){El(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new nt(902,"");this._appRef=n}}class pE extends Ig{constructor(n){super(n),this._view=n}detectChanges(){Lh(this._view)}checkNoChanges(){!function Fy(t){on(!0);try{Lh(t)}finally{on(!1)}}(this._view)}get context(){return null}}class t0 extends wg{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=Qn(n);return new L_(s,this.ngModule)}}function n0(t){const n=[];for(let s in t)t.hasOwnProperty(s)&&n.push({propName:t[s],templateName:s});return n}const mE=new fr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>vo});class L_ extends Yv{constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function vh(t){return t.map(rc).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return n0(this.componentDef.inputs)}get outputs(){return n0(this.componentDef.outputs)}create(n,s,a,c){const h=(c=c||this.ngModule)?function yE(t,n){return{get:(s,a,c)=>{const h=t.get(s,N_,c);return h!==N_||a===N_?h:n.get(s,a,c)}}}(n,c.injector):n,g=h.get(Jv,Mi),w=h.get(fE,null),b=g.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",V=a?function ku(t,n,s){if(Hn(t))return t.selectRootElement(n,s===yt.ShadowDom);let a="string"==typeof n?t.querySelector(n):n;return a.textContent="",a}(b,a,this.componentDef.encapsulation):Nc(g.createRenderer(null,this.componentDef),N,function gE(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(N)),K=this.componentDef.onPush?576:528,fe=function Tp(t,n){return{components:[],scheduler:t||vo,clean:tm,playerHandler:n||null,flags:0}}(),ke=xl(0,null,null,1,0,null,null,null,null,null),it=Dl(null,ke,fe,K,null,null,g,b,w,h);let St,Ft;Vs(it);try{const Jt=function pm(t,n,s,a,c,h){const g=s[1];s[20]=t;const b=Tl(g,20,2,"#host",null),N=b.mergedAttrs=n.hostAttrs;null!==N&&(Uh(b,N,!0),null!==t&&(So(c,t,N),null!==b.classes&&tc(c,t,b.classes),null!==b.styles&&Pg(c,t,b.styles)));const V=a.createRenderer(t,n),K=Dl(s,Rl(n),null,n.onPush?64:16,s[20],b,a,V,h||null,null);return g.firstCreatePass&&(I(si(b,s),g,n.type),Jg(g,b),Nh(b,s.length,1)),kl(s,K),s[20]=K}(V,this.componentDef,it,g,b);if(V)if(a)So(b,V,["ng-version",e0.full]);else{const{attrs:dt,classes:yn}=function by(t){const n=[],s=[];let a=1,c=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===c?""!==h&&n.push(h,t[++a]):8===c&&s.push(h);else{if(!Ea(c))break;c=h}a++}return{attrs:n,classes:s}}(this.componentDef.selectors[0]);dt&&So(b,V,dt),yn&&yn.length>0&&tc(b,V,yn.join(" "))}if(Ft=qe(ke,20),void 0!==s){const dt=Ft.projection=[];for(let yn=0;yn<this.ngContentSelectors.length;yn++){const pr=s[yn];dt.push(null!=pr?Array.from(pr):null)}}St=function Wh(t,n,s,a,c){const h=s[1],g=function Oy(t,n,s){const a=k();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),ep(t,a,n,Cl(t,n,1,null),s));const c=he(n,t,a.directiveStart,a);Qi(c,n);const h=$(a,n);return h&&Qi(h,n),c}(h,s,n);if(a.components.push(g),t[8]=g,c&&c.forEach(b=>b(g,n)),n.contentQueries){const b=k();n.contentQueries(1,g,b.directiveStart)}const w=k();return!h.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(bs(w.index),Yf(s[1],w,0,w.directiveStart,w.directiveEnd,n),Qg(n,g)),g}(Jt,this.componentDef,it,fe,[qh]),Cd(ke,it,null)}finally{To()}return new vE(this.componentType,St,mf(Ft,it),it,Ft)}}class vE extends class sE{}{constructor(n,s,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new pE(c),this.componentType=n}get injector(){return new Xn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class yf{}class r0{}const _f=new Map;class a0 extends yf{constructor(n,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new t0(this);const a=gr(n);this._bootstrapComponents=ai(a.bootstrap),this._r3Injector=Vh(n,s,[{provide:yf,useValue:this},{provide:wg,useValue:this.componentFactoryResolver}],Ae(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,s=Eo.THROW_IF_NOT_FOUND,a=Nt.Default){return n===Eo||n===yf||n===fp?this:this._r3Injector.get(n,s,a)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class F_ extends r0{constructor(n){super(),this.moduleType=n,null!==gr(n)&&function EE(t){const n=new Set;!function s(a){const c=gr(a,!0),h=c.id;null!==h&&(function s0(t,n,s){if(n&&n!==s)throw new Error(`Duplicate module registered for ${t} - ${Ae(n)} vs ${Ae(n.name)}`)}(h,_f.get(h),a),_f.set(h,a));const g=ai(c.imports);for(const w of g)n.has(w)||(n.add(w),s(w))}(t)}(n)}create(n){return new a0(this.moduleType,n)}}function u0(t,n,s){const a=sn()+t,c=lt();return c[a]===xn?Xa(c,a,s?n.call(s):n()):function Nd(t,n){return t[n]}(c,a)}function c0(t,n,s,a){return function l0(t,n,s,a,c,h){const g=n+s;return Qs(t,g,c)?Xa(t,g+1,h?a.call(h,c):a(c)):bg(t,g+1)}(lt(),sn(),t,n,s,a)}function bg(t,n){const s=t[n];return s===xn?void 0:s}function d0(t,n,s,a,c,h,g){const w=n+s;return function uc(t,n,s,a){const c=Qs(t,n,s);return Qs(t,n+1,a)||c}(t,w,c,h)?Xa(t,w+2,g?a.call(g,c,h):a(c,h)):bg(t,w+2)}function g0(t,n){const s=gn();let a;const c=t+20;s.firstCreatePass?(a=function xE(t,n){if(n)for(let s=n.length-1;s>=0;s--){const a=n[s];if(t===a.name)return a}}(n,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,a.onDestroy)):a=s.data[c];const h=a.factory||(a.factory=_s(a.type)),g=Pn(Jc);try{const w=Ko(!1),b=h();return Ko(w),function qy(t,n,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=a}(s,lt(),c,b),b}finally{Pn(g)}}function m0(t,n,s,a){const c=t+20,h=lt(),g=Ye(h,c);return function Dg(t,n){return t[1].data[n].pure}(h,c)?d0(h,sn(),n,g.transform,s,a,g):g.transform(s,a)}function U_(t){return n=>{setTimeout(t,void 0,n)}}const mc=class NE extends E.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,s,a){var c,h,g;let w=n,b=s||(()=>null),N=a;if(n&&"object"==typeof n){const K=n;w=null===(c=K.next)||void 0===c?void 0:c.bind(K),b=null===(h=K.error)||void 0===h?void 0:h.bind(K),N=null===(g=K.complete)||void 0===g?void 0:g.bind(K)}this.__isAsync&&(b=U_(b),w&&(w=U_(w)),N&&(N=U_(N)));const V=super.subscribe({next:w,error:b,complete:N});return n instanceof x.w0&&n.add(V),V}};function LE(){return this._results[Zc()]()}class B_{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Zc(),a=B_.prototype;a[s]||(a[s]=LE)}get changes(){return this._changes||(this._changes=new mc)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){const a=this;a.dirty=!1;const c=Li(n);(this._changesDetected=!function nd(t,n,s){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],h=n[a];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Tg=(()=>{class t{}return t.__NG_ELEMENT_ID__=BE,t})();const FE=Tg,UE=class extends FE{constructor(n,s,a){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(n){const s=this._declarationTContainer.tViews,a=Dl(this._declarationLView,s,n,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(a[19]=h.createEmbeddedView(s)),Cd(s,a,n),new Ig(a)}};function BE(){return cy(k(),lt())}function cy(t,n){return 4&t.type?new UE(n,t,mf(t,n)):null}let ly=(()=>{class t{}return t.__NG_ELEMENT_ID__=VE,t})();function VE(){return v0(k(),lt())}const jE=ly,y0=class extends jE{constructor(n,s,a){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=a}get element(){return mf(this._hostTNode,this._hostLView)}get injector(){return new Xn(this._hostTNode,this._hostLView)}get parentInjector(){const n=io(this._hostTNode,this._hostLView);if(Zo(n)){const s=Ro(n,this._hostLView),a=la(n);return new Xn(s[1].data[a+8],s)}return new Xn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=_0(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,s,a){const c=n.createEmbeddedView(s||{});return this.insert(c,a),c}createComponent(n,s,a,c,h){const g=n&&!function mo(t){return"function"==typeof t}(n);let w;if(g)w=s;else{const K=s||{};w=K.index,a=K.injector,c=K.projectableNodes,h=K.ngModuleRef}const b=g?n:new L_(Qn(n)),N=a||this.parentInjector;if(!h&&null==b.ngModule&&N){const K=N.get(yf,null);K&&(h=K)}const V=b.create(N,c,void 0,h);return this.insert(V.hostView,w),V}insert(n,s){const a=n._lView,c=a[1];if(function $n(t){return Ei(t[3])}(a)){const V=this.indexOf(n);if(-1!==V)this.detach(V);else{const K=a[3],fe=new y0(K,K[6],K[3]);fe.detach(fe.indexOf(n))}}const h=this._adjustIndex(s),g=this._lContainer;!function p(t,n,s,a){const c=10+a,h=s.length;a>0&&(s[c-1][4]=n),a<h-10?(n[4]=s[c],pa(s,10+a,n)):(s.push(n),n[4]=null),n[3]=s;const g=n[17];null!==g&&s!==g&&function l(t,n){const s=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===s?t[9]=[n]:s.push(n)}(g,n);const w=n[19];null!==w&&w.insertView(t),n[2]|=128}(c,a,g,h);const w=wl(h,g),b=a[11],N=uo(b,g[7]);return null!==N&&function yh(t,n,s,a,c,h){a[0]=c,a[6]=n,El(t,a,s,1,c,h)}(c,g[6],b,a,N,w),n.attachToViewContainerRef(),pa(V_(g),h,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=_0(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),a=m(this._lContainer,s);a&&(ga(V_(this._lContainer),s),M(a[1],a))}detach(n){const s=this._adjustIndex(n,-1),a=m(this._lContainer,s);return a&&null!=ga(V_(this._lContainer),s)?new Ig(a):null}_adjustIndex(n,s=0){return null==n?this.length+s:n}};function _0(t){return t[8]}function V_(t){return t[8]||(t[8]=[])}function v0(t,n){let s;const a=n[t.index];if(Ei(a))s=a;else{let c;if(8&t.type)c=bn(a);else{const h=n[11];c=h.createComment("");const g=$(t,n);Ht(h,uo(h,g),c,function _l(t,n){return Hn(t)?t.nextSibling(n):n.nextSibling}(h,g),!1)}n[t.index]=s=zc(a,n,c,t),kl(n,s)}return new y0(s,t,n)}class j_{constructor(n){this.queryList=n,this.matches=null}clone(){return new j_(this.queryList)}setDirty(){this.queryList.setDirty()}}class H_{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const a=null!==n.contentQueries?n.contentQueries[0]:s.length,c=[];for(let h=0;h<a;h++){const g=s.getByIndex(h);c.push(this.queries[g.indexInDeclarationView].clone())}return new H_(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==A0(n,s).matches&&this.queries[s].setDirty()}}class w0{constructor(n,s,a=null){this.predicate=n,this.flags=s,this.read=a}}class $_{constructor(n=[]){this.queries=n}elementStart(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(n,c);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new $_(s):null}template(n,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class G_{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new G_(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(n,s,GE(s,h)),this.matchTNodeWithReadOption(n,s,me(s,n,h,!1,!1))}else a===Tg?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,me(s,n,a,!1,!1))}matchTNodeWithReadOption(n,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Eg||c===ly||c===Tg&&4&s.type)this.addMatch(s.index,-2);else{const h=me(s,n,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function GE(t,n){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===n)return s[a+1];return null}function WE(t,n,s,a){return-1===s?function zE(t,n){return 11&t.type?mf(t,n):4&t.type?cy(t,n):null}(n,t):-2===s?function qE(t,n,s){return s===Eg?mf(n,t):s===Tg?cy(n,t):s===ly?v0(n,t):void 0}(t,n,a):he(t,t[1],s,n)}function E0(t,n,s,a){const c=n[19].queries[a];if(null===c.matches){const h=t.data,g=s.matches,w=[];for(let b=0;b<g.length;b+=2){const N=g[b];w.push(N<0?null:WE(n,h[N],g[b+1],s.metadata.read))}c.matches=w}return c.matches}function z_(t,n,s,a){const c=t.queries.getByIndex(s),h=c.matches;if(null!==h){const g=E0(t,n,c,s);for(let w=0;w<h.length;w+=2){const b=h[w];if(b>0)a.push(g[w/2]);else{const N=h[w+1],V=n[-b];for(let K=10;K<V.length;K++){const fe=V[K];fe[17]===fe[3]&&z_(fe[1],fe,N,a)}if(null!==V[9]){const K=V[9];for(let fe=0;fe<K.length;fe++){const ke=K[fe];z_(ke[1],ke,N,a)}}}}}return a}function I0(t){const n=lt(),s=gn(),a=rr();ns(a+1);const c=A0(s,a);if(t.dirty&&pn(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const h=c.crossesNgTemplate?z_(s,n,a,[]):E0(s,n,c,a);t.reset(h,cE),t.notifyOnChanges()}return!0}return!1}function b0(t,n,s,a){const c=gn();if(c.firstCreatePass){const h=k();(function C0(t,n,s){null===t.queries&&(t.queries=new $_),t.queries.track(new G_(n,s))})(c,new w0(n,s,a),h.index),function YE(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}!function T0(t,n,s){const a=new B_(4==(4&s));Wf(t,n,a,a.destroy),null===n[19]&&(n[19]=new H_),n[19].queries.push(new j_(a))}(c,lt(),s)}function D0(){return function KE(t,n){return t[19].queries[n].queryList}(lt(),rr())}function A0(t,n){return t.queries.getByIndex(n)}function fy(...t){}const Q_=new fr("Application Initializer");let wf=(()=>{class t{constructor(s){this.appInits=s,this.resolve=fy,this.reject=fy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Uu(h))s.push(h);else if(ql(h)){const g=new Promise((w,b)=>{h.subscribe({complete:w,error:b})});s.push(g)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(De(Q_,8))},t.\u0275prov=Ct({token:t,factory:t.\u0275fac}),t})();const G0=new fr("AppId"),gI={provide:G0,useFactory:function pI(){return`${J_()}${J_()}${J_()}`},deps:[]};function J_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const z0=new fr("Platform Initializer"),W0=new fr("Platform ID"),q0=new fr("appBootstrapListener");let Z0=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ct({token:t,factory:t.\u0275fac}),t})();const py=new fr("LocaleId"),K0=new fr("DefaultCurrencyCode");class mI{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let X_=(()=>{class t{compileModuleSync(s){return new F_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=ai(gr(s).declarations).reduce((g,w)=>{const b=Qn(w);return b&&g.push(new L_(b)),g},[]);return new mI(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ct({token:t,factory:t.\u0275fac}),t})();const _I=(()=>Promise.resolve(0))();function ev(t){"undefined"==typeof Zone?_I.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ra{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mc(!1),this.onMicrotaskEmpty=new mc(!1),this.onStable=new mc(!1),this.onError=new mc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function vI(){let t=Mt.requestAnimationFrame,n=Mt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function II(t){const n=()=>{!function EI(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Mt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,nv(t),t.isCheckStableRunning=!0,tv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),nv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,h,g,w)=>{try{return Y0(t),s.invokeTask(c,h,g,w)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),Q0(t)}},onInvoke:(s,a,c,h,g,w,b)=>{try{return Y0(t),s.invoke(c,h,g,w,b)}finally{t.shouldCoalesceRunChangeDetection&&n(),Q0(t)}},onHasTask:(s,a,c,h)=>{s.hasTask(c,h),a===c&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,nv(t),tv(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,c,h)=>(s.handleError(c,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ra.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ra.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,s,a){return this._inner.run(n,s,a)}runTask(n,s,a,c){const h=this._inner,g=h.scheduleEventTask("NgZoneEvent: "+c,n,wI,fy,fy);try{return h.runTask(g,s,a)}finally{h.cancelTask(g)}}runGuarded(n,s,a){return this._inner.runGuarded(n,s,a)}runOutsideAngular(n){return this._outer.run(n)}}const wI={};function tv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Y0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Q0(t){t._nesting--,tv(t)}class bI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mc,this.onMicrotaskEmpty=new mc,this.onStable=new mc,this.onError=new mc}run(n,s,a){return n.apply(s,a)}runGuarded(n,s,a){return n.apply(s,a)}runOutsideAngular(n){return n()}runTask(n,s,a,c){return n.apply(s,a)}}let J0=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ra.assertNotInAngularZone(),ev(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ev(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,c){return[]}}return t.\u0275fac=function(s){return new(s||t)(De(Ra))},t.\u0275prov=Ct({token:t,factory:t.\u0275fac}),t})(),X0=(()=>{class t{constructor(){this._applications=new Map,rv.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return rv.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Ct({token:t,factory:t.\u0275fac}),t})();class DI{addToWindow(n){}findTestabilityInTree(n,s,a){return null}}function TI(t){rv=t}let Bu,rv=new DI;const ew=new fr("AllowMultipleToken");class SI{constructor(n,s){this.name=n,this.token=s}}function tw(t,n,s=[]){const a=`Platform: ${n}`,c=new fr(a);return(h=[])=>{let g=nw();if(!g||g.injector.get(ew,!1))if(t)t(s.concat(h).concat({provide:c,useValue:!0}));else{const w=s.concat(h).concat({provide:c,useValue:!0},{provide:pp,useValue:"platform"});!function RI(t){if(Bu&&!Bu.destroyed&&!Bu.injector.get(ew,!1))throw new nt(400,"");Bu=t.get(rw);const n=t.get(z0,null);n&&n.forEach(s=>s())}(Eo.create({providers:w,name:a}))}return function xI(t){const n=nw();if(!n)throw new nt(401,"");return n}()}}function nw(){return Bu&&!Bu.destroyed?Bu:null}let rw=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const w=function MI(t,n){let s;return s="noop"===t?new bI:("zone.js"===t?void 0:t)||new Ra({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),b=[{provide:Ra,useValue:w}];return w.run(()=>{const N=Eo.create({providers:b,parent:this.injector,name:s.moduleType.name}),V=s.create(N),K=V.injector.get(kc,null);if(!K)throw new nt(402,"");return w.runOutsideAngular(()=>{const fe=w.onError.subscribe({next:ke=>{K.handleError(ke)}});V.onDestroy(()=>{iv(this._modules,V),fe.unsubscribe()})}),function PI(t,n,s){try{const a=s();return Uu(a)?a.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(K,w,()=>{const fe=V.injector.get(wf);return fe.runInitializers(),fe.donePromise.then(()=>(function S_(t){Wt(t,"Expected localeId to be defined"),"string"==typeof t&&(iy=t.toLowerCase().replace(/_/g,"-"))}(V.injector.get(py,Gd)||Gd),this._moduleDoBootstrap(V),V))})})}bootstrapModule(s,a=[]){const c=iw({},a);return function CI(t,n,s){const a=new F_(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const a=s.injector.get(Ag);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new nt(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new nt(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(De(Eo))},t.\u0275prov=Ct({token:t,factory:t.\u0275fac}),t})();function iw(t,n){return Array.isArray(n)?n.reduce(iw,t):Object.assign(Object.assign({},t),n)}let Ag=(()=>{class t{constructor(s,a,c,h,g){this._zone=s,this._injector=a,this._exceptionHandler=c,this._componentFactoryResolver=h,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new G.y(N=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{N.next(this._stable),N.complete()})}),b=new G.y(N=>{let V;this._zone.runOutsideAngular(()=>{V=this._zone.onStable.subscribe(()=>{Ra.assertNotInAngularZone(),ev(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,N.next(!0))})})});const K=this._zone.onUnstable.subscribe(()=>{Ra.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{N.next(!1)}))});return()=>{V.unsubscribe(),K.unsubscribe()}});this.isStable=(0,pe.T)(w,b.pipe((0,ge.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new nt(405,"");let c;c=s instanceof Yv?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(c.componentType);const h=function AI(t){return t.isBoundToModule}(c)?void 0:this._injector.get(yf),w=c.create(Eo.NULL,[],a||c.selector,h),b=w.location.nativeElement,N=w.injector.get(J0,null),V=N&&w.injector.get(X0);return N&&V&&V.registerApplication(b,N),w.onDestroy(()=>{this.detachView(w.hostView),iv(this.components,w),V&&V.unregisterApplication(b)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new nt(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;iv(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(q0,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(De(Ra),De(Eo),De(kc),De(wg),De(wf))},t.\u0275prov=Ct({token:t,factory:t.\u0275fac}),t})();function iv(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}let ow=!0,aw=!1;function kI(){return aw=!0,ow}function NI(){if(aw)throw new Error("Cannot enable prod mode after platform setup.");ow=!1}let LI=(()=>{class t{}return t.__NG_ELEMENT_ID__=FI,t})();function FI(t){return function UI(t,n,s){if(Sn(t)&&!s){const a=Rt(t.index,n);return new Ig(a,a)}return 47&t.type?new Ig(n[16],n):null}(k(),lt(),16==(16&t))}class fw{constructor(){}supports(n){return Fl(n)}create(n){return new GI(n)}}const $I=(t,n)=>n;class GI{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||$I}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,a=this._removalsHead,c=0,h=null;for(;s||a;){const g=!a||s&&s.currentIndex<gw(a,c,h)?s:a,w=gw(g,c,h),b=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{h||(h=[]);const N=w-c,V=b-c;if(N!=V){for(let fe=0;fe<N;fe++){const ke=fe<h.length?h[fe]:h[fe]=0,it=ke+fe;V<=it&&it<N&&(h[fe]=ke+1)}h[g.previousIndex]=V-N}}w!==b&&n(g,w,b)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!Fl(n))throw new nt(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,h,g,s=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let w=0;w<this.length;w++)h=n[w],g=this._trackByFn(w,h),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,h,g,w)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,g,w),a=!0),s=s._next}else c=0,function Ul(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Zc()]();let a;for(;!(a=s.next()).done;)n(a.value)}}(n,w=>{g=this._trackByFn(c,w),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,w,g,c)),Object.is(s.item,w)||this._addIdentityChange(s,w)):(s=this._mismatch(s,w,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,a,c){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,h,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,h,c)):n=this._addAfter(new zI(s,a),h,c),n}_verifyReinsertion(n,s,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?n=this._reinsertAfter(h,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,h=n._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(n,s,a),this._addToMoves(n,a),n}_moveAfter(n,s,a){return this._unlink(n),this._insertAfter(n,s,a),this._addToMoves(n,a),n}_addAfter(n,s,a){return this._insertAfter(n,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,a){const c=null===s?this._itHead:s._next;return n._next=c,n._prev=s,null===c?this._itTail=n:c._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new pw),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,a=n._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pw),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class zI{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class WI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const s=n._prevDup,a=n._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class pw{constructor(){this.map=new Map}put(n){const s=n.trackById;let a=this.map.get(s);a||(a=new WI,this.map.set(s,a)),a.add(n)}get(n,s){const c=this.map.get(n);return c?c.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gw(t,n,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+n+c}class mw{constructor(){}supports(n){return n instanceof Map||kd(n)}create(){return new qI}}class qI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||kd(n)))throw new nt(900,"")}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const a=n._prev;return s._next=n,s._prev=a,n._prev=s,a&&(a._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,s);const h=c._prev,g=c._next;return h&&(h._next=g),g&&(g._prev=h),c._next=null,c._prev=null,c}const a=new ZI(n);return this._records.set(n,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(a=>s(n[a],a))}}class ZI{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yw(){return new my([new fw])}let my=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||yw()),deps:[[t,new so,new Mr]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new nt(901,"")}}return t.\u0275prov=Ct({token:t,providedIn:"root",factory:yw}),t})();function _w(){return new yy([new mw])}let yy=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||_w()),deps:[[t,new so,new Mr]]}}find(s){const a=this.factories.find(h=>h.supports(s));if(a)return a;throw new nt(901,"")}}return t.\u0275prov=Ct({token:t,providedIn:"root",factory:_w}),t})();const KI=[new mw],QI=new my([new fw]),JI=new yy(KI),XI=tw(null,"core",[{provide:W0,useValue:"unknown"},{provide:rw,deps:[Eo]},{provide:X0,deps:[]},{provide:Z0,deps:[]}]),ib=[{provide:Ag,useClass:Ag,deps:[Ra,Eo,kc,wg,wf]},{provide:mE,deps:[Ra],useFactory:function sb(t){let n=[];return t.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(s){n.push(s)}}},{provide:wf,useClass:wf,deps:[[new Mr,Q_]]},{provide:X_,useClass:X_,deps:[]},gI,{provide:my,useFactory:function eb(){return QI},deps:[]},{provide:yy,useFactory:function tb(){return JI},deps:[]},{provide:py,useFactory:function nb(t){return t||function rb(){return"undefined"!=typeof $localize&&$localize.locale||Gd}()},deps:[[new _i(py),new Mr,new so]]},{provide:K0,useValue:"USD"}];let ob=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(De(Ag))},t.\u0275mod=jr({type:t}),t.\u0275inj=vn({providers:ib}),t})()},6115:(Pt,$e,L)=>{"use strict";L.d($e,{gz:()=>nn,F0:()=>Hi,rH:()=>vr,Od:()=>po,yS:()=>Wo,Bz:()=>la,lC:()=>Is});var E=L(5e3),x=L(8306),G=L(4742),pe=L(8996),ge=L(4671),Te=L(3268),Re=L(7669),Ae=L(1810),Me=L(5403),ne=L(9672);function pt(I,y,_){I?(0,ne.f)(_,I,y):y()}var We=L(8421);function nt(I){return new x.y(y=>{(0,We.Xf)(I()).subscribe(y)})}var at=L(727),_e=L(4482);function Le(){return(0,_e.e)((I,y)=>{let _=null;I._refCount++;const C=new Me.Q(y,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(_=null);const O=I._connection,F=_;_=null,O&&(!F||O===F)&&O.unsubscribe(),y.unsubscribe()});I.subscribe(C),C.closed||(_=I.connect())})}class Ke extends x.y{constructor(y,_){super(),this.source=y,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,_e.A)(y)&&(this.lift=y.lift)}_subscribe(y){return this.getSubject().subscribe(y)}getSubject(){const y=this._subject;return(!y||y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:y}=this;this._subject=this._connection=null,null==y||y.unsubscribe()}connect(){let y=this._connection;if(!y){y=this._connection=new at.w0;const _=this.getSubject();y.add(this.source.subscribe(new Me.Q(_,void 0,()=>{this._teardown(),_.complete()},C=>{this._teardown(),_.error(C)},()=>this._teardown()))),y.closed&&(this._connection=null,y=at.w0.EMPTY)}return y}refCount(){return Le()(this)}}var Ue=L(9646),Y=L(1135),st=L(6805),et=L(7272),Dt=L(515),rt=L(7579),Tt=L(9300);function Ce(I){return I<=0?()=>Dt.E:(0,_e.e)((y,_)=>{let C=[];y.subscribe(new Me.Q(_,O=>{C.push(O),I<C.length&&C.shift()},()=>{for(const O of C)_.next(O);_.complete()},void 0,()=>{C=null}))})}var ve=L(8068),Ve=L(6590),Pe=L(4004),Yt=L(3900),_n=L(5698),sr=L(8675),Wt=L(5026),kt=L(262),Yn=L(4351),Xt=L(590),Dn=L(5577),Ct=L(8505),Un=L(8189),vn=L(9808);class Mn{constructor(y,_){this.id=y,this.url=_}}class Cr extends Mn{constructor(y,_,C="imperative",O=null){super(y,_),this.navigationTrigger=C,this.restoredState=O}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class an extends Mn{constructor(y,_,C){super(y,_),this.urlAfterRedirects=C}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nn extends Mn{constructor(y,_,C){super(y,_),this.reason=C}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ni extends Mn{constructor(y,_,C){super(y,_),this.error=C}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Or extends Mn{constructor(y,_,C,O){super(y,_),this.urlAfterRedirects=C,this.state=O}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Er extends Mn{constructor(y,_,C,O){super(y,_),this.urlAfterRedirects=C,this.state=O}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ot extends Mn{constructor(y,_,C,O,F){super(y,_),this.urlAfterRedirects=C,this.state=O,this.shouldActivate=F}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Tn extends Mn{constructor(y,_,C,O){super(y,_),this.urlAfterRedirects=C,this.state=O}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nt extends Mn{constructor(y,_,C,O){super(y,_),this.urlAfterRedirects=C,this.state=O}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dn{constructor(y){this.route=y}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wn{constructor(y){this.route=y}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pn{constructor(y){this.snapshot=y}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class di{constructor(y){this.snapshot=y}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oe{constructor(y){this.snapshot=y}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X{constructor(y){this.snapshot=y}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oe{constructor(y,_,C){this.routerEvent=y,this.position=_,this.anchor=C}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Fe="primary";class tt{constructor(y){this.params=y||{}}has(y){return Object.prototype.hasOwnProperty.call(this.params,y)}get(y){if(this.has(y)){const _=this.params[y];return Array.isArray(_)?_[0]:_}return null}getAll(y){if(this.has(y)){const _=this.params[y];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function yt(I){return new tt(I)}const gt="ngNavigationCancelingError";function It(I){const y=Error("NavigationCancelingError: "+I);return y[gt]=!0,y}function jn(I,y,_){const C=_.path.split("/");if(C.length>I.length||"full"===_.pathMatch&&(y.hasChildren()||C.length<I.length))return null;const O={};for(let F=0;F<C.length;F++){const Z=C[F],de=I[F];if(Z.startsWith(":"))O[Z.substring(1)]=de;else if(Z!==de.path)return null}return{consumed:I.slice(0,C.length),posParams:O}}function ln(I,y){const _=I?Object.keys(I):void 0,C=y?Object.keys(y):void 0;if(!_||!C||_.length!=C.length)return!1;let O;for(let F=0;F<_.length;F++)if(O=_[F],!Ln(I[O],y[O]))return!1;return!0}function Ln(I,y){if(Array.isArray(I)&&Array.isArray(y)){if(I.length!==y.length)return!1;const _=[...I].sort(),C=[...y].sort();return _.every((O,F)=>C[F]===O)}return I===y}function un(I){return Array.prototype.concat.apply([],I)}function Q(I){return I.length>0?I[I.length-1]:null}function ce(I,y){for(const _ in I)I.hasOwnProperty(_)&&y(I[_],_)}function Ge(I){return(0,E.CqO)(I)?I:(0,E.QGY)(I)?(0,pe.D)(Promise.resolve(I)):(0,Ue.of)(I)}const At={exact:function Zn(I,y,_){if(!Qn(I.segments,y.segments)||!jr(I.segments,y.segments,_)||I.numberOfChildren!==y.numberOfChildren)return!1;for(const C in y.children)if(!I.children[C]||!Zn(I.children[C],y.children[C],_))return!1;return!0},subset:fn},zt={exact:function En(I,y){return ln(I,y)},subset:function Nr(I,y){return Object.keys(y).length<=Object.keys(I).length&&Object.keys(y).every(_=>Ln(I[_],y[_]))},ignored:()=>!0};function On(I,y,_){return At[_.paths](I.root,y.root,_.matrixParams)&&zt[_.queryParams](I.queryParams,y.queryParams)&&!("exact"===_.fragment&&I.fragment!==y.fragment)}function fn(I,y,_){return kn(I,y,y.segments,_)}function kn(I,y,_,C){if(I.segments.length>_.length){const O=I.segments.slice(0,_.length);return!(!Qn(O,_)||y.hasChildren()||!jr(O,_,C))}if(I.segments.length===_.length){if(!Qn(I.segments,_)||!jr(I.segments,_,C))return!1;for(const O in y.children)if(!I.children[O]||!fn(I.children[O],y.children[O],C))return!1;return!0}{const O=_.slice(0,I.segments.length),F=_.slice(I.segments.length);return!!(Qn(I.segments,O)&&jr(I.segments,O,C)&&I.children[Fe])&&kn(I.children[Fe],y,F,C)}}function jr(I,y,_){return y.every((C,O)=>zt[_](I[O].parameters,C.parameters))}class Kr{constructor(y,_,C){this.root=y,this.queryParams=_,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yt(this.queryParams)),this._queryParamMap}toString(){return Ri.serialize(this)}}class en{constructor(y,_){this.segments=y,this.children=_,this.parent=null,ce(_,(C,O)=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qi(this)}}class Ar{constructor(y,_){this.path=y,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=yt(this.parameters)),this._parameterMap}toString(){return Ut(this)}}function Qn(I,y){return I.length===y.length&&I.every((_,C)=>_.path===y[C].path)}class ri{}class gr{parse(y){const _=new cn(y);return new Kr(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(y){const _=`/${Lr(y.root,!0)}`,C=function tr(I){const y=Object.keys(I).map(_=>{const C=I[_];return Array.isArray(C)?C.map(O=>`${hr(_)}=${hr(O)}`).join("&"):`${hr(_)}=${hr(C)}`}).filter(_=>!!_);return y.length?`?${y.join("&")}`:""}(y.queryParams);return`${_}${C}${"string"==typeof y.fragment?`#${function ar(I){return encodeURI(I)}(y.fragment)}`:""}`}}const Ri=new gr;function qi(I){return I.segments.map(y=>Ut(y)).join("/")}function Lr(I,y){if(!I.hasChildren())return qi(I);if(y){const _=I.children[Fe]?Lr(I.children[Fe],!1):"",C=[];return ce(I.children,(O,F)=>{F!==Fe&&C.push(`${F}:${Lr(O,!1)}`)}),C.length>0?`${_}(${C.join("//")})`:_}{const _=function Ir(I,y){let _=[];return ce(I.children,(C,O)=>{O===Fe&&(_=_.concat(y(C,O)))}),ce(I.children,(C,O)=>{O!==Fe&&(_=_.concat(y(C,O)))}),_}(I,(C,O)=>O===Fe?[Lr(I.children[Fe],!1)]:[`${O}:${Lr(C,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[Fe]?`${qi(I)}/${_[0]}`:`${qi(I)}/(${_.join("//")})`}}function or(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hr(I){return or(I).replace(/%3B/gi,";")}function hi(I){return or(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sr(I){return decodeURIComponent(I)}function Et(I){return Sr(I.replace(/\+/g,"%20"))}function Ut(I){return`${hi(I.path)}${function tn(I){return Object.keys(I).map(y=>`;${hi(y)}=${hi(I[y])}`).join("")}(I.parameters)}`}const br=/^[^\/()?;=#]+/;function ur(I){const y=I.match(br);return y?y[0]:""}const Hr=/^[^=?&#]+/,fi=/^[^&#]+/;class cn{constructor(y){this.url=y,this.remaining=y}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const y={};if(this.consumeOptional("?"))do{this.parseQueryParam(y)}while(this.consumeOptional("&"));return y}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const y=[];for(this.peekStartsWith("(")||y.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),y.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(y.length>0||Object.keys(_).length>0)&&(C[Fe]=new en(y,_)),C}parseSegment(){const y=ur(this.remaining);if(""===y&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(y),new Ar(Sr(y),this.parseMatrixParams())}parseMatrixParams(){const y={};for(;this.consumeOptional(";");)this.parseParam(y);return y}parseParam(y){const _=ur(this.remaining);if(!_)return;this.capture(_);let C="";if(this.consumeOptional("=")){const O=ur(this.remaining);O&&(C=O,this.capture(C))}y[Sr(_)]=Sr(C)}parseQueryParam(y){const _=function An(I){const y=I.match(Hr);return y?y[0]:""}(this.remaining);if(!_)return;this.capture(_);let C="";if(this.consumeOptional("=")){const Z=function mr(I){const y=I.match(fi);return y?y[0]:""}(this.remaining);Z&&(C=Z,this.capture(C))}const O=Et(_),F=Et(C);if(y.hasOwnProperty(O)){let Z=y[O];Array.isArray(Z)||(Z=[Z],y[O]=Z),Z.push(F)}else y[O]=F}parseParens(y){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=ur(this.remaining),O=this.remaining[C.length];if("/"!==O&&")"!==O&&";"!==O)throw new Error(`Cannot parse url '${this.url}'`);let F;C.indexOf(":")>-1?(F=C.substr(0,C.indexOf(":")),this.capture(F),this.capture(":")):y&&(F=Fe);const Z=this.parseChildren();_[F]=1===Object.keys(Z).length?Z[Fe]:new en([],Z),this.consumeOptional("//")}return _}peekStartsWith(y){return this.remaining.startsWith(y)}consumeOptional(y){return!!this.peekStartsWith(y)&&(this.remaining=this.remaining.substring(y.length),!0)}capture(y){if(!this.consumeOptional(y))throw new Error(`Expected "${y}".`)}}class Yr{constructor(y){this._root=y}get root(){return this._root.value}parent(y){const _=this.pathFromRoot(y);return _.length>1?_[_.length-2]:null}children(y){const _=se(y,this._root);return _?_.children.map(C=>C.value):[]}firstChild(y){const _=se(y,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(y){const _=ie(y,this._root);return _.length<2?[]:_[_.length-2].children.map(O=>O.value).filter(O=>O!==y)}pathFromRoot(y){return ie(y,this._root).map(_=>_.value)}}function se(I,y){if(I===y.value)return y;for(const _ of y.children){const C=se(I,_);if(C)return C}return null}function ie(I,y){if(I===y.value)return[y];for(const _ of y.children){const C=ie(I,_);if(C.length)return C.unshift(y),C}return[]}class q{constructor(y,_){this.value=y,this.children=_}toString(){return`TreeNode(${this.value})`}}function be(I){const y={};return I&&I.children.forEach(_=>y[_.value.outlet]=_),y}class Xe extends Yr{constructor(y,_){super(y),this.snapshot=_,xs(this,y)}toString(){return this.snapshot.toString()}}function $t(I,y){const _=function Bt(I,y){const Z=new Qr([],{},{},"",{},Fe,y,null,I.root,-1,{});return new Ei("",new q(Z,[]))}(I,y),C=new Y.X([new Ar("",{})]),O=new Y.X({}),F=new Y.X({}),Z=new Y.X({}),de=new Y.X(""),me=new nn(C,O,Z,de,F,Fe,y,_.root);return me.snapshot=_.root,new Xe(new q(me,[]),_)}class nn{constructor(y,_,C,O,F,Z,de,me){this.url=y,this.params=_,this.queryParams=C,this.fragment=O,this.data=F,this.outlet=Z,this.component=de,this._futureSnapshot=me}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pe.U)(y=>yt(y)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pe.U)(y=>yt(y)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $r(I,y="emptyOnly"){const _=I.pathFromRoot;let C=0;if("always"!==y)for(C=_.length-1;C>=1;){const O=_[C],F=_[C-1];if(O.routeConfig&&""===O.routeConfig.path)C--;else{if(F.component)break;C--}}return function Gr(I){return I.reduce((y,_)=>({params:Object.assign(Object.assign({},y.params),_.params),data:Object.assign(Object.assign({},y.data),_.data),resolve:Object.assign(Object.assign({},y.resolve),_._resolvedData)}),{params:{},data:{},resolve:{}})}(_.slice(C))}class Qr{constructor(y,_,C,O,F,Z,de,me,he,ze,Lt){this.url=y,this.params=_,this.queryParams=C,this.fragment=O,this.data=F,this.outlet=Z,this.component=de,this.routeConfig=me,this._urlSegment=he,this._lastPathIndex=ze,this._resolve=Lt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ei extends Yr{constructor(y,_){super(_),this.url=y,xs(this,_)}toString(){return Sn(this._root)}}function xs(I,y){y.value._routerState=I,y.children.forEach(_=>xs(I,_))}function Sn(I){const y=I.children.length>0?` { ${I.children.map(Sn).join(", ")} } `:"";return`${I.value}${y}`}function Vi(I){if(I.snapshot){const y=I.snapshot,_=I._futureSnapshot;I.snapshot=_,ln(y.queryParams,_.queryParams)||I.queryParams.next(_.queryParams),y.fragment!==_.fragment&&I.fragment.next(_.fragment),ln(y.params,_.params)||I.params.next(_.params),function Mt(I,y){if(I.length!==y.length)return!1;for(let _=0;_<I.length;++_)if(!ln(I[_],y[_]))return!1;return!0}(y.url,_.url)||I.url.next(_.url),ln(y.data,_.data)||I.data.next(_.data)}else I.snapshot=I._futureSnapshot,I.data.next(I._futureSnapshot.data)}function xi(I,y){const _=ln(I.params,y.params)&&function Bi(I,y){return Qn(I,y)&&I.every((_,C)=>ln(_.parameters,y[C].parameters))}(I.url,y.url);return _&&!(!I.parent!=!y.parent)&&(!I.parent||xi(I.parent,y.parent))}function Xs(I,y,_){if(_&&I.shouldReuseRoute(y.value,_.value.snapshot)){const C=_.value;C._futureSnapshot=y.value;const O=function bo(I,y,_){return y.children.map(C=>{for(const O of _.children)if(I.shouldReuseRoute(C.value,O.value.snapshot))return Xs(I,C,O);return Xs(I,C)})}(I,y,_);return new q(C,O)}{if(I.shouldAttach(y.value)){const F=I.retrieve(y.value);if(null!==F){const Z=F.route;return Z.value._futureSnapshot=y.value,Z.children=y.children.map(de=>Xs(I,de)),Z}}const C=function yr(I){return new nn(new Y.X(I.url),new Y.X(I.params),new Y.X(I.queryParams),new Y.X(I.fragment),new Y.X(I.data),I.outlet,I.component,I)}(y.value),O=y.children.map(F=>Xs(I,F));return new q(C,O)}}function ys(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function Ee(I){return"object"==typeof I&&null!=I&&I.outlets}function ye(I,y,_,C,O){let F={};return C&&ce(C,(Z,de)=>{F[de]=Array.isArray(Z)?Z.map(me=>`${me}`):`${Z}`}),new Kr(_.root===I?y:Be(_.root,I,y),F,O)}function Be(I,y,_){const C={};return ce(I.children,(O,F)=>{C[F]=O===y?_:Be(O,y,_)}),new en(I.segments,C)}class Je{constructor(y,_,C){if(this.isAbsolute=y,this.numberOfDoubleDots=_,this.commands=C,y&&C.length>0&&ys(C[0]))throw new Error("Root segment cannot have matrix parameters");const O=C.find(Ee);if(O&&O!==Q(C))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ot{constructor(y,_,C){this.segmentGroup=y,this.processChildren=_,this.index=C}}function es(I,y,_){if(I||(I=new en([],{})),0===I.segments.length&&I.hasChildren())return ls(I,y,_);const C=function ds(I,y,_){let C=0,O=y;const F={match:!1,pathIndex:0,commandIndex:0};for(;O<I.segments.length;){if(C>=_.length)return F;const Z=I.segments[O],de=_[C];if(Ee(de))break;const me=`${de}`,he=C<_.length-1?_[C+1]:null;if(O>0&&void 0===me)break;if(me&&he&&"object"==typeof he&&void 0===he.outlets){if(!ks(me,he,Z))return F;C+=2}else{if(!ks(me,{},Z))return F;C++}O++}return{match:!0,pathIndex:O,commandIndex:C}}(I,y,_),O=_.slice(C.commandIndex);if(C.match&&C.pathIndex<I.segments.length){const F=new en(I.segments.slice(0,C.pathIndex),{});return F.children[Fe]=new en(I.segments.slice(C.pathIndex),I.children),ls(F,0,O)}return C.match&&0===O.length?new en(I.segments,{}):C.match&&!I.hasChildren()?Ps(I,y,_):C.match?ls(I,0,O):Ps(I,y,_)}function ls(I,y,_){if(0===_.length)return new en(I.segments,{});{const C=function Rn(I){return Ee(I[0])?I[0].outlets:{[Fe]:I}}(_),O={};return ce(C,(F,Z)=>{"string"==typeof F&&(F=[F]),null!==F&&(O[Z]=es(I.children[Z],y,F))}),ce(I.children,(F,Z)=>{void 0===C[Z]&&(O[Z]=F)}),new en(I.segments,O)}}function Ps(I,y,_){const C=I.segments.slice(0,y);let O=0;for(;O<_.length;){const F=_[O];if(Ee(F)){const me=Os(F.outlets);return new en(C,me)}if(0===O&&ys(_[0])){C.push(new Ar(I.segments[y].path,Gs(_[0]))),O++;continue}const Z=Ee(F)?F.outlets[Fe]:`${F}`,de=O<_.length-1?_[O+1]:null;Z&&de&&ys(de)?(C.push(new Ar(Z,Gs(de))),O+=2):(C.push(new Ar(Z,{})),O++)}return new en(C,{})}function Os(I){const y={};return ce(I,(_,C)=>{"string"==typeof _&&(_=[_]),null!==_&&(y[C]=Ps(new en([],{}),0,_))}),y}function Gs(I){const y={};return ce(I,(_,C)=>y[C]=`${_}`),y}function ks(I,y,_){return I==_.path&&ln(y,_.parameters)}class _s{constructor(y,_,C,O){this.routeReuseStrategy=y,this.futureState=_,this.currState=C,this.forwardEvent=O}activate(y){const _=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,C,y),Vi(this.futureState.root),this.activateChildRoutes(_,C,y)}deactivateChildRoutes(y,_,C){const O=be(_);y.children.forEach(F=>{const Z=F.value.outlet;this.deactivateRoutes(F,O[Z],C),delete O[Z]}),ce(O,(F,Z)=>{this.deactivateRouteAndItsChildren(F,C)})}deactivateRoutes(y,_,C){const O=y.value,F=_?_.value:null;if(O===F)if(O.component){const Z=C.getContext(O.outlet);Z&&this.deactivateChildRoutes(y,_,Z.children)}else this.deactivateChildRoutes(y,_,C);else F&&this.deactivateRouteAndItsChildren(_,C)}deactivateRouteAndItsChildren(y,_){y.value.component&&this.routeReuseStrategy.shouldDetach(y.value.snapshot)?this.detachAndStoreRouteSubtree(y,_):this.deactivateRouteAndOutlet(y,_)}detachAndStoreRouteSubtree(y,_){const C=_.getContext(y.value.outlet),O=C&&y.value.component?C.children:_,F=be(y);for(const Z of Object.keys(F))this.deactivateRouteAndItsChildren(F[Z],O);if(C&&C.outlet){const Z=C.outlet.detach(),de=C.children.onOutletDeactivated();this.routeReuseStrategy.store(y.value.snapshot,{componentRef:Z,route:y,contexts:de})}}deactivateRouteAndOutlet(y,_){const C=_.getContext(y.value.outlet),O=C&&y.value.component?C.children:_,F=be(y);for(const Z of Object.keys(F))this.deactivateRouteAndItsChildren(F[Z],O);C&&C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated(),C.attachRef=null,C.resolver=null,C.route=null)}activateChildRoutes(y,_,C){const O=be(_);y.children.forEach(F=>{this.activateRoutes(F,O[F.value.outlet],C),this.forwardEvent(new X(F.value.snapshot))}),y.children.length&&this.forwardEvent(new di(y.value.snapshot))}activateRoutes(y,_,C){const O=y.value,F=_?_.value:null;if(Vi(O),O===F)if(O.component){const Z=C.getOrCreateContext(O.outlet);this.activateChildRoutes(y,_,Z.children)}else this.activateChildRoutes(y,_,C);else if(O.component){const Z=C.getOrCreateContext(O.outlet);if(this.routeReuseStrategy.shouldAttach(O.snapshot)){const de=this.routeReuseStrategy.retrieve(O.snapshot);this.routeReuseStrategy.store(O.snapshot,null),Z.children.onOutletReAttached(de.contexts),Z.attachRef=de.componentRef,Z.route=de.route.value,Z.outlet&&Z.outlet.attach(de.componentRef,de.route.value),Vi(de.route.value),this.activateChildRoutes(y,null,Z.children)}else{const de=function zs(I){for(let y=I.parent;y;y=y.parent){const _=y.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig;if(_&&_.component)return null}return null}(O.snapshot),me=de?de.module.componentFactoryResolver:null;Z.attachRef=null,Z.route=O,Z.resolver=me,Z.outlet&&Z.outlet.activateWith(O,me),this.activateChildRoutes(y,null,Z.children)}}else this.activateChildRoutes(y,null,C)}}class ts{constructor(y,_){this.routes=y,this.module=_}}function Jr(I){return"function"==typeof I}function Ii(I){return I instanceof Kr}const ws=Symbol("INITIAL_VALUE");function Fr(){return(0,Yt.w)(I=>function ee(...I){const y=(0,Re.yG)(I),_=(0,Re.jO)(I),{args:C,keys:O}=(0,G.D)(I);if(0===C.length)return(0,pe.D)([],y);const F=new x.y(function Se(I,y,_=ge.y){return C=>{pt(y,()=>{const{length:O}=I,F=new Array(O);let Z=O,de=O;for(let me=0;me<O;me++)pt(y,()=>{const he=(0,pe.D)(I[me],y);let ze=!1;he.subscribe(new Me.Q(C,Lt=>{F[me]=Lt,ze||(ze=!0,de--),de||C.next(_(F.slice()))},()=>{--Z||C.complete()}))},C)},C)}}(C,y,O?Z=>(0,Ae.n)(O,Z):ge.y));return _?F.pipe((0,Te.Z)(_)):F}(I.map(y=>y.pipe((0,_n.q)(1),(0,sr.O)(ws)))).pipe((0,Wt.R)((y,_)=>{let C=!1;return _.reduce((O,F,Z)=>O!==ws?O:(F===ws&&(C=!0),C||!1!==F&&Z!==_.length-1&&!Ii(F)?O:F),y)},ws),(0,Tt.h)(y=>y!==ws),(0,Pe.U)(y=>Ii(y)?y:!0===y),(0,_n.q)(1)))}class Es{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ji,this.attachRef=null}}class ji{constructor(){this.contexts=new Map}onChildOutletCreated(y,_){const C=this.getOrCreateContext(y);C.outlet=_,this.contexts.set(y,C)}onChildOutletDestroyed(y){const _=this.getContext(y);_&&(_.outlet=null,_.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let _=this.getContext(y);return _||(_=new Es,this.contexts.set(y,_)),_}getContext(y){return this.contexts.get(y)||null}}let Is=(()=>{class I{constructor(_,C,O,F,Z){this.parentContexts=_,this.location=C,this.resolver=O,this.changeDetector=Z,this.activated=null,this._activatedRoute=null,this.activateEvents=new E.vpe,this.deactivateEvents=new E.vpe,this.attachEvents=new E.vpe,this.detachEvents=new E.vpe,this.name=F||Fe,_.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const _=this.parentContexts.getContext(this.name);_&&_.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,C){this.activated=_,this._activatedRoute=C,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,C){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=_;const Z=(C=C||this.resolver).resolveComponentFactory(_._futureSnapshot.routeConfig.component),de=this.parentContexts.getOrCreateContext(this.name).children,me=new Do(_,de,this.location.injector);this.activated=this.location.createComponent(Z,this.location.length,me),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return I.\u0275fac=function(_){return new(_||I)(E.Y36(ji),E.Y36(E.s_b),E.Y36(E._Vd),E.$8M("name"),E.Y36(E.sBO))},I.\u0275dir=E.lG2({type:I,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),I})();class Do{constructor(y,_,C){this.route=y,this.childContexts=_,this.parent=C}get(y,_){return y===nn?this.route:y===ji?this.childContexts:this.parent.get(y,_)}}let Ws=(()=>{class I{}return I.\u0275fac=function(_){return new(_||I)},I.\u0275cmp=E.Xpm({type:I,selectors:[["ng-component"]],decls:1,vars:0,template:function(_,C){1&_&&E._UZ(0,"router-outlet")},directives:[Is],encapsulation:2}),I})();function Ls(I,y=""){for(let _=0;_<I.length;_++){const C=I[_];Hn(C,Mi(y,C))}}function Hn(I,y){I.children&&Ls(I.children,y)}function Mi(I,y){return y?I||y.path?I&&!y.path?`${I}/`:!I&&y.path?y.path:`${I}/${y.path}`:"":I}function ho(I){const y=I.children&&I.children.map(ho),_=y?Object.assign(Object.assign({},I),{children:y}):Object.assign({},I);return!_.component&&(y||_.loadChildren)&&_.outlet&&_.outlet!==Fe&&(_.component=Ws),_}function bn(I){return I.outlet||Fe}function R(I,y){const _=I.filter(C=>bn(C)===y);return _.push(...I.filter(C=>bn(C)!==y)),_}const j={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function A(I,y,_){var C;if(""===y.path)return"full"===y.pathMatch&&(I.hasChildren()||_.length>0)?Object.assign({},j):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const F=(y.matcher||jn)(_,I,y);if(!F)return Object.assign({},j);const Z={};ce(F.posParams,(me,he)=>{Z[he]=me.path});const de=F.consumed.length>0?Object.assign(Object.assign({},Z),F.consumed[F.consumed.length-1].parameters):Z;return{matched:!0,consumedSegments:F.consumed,lastChild:F.consumed.length,parameters:de,positionalParamSegments:null!==(C=F.posParams)&&void 0!==C?C:{}}}function $(I,y,_,C,O="corrected"){if(_.length>0&&function Ye(I,y,_){return _.some(C=>pn(I,y,C)&&bn(C)!==Fe)}(I,_,C)){const Z=new en(y,function qe(I,y,_,C){const O={};O[Fe]=C,C._sourceSegment=I,C._segmentIndexShift=y.length;for(const F of _)if(""===F.path&&bn(F)!==Fe){const Z=new en([],{});Z._sourceSegment=I,Z._segmentIndexShift=y.length,O[bn(F)]=Z}return O}(I,y,C,new en(_,I.children)));return Z._sourceSegment=I,Z._segmentIndexShift=y.length,{segmentGroup:Z,slicedSegments:[]}}if(0===_.length&&function Rt(I,y,_){return _.some(C=>pn(I,y,C))}(I,_,C)){const Z=new en(I.segments,function ue(I,y,_,C,O,F){const Z={};for(const de of C)if(pn(I,_,de)&&!O[bn(de)]){const me=new en([],{});me._sourceSegment=I,me._segmentIndexShift="legacy"===F?I.segments.length:y.length,Z[bn(de)]=me}return Object.assign(Object.assign({},O),Z)}(I,y,_,C,I.children,O));return Z._sourceSegment=I,Z._segmentIndexShift=y.length,{segmentGroup:Z,slicedSegments:_}}const F=new en(I.segments,I.children);return F._sourceSegment=I,F._segmentIndexShift=y.length,{segmentGroup:F,slicedSegments:_}}function pn(I,y,_){return(!(I.hasChildren()||y.length>0)||"full"!==_.pathMatch)&&""===_.path}function Vn(I,y,_,C){return!!(bn(I)===C||C!==Fe&&pn(y,_,I))&&("**"===I.path||A(y,I,_).matched)}function $n(I,y,_){return 0===y.length&&!I.children[_]}class rn{constructor(y){this.segmentGroup=y||null}}class kr{constructor(y){this.urlTree=y}}function Gn(I){return new x.y(y=>y.error(new rn(I)))}function Vt(I){return new x.y(y=>y.error(new kr(I)))}function Xr(I){return new x.y(y=>y.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${I}'`)))}class Oi{constructor(y,_,C,O,F){this.configLoader=_,this.urlSerializer=C,this.urlTree=O,this.config=F,this.allowRedirects=!0,this.ngModule=y.get(E.h0i)}apply(){const y=$(this.urlTree.root,[],[],this.config).segmentGroup,_=new en(y.segments,y.children);return this.expandSegmentGroup(this.ngModule,this.config,_,Fe).pipe((0,Pe.U)(F=>this.createUrlTree(Fs(F),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,kt.K)(F=>{if(F instanceof kr)return this.allowRedirects=!1,this.match(F.urlTree);throw F instanceof rn?this.noMatchError(F):F}))}match(y){return this.expandSegmentGroup(this.ngModule,this.config,y.root,Fe).pipe((0,Pe.U)(O=>this.createUrlTree(Fs(O),y.queryParams,y.fragment))).pipe((0,kt.K)(O=>{throw O instanceof rn?this.noMatchError(O):O}))}noMatchError(y){return new Error(`Cannot match any routes. URL Segment: '${y.segmentGroup}'`)}createUrlTree(y,_,C){const O=y.segments.length>0?new en([],{[Fe]:y}):y;return new Kr(O,_,C)}expandSegmentGroup(y,_,C,O){return 0===C.segments.length&&C.hasChildren()?this.expandChildren(y,_,C).pipe((0,Pe.U)(F=>new en([],F))):this.expandSegment(y,C,_,C.segments,O,!0)}expandChildren(y,_,C){const O=[];for(const F of Object.keys(C.children))"primary"===F?O.unshift(F):O.push(F);return(0,pe.D)(O).pipe((0,Yn.b)(F=>{const Z=C.children[F],de=R(_,F);return this.expandSegmentGroup(y,de,Z,F).pipe((0,Pe.U)(me=>({segment:me,outlet:F})))}),(0,Wt.R)((F,Z)=>(F[Z.outlet]=Z.segment,F),{}),function xe(I,y){const _=arguments.length>=2;return C=>C.pipe(I?(0,Tt.h)((O,F)=>I(O,F,C)):ge.y,Ce(1),_?(0,Ve.d)(y):(0,ve.T)(()=>new st.K))}())}expandSegment(y,_,C,O,F,Z){return(0,pe.D)(C).pipe((0,Yn.b)(de=>this.expandSegmentAgainstRoute(y,_,C,de,O,F,Z).pipe((0,kt.K)(he=>{if(he instanceof rn)return(0,Ue.of)(null);throw he}))),(0,Xt.P)(de=>!!de),(0,kt.K)((de,me)=>{if(de instanceof st.K||"EmptyError"===de.name){if($n(_,O,F))return(0,Ue.of)(new en([],{}));throw new rn(_)}throw de}))}expandSegmentAgainstRoute(y,_,C,O,F,Z,de){return Vn(O,_,F,Z)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(y,_,O,F,Z):de&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(y,_,C,O,F,Z):Gn(_):Gn(_)}expandSegmentAgainstRouteUsingRedirect(y,_,C,O,F,Z){return"**"===O.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(y,C,O,Z):this.expandRegularSegmentAgainstRouteUsingRedirect(y,_,C,O,F,Z)}expandWildCardWithParamsAgainstRouteUsingRedirect(y,_,C,O){const F=this.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?Vt(F):this.lineralizeSegments(C,F).pipe((0,Dn.z)(Z=>{const de=new en(Z,{});return this.expandSegment(y,de,_,Z,O,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(y,_,C,O,F,Z){const{matched:de,consumedSegments:me,lastChild:he,positionalParamSegments:ze}=A(_,O,F);if(!de)return Gn(_);const Lt=this.applyRedirectCommands(me,O.redirectTo,ze);return O.redirectTo.startsWith("/")?Vt(Lt):this.lineralizeSegments(O,Lt).pipe((0,Dn.z)(Wn=>this.expandSegment(y,_,C,Wn.concat(F.slice(he)),Z,!1)))}matchSegmentAgainstRoute(y,_,C,O,F){if("**"===C.path)return C.loadChildren?(C._loadedConfig?(0,Ue.of)(C._loadedConfig):this.configLoader.load(y.injector,C)).pipe((0,Pe.U)(Wn=>(C._loadedConfig=Wn,new en(O,{})))):(0,Ue.of)(new en(O,{}));const{matched:Z,consumedSegments:de,lastChild:me}=A(_,C,O);if(!Z)return Gn(_);const he=O.slice(me);return this.getChildConfig(y,C,O).pipe((0,Dn.z)(Lt=>{const Wn=Lt.module,Xn=Lt.routes,{segmentGroup:Wr,slicedSegments:hs}=$(_,de,he,Xn),fs=new en(Wr.segments,Wr.children);if(0===hs.length&&fs.hasChildren())return this.expandChildren(Wn,Xn,fs).pipe((0,Pe.U)(Yo=>new en(de,Yo)));if(0===Xn.length&&0===hs.length)return(0,Ue.of)(new en(de,{}));const Ki=bn(C)===F;return this.expandSegment(Wn,fs,Xn,hs,Ki?Fe:F,!0).pipe((0,Pe.U)($i=>new en(de.concat($i.segments),$i.children)))}))}getChildConfig(y,_,C){return _.children?(0,Ue.of)(new ts(_.children,y)):_.loadChildren?void 0!==_._loadedConfig?(0,Ue.of)(_._loadedConfig):this.runCanLoadGuards(y.injector,_,C).pipe((0,Dn.z)(O=>O?this.configLoader.load(y.injector,_).pipe((0,Pe.U)(F=>(_._loadedConfig=F,F))):function Pi(I){return new x.y(y=>y.error(It(`Cannot load children because the guard of the route "path: '${I.path}'" returned false`)))}(_))):(0,Ue.of)(new ts([],y))}runCanLoadGuards(y,_,C){const O=_.canLoad;if(!O||0===O.length)return(0,Ue.of)(!0);const F=O.map(Z=>{const de=y.get(Z);let me;if(function lo(I){return I&&Jr(I.canLoad)}(de))me=de.canLoad(_,C);else{if(!Jr(de))throw new Error("Invalid CanLoad guard");me=de(_,C)}return Ge(me)});return(0,Ue.of)(F).pipe(Fr(),(0,Ct.b)(Z=>{if(!Ii(Z))return;const de=It(`Redirecting to "${this.urlSerializer.serialize(Z)}"`);throw de.url=Z,de}),(0,Pe.U)(Z=>!0===Z))}lineralizeSegments(y,_){let C=[],O=_.root;for(;;){if(C=C.concat(O.segments),0===O.numberOfChildren)return(0,Ue.of)(C);if(O.numberOfChildren>1||!O.children[Fe])return Xr(y.redirectTo);O=O.children[Fe]}}applyRedirectCommands(y,_,C){return this.applyRedirectCreatreUrlTree(_,this.urlSerializer.parse(_),y,C)}applyRedirectCreatreUrlTree(y,_,C,O){const F=this.createSegmentGroup(y,_.root,C,O);return new Kr(F,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(y,_){const C={};return ce(y,(O,F)=>{if("string"==typeof O&&O.startsWith(":")){const de=O.substring(1);C[F]=_[de]}else C[F]=O}),C}createSegmentGroup(y,_,C,O){const F=this.createSegments(y,_.segments,C,O);let Z={};return ce(_.children,(de,me)=>{Z[me]=this.createSegmentGroup(y,de,C,O)}),new en(F,Z)}createSegments(y,_,C,O){return _.map(F=>F.path.startsWith(":")?this.findPosParam(y,F,O):this.findOrReturn(F,C))}findPosParam(y,_,C){const O=C[_.path.substring(1)];if(!O)throw new Error(`Cannot redirect to '${y}'. Cannot find '${_.path}'.`);return O}findOrReturn(y,_){let C=0;for(const O of _){if(O.path===y.path)return _.splice(C),O;C++}return y}}function Fs(I){const y={};for(const C of Object.keys(I.children)){const F=Fs(I.children[C]);(F.segments.length>0||F.hasChildren())&&(y[C]=F)}return function ki(I){if(1===I.numberOfChildren&&I.children[Fe]){const y=I.children[Fe];return new en(I.segments.concat(y.segments),y.children)}return I}(new en(I.segments,y))}class lt{constructor(y){this.path=y,this.route=this.path[this.path.length-1]}}class gn{constructor(y,_){this.component=y,this.route=_}}function jo(I,y,_){const C=I._root;return J(C,y?y._root:null,_,[C.value])}function P(I,y,_){const C=function z(I){if(!I)return null;for(let y=I.parent;y;y=y.parent){const _=y.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig}return null}(y);return(C?C.module.injector:_).get(I)}function J(I,y,_,C,O={canDeactivateChecks:[],canActivateChecks:[]}){const F=be(y);return I.children.forEach(Z=>{(function we(I,y,_,C,O={canDeactivateChecks:[],canActivateChecks:[]}){const F=I.value,Z=y?y.value:null,de=_?_.getContext(I.value.outlet):null;if(Z&&F.routeConfig===Z.routeConfig){const me=function je(I,y,_){if("function"==typeof _)return _(I,y);switch(_){case"pathParamsChange":return!Qn(I.url,y.url);case"pathParamsOrQueryParamsChange":return!Qn(I.url,y.url)||!ln(I.queryParams,y.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xi(I,y)||!ln(I.queryParams,y.queryParams);default:return!xi(I,y)}}(Z,F,F.routeConfig.runGuardsAndResolvers);me?O.canActivateChecks.push(new lt(C)):(F.data=Z.data,F._resolvedData=Z._resolvedData),J(I,y,F.component?de?de.children:null:_,C,O),me&&de&&de.outlet&&de.outlet.isActivated&&O.canDeactivateChecks.push(new gn(de.outlet.component,Z))}else Z&&ct(y,de,O),O.canActivateChecks.push(new lt(C)),J(I,null,F.component?de?de.children:null:_,C,O)})(Z,F[Z.value.outlet],_,C.concat([Z.value]),O),delete F[Z.value.outlet]}),ce(F,(Z,de)=>ct(Z,_.getContext(de),O)),O}function ct(I,y,_){const C=be(I),O=I.value;ce(C,(F,Z)=>{ct(F,O.component?y?y.children.getContext(Z):null:y,_)}),_.canDeactivateChecks.push(new gn(O.component&&y&&y.outlet&&y.outlet.isActivated?y.outlet.component:null,O))}class bi{}function cr(I){return new x.y(y=>y.error(I))}class mi{constructor(y,_,C,O,F,Z){this.rootComponentType=y,this.config=_,this.urlTree=C,this.url=O,this.paramsInheritanceStrategy=F,this.relativeLinkResolution=Z}recognize(){const y=$(this.urlTree.root,[],[],this.config.filter(Z=>void 0===Z.redirectTo),this.relativeLinkResolution).segmentGroup,_=this.processSegmentGroup(this.config,y,Fe);if(null===_)return null;const C=new Qr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Fe,this.rootComponentType,null,this.urlTree.root,-1,{}),O=new q(C,_),F=new Ei(this.url,O);return this.inheritParamsAndData(F._root),F}inheritParamsAndData(y){const _=y.value,C=$r(_,this.paramsInheritanceStrategy);_.params=Object.freeze(C.params),_.data=Object.freeze(C.data),y.children.forEach(O=>this.inheritParamsAndData(O))}processSegmentGroup(y,_,C){return 0===_.segments.length&&_.hasChildren()?this.processChildren(y,_):this.processSegment(y,_,_.segments,C)}processChildren(y,_){const C=[];for(const F of Object.keys(_.children)){const Z=_.children[F],de=R(y,F),me=this.processSegmentGroup(de,Z,F);if(null===me)return null;C.push(...me)}const O=ns(C);return function Dr(I){I.sort((y,_)=>y.value.outlet===Fe?-1:_.value.outlet===Fe?1:y.value.outlet.localeCompare(_.value.outlet))}(O),O}processSegment(y,_,C,O){for(const F of y){const Z=this.processSegmentAgainstRoute(F,_,C,O);if(null!==Z)return Z}return $n(_,C,O)?[]:null}processSegmentAgainstRoute(y,_,C,O){if(y.redirectTo||!Vn(y,_,C,O))return null;let F,Z=[],de=[];if("**"===y.path){const Xn=C.length>0?Q(C).parameters:{};F=new Qr(C,Xn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ma(y),bn(y),y.component,y,Bs(_),Vs(_)+C.length,fo(y))}else{const Xn=A(_,y,C);if(!Xn.matched)return null;Z=Xn.consumedSegments,de=C.slice(Xn.lastChild),F=new Qr(Z,Xn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ma(y),bn(y),y.component,y,Bs(_),Vs(_)+Z.length,fo(y))}const me=function zr(I){return I.children?I.children:I.loadChildren?I._loadedConfig.routes:[]}(y),{segmentGroup:he,slicedSegments:ze}=$(_,Z,de,me.filter(Xn=>void 0===Xn.redirectTo),this.relativeLinkResolution);if(0===ze.length&&he.hasChildren()){const Xn=this.processChildren(me,he);return null===Xn?null:[new q(F,Xn)]}if(0===me.length&&0===ze.length)return[new q(F,[])];const Lt=bn(y)===O,Wn=this.processSegment(me,he,ze,Lt?Fe:O);return null===Wn?null:[new q(F,Wn)]}}function rr(I){const y=I.value.routeConfig;return y&&""===y.path&&void 0===y.redirectTo}function ns(I){const y=[],_=new Set;for(const C of I){if(!rr(C)){y.push(C);continue}const O=y.find(F=>C.value.routeConfig===F.value.routeConfig);void 0!==O?(O.children.push(...C.children),_.add(O)):y.push(C)}for(const C of _){const O=ns(C.children);y.push(new q(C.value,O))}return y.filter(C=>!_.has(C))}function Bs(I){let y=I;for(;y._sourceSegment;)y=y._sourceSegment;return y}function Vs(I){let y=I,_=y._segmentIndexShift?y._segmentIndexShift:0;for(;y._sourceSegment;)y=y._sourceSegment,_+=y._segmentIndexShift?y._segmentIndexShift:0;return _-1}function Ma(I){return I.data||{}}function fo(I){return I.resolve||{}}function yi(I){return(0,Yt.w)(y=>{const _=I(y);return _?(0,pe.D)(_).pipe((0,Pe.U)(()=>y)):(0,Ue.of)(y)})}class Co extends class Ur{shouldDetach(y){return!1}store(y,_){}shouldAttach(y){return!1}retrieve(y){return null}shouldReuseRoute(y,_){return y.routeConfig===_.routeConfig}}{}const Go=new E.OlP("ROUTES");class au{constructor(y,_,C,O){this.injector=y,this.compiler=_,this.onLoadStartListener=C,this.onLoadEndListener=O}load(y,_){if(_._loader$)return _._loader$;this.onLoadStartListener&&this.onLoadStartListener(_);const O=this.loadModuleFactory(_.loadChildren).pipe((0,Pe.U)(F=>{this.onLoadEndListener&&this.onLoadEndListener(_);const Z=F.create(y);return new ts(un(Z.injector.get(Go,void 0,E.XFs.Self|E.XFs.Optional)).map(ho),Z)}),(0,kt.K)(F=>{throw _._loader$=void 0,F}));return _._loader$=new Ke(O,()=>new rt.x).pipe(Le()),_._loader$}loadModuleFactory(y){return Ge(y()).pipe((0,Dn.z)(_=>_ instanceof E.YKP?(0,Ue.of)(_):(0,pe.D)(this.compiler.compileModuleAsync(_))))}}class ka{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,_){return y}}function Na(I){throw I}function zo(I,y,_){return y.parse("/")}function Zs(I,y){return(0,Ue.of)(null)}const ua={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},to={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hi=(()=>{class I{constructor(_,C,O,F,Z,de,me){this.rootComponentType=_,this.urlSerializer=C,this.rootContexts=O,this.location=F,this.config=me,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new rt.x,this.errorHandler=Na,this.malformedUriErrorHandler=zo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Zs,afterPreactivation:Zs},this.urlHandlingStrategy=new ka,this.routeReuseStrategy=new Co,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Z.get(E.h0i),this.console=Z.get(E.c2e);const Lt=Z.get(E.R0b);this.isNgZoneEnabled=Lt instanceof E.R0b&&E.R0b.isInAngularZone(),this.resetConfig(me),this.currentUrlTree=function Ne(){return new Kr(new en([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new au(Z,de,Wn=>this.triggerEvent(new dn(Wn)),Wn=>this.triggerEvent(new wn(Wn))),this.routerState=$t(this.currentUrlTree,this.rootComponentType),this.transitions=new Y.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var _;return null===(_=this.location.getState())||void 0===_?void 0:_.\u0275routerPageId}setupNavigations(_){const C=this.events;return _.pipe((0,Tt.h)(O=>0!==O.id),(0,Pe.U)(O=>Object.assign(Object.assign({},O),{extractedUrl:this.urlHandlingStrategy.extract(O.rawUrl)})),(0,Yt.w)(O=>{let F=!1,Z=!1;return(0,Ue.of)(O).pipe((0,Ct.b)(de=>{this.currentNavigation={id:de.id,initialUrl:de.currentRawUrl,extractedUrl:de.extractedUrl,trigger:de.source,extras:de.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Yt.w)(de=>{const me=this.browserUrlTree.toString(),he=!this.navigated||de.extractedUrl.toString()!==me||me!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||he)&&this.urlHandlingStrategy.shouldProcessUrl(de.rawUrl))return rs(de.source)&&(this.browserUrlTree=de.extractedUrl),(0,Ue.of)(de).pipe((0,Yt.w)(Lt=>{const Wn=this.transitions.getValue();return C.next(new Cr(Lt.id,this.serializeUrl(Lt.extractedUrl),Lt.source,Lt.restoredState)),Wn!==this.transitions.getValue()?Dt.E:Promise.resolve(Lt)}),function Us(I,y,_,C){return(0,Yt.w)(O=>function qs(I,y,_,C,O){return new Oi(I,y,_,C,O).apply()}(I,y,_,O.extractedUrl,C).pipe((0,Pe.U)(F=>Object.assign(Object.assign({},O),{urlAfterRedirects:F}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ct.b)(Lt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Lt.urlAfterRedirects})}),function Pa(I,y,_,C,O){return(0,Dn.z)(F=>function Zi(I,y,_,C,O="emptyOnly",F="legacy"){try{const Z=new mi(I,y,_,C,O,F).recognize();return null===Z?cr(new bi):(0,Ue.of)(Z)}catch(Z){return cr(Z)}}(I,y,F.urlAfterRedirects,_(F.urlAfterRedirects),C,O).pipe((0,Pe.U)(Z=>Object.assign(Object.assign({},F),{targetSnapshot:Z}))))}(this.rootComponentType,this.config,Lt=>this.serializeUrl(Lt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ct.b)(Lt=>{if("eager"===this.urlUpdateStrategy){if(!Lt.extras.skipLocationChange){const Xn=this.urlHandlingStrategy.merge(Lt.urlAfterRedirects,Lt.rawUrl);this.setBrowserUrl(Xn,Lt)}this.browserUrlTree=Lt.urlAfterRedirects}const Wn=new Or(Lt.id,this.serializeUrl(Lt.extractedUrl),this.serializeUrl(Lt.urlAfterRedirects),Lt.targetSnapshot);C.next(Wn)}));if(he&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Wn,extractedUrl:Xn,source:Wr,restoredState:hs,extras:fs}=de,Ki=new Cr(Wn,this.serializeUrl(Xn),Wr,hs);C.next(Ki);const Ts=$t(Xn,this.rootComponentType).snapshot;return(0,Ue.of)(Object.assign(Object.assign({},de),{targetSnapshot:Ts,urlAfterRedirects:Xn,extras:Object.assign(Object.assign({},fs),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=de.rawUrl,de.resolve(null),Dt.E}),yi(de=>{const{targetSnapshot:me,id:he,extractedUrl:ze,rawUrl:Lt,extras:{skipLocationChange:Wn,replaceUrl:Xn}}=de;return this.hooks.beforePreactivation(me,{navigationId:he,appliedUrlTree:ze,rawUrlTree:Lt,skipLocationChange:!!Wn,replaceUrl:!!Xn})}),(0,Ct.b)(de=>{const me=new Er(de.id,this.serializeUrl(de.extractedUrl),this.serializeUrl(de.urlAfterRedirects),de.targetSnapshot);this.triggerEvent(me)}),(0,Pe.U)(de=>Object.assign(Object.assign({},de),{guards:jo(de.targetSnapshot,de.currentSnapshot,this.rootContexts)})),function jt(I,y){return(0,Dn.z)(_=>{const{targetSnapshot:C,currentSnapshot:O,guards:{canActivateChecks:F,canDeactivateChecks:Z}}=_;return 0===Z.length&&0===F.length?(0,Ue.of)(Object.assign(Object.assign({},_),{guardsResult:!0})):function xt(I,y,_,C){return(0,pe.D)(I).pipe((0,Dn.z)(O=>function zn(I,y,_,C,O){const F=y&&y.routeConfig?y.routeConfig.canDeactivate:null;if(!F||0===F.length)return(0,Ue.of)(!0);const Z=F.map(de=>{const me=P(de,y,O);let he;if(function gi(I){return I&&Jr(I.canDeactivate)}(me))he=Ge(me.canDeactivate(I,y,_,C));else{if(!Jr(me))throw new Error("Invalid CanDeactivate guard");he=Ge(me(I,y,_,C))}return he.pipe((0,Xt.P)())});return(0,Ue.of)(Z).pipe(Fr())}(O.component,O.route,_,y,C)),(0,Xt.P)(O=>!0!==O,!0))}(Z,C,O,I).pipe((0,Dn.z)(de=>de&&function vs(I){return"boolean"==typeof I}(de)?function on(I,y,_,C){return(0,pe.D)(y).pipe((0,Yn.b)(O=>(0,et.z)(function Jn(I,y){return null!==I&&y&&y(new Pn(I)),(0,Ue.of)(!0)}(O.route.parent,C),function sn(I,y){return null!==I&&y&&y(new Oe(I)),(0,Ue.of)(!0)}(O.route,C),function nr(I,y,_){const C=y[y.length-1],F=y.slice(0,y.length-1).reverse().map(Z=>function k(I){const y=I.routeConfig?I.routeConfig.canActivateChild:null;return y&&0!==y.length?{node:I,guards:y}:null}(Z)).filter(Z=>null!==Z).map(Z=>nt(()=>{const de=Z.guards.map(me=>{const he=P(me,Z.node,_);let ze;if(function pi(I){return I&&Jr(I.canActivateChild)}(he))ze=Ge(he.canActivateChild(C,I));else{if(!Jr(he))throw new Error("Invalid CanActivateChild guard");ze=Ge(he(C,I))}return ze.pipe((0,Xt.P)())});return(0,Ue.of)(de).pipe(Fr())}));return(0,Ue.of)(F).pipe(Fr())}(I,O.path,_),function _r(I,y,_){const C=y.routeConfig?y.routeConfig.canActivate:null;if(!C||0===C.length)return(0,Ue.of)(!0);const O=C.map(F=>nt(()=>{const Z=P(F,y,_);let de;if(function Vo(I){return I&&Jr(I.canActivate)}(Z))de=Ge(Z.canActivate(y,I));else{if(!Jr(Z))throw new Error("Invalid CanActivate guard");de=Ge(Z(y,I))}return de.pipe((0,Xt.P)())}));return(0,Ue.of)(O).pipe(Fr())}(I,O.route,_))),(0,Xt.P)(O=>!0!==O,!0))}(C,F,I,y):(0,Ue.of)(de)),(0,Pe.U)(de=>Object.assign(Object.assign({},_),{guardsResult:de})))})}(this.ngModule.injector,de=>this.triggerEvent(de)),(0,Ct.b)(de=>{if(Ii(de.guardsResult)){const he=It(`Redirecting to "${this.serializeUrl(de.guardsResult)}"`);throw he.url=de.guardsResult,he}const me=new ot(de.id,this.serializeUrl(de.extractedUrl),this.serializeUrl(de.urlAfterRedirects),de.targetSnapshot,!!de.guardsResult);this.triggerEvent(me)}),(0,Tt.h)(de=>!!de.guardsResult||(this.restoreHistory(de),this.cancelNavigationTransition(de,""),!1)),yi(de=>{if(de.guards.canActivateChecks.length)return(0,Ue.of)(de).pipe((0,Ct.b)(me=>{const he=new Tn(me.id,this.serializeUrl(me.extractedUrl),this.serializeUrl(me.urlAfterRedirects),me.targetSnapshot);this.triggerEvent(he)}),(0,Yt.w)(me=>{let he=!1;return(0,Ue.of)(me).pipe(function $o(I,y){return(0,Dn.z)(_=>{const{targetSnapshot:C,guards:{canActivateChecks:O}}=_;if(!O.length)return(0,Ue.of)(_);let F=0;return(0,pe.D)(O).pipe((0,Yn.b)(Z=>function To(I,y,_,C){return function Oa(I,y,_,C){const O=Object.keys(I);if(0===O.length)return(0,Ue.of)({});const F={};return(0,pe.D)(O).pipe((0,Dn.z)(Z=>function eo(I,y,_,C){const O=P(I,y,C);return Ge(O.resolve?O.resolve(y,_):O(y,_))}(I[Z],y,_,C).pipe((0,Ct.b)(de=>{F[Z]=de}))),Ce(1),(0,Dn.z)(()=>Object.keys(F).length===O.length?(0,Ue.of)(F):Dt.E))}(I._resolve,I,y,C).pipe((0,Pe.U)(F=>(I._resolvedData=F,I.data=Object.assign(Object.assign({},I.data),$r(I,_).resolve),null)))}(Z.route,C,I,y)),(0,Ct.b)(()=>F++),Ce(1),(0,Dn.z)(Z=>F===O.length?(0,Ue.of)(_):Dt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ct.b)({next:()=>he=!0,complete:()=>{he||(this.restoreHistory(me),this.cancelNavigationTransition(me,"At least one route resolver didn't emit any value."))}}))}),(0,Ct.b)(me=>{const he=new Nt(me.id,this.serializeUrl(me.extractedUrl),this.serializeUrl(me.urlAfterRedirects),me.targetSnapshot);this.triggerEvent(he)}))}),yi(de=>{const{targetSnapshot:me,id:he,extractedUrl:ze,rawUrl:Lt,extras:{skipLocationChange:Wn,replaceUrl:Xn}}=de;return this.hooks.afterPreactivation(me,{navigationId:he,appliedUrlTree:ze,rawUrlTree:Lt,skipLocationChange:!!Wn,replaceUrl:!!Xn})}),(0,Pe.U)(de=>{const me=function cs(I,y,_){const C=Xs(I,y._root,_?_._root:void 0);return new Xe(C,y)}(this.routeReuseStrategy,de.targetSnapshot,de.currentRouterState);return Object.assign(Object.assign({},de),{targetRouterState:me})}),(0,Ct.b)(de=>{this.currentUrlTree=de.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(de.urlAfterRedirects,de.rawUrl),this.routerState=de.targetRouterState,"deferred"===this.urlUpdateStrategy&&(de.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,de),this.browserUrlTree=de.urlAfterRedirects)}),((I,y,_)=>(0,Pe.U)(C=>(new _s(y,C.targetRouterState,C.currentRouterState,_).activate(I),C)))(this.rootContexts,this.routeReuseStrategy,de=>this.triggerEvent(de)),(0,Ct.b)({next(){F=!0},complete(){F=!0}}),function ut(I){return(0,_e.e)((y,_)=>{try{y.subscribe(_)}finally{_.add(I)}})}(()=>{var de;F||Z||this.cancelNavigationTransition(O,`Navigation ID ${O.id} is not equal to the current navigation id ${this.navigationId}`),(null===(de=this.currentNavigation)||void 0===de?void 0:de.id)===O.id&&(this.currentNavigation=null)}),(0,kt.K)(de=>{if(Z=!0,function hn(I){return I&&I[gt]}(de)){const me=Ii(de.url);me||(this.navigated=!0,this.restoreHistory(O,!0));const he=new Nn(O.id,this.serializeUrl(O.extractedUrl),de.message);C.next(he),me?setTimeout(()=>{const ze=this.urlHandlingStrategy.merge(de.url,this.rawUrlTree),Lt={skipLocationChange:O.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||rs(O.source)};this.scheduleNavigation(ze,"imperative",null,Lt,{resolve:O.resolve,reject:O.reject,promise:O.promise})},0):O.resolve(!1)}else{this.restoreHistory(O,!0);const me=new ni(O.id,this.serializeUrl(O.extractedUrl),de);C.next(me);try{O.resolve(this.errorHandler(de))}catch(he){O.reject(he)}}return Dt.E}))}))}resetRootComponentType(_){this.rootComponentType=_,this.routerState.root.component=this.rootComponentType}setTransition(_){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),_))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const C="popstate"===_.type?"popstate":"hashchange";"popstate"===C&&setTimeout(()=>{var O;const F={replaceUrl:!0},Z=(null===(O=_.state)||void 0===O?void 0:O.navigationId)?_.state:null;if(Z){const me=Object.assign({},Z);delete me.navigationId,delete me.\u0275routerPageId,0!==Object.keys(me).length&&(F.state=me)}const de=this.parseUrl(_.url);this.scheduleNavigation(de,C,Z,F)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(_){this.events.next(_)}resetConfig(_){Ls(_),this.config=_.map(ho),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,C={}){const{relativeTo:O,queryParams:F,fragment:Z,queryParamsHandling:de,preserveFragment:me}=C,he=O||this.routerState.root,ze=me?this.currentUrlTree.fragment:Z;let Lt=null;switch(de){case"merge":Lt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),F);break;case"preserve":Lt=this.currentUrlTree.queryParams;break;default:Lt=F||null}return null!==Lt&&(Lt=this.removeEmptyProps(Lt)),function Ms(I,y,_,C,O){if(0===_.length)return ye(y.root,y.root,y,C,O);const F=function vt(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new Je(!0,0,I);let y=0,_=!1;const C=I.reduce((O,F,Z)=>{if("object"==typeof F&&null!=F){if(F.outlets){const de={};return ce(F.outlets,(me,he)=>{de[he]="string"==typeof me?me.split("/"):me}),[...O,{outlets:de}]}if(F.segmentPath)return[...O,F.segmentPath]}return"string"!=typeof F?[...O,F]:0===Z?(F.split("/").forEach((de,me)=>{0==me&&"."===de||(0==me&&""===de?_=!0:".."===de?y++:""!=de&&O.push(de))}),O):[...O,F]},[]);return new Je(_,y,C)}(_);if(F.toRoot())return ye(y.root,new en([],{}),y,C,O);const Z=function Bn(I,y,_){if(I.isAbsolute)return new Ot(y.root,!0,0);if(-1===_.snapshot._lastPathIndex){const F=_.snapshot._urlSegment;return new Ot(F,F===y.root,0)}const C=ys(I.commands[0])?0:1;return function Rr(I,y,_){let C=I,O=y,F=_;for(;F>O;){if(F-=O,C=C.parent,!C)throw new Error("Invalid number of '../'");O=C.segments.length}return new Ot(C,!1,O-F)}(_.snapshot._urlSegment,_.snapshot._lastPathIndex+C,I.numberOfDoubleDots)}(F,y,I),de=Z.processChildren?ls(Z.segmentGroup,Z.index,F.commands):es(Z.segmentGroup,Z.index,F.commands);return ye(Z.segmentGroup,de,y,C,O)}(he,this.currentUrlTree,_,Lt,null!=ze?ze:null)}navigateByUrl(_,C={skipLocationChange:!1}){const O=Ii(_)?_:this.parseUrl(_),F=this.urlHandlingStrategy.merge(O,this.rawUrlTree);return this.scheduleNavigation(F,"imperative",null,C)}navigate(_,C={skipLocationChange:!1}){return function La(I){for(let y=0;y<I.length;y++){const _=I[y];if(null==_)throw new Error(`The requested path contains ${_} segment at index ${y}`)}}(_),this.navigateByUrl(this.createUrlTree(_,C),C)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let C;try{C=this.urlSerializer.parse(_)}catch(O){C=this.malformedUriErrorHandler(O,this.urlSerializer,_)}return C}isActive(_,C){let O;if(O=!0===C?Object.assign({},ua):!1===C?Object.assign({},to):C,Ii(_))return On(this.currentUrlTree,_,O);const F=this.parseUrl(_);return On(this.currentUrlTree,F,O)}removeEmptyProps(_){return Object.keys(_).reduce((C,O)=>{const F=_[O];return null!=F&&(C[O]=F),C},{})}processNavigations(){this.navigations.subscribe(_=>{this.navigated=!0,this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId,this.events.next(new an(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,_.resolve(!0)},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}scheduleNavigation(_,C,O,F,Z){var de,me,he;if(this.disposed)return Promise.resolve(!1);const ze=this.transitions.value,Lt=rs(C)&&ze&&!rs(ze.source),Wn=ze.rawUrl.toString()===_.toString(),Xn=ze.id===(null===(de=this.currentNavigation)||void 0===de?void 0:de.id);if(Lt&&Wn&&Xn)return Promise.resolve(!0);let hs,fs,Ki;Z?(hs=Z.resolve,fs=Z.reject,Ki=Z.promise):Ki=new Promise((Yo,Ti)=>{hs=Yo,fs=Ti});const Ts=++this.navigationId;let $i;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(O=this.location.getState()),$i=O&&O.\u0275routerPageId?O.\u0275routerPageId:F.replaceUrl||F.skipLocationChange?null!==(me=this.browserPageId)&&void 0!==me?me:0:(null!==(he=this.browserPageId)&&void 0!==he?he:0)+1):$i=0,this.setTransition({id:Ts,targetPageId:$i,source:C,restoredState:O,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:_,extras:F,resolve:hs,reject:fs,promise:Ki,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ki.catch(Yo=>Promise.reject(Yo))}setBrowserUrl(_,C){const O=this.urlSerializer.serialize(_),F=Object.assign(Object.assign({},C.extras.state),this.generateNgRouterState(C.id,C.targetPageId));this.location.isCurrentPathEqualTo(O)||C.extras.replaceUrl?this.location.replaceState(O,"",F):this.location.go(O,"",F)}restoreHistory(_,C=!1){var O,F;if("computed"===this.canceledNavigationResolution){const Z=this.currentPageId-_.targetPageId;"popstate"!==_.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(O=this.currentNavigation)||void 0===O?void 0:O.finalUrl)||0===Z?this.currentUrlTree===(null===(F=this.currentNavigation)||void 0===F?void 0:F.finalUrl)&&0===Z&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Z)}else"replace"===this.canceledNavigationResolution&&(C&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(_,C){const O=new Nn(_.id,this.serializeUrl(_.extractedUrl),C);this.triggerEvent(O),_.resolve(!1)}generateNgRouterState(_,C){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:C}:{navigationId:_}}}return I.\u0275fac=function(_){E.$Z()},I.\u0275prov=E.Yz7({token:I,factory:I.\u0275fac}),I})();function rs(I){return"imperative"!==I}let vr=(()=>{class I{constructor(_,C,O,F,Z){this.router=_,this.route=C,this.tabIndexAttribute=O,this.renderer=F,this.el=Z,this.commands=null,this.onChanges=new rt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){if(null!=this.tabIndexAttribute)return;const C=this.renderer,O=this.el.nativeElement;null!==_?C.setAttribute(O,"tabindex",_):C.removeAttribute(O,"tabindex")}ngOnChanges(_){this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const _={skipLocationChange:no(this.skipLocationChange),replaceUrl:no(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:no(this.preserveFragment)})}}return I.\u0275fac=function(_){return new(_||I)(E.Y36(Hi),E.Y36(nn),E.$8M("tabindex"),E.Y36(E.Qsj),E.Y36(E.SBq))},I.\u0275dir=E.lG2({type:I,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(_,C){1&_&&E.NdJ("click",function(){return C.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[E.TTD]}),I})(),Wo=(()=>{class I{constructor(_,C,O){this.router=_,this.route=C,this.locationStrategy=O,this.commands=null,this.href=null,this.onChanges=new rt.x,this.subscription=_.events.subscribe(F=>{F instanceof an&&this.updateTargetUrlAndHref()})}set routerLink(_){this.commands=null!=_?Array.isArray(_)?_:[_]:null}ngOnChanges(_){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(_,C,O,F,Z){if(0!==_||C||O||F||Z||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const de={skipLocationChange:no(this.skipLocationChange),replaceUrl:no(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,de),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:no(this.preserveFragment)})}}return I.\u0275fac=function(_){return new(_||I)(E.Y36(Hi),E.Y36(nn),E.Y36(vn.S$))},I.\u0275dir=E.lG2({type:I,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(_,C){1&_&&E.NdJ("click",function(F){return C.onClick(F.button,F.ctrlKey,F.shiftKey,F.altKey,F.metaKey)}),2&_&&E.uIk("target",C.target)("href",C.href,E.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[E.TTD]}),I})();function no(I){return""===I||!!I}let po=(()=>{class I{constructor(_,C,O,F,Z,de){this.router=_,this.element=C,this.renderer=O,this.cdr=F,this.link=Z,this.linkWithHref=de,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new E.vpe,this.routerEventsSubscription=_.events.subscribe(me=>{me instanceof an&&this.update()})}ngAfterContentInit(){(0,Ue.of)(this.links.changes,this.linksWithHrefs.changes,(0,Ue.of)(null)).pipe((0,Un.J)()).subscribe(_=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var _;null===(_=this.linkInputChangesSubscription)||void 0===_||_.unsubscribe();const C=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(O=>!!O).map(O=>O.onChanges);this.linkInputChangesSubscription=(0,pe.D)(C).pipe((0,Un.J)()).subscribe(O=>{this.isActive!==this.isLinkActive(this.router)(O)&&this.update()})}set routerLinkActive(_){const C=Array.isArray(_)?_:_.split(" ");this.classes=C.filter(O=>!!O)}ngOnChanges(_){this.update()}ngOnDestroy(){var _;this.routerEventsSubscription.unsubscribe(),null===(_=this.linkInputChangesSubscription)||void 0===_||_.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const _=this.hasActiveLinks();this.isActive!==_&&(this.isActive=_,this.cdr.markForCheck(),this.classes.forEach(C=>{_?this.renderer.addClass(this.element.nativeElement,C):this.renderer.removeClass(this.element.nativeElement,C)}),this.isActiveChange.emit(_))})}isLinkActive(_){const C=function qo(I){return!!I.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return O=>!!O.urlTree&&_.isActive(O.urlTree,C)}hasActiveLinks(){const _=this.isLinkActive(this.router);return this.link&&_(this.link)||this.linkWithHref&&_(this.linkWithHref)||this.links.some(_)||this.linksWithHrefs.some(_)}}return I.\u0275fac=function(_){return new(_||I)(E.Y36(Hi),E.Y36(E.SBq),E.Y36(E.Qsj),E.Y36(E.sBO),E.Y36(vr,8),E.Y36(Wo,8))},I.\u0275dir=E.lG2({type:I,selectors:[["","routerLinkActive",""]],contentQueries:function(_,C,O){if(1&_&&(E.Suo(O,vr,5),E.Suo(O,Wo,5)),2&_){let F;E.iGM(F=E.CRH())&&(C.links=F),E.iGM(F=E.CRH())&&(C.linksWithHrefs=F)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[E.TTD]}),I})();class Ks{}class ca{preload(y,_){return(0,Ue.of)(null)}}let Vu=(()=>{class I{constructor(_,C,O,F){this.router=_,this.injector=O,this.preloadingStrategy=F,this.loader=new au(O,C,me=>_.triggerEvent(new dn(me)),me=>_.triggerEvent(new wn(me)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Tt.h)(_=>_ instanceof an),(0,Yn.b)(()=>this.preload())).subscribe(()=>{})}preload(){const _=this.injector.get(E.h0i);return this.processRoutes(_,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,C){const O=[];for(const F of C)if(F.loadChildren&&!F.canLoad&&F._loadedConfig){const Z=F._loadedConfig;O.push(this.processRoutes(Z.module,Z.routes))}else F.loadChildren&&!F.canLoad?O.push(this.preloadConfig(_,F)):F.children&&O.push(this.processRoutes(_,F.children));return(0,pe.D)(O).pipe((0,Un.J)(),(0,Pe.U)(F=>{}))}preloadConfig(_,C){return this.preloadingStrategy.preload(C,()=>(C._loadedConfig?(0,Ue.of)(C._loadedConfig):this.loader.load(_.injector,C)).pipe((0,Dn.z)(F=>(C._loadedConfig=F,this.processRoutes(F.module,F.routes)))))}}return I.\u0275fac=function(_){return new(_||I)(E.LFG(Hi),E.LFG(E.Sil),E.LFG(E.zs3),E.LFG(Ks))},I.\u0275prov=E.Yz7({token:I,factory:I.\u0275fac}),I})(),So=(()=>{class I{constructor(_,C,O={}){this.router=_,this.viewportScroller=C,this.options=O,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},O.scrollPositionRestoration=O.scrollPositionRestoration||"disabled",O.anchorScrolling=O.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof Cr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof an&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.router.parseUrl(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof oe&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,C){this.router.triggerEvent(new oe(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,C))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return I.\u0275fac=function(_){E.$Z()},I.\u0275prov=E.Yz7({token:I,factory:I.\u0275fac}),I})();const ii=new E.OlP("ROUTER_CONFIGURATION"),Di=new E.OlP("ROUTER_FORROOT_GUARD"),ju=[vn.Ye,{provide:ri,useClass:gr},{provide:Hi,useFactory:function uu(I,y,_,C,O,F,Z={},de,me){const he=new Hi(null,I,y,_,C,O,un(F));return de&&(he.urlHandlingStrategy=de),me&&(he.routeReuseStrategy=me),function Ys(I,y){I.errorHandler&&(y.errorHandler=I.errorHandler),I.malformedUriErrorHandler&&(y.malformedUriErrorHandler=I.malformedUriErrorHandler),I.onSameUrlNavigation&&(y.onSameUrlNavigation=I.onSameUrlNavigation),I.paramsInheritanceStrategy&&(y.paramsInheritanceStrategy=I.paramsInheritanceStrategy),I.relativeLinkResolution&&(y.relativeLinkResolution=I.relativeLinkResolution),I.urlUpdateStrategy&&(y.urlUpdateStrategy=I.urlUpdateStrategy),I.canceledNavigationResolution&&(y.canceledNavigationResolution=I.canceledNavigationResolution)}(Z,he),Z.enableTracing&&he.events.subscribe(ze=>{var Lt,Wn;null===(Lt=console.group)||void 0===Lt||Lt.call(console,`Router Event: ${ze.constructor.name}`),console.log(ze.toString()),console.log(ze),null===(Wn=console.groupEnd)||void 0===Wn||Wn.call(console)}),he},deps:[ri,ji,vn.Ye,E.zs3,E.Sil,Go,ii,[class aa{},new E.FiY],[class bs{},new E.FiY]]},ji,{provide:nn,useFactory:function go(I){return I.routerState.root},deps:[Hi]},Vu,ca,class Ao{preload(y,_){return _().pipe((0,kt.K)(()=>(0,Ue.of)(null)))}},{provide:ii,useValue:{enableTracing:!1}}];function Zo(){return new E.PXZ("Router",Hi)}let la=(()=>{class I{constructor(_,C){}static forRoot(_,C){return{ngModule:I,providers:[ju,Ko(_),{provide:Di,useFactory:Hu,deps:[[Hi,new E.FiY,new E.tp0]]},{provide:ii,useValue:C||{}},{provide:vn.S$,useFactory:Ro,deps:[vn.lw,[new E.tBr(vn.mr),new E.FiY],ii]},{provide:So,useFactory:yc,deps:[Hi,vn.EM,ii]},{provide:Ks,useExisting:C&&C.preloadingStrategy?C.preloadingStrategy:ca},{provide:E.PXZ,multi:!0,useFactory:Zo},[da,{provide:E.ip1,multi:!0,useFactory:$u,deps:[da]},{provide:ro,useFactory:si,deps:[da]},{provide:E.tb,multi:!0,useExisting:ro}]]}}static forChild(_){return{ngModule:I,providers:[Ko(_)]}}}return I.\u0275fac=function(_){return new(_||I)(E.LFG(Di,8),E.LFG(Hi,8))},I.\u0275mod=E.oAB({type:I}),I.\u0275inj=E.cJS({}),I})();function yc(I,y,_){return _.scrollOffset&&y.setOffset(_.scrollOffset),new So(I,y,_)}function Ro(I,y,_={}){return _.useHash?new vn.Do(I,y):new vn.b0(I,y)}function Hu(I){return"guarded"}function Ko(I){return[{provide:E.deG,multi:!0,useValue:I},{provide:Go,multi:!0,useValue:I}]}let da=(()=>{class I{constructor(_){this.injector=_,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new rt.x}appInitializer(){return this.injector.get(vn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let C=null;const O=new Promise(de=>C=de),F=this.injector.get(Hi),Z=this.injector.get(ii);return"disabled"===Z.initialNavigation?(F.setUpLocationChangeListener(),C(!0)):"enabled"===Z.initialNavigation||"enabledBlocking"===Z.initialNavigation?(F.hooks.afterPreactivation=()=>this.initNavigation?(0,Ue.of)(null):(this.initNavigation=!0,C(!0),this.resultOfPreactivationDone),F.initialNavigation()):C(!0),O})}bootstrapListener(_){const C=this.injector.get(ii),O=this.injector.get(Vu),F=this.injector.get(So),Z=this.injector.get(Hi),de=this.injector.get(E.z2F);_===de.components[0]&&(("enabledNonBlocking"===C.initialNavigation||void 0===C.initialNavigation)&&Z.initialNavigation(),O.setUpPreloading(),F.init(),Z.resetRootComponentType(de.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return I.\u0275fac=function(_){return new(_||I)(E.LFG(E.zs3))},I.\u0275prov=E.Yz7({token:I,factory:I.\u0275fac}),I})();function $u(I){return I.appInitializer.bind(I)}function si(I){return I.bootstrapListener.bind(I)}const ro=new E.OlP("Router Initializer")},3942:(Pt,$e,L)=>{"use strict";L.d($e,{Z:()=>nt});var E=L(2090),x=L(4859),G=L(9681),pe=L(1877);class ge{constructor(_e,Le){this._delegate=_e,this.firebase=Le,(0,G._addComponent)(_e,new x.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(_e,Le=G._DEFAULT_ENTRY_NAME){var Ke;this._delegate.checkDestroyed();const Ue=this._delegate.container.getProvider(_e);return!Ue.isInitialized()&&"EXPLICIT"===(null===(Ke=Ue.getComponent())||void 0===Ke?void 0:Ke.instantiationMode)&&Ue.initialize(),Ue.getImmediate({identifier:Le})}_removeServiceInstance(_e,Le=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(Le)}_addComponent(_e){(0,G._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,G._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new E.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function Me(){const at=function Ae(at){const _e={},Le={__esModule:!0,initializeApp:function Y(rt,Tt={}){const Ce=G.initializeApp(rt,Tt);if((0,E.r3)(_e,Ce.name))return _e[Ce.name];const ve=new at(Ce,Le);return _e[Ce.name]=ve,ve},app:Ue,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function et(rt){const Tt=rt.name,Ce=Tt.replace("-compat","");if(G._registerComponent(rt)&&"PUBLIC"===rt.type){const ve=(Ve=Ue())=>{if("function"!=typeof Ve[Ce])throw Re.create("invalid-app-argument",{appName:Tt});return Ve[Ce]()};void 0!==rt.serviceProps&&(0,E.ZB)(ve,rt.serviceProps),Le[Ce]=ve,at.prototype[Ce]=function(...Ve){return this._getService.bind(this,Tt).apply(this,rt.multipleInstances?Ve:[])}}return"PUBLIC"===rt.type?Le[Ce]:null},removeApp:function Ke(rt){delete _e[rt]},useAsService:function Dt(rt,Tt){return"serverAuth"===Tt?null:Tt},modularAPIs:G}};function Ue(rt){if(!(0,E.r3)(_e,rt=rt||G._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:rt});return _e[rt]}return Le.default=Le,Object.defineProperty(Le,"apps",{get:function st(){return Object.keys(_e).map(rt=>_e[rt])}}),Ue.App=at,Le}(ge);return at.INTERNAL=Object.assign(Object.assign({},at.INTERNAL),{createFirebaseNamespace:Me,extendNamespace:function _e(Le){(0,E.ZB)(at,Le)},createSubscribe:E.ne,ErrorFactory:E.LL,deepExtend:E.ZB}),at}(),ee=new pe.Yd("@firebase/app-compat");if((0,E.jU)()&&void 0!==self.firebase){ee.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const at=self.firebase.SDK_VERSION;at&&at.indexOf("LITE")>=0&&ee.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const nt=ne;!function We(at){(0,G.registerVersion)("@firebase/app-compat","0.1.16",at)}()},9681:(Pt,$e,L)=>{"use strict";L.r($e),L.d($e,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>ni,_DEFAULT_ENTRY_NAME:()=>sr,_addComponent:()=>Xt,_addOrOverwriteComponent:()=>Dn,_apps:()=>kt,_clearComponents:()=>Mn,_components:()=>Yn,_getProvider:()=>Un,_registerComponent:()=>Ct,_removeServiceInstance:()=>vn,deleteApp:()=>Tn,getApp:()=>Er,getApps:()=>ot,initializeApp:()=>Or,onLog:()=>wn,registerVersion:()=>dn,setLogLevel:()=>Pn});var E=L(5861),x=L(4859),G=L(1877),pe=L(2090);class ge{constructor(X){this.container=X}getPlatformInfoString(){return this.container.getProviders().map(oe=>{if(function Te(Oe){const X=Oe.getComponent();return"VERSION"===(null==X?void 0:X.type)}(oe)){const Fe=oe.getImmediate();return`${Fe.library}/${Fe.version}`}return null}).filter(oe=>oe).join(" ")}}const Re="@firebase/app",Me=new G.Yd("@firebase/app"),sr="[DEFAULT]",Wt={[Re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},kt=new Map,Yn=new Map;function Xt(Oe,X){try{Oe.container.addComponent(X)}catch(oe){Me.debug(`Component ${X.name} failed to register with FirebaseApp ${Oe.name}`,oe)}}function Dn(Oe,X){Oe.container.addOrOverwriteComponent(X)}function Ct(Oe){const X=Oe.name;if(Yn.has(X))return Me.debug(`There were multiple attempts to register component ${X}.`),!1;Yn.set(X,Oe);for(const oe of kt.values())Xt(oe,Oe);return!0}function Un(Oe,X){return Oe.container.getProvider(X)}function vn(Oe,X,oe=sr){Un(Oe,X).clearInstance(oe)}function Mn(){Yn.clear()}const an=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Nn{constructor(X,oe,Fe){this._isDeleted=!1,this._options=Object.assign({},X),this._config=Object.assign({},oe),this._name=oe.name,this._automaticDataCollectionEnabled=oe.automaticDataCollectionEnabled,this._container=Fe,this.container.addComponent(new x.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this.checkDestroyed(),this._automaticDataCollectionEnabled=X}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(X){this._isDeleted=X}checkDestroyed(){if(this.isDeleted)throw an.create("app-deleted",{appName:this._name})}}const ni="9.6.5";function Or(Oe,X={}){"object"!=typeof X&&(X={name:X});const oe=Object.assign({name:sr,automaticDataCollectionEnabled:!1},X),Fe=oe.name;if("string"!=typeof Fe||!Fe)throw an.create("bad-app-name",{appName:String(Fe)});const tt=kt.get(Fe);if(tt){if((0,pe.vZ)(Oe,tt.options)&&(0,pe.vZ)(oe,tt.config))return tt;throw an.create("duplicate-app",{appName:Fe})}const yt=new x.H0(Fe);for(const It of Yn.values())yt.addComponent(It);const gt=new Nn(Oe,oe,yt);return kt.set(Fe,gt),gt}function Er(Oe=sr){const X=kt.get(Oe);if(!X)throw an.create("no-app",{appName:Oe});return X}function ot(){return Array.from(kt.values())}function Tn(Oe){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,E.Z)(function*(Oe){const X=Oe.name;kt.has(X)&&(kt.delete(X),yield Promise.all(Oe.container.getProviders().map(oe=>oe.delete())),Oe.isDeleted=!0)})).apply(this,arguments)}function dn(Oe,X,oe){var Fe;let tt=null!==(Fe=Wt[Oe])&&void 0!==Fe?Fe:Oe;oe&&(tt+=`-${oe}`);const yt=tt.match(/\s|\//),gt=X.match(/\s|\//);if(yt||gt){const It=[`Unable to register library "${tt}" with version "${X}":`];return yt&&It.push(`library name "${tt}" contains illegal characters (whitespace or "/")`),yt&&gt&&It.push("and"),gt&&It.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void Me.warn(It.join(" "))}Ct(new x.wA(`${tt}-version`,()=>({library:tt,version:X}),"VERSION"))}function wn(Oe,X){if(null!==Oe&&"function"!=typeof Oe)throw an.create("invalid-log-argument");(0,G.Am)(Oe,X)}function Pn(Oe){(0,G.Ub)(Oe)}!function di(Oe){Ct(new x.wA("platform-logger",X=>new ge(X),"PRIVATE")),dn(Re,"0.7.15",Oe),dn(Re,"0.7.15","esm2017"),dn("fire-js","")}("")},4859:(Pt,$e,L)=>{"use strict";L.d($e,{wA:()=>G,H0:()=>Ae});var E=L(5861),x=L(2090);class G{constructor(ne,ee,Se){this.name=ne,this.instanceFactory=ee,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const pe="[DEFAULT]";class ge{constructor(ne,ee){this.name=ne,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const ee=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(ee)){const Se=new x.BH;if(this.instancesDeferred.set(ee,Se),this.isInitialized(ee)||this.shouldAutoInitialize())try{const pt=this.getOrInitializeService({instanceIdentifier:ee});pt&&Se.resolve(pt)}catch(pt){}}return this.instancesDeferred.get(ee).promise}getImmediate(ne){var ee;const Se=this.normalizeInstanceIdentifier(null==ne?void 0:ne.identifier),pt=null!==(ee=null==ne?void 0:ne.optional)&&void 0!==ee&&ee;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(pt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(We){if(pt)return null;throw We}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function Re(Me){return"EAGER"===Me.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:pe})}catch(ee){}for(const[ee,Se]of this.instancesDeferred.entries()){const pt=this.normalizeInstanceIdentifier(ee);try{const We=this.getOrInitializeService({instanceIdentifier:pt});Se.resolve(We)}catch(We){}}}}clearInstance(ne=pe){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,E.Z)(function*(){const ee=Array.from(ne.instances.values());yield Promise.all([...ee.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...ee.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=pe){return this.instances.has(ne)}getOptions(ne=pe){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:ee={}}=ne,Se=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const pt=this.getOrInitializeService({instanceIdentifier:Se,options:ee});for(const[We,nt]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(We)&&nt.resolve(pt);return pt}onInit(ne,ee){var Se;const pt=this.normalizeInstanceIdentifier(ee),We=null!==(Se=this.onInitCallbacks.get(pt))&&void 0!==Se?Se:new Set;We.add(ne),this.onInitCallbacks.set(pt,We);const nt=this.instances.get(pt);return nt&&ne(nt,pt),()=>{We.delete(ne)}}invokeOnInitCallbacks(ne,ee){const Se=this.onInitCallbacks.get(ee);if(Se)for(const pt of Se)try{pt(ne,ee)}catch(We){}}getOrInitializeService({instanceIdentifier:ne,options:ee={}}){let Se=this.instances.get(ne);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(Me=ne,Me===pe?void 0:Me),options:ee}),this.instances.set(ne,Se),this.instancesOptions.set(ne,ee),this.invokeOnInitCallbacks(Se,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,Se)}catch(pt){}var Me;return Se||null}normalizeInstanceIdentifier(ne=pe){return this.component?this.component.multipleInstances?ne:pe:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const ee=this.getProvider(ne.name);if(ee.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);ee.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const ee=new ge(ne,this);return this.providers.set(ne,ee),ee}getProviders(){return Array.from(this.providers.values())}}},1877:(Pt,$e,L)=>{"use strict";L.d($e,{in:()=>x,Yd:()=>Re,Ub:()=>Ae,Am:()=>Me});const E=[];var x=(()=>{return(ne=x||(x={}))[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",x;var ne})();const G={debug:x.DEBUG,verbose:x.VERBOSE,info:x.INFO,warn:x.WARN,error:x.ERROR,silent:x.SILENT},pe=x.INFO,ge={[x.DEBUG]:"log",[x.VERBOSE]:"log",[x.INFO]:"info",[x.WARN]:"warn",[x.ERROR]:"error"},Te=(ne,ee,...Se)=>{if(ee<ne.logLevel)return;const pt=(new Date).toISOString(),We=ge[ee];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[We](`[${pt}]  ${ne.name}:`,...Se)};class Re{constructor(ee){this.name=ee,this._logLevel=pe,this._logHandler=Te,this._userLogHandler=null,E.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in x))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?G[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,x.DEBUG,...ee),this._logHandler(this,x.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,x.VERBOSE,...ee),this._logHandler(this,x.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,x.INFO,...ee),this._logHandler(this,x.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,x.WARN,...ee),this._logHandler(this,x.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,x.ERROR,...ee),this._logHandler(this,x.ERROR,...ee)}}function Ae(ne){E.forEach(ee=>{ee.setLogLevel(ne)})}function Me(ne,ee){for(const Se of E){let pt=null;ee&&ee.level&&(pt=G[ee.level]),Se.userLogHandler=null===ne?null:(We,nt,...at)=>{const _e=at.map(Le=>{if(null==Le)return null;if("string"==typeof Le)return Le;if("number"==typeof Le||"boolean"==typeof Le)return Le.toString();if(Le instanceof Error)return Le.message;try{return JSON.stringify(Le)}catch(Ke){return null}}).filter(Le=>Le).join(" ");nt>=(null!=pt?pt:We.logLevel)&&ne({level:x[nt].toLowerCase(),message:_e,args:at,type:We.name})}}}},5861:(Pt,$e,L)=>{"use strict";function E(G,pe,ge,Te,Re,Ae,Me){try{var ne=G[Ae](Me),ee=ne.value}catch(Se){return void ge(Se)}ne.done?pe(ee):Promise.resolve(ee).then(Te,Re)}function x(G){return function(){var pe=this,ge=arguments;return new Promise(function(Te,Re){var Ae=G.apply(pe,ge);function Me(ee){E(Ae,Te,Re,Me,ne,"next",ee)}function ne(ee){E(Ae,Te,Re,Me,ne,"throw",ee)}Me(void 0)})}}L.d($e,{Z:()=>x})}},Pt=>{Pt(Pt.s=9263)}]);