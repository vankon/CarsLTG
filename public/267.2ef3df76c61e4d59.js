"use strict";(self.webpackChunkCarsLTG=self.webpackChunkCarsLTG||[]).push([[267],{1267:(R,f,s)=>{s.r(f),s.d(f,{HomepageModule:()=>X});var p=s(9808),C=s(6115),t=s(5e3),m=s(4004),h=s(3900),x=s(8306),v=s(4742),M=s(8421),Z=s(7669),P=s(5403),A=s(3268),T=s(1810);function l(...n){const o=(0,Z.jO)(n),{args:e,keys:a}=(0,v.D)(n),i=new x.y(r=>{const{length:c}=e;if(!c)return void r.complete();const d=new Array(c);let y=c,b=c;for(let _=0;_<c;_++){let u=!1;(0,M.Xf)(e[_]).subscribe(new P.Q(r,G=>{u||(u=!0,b--),d[_]=G},()=>y--,void 0,()=>{(!y||!u)&&(b||r.next(a?(0,T.n)(a,d):d),r.complete())}))}});return o?i.pipe((0,A.Z)(o)):i}var U=s(9541),w=s(2084);let g=(()=>{class n{constructor(e,a){this.db=e,this.storage=a}getBrands(){return this.getFromFirebase(this.db.collection("brands"))}getBodyType(){return this.getFromFirebase(this.db.collection("body_type"))}getCars(e){return this.db.collection("cars",a=>a.where(e,"==",!0)).stateChanges().pipe((0,m.U)(a=>a.map(i=>{const r=i.payload.doc.data(),c=i.payload.doc.id,d=new Date(1e3*r.year.seconds);return Object.assign(Object.assign({},r),{id:c,year:d})})),(0,h.w)(a=>l(a.map(i=>l([this.getImageUrl(i.image)]).pipe((0,m.U)(([r])=>Object.assign(Object.assign({},i),{image:r})))))))}getDictionaryRef(e){return this.db.doc(e).snapshotChanges().pipe((0,m.U)(a=>{l([this.getImageUrl(a.image)]).pipe((0,m.U)(([i])=>Object.assign(Object.assign({},a),{image:i})))}))}getFromFirebase(e){return e.snapshotChanges().pipe((0,m.U)(a=>a.slice(0,6)),(0,m.U)(a=>a.map(i=>{const r=i.payload.doc.data(),c=i.payload.doc.id;return Object.assign(Object.assign({},r),{id:c})})),(0,h.w)(a=>l(a.map(i=>l([this.getImageUrl(i.image)]).pipe((0,m.U)(([r])=>Object.assign(Object.assign({},i),{image:r})))))))}getImageUrl(e){return this.storage.refFromURL(e).getDownloadURL()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(U.ST),t.LFG(w.Q1))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var F=s(520);let q=(()=>{class n{constructor(e){this.http=e}getData(){return this.http.post(`${n.url}`,{action:"",location_id:71,location_type:"COUNTRY",type:"AD",user_id:1}).pipe((0,m.U)(a=>a.best_selling_car_models.filter(i=>i.vehicle.picture_url).map(i=>{var r;const c={id:i.vehicle.id,name:i.vehicle.model_name,image:i.vehicle.picture_url,year:new Date(i.year),brand_image:null===(r=i.vehicle.make)||void 0===r?void 0:r.logo_url,best_selling:!1,is_canada:!1,most_selling:!1,most_visited:!1};return Object.assign({},c)})))}}return n.url="http://almond-platform.com:7015/auto-market/landing-page?user-id=3",n.\u0275fac=function(e){return new(e||n)(t.LFG(F.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function S(n,o){if(1&n&&(t.TgZ(0,"div",12),t._UZ(1,"img",5),t.TgZ(2,"span"),t._uU(3),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.model.brand_image,t.LSH),t.xp6(2),t.Oqu(e.model.brand_image)}}function j(n,o){if(1&n&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.YNc(2,S,4,2,"div",3),t.TgZ(3,"div",4),t._UZ(4,"img",5),t.qZA(),t.TgZ(5,"div",6),t.TgZ(6,"div",7),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"div",8),t._uU(10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"div",9),t.TgZ(12,"a",10),t._uU(13,"1420 offers "),t.TgZ(14,"span",11),t._uU(15,"navigate_next"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.model.brand_image),t.xp6(2),t.Q6J("src",e.model.image,t.LSH),t.xp6(3),t.Oqu(t.xi3(8,4,e.model.year,"yyyy")),t.xp6(3),t.Oqu(e.model.name)}}let O=(()=>{class n{constructor(e){this.carService=e}ngOnInit(){var e;this.model.brand_image||null===(e=this.model.brand)||void 0===e||e.get().then(a=>this.carService.getImageUrl(a.data().image).subscribe(i=>this.model.brand_image=i))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-car-item"]],inputs:{model:"model"},decls:1,vars:1,consts:[["class","auto-card",4,"ngIf"],[1,"auto-card"],[1,"auto-card-inner"],["class","auto-card__brand",4,"ngIf"],[1,"auto-card__image"],["alt","",3,"src"],[1,"auto-card__info"],[1,"auto-card__year"],[1,"auto-card__name"],[1,"auto-card__offers"],["href","#"],[1,"material-icons"],[1,"auto-card__brand"]],template:function(e,a){1&e&&t.YNc(0,j,16,7,"div",0),2&e&&t.Q6J("ngIf",a.model)},directives:[p.O5],pipes:[p.uU],styles:['[_nghost-%COMP%]{display:block}.auto-card[_ngcontent-%COMP%]{background:#fff;border-radius:9px;box-shadow:0 0 12px 3px #0000001a;position:relative;padding:1rem;overflow:hidden;height:320px}@media screen and (max-width: 991px){.auto-card[_ngcontent-%COMP%]{height:auto}}.auto-card-inner[_ngcontent-%COMP%]{padding-top:240px}.auto-card[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;background:url(bg_card.8cb90e6ba7b8aa6c.png) 0 0 repeat;top:4rem;right:0;width:190px;height:110px;border-top-left-radius:26px;z-index:0}.auto-card__brand[_ngcontent-%COMP%]{width:70px;height:70px;display:flex;position:absolute;top:1rem;left:1rem;z-index:10}.auto-card__brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;max-width:100%;max-height:100%}.auto-card__image[_ngcontent-%COMP%]{position:absolute;right:0;top:80px;z-index:1}.auto-card__year[_ngcontent-%COMP%]{color:gray;display:block;margin-bottom:.5rem}.auto-card__info[_ngcontent-%COMP%]{position:relative;z-index:10}.auto-card__offers[_ngcontent-%COMP%]{opacity:0;visibility:hidden;transition:.3s;transform:translateY(-20px);text-align:center;padding:2rem 0 0}@media screen and (max-width: 991px){.auto-card__offers[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:none}}.auto-card__offers[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;display:flex;align-items:center;justify-content:center;text-decoration:none}.auto-card__offers[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e05314}.auto-card__offers[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:.5rem}.auto-card[_ngcontent-%COMP%]:hover{height:auto}.auto-card[_ngcontent-%COMP%]:hover   .auto-card__offers[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:none}']}),n})();function I(n,o){1&n&&t._UZ(0,"app-car-item",6),2&n&&t.Q6J("model",o.$implicit)}const B=function(n){return{active:n}};function J(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"a",7),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().changeTab(r)}),t._uU(1),t.qZA()}if(2&n){const e=o.$implicit;t.Q6J("ngClass",t.VKq(2,B,e.selected)),t.xp6(1),t.Oqu(e.name)}}function Q(n,o){1&n&&t._UZ(0,"app-car-item",6),2&n&&t.Q6J("model",o.$implicit)}let Y=(()=>{class n{constructor(e,a){this.carService=e,this.samiService=a,this.cars=[],this.bsetSelling=[],this.tabs=[{type:"most_selling",name:"Most selling",selected:!0},{type:"best_selling",name:"Best selling",selected:!1},{type:"most_visited",name:"Most visited",selected:!1}]}ngOnInit(){this.getCarList("most_selling"),this.getData()}changeTab(e){this.tabs.forEach(a=>{a.selected=!1,e.type==a.type&&(a.selected=!0)}),this.getCarList(e.type)}getCarList(e){this.cars=[],this.carService.getCars(e).subscribe(a=>{this.cars=a})}getData(){this.samiService.getData().subscribe(e=>{this.bsetSelling=e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g),t.Y36(q))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-tabs"]],decls:10,vars:3,consts:[[1,"car-list"],["class","car-item",3,"model",4,"ngFor","ngForOf"],[1,"tab-nav"],[1,"tab-nav-list"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"tab-content"],[1,"car-item",3,"model"],[3,"ngClass","click"]],template:function(e,a){1&e&&(t.TgZ(0,"h2"),t._uU(1,"best_selling_car_models"),t.qZA(),t.TgZ(2,"div",0),t.YNc(3,I,1,1,"app-car-item",1),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"div",3),t.YNc(6,J,2,4,"a",4),t.qZA(),t.qZA(),t.TgZ(7,"div",5),t.TgZ(8,"div",0),t.YNc(9,Q,1,1,"app-car-item",1),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngForOf",a.bsetSelling),t.xp6(3),t.Q6J("ngForOf",a.tabs),t.xp6(3),t.Q6J("ngForOf",a.cars))},directives:[p.sg,O,p.mk],styles:["[_nghost-%COMP%]{display:block}.tab-nav[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:2rem}.tab-nav-list[_ngcontent-%COMP%]{display:flex;align-items:center;border-bottom:1px solid #d4d0d0}.tab-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;padding:.75rem 0;margin:0 .75em;position:relative;text-decoration:none;cursor:pointer}.tab-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .tab-nav-list[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#e05314}.car-list[_ngcontent-%COMP%]{display:flex;margin:0 -1rem;height:320px}@media screen and (max-width: 991px){.car-list[_ngcontent-%COMP%]{flex-wrap:wrap;margin:0 0 6rem;height:auto}}.car-list[_ngcontent-%COMP%]   .car-item[_ngcontent-%COMP%]{flex:0 0 calc(25% - 2rem);margin:0 1rem 2rem}@media screen and (max-width: 991px){.car-list[_ngcontent-%COMP%]   .car-item[_ngcontent-%COMP%]{flex:0 0 100%;margin:0 0 2rem}}"]}),n})();function L(n,o){if(1&n&&(t.TgZ(0,"a",2),t.TgZ(1,"div",3),t._UZ(2,"img",4),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.qZA()),2&n){const e=o.$implicit;t.xp6(2),t.Q6J("src",e.image,t.LSH),t.xp6(2),t.Oqu(e.name)}}let H=(()=>{class n{constructor(e){this.carService=e,this.bodyTypes=[]}ngOnInit(){this.carService.getBodyType().subscribe(e=>{this.bodyTypes=e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-body-types"]],decls:2,vars:1,consts:[[1,"type-list"],["class","item",4,"ngFor","ngForOf"],[1,"item"],[1,"item__image"],["alt","",3,"src"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.YNc(1,L,5,2,"a",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",a.bodyTypes))},directives:[p.sg],styles:[".type-list[_ngcontent-%COMP%]{display:flex;margin:0 -1rem}@media screen and (max-width: 991px){.type-list[_ngcontent-%COMP%]{flex-wrap:wrap}}.type-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:0 0 calc(16.666% - 2rem);margin:0 1rem 2rem;background:#fff;border-radius:9px;box-shadow:0 0 12px 3px #0000001a;padding:3rem 1rem 2rem;text-align:center;display:block;color:#000;cursor:pointer}@media screen and (max-width: 991px){.type-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:0 0 calc(50% - 2rem)}}.type-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{color:#e05314}.type-list[_ngcontent-%COMP%]   .item__image[_ngcontent-%COMP%]{margin-bottom:1rem;height:90px;display:flex;align-items:center;justify-content:center}.type-list[_ngcontent-%COMP%]   .item__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;max-width:100%;object-fit:contain}"]}),n})();function k(n,o){1&n&&t._UZ(0,"app-car-item",2),2&n&&t.Q6J("model",o.$implicit)}let z=(()=>{class n{constructor(e){this.carService=e,this.cars=[]}ngOnInit(){this.getCarList("is_canada")}getCarList(e){this.cars=[],this.carService.getCars(e).subscribe(a=>{this.cars=a})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-popular"]],decls:2,vars:1,consts:[[1,"car-list"],["class","car-item",3,"model",4,"ngFor","ngForOf"],[1,"car-item",3,"model"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.YNc(1,k,1,1,"app-car-item",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",a.cars))},directives:[p.sg,O],styles:["[_nghost-%COMP%]{display:block}.car-list[_ngcontent-%COMP%]{display:flex;margin:0 -1rem;height:320px}@media screen and (max-width: 991px){.car-list[_ngcontent-%COMP%]{flex-wrap:wrap;margin:0 0 6rem;height:auto}}.car-list[_ngcontent-%COMP%]   .car-item[_ngcontent-%COMP%]{flex:0 0 calc(25% - 2rem);margin:0 1rem 2rem}@media screen and (max-width: 991px){.car-list[_ngcontent-%COMP%]   .car-item[_ngcontent-%COMP%]{flex:0 0 100%;margin:0 0 2rem}}"]}),n})();function N(n,o){if(1&n&&(t.TgZ(0,"a",2),t.TgZ(1,"div",3),t._UZ(2,"img",4),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.qZA()),2&n){const e=o.$implicit;t.xp6(2),t.Q6J("src",e.image,t.LSH),t.xp6(2),t.Oqu(e.name)}}let D=(()=>{class n{constructor(e){this.carService=e,this.brands=[]}ngOnInit(){this.carService.getBrands().subscribe(e=>{this.brands=e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-brands"]],decls:2,vars:1,consts:[[1,"type-list"],["class","item",4,"ngFor","ngForOf"],[1,"item"],[1,"item__image"],["alt","",3,"src"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.YNc(1,N,5,2,"a",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",a.brands))},directives:[p.sg],styles:[".type-list[_ngcontent-%COMP%]{display:flex;margin:0 -1rem}@media screen and (max-width: 991px){.type-list[_ngcontent-%COMP%]{flex-wrap:wrap}}.type-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:0 0 calc(16.666% - 2rem);margin:0 1rem 2rem;background:#fff;border-radius:9px;box-shadow:0 0 12px 3px #0000001a;padding:3rem 1rem 2rem;text-align:center;display:block;color:#000;cursor:pointer}@media screen and (max-width: 991px){.type-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{flex:0 0 calc(50% - 2rem)}}.type-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{color:#e05314}.type-list[_ngcontent-%COMP%]   .item__image[_ngcontent-%COMP%]{margin-bottom:1rem;height:90px;display:flex;align-items:center;justify-content:center}.type-list[_ngcontent-%COMP%]   .item__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;max-width:100%;object-fit:contain}"]}),n})();const $=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-homepage"]],decls:27,vars:0,consts:[[1,"section-top"],["href","#"],[1,"material-icons"]],template:function(e,a){1&e&&(t.TgZ(0,"section"),t._UZ(1,"app-tabs"),t.qZA(),t.TgZ(2,"section"),t.TgZ(3,"div",0),t.TgZ(4,"h2"),t._uU(5,"Browse by body type"),t.qZA(),t.TgZ(6,"a",1),t._uU(7,"See all "),t.TgZ(8,"span",2),t._uU(9,"navigate_next"),t.qZA(),t.qZA(),t.qZA(),t._UZ(10,"app-body-types"),t.qZA(),t.TgZ(11,"section"),t.TgZ(12,"div",0),t.TgZ(13,"h2"),t._uU(14,"Most popular in Canada"),t.qZA(),t.TgZ(15,"div"),t.TgZ(16,"span",2),t._uU(17,"location_on"),t.qZA(),t._uU(18," Toronto (+100km) "),t.TgZ(19,"span",2),t._uU(20,"expand_more"),t.qZA(),t.qZA(),t.qZA(),t._UZ(21,"app-popular"),t.qZA(),t.TgZ(22,"section"),t.TgZ(23,"div",0),t.TgZ(24,"h2"),t._uU(25,"Popular makes"),t.qZA(),t.qZA(),t._UZ(26,"app-brands"),t.qZA())},directives:[Y,H,z,D],styles:[".section-top[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:2rem}@media screen and (max-width: 991px){.section-top[_ngcontent-%COMP%]{flex-wrap:wrap;text-align:center;justify-content:center}}.section-top[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em}@media screen and (max-width: 991px){.section-top[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5em;margin-bottom:1rem}}.section-top[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;color:#000}.section-top[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:.5rem}.section-top[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;color:#000}.section-top[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:.5rem}section[_ngcontent-%COMP%]{margin-bottom:12rem}"]}),n})()}];let X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.ez,C.Bz.forChild($)],C.Bz]}),n})()}}]);